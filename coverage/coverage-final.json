{
"/Users/phil/github/openstax/tutor-js/index.coffee":{"b":{"1":[0,21],"2":[21,0]},"branchMap":{"1":{"line":37,"locations":[{"end":{"column":2,"line":37},"start":{"column":2,"line":37}},{"end":{"column":2,"line":37},"start":{"column":2,"line":37}}],"type":"if"},"2":{"line":50,"locations":[{"end":{"column":9,"line":50},"start":{"column":0,"line":50}},{"end":{"column":67,"line":50},"start":{"column":13,"line":50}}],"type":"binary-expr"}},"code":["var Recordo, TransitionAssistant, api, dom, loadApp, router, startMathJax;","","Recordo = require('recordo');","","Recordo.initialize();","","require('jquery');","","api = require('./src/api');","","router = require('./src/router');","","dom = require('./src/helpers/dom');","","startMathJax = require('openstax-react-components/src/helpers/mathjax').startMathJax;","","TransitionAssistant = require('./src/components/unsaved-state').TransitionAssistant;","","window._STORES = {","  APP: require('./src/flux/app'),","  COURSE: require('./src/flux/course'),","  CURRENT_USER: require('./src/flux/current-user'),","  EXERCISE: require('./src/flux/exercise'),","  PERFORMANCE_FORECAST: require('./src/flux/performance-forecast'),","  SCORES: require('./src/flux/scores'),","  STUDENT_DASHBOARD: require('./src/flux/student-dashboard'),","  TASK_PLAN: require('./src/flux/task-plan'),","  TASK_STEP: require('./src/flux/task-step'),","  TASK: require('./src/flux/task'),","  TEACHER_TASK_PLAN: require('./src/flux/teacher-task-plan'),","  TIME: require('./src/flux/time'),","  TOC: require('./src/flux/toc')","};","","loadApp = function() {","  var mainDiv;","  if (document.readyState !== 'interactive') {","    return false;","  }","  api.start(dom.readBootstrapData());","  startMathJax();","  TransitionAssistant.startMonitoring();","  mainDiv = document.createElement('div');","  mainDiv.id = 'react-root-container';","  document.body.appendChild(mainDiv);","  router.start(mainDiv);","  return true;","};","","loadApp() || document.addEventListener('readystatechange', loadApp);",""],"f":{"1":21},"fnMap":{"1":{"line":35,"loc":{"end":{"column":21,"line":35},"start":{"column":10,"line":35}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/index.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":0,"15":21,"16":21,"17":21,"18":21,"19":21,"20":21,"21":21,"22":21,"23":21},"statementMap":{"1":{"end":{"column":74,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":29,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":21,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":18,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":27,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":35,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":85,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":84,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":2,"line":33},"start":{"column":0,"line":19}},"11":{"end":{"column":2,"line":48},"start":{"column":0,"line":35}},"12":{"end":{"column":14,"line":36},"start":{"column":2,"line":36}},"13":{"end":{"column":3,"line":39},"start":{"column":2,"line":37}},"14":{"end":{"column":17,"line":38},"start":{"column":4,"line":38}},"15":{"end":{"column":37,"line":40},"start":{"column":2,"line":40}},"16":{"end":{"column":17,"line":41},"start":{"column":2,"line":41}},"17":{"end":{"column":40,"line":42},"start":{"column":2,"line":42}},"18":{"end":{"column":42,"line":43},"start":{"column":2,"line":43}},"19":{"end":{"column":38,"line":44},"start":{"column":2,"line":44}},"20":{"end":{"column":37,"line":45},"start":{"column":2,"line":45}},"21":{"end":{"column":24,"line":46},"start":{"column":2,"line":46}},"22":{"end":{"column":14,"line":47},"start":{"column":2,"line":47}},"23":{"end":{"column":68,"line":50},"start":{"column":0,"line":50}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"35":21,"36":21,"37":21,"38":0,"40":21,"41":21,"42":21,"43":21,"44":21,"45":21,"46":21,"47":21,"50":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/index.cjsx":{"b":{},"branchMap":{},"code":["var ArbitraryHtmlAndMath, AsyncButton, Breadcrumb, CardBody, ChapterSectionMixin, CloseButton, Exercise, ExerciseGroup, ExerciseIdentifierLink, FreeResponse, GetPositionMixin, KeysHelper, PinnableFooter, PinnedHeader, PinnedHeaderFooterCard, Question, RefreshButton, ResizeListenerMixin, SmartOverflow, SpyMode, ref;","","Exercise = require('./src/components/exercise');","","FreeResponse = require('./src/components/exercise/free-response');","","ExerciseGroup = require('./src/components/exercise/group');","","Breadcrumb = require('./src/components/breadcrumb');","","SpyMode = require('./src/components/spy-mode');","","PinnedHeaderFooterCard = require('./src/components/pinned-header-footer-card');","","ref = require('./src/components/pinned-header-footer-card/sections'), PinnedHeader = ref.PinnedHeader, CardBody = ref.CardBody, PinnableFooter = ref.PinnableFooter;","","Question = require('./src/components/question');","","ArbitraryHtmlAndMath = require('./src/components/html');","","SmartOverflow = require('./src/components/smart-overflow');","","RefreshButton = require('./src/components/buttons/refresh-button');","","AsyncButton = require('./src/components/buttons/async-button');","","CloseButton = require('./src/components/buttons/close-button');","","ExerciseIdentifierLink = require('./src/components/exercise/identifier-link');","","ChapterSectionMixin = require('./src/components/chapter-section-mixin');","","GetPositionMixin = require('./src/components/get-position-mixin');","","ResizeListenerMixin = require('./src/components/resize-listener-mixin');","","KeysHelper = require('./src/helpers/keys');","","module.exports = {","  Exercise: Exercise,","  ExerciseGroup: ExerciseGroup,","  FreeResponse: FreeResponse,","  Breadcrumb: Breadcrumb,","  PinnedHeaderFooterCard: PinnedHeaderFooterCard,","  PinnedHeader: PinnedHeader,","  CardBody: CardBody,","  PinnableFooter: PinnableFooter,","  Question: Question,","  ArbitraryHtmlAndMath: ArbitraryHtmlAndMath,","  SmartOverflow: SmartOverflow,","  RefreshButton: RefreshButton,","  AsyncButton: AsyncButton,","  CloseButton: CloseButton,","  ChapterSectionMixin: ChapterSectionMixin,","  GetPositionMixin: GetPositionMixin,","  ResizeListenerMixin: ResizeListenerMixin,","  SpyMode: SpyMode,","  ExerciseIdentifierLink: ExerciseIdentifierLink,","  KeysHelper: KeysHelper","};",""],"f":{},"fnMap":{},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":21,"20":21},"statementMap":{"1":{"end":{"column":316,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":48,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":66,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":59,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":52,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":47,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":79,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":164,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":48,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":56,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":59,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":67,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":63,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":63,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":78,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":72,"line":31},"start":{"column":0,"line":31}},"17":{"end":{"column":66,"line":33},"start":{"column":0,"line":33}},"18":{"end":{"column":72,"line":35},"start":{"column":0,"line":35}},"19":{"end":{"column":43,"line":37},"start":{"column":0,"line":37}},"20":{"end":{"column":2,"line":60},"start":{"column":0,"line":39}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"33":21,"35":21,"37":21,"39":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/breadcrumb/index.cjsx":{"b":{"1":[216,0],"2":[5,211],"3":[211,0],"4":[185,31],"5":[95,90],"6":[185,185],"7":[90,5],"8":[5,0],"9":[12,204],"10":[185,31],"11":[175,10],"12":[90,126],"13":[5,211],"14":[5,211],"15":[185,31]},"branchMap":{"1":{"line":40,"locations":[{"end":{"column":50,"line":40},"start":{"column":33,"line":40}},{"end":{"column":59,"line":40},"start":{"column":53,"line":40}}],"type":"cond-expr"},"2":{"line":42,"locations":[{"end":{"column":34,"line":42},"start":{"column":24,"line":42}},{"end":{"column":70,"line":42},"start":{"column":37,"line":42}}],"type":"cond-expr"},"3":{"line":42,"locations":[{"end":{"column":61,"line":42},"start":{"column":52,"line":42}},{"end":{"column":70,"line":42},"start":{"column":64,"line":42}}],"type":"cond-expr"},"4":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"5":{"line":44,"locations":[{"end":{"column":6,"line":44},"start":{"column":6,"line":44}},{"end":{"column":6,"line":44},"start":{"column":6,"line":44}}],"type":"if"},"6":{"line":44,"locations":[{"end":{"column":19,"line":44},"start":{"column":10,"line":44}},{"end":{"column":54,"line":44},"start":{"column":24,"line":44}}],"type":"binary-expr"},"7":{"line":45,"locations":[{"end":{"column":8,"line":45},"start":{"column":8,"line":45}},{"end":{"column":8,"line":45},"start":{"column":8,"line":45}}],"type":"if"},"8":{"line":47,"locations":[{"end":{"column":15,"line":47},"start":{"column":15,"line":47}},{"end":{"column":15,"line":47},"start":{"column":15,"line":47}}],"type":"if"},"9":{"line":66,"locations":[{"end":{"column":4,"line":66},"start":{"column":4,"line":66}},{"end":{"column":4,"line":66},"start":{"column":4,"line":66}}],"type":"if"},"10":{"line":69,"locations":[{"end":{"column":4,"line":69},"start":{"column":4,"line":69}},{"end":{"column":4,"line":69},"start":{"column":4,"line":69}}],"type":"if"},"11":{"line":70,"locations":[{"end":{"column":6,"line":70},"start":{"column":6,"line":70}},{"end":{"column":6,"line":70},"start":{"column":6,"line":70}}],"type":"if"},"12":{"line":74,"locations":[{"end":{"column":4,"line":74},"start":{"column":4,"line":74}},{"end":{"column":4,"line":74},"start":{"column":4,"line":74}}],"type":"if"},"13":{"line":79,"locations":[{"end":{"column":4,"line":79},"start":{"column":4,"line":79}},{"end":{"column":4,"line":79},"start":{"column":4,"line":79}}],"type":"if"},"14":{"line":84,"locations":[{"end":{"column":4,"line":84},"start":{"column":4,"line":84}},{"end":{"column":4,"line":84},"start":{"column":4,"line":84}}],"type":"if"},"15":{"line":94,"locations":[{"end":{"column":4,"line":94},"start":{"column":4,"line":94}},{"end":{"column":4,"line":94},"start":{"column":4,"line":94}}],"type":"if"}},"code":["var Breadcrumb, React, _, classnames;","","React = require('react');","","_ = require('underscore');","","classnames = require('classnames');","","Breadcrumb = React.createClass({","  displayName: 'Breadcrumb',","  propTypes: {","    crumb: React.PropTypes.object.isRequired,","    goToStep: React.PropTypes.func.isRequired,","    step: React.PropTypes.object.isRequired,","    canReview: React.PropTypes.bool,","    currentStep: React.PropTypes.number,","    onMouseEnter: React.PropTypes.func,","    onMouseLeave: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      canReview: true,","      step: {}","    };","  },","  getInitialState: function() {","    return this.getState(this.props);","  },","  componentWillReceiveProps: function(nextProps) {","    var nextState;","    nextState = this.getState(nextProps);","    return this.setState(nextState);","  },","  getState: function(arg) {","    var canReview, crumb, crumbType, currentStep, isCompleted, isCorrect, isCurrent, isEnd, isIncorrect, step;","    crumb = arg.crumb, currentStep = arg.currentStep, step = arg.step, canReview = arg.canReview;","    isCorrect = false;","    isIncorrect = false;","    isCurrent = crumb.key === currentStep;","    isCompleted = step != null ? step.is_completed : void 0;","    isEnd = crumb.type === 'end';","    crumbType = isEnd ? crumb.type : step != null ? step.type : void 0;","    if (isCompleted) {","      if (canReview && (step.correct_answer_id != null)) {","        if (step.is_correct) {","          isCorrect = true;","        } else if (step.answer_id) {","          isIncorrect = true;","        }","      }","    }","    return {","      isCorrect: isCorrect,","      isIncorrect: isIncorrect,","      isCurrent: isCurrent,","      isCompleted: isCompleted,","      isEnd: isEnd,","      crumbType: crumbType","    };","  },","  render: function() {","    var className, classes, crumb, crumbClasses, crumbType, goToStep, iconClasses, isCompleted, isCorrect, isCurrent, isEnd, isIncorrect, propsToPassOn, ref, ref1, status, step, title;","    ref = this.props, step = ref.step, crumb = ref.crumb, goToStep = ref.goToStep, className = ref.className;","    ref1 = this.state, isCorrect = ref1.isCorrect, isIncorrect = ref1.isIncorrect, isCurrent = ref1.isCurrent, isCompleted = ref1.isCompleted, isEnd = ref1.isEnd, crumbType = ref1.crumbType;","    propsToPassOn = _.omit(this.props, 'onClick', 'title', 'className', 'data-chapter', 'key');","    if (isCurrent) {","      title = \"Current Step (\" + crumbType + \")\";","    }","    if (isCompleted) {","      if (title == null) {","        title = \"Step Completed (\" + crumbType + \"). Click to review\";","      }","    }","    if (isCorrect) {","      status = React.createElement(\"i\", {","        \"className\": 'icon-lg icon-correct'","      });","    }","    if (isIncorrect) {","      status = React.createElement(\"i\", {","        \"className\": 'icon-lg icon-incorrect'","      });","    }","    if (isEnd) {","      title = step.title + \" Completion\";","    }","    classes = classnames('openstax-breadcrumbs-step', 'icon-stack', 'icon-lg', step.group, \"breadcrumb-\" + crumbType, className, {","      current: isCurrent,","      active: isCurrent,","      completed: isCompleted,","      'status-correct': isCorrect,","      'status-incorrect': isIncorrect","    });","    if (crumb.data.labels != null) {","      crumbClasses = _.map(crumb.data.labels, function(label) {","        return \"icon-\" + label;","      });","    }","    iconClasses = classnames(\"icon-\" + crumbType, crumbClasses);","    return React.createElement(\"span\", React.__spread({}, propsToPassOn, {","      \"className\": classes,","      \"title\": title,","      \"onClick\": _.partial(goToStep, crumb.key),","      \"data-chapter\": crumb.sectionLabel,","      \"key\": \"step-\" + crumb.key","    }), React.createElement(\"i\", {","      \"className\": \"icon-lg \" + iconClasses","    }), status);","  }","});","","module.exports = Breadcrumb;",""],"f":{"1":21,"2":60,"3":156,"4":216,"5":216,"6":0},"fnMap":{"1":{"line":20,"loc":{"end":{"column":30,"line":20},"start":{"column":19,"line":20}},"name":"(anonymous_1)"},"2":{"line":26,"loc":{"end":{"column":30,"line":26},"start":{"column":19,"line":26}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":49,"line":29},"start":{"column":29,"line":29}},"name":"(anonymous_3)"},"4":{"line":34,"loc":{"end":{"column":26,"line":34},"start":{"column":12,"line":34}},"name":"(anonymous_4)"},"5":{"line":61,"loc":{"end":{"column":21,"line":61},"start":{"column":10,"line":61}},"name":"(anonymous_5)"},"6":{"line":95,"loc":{"end":{"column":62,"line":95},"start":{"column":46,"line":95}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/breadcrumb/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":60,"8":156,"9":156,"10":156,"11":216,"12":216,"13":216,"14":216,"15":216,"16":216,"17":216,"18":216,"19":216,"20":185,"21":95,"22":90,"23":5,"24":5,"25":216,"26":216,"27":216,"28":216,"29":216,"30":216,"31":12,"32":216,"33":185,"34":175,"35":216,"36":90,"37":216,"38":5,"39":216,"40":5,"41":216,"42":216,"43":185,"44":0,"45":216,"46":216,"47":21},"statementMap":{"1":{"end":{"column":37,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":110},"start":{"column":0,"line":9}},"6":{"end":{"column":6,"line":24},"start":{"column":4,"line":21}},"7":{"end":{"column":37,"line":27},"start":{"column":4,"line":27}},"8":{"end":{"column":18,"line":30},"start":{"column":4,"line":30}},"9":{"end":{"column":41,"line":31},"start":{"column":4,"line":31}},"10":{"end":{"column":36,"line":32},"start":{"column":4,"line":32}},"11":{"end":{"column":110,"line":35},"start":{"column":4,"line":35}},"12":{"end":{"column":97,"line":36},"start":{"column":4,"line":36}},"13":{"end":{"column":22,"line":37},"start":{"column":4,"line":37}},"14":{"end":{"column":24,"line":38},"start":{"column":4,"line":38}},"15":{"end":{"column":42,"line":39},"start":{"column":4,"line":39}},"16":{"end":{"column":60,"line":40},"start":{"column":4,"line":40}},"17":{"end":{"column":33,"line":41},"start":{"column":4,"line":41}},"18":{"end":{"column":71,"line":42},"start":{"column":4,"line":42}},"19":{"end":{"column":5,"line":51},"start":{"column":4,"line":43}},"20":{"end":{"column":7,"line":50},"start":{"column":6,"line":44}},"21":{"end":{"column":9,"line":49},"start":{"column":8,"line":45}},"22":{"end":{"column":27,"line":46},"start":{"column":10,"line":46}},"23":{"end":{"column":9,"line":49},"start":{"column":15,"line":47}},"24":{"end":{"column":29,"line":48},"start":{"column":10,"line":48}},"25":{"end":{"column":6,"line":59},"start":{"column":4,"line":52}},"26":{"end":{"column":184,"line":62},"start":{"column":4,"line":62}},"27":{"end":{"column":109,"line":63},"start":{"column":4,"line":63}},"28":{"end":{"column":190,"line":64},"start":{"column":4,"line":64}},"29":{"end":{"column":95,"line":65},"start":{"column":4,"line":65}},"30":{"end":{"column":5,"line":68},"start":{"column":4,"line":66}},"31":{"end":{"column":49,"line":67},"start":{"column":6,"line":67}},"32":{"end":{"column":5,"line":73},"start":{"column":4,"line":69}},"33":{"end":{"column":7,"line":72},"start":{"column":6,"line":70}},"34":{"end":{"column":70,"line":71},"start":{"column":8,"line":71}},"35":{"end":{"column":5,"line":78},"start":{"column":4,"line":74}},"36":{"end":{"column":9,"line":77},"start":{"column":6,"line":75}},"37":{"end":{"column":5,"line":83},"start":{"column":4,"line":79}},"38":{"end":{"column":9,"line":82},"start":{"column":6,"line":80}},"39":{"end":{"column":5,"line":86},"start":{"column":4,"line":84}},"40":{"end":{"column":41,"line":85},"start":{"column":6,"line":85}},"41":{"end":{"column":7,"line":93},"start":{"column":4,"line":87}},"42":{"end":{"column":5,"line":98},"start":{"column":4,"line":94}},"43":{"end":{"column":9,"line":97},"start":{"column":6,"line":95}},"44":{"end":{"column":31,"line":96},"start":{"column":8,"line":96}},"45":{"end":{"column":64,"line":99},"start":{"column":4,"line":99}},"46":{"end":{"column":16,"line":108},"start":{"column":4,"line":100}},"47":{"end":{"column":28,"line":112},"start":{"column":0,"line":112}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"21":21,"27":60,"30":156,"31":156,"32":156,"35":216,"36":216,"37":216,"38":216,"39":216,"40":216,"41":216,"42":216,"43":216,"44":185,"45":95,"46":90,"47":5,"48":5,"52":216,"62":216,"63":216,"64":216,"65":216,"66":216,"67":12,"69":216,"70":185,"71":175,"74":216,"75":90,"79":216,"80":5,"84":216,"85":5,"87":216,"94":216,"95":185,"96":0,"99":216,"100":216,"112":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/buttons/async-button.cjsx":{"b":{"1":[269,269],"2":[154,115],"3":[9,260],"4":[269,9],"5":[0,0],"6":[0,0],"7":[0,309],"8":[309,309],"9":[9,300],"10":[0,300]},"branchMap":{"1":{"line":33,"locations":[{"end":{"column":38,"line":33},"start":{"column":14,"line":33}},{"end":{"column":65,"line":33},"start":{"column":43,"line":33}}],"type":"binary-expr"},"2":{"line":33,"locations":[{"end":{"column":57,"line":33},"start":{"column":51,"line":33}},{"end":{"column":65,"line":33},"start":{"column":60,"line":33}}],"type":"cond-expr"},"3":{"line":34,"locations":[{"end":{"column":4,"line":34},"start":{"column":4,"line":34}},{"end":{"column":4,"line":34},"start":{"column":4,"line":34}}],"type":"if"},"4":{"line":34,"locations":[{"end":{"column":17,"line":34},"start":{"column":8,"line":34}},{"end":{"column":32,"line":34},"start":{"column":21,"line":34}}],"type":"binary-expr"},"5":{"line":41,"locations":[{"end":{"column":4,"line":41},"start":{"column":4,"line":41}},{"end":{"column":4,"line":41},"start":{"column":4,"line":41}}],"type":"if"},"6":{"line":41,"locations":[{"end":{"column":17,"line":41},"start":{"column":8,"line":41}},{"end":{"column":37,"line":41},"start":{"column":21,"line":41}}],"type":"binary-expr"},"7":{"line":68,"locations":[{"end":{"column":4,"line":68},"start":{"column":4,"line":68}},{"end":{"column":4,"line":68},"start":{"column":4,"line":68}}],"type":"if"},"8":{"line":68,"locations":[{"end":{"column":16,"line":68},"start":{"column":8,"line":68}},{"end":{"column":30,"line":68},"start":{"column":20,"line":68}}],"type":"binary-expr"},"9":{"line":71,"locations":[{"end":{"column":11,"line":71},"start":{"column":11,"line":71}},{"end":{"column":11,"line":71},"start":{"column":11,"line":71}}],"type":"if"},"10":{"line":78,"locations":[{"end":{"column":11,"line":78},"start":{"column":11,"line":78}},{"end":{"column":11,"line":78},"start":{"column":11,"line":78}}],"type":"if"}},"code":["var BS, React, RefreshButton, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","RefreshButton = require('./refresh-button');","","module.exports = React.createClass({","  displayName: 'AsyncButton',","  propTypes: {","    isWaiting: React.PropTypes.bool.isRequired,","    isDone: React.PropTypes.bool,","    isFailed: React.PropTypes.bool,","    waitingText: React.PropTypes.node,","    failedState: React.PropTypes.func,","    failedProps: React.PropTypes.object,","    doneText: React.PropTypes.node,","    isJob: React.PropTypes.bool,","    timeoutLength: React.PropTypes.number","  },","  getInitialState: function() {","    return {","      isTimedout: false","    };","  },","  componentDidUpdate: function() {","    var isJob, isTimedout, isWaiting, ref, timeout;","    ref = this.props, isWaiting = ref.isWaiting, isJob = ref.isJob;","    isTimedout = this.state.isTimedout;","    timeout = this.props.timeoutLength || (isJob ? 600000 : 30000);","    if (isWaiting && !isTimedout) {","      return _.delay(this.checkForTimeout, timeout);","    }","  },","  checkForTimeout: function() {","    var isWaiting;","    isWaiting = this.props.isWaiting;","    if (isWaiting && this.isMounted()) {","      return this.setState({","        isTimedout: true","      });","    }","  },","  getDefaultProps: function() {","    return {","      isDone: false,","      isFailed: false,","      waitingText: 'Loading…',","      failedState: RefreshButton,","      failedProps: {","        beforeText: 'There was a problem.  '","      },","      doneText: '',","      isJob: false","    };","  },","  render: function() {","    var FailedState, buttonTypeClass, children, className, disabled, doneText, failedProps, isDone, isFailed, isTimedout, isWaiting, ref, ref1, ref2, spinner, stateClass, text, waitingText;","    ref = this.props, className = ref.className, disabled = ref.disabled;","    ref1 = this.props, isWaiting = ref1.isWaiting, isDone = ref1.isDone, isFailed = ref1.isFailed;","    ref2 = this.props, children = ref2.children, waitingText = ref2.waitingText, failedProps = ref2.failedProps, doneText = ref2.doneText;","    isTimedout = this.state.isTimedout;","    FailedState = this.props.failedState;","    buttonTypeClass = 'async-button';","    if (isFailed || isTimedout) {","      stateClass = 'is-failed';","      return React.createElement(FailedState, React.__spread({}, failedProps));","    } else if (isWaiting) {","      stateClass = 'is-waiting';","      text = waitingText;","      disabled = true;","      spinner = React.createElement(\"i\", {","        \"className\": 'fa fa-spinner fa-spin'","      });","    } else if (isDone) {","      stateClass = 'is-done';","      text = doneText;","    } else {","      stateClass = null;","      text = children;","    }","    return React.createElement(BS.Button, React.__spread({}, this.props, {","      \"className\": [buttonTypeClass, stateClass, className],","      \"disabled\": disabled","    }), spinner, text);","  }","});",""],"f":{"1":40,"2":269,"3":0,"4":21,"5":309},"fnMap":{"1":{"line":24,"loc":{"end":{"column":30,"line":24},"start":{"column":19,"line":24}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":33,"line":29},"start":{"column":22,"line":29}},"name":"(anonymous_2)"},"3":{"line":38,"loc":{"end":{"column":30,"line":38},"start":{"column":19,"line":38}},"name":"(anonymous_3)"},"4":{"line":47,"loc":{"end":{"column":30,"line":47},"start":{"column":19,"line":47}},"name":"(anonymous_4)"},"5":{"line":60,"loc":{"end":{"column":21,"line":60},"start":{"column":10,"line":60}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/buttons/async-button.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":40,"8":269,"9":269,"10":269,"11":269,"12":269,"13":9,"14":0,"15":0,"16":0,"17":0,"18":21,"19":309,"20":309,"21":309,"22":309,"23":309,"24":309,"25":309,"26":309,"27":0,"28":0,"29":309,"30":9,"31":9,"32":9,"33":9,"34":300,"35":0,"36":0,"37":300,"38":300,"39":309},"statementMap":{"1":{"end":{"column":32,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":44,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":90},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":27},"start":{"column":4,"line":25}},"8":{"end":{"column":51,"line":30},"start":{"column":4,"line":30}},"9":{"end":{"column":67,"line":31},"start":{"column":4,"line":31}},"10":{"end":{"column":39,"line":32},"start":{"column":4,"line":32}},"11":{"end":{"column":67,"line":33},"start":{"column":4,"line":33}},"12":{"end":{"column":5,"line":36},"start":{"column":4,"line":34}},"13":{"end":{"column":52,"line":35},"start":{"column":6,"line":35}},"14":{"end":{"column":18,"line":39},"start":{"column":4,"line":39}},"15":{"end":{"column":37,"line":40},"start":{"column":4,"line":40}},"16":{"end":{"column":5,"line":45},"start":{"column":4,"line":41}},"17":{"end":{"column":9,"line":44},"start":{"column":6,"line":42}},"18":{"end":{"column":6,"line":58},"start":{"column":4,"line":48}},"19":{"end":{"column":189,"line":61},"start":{"column":4,"line":61}},"20":{"end":{"column":73,"line":62},"start":{"column":4,"line":62}},"21":{"end":{"column":98,"line":63},"start":{"column":4,"line":63}},"22":{"end":{"column":138,"line":64},"start":{"column":4,"line":64}},"23":{"end":{"column":39,"line":65},"start":{"column":4,"line":65}},"24":{"end":{"column":41,"line":66},"start":{"column":4,"line":66}},"25":{"end":{"column":37,"line":67},"start":{"column":4,"line":67}},"26":{"end":{"column":5,"line":84},"start":{"column":4,"line":68}},"27":{"end":{"column":31,"line":69},"start":{"column":6,"line":69}},"28":{"end":{"column":79,"line":70},"start":{"column":6,"line":70}},"29":{"end":{"column":5,"line":84},"start":{"column":11,"line":71}},"30":{"end":{"column":32,"line":72},"start":{"column":6,"line":72}},"31":{"end":{"column":25,"line":73},"start":{"column":6,"line":73}},"32":{"end":{"column":22,"line":74},"start":{"column":6,"line":74}},"33":{"end":{"column":9,"line":77},"start":{"column":6,"line":75}},"34":{"end":{"column":5,"line":84},"start":{"column":11,"line":78}},"35":{"end":{"column":29,"line":79},"start":{"column":6,"line":79}},"36":{"end":{"column":22,"line":80},"start":{"column":6,"line":80}},"37":{"end":{"column":24,"line":82},"start":{"column":6,"line":82}},"38":{"end":{"column":22,"line":83},"start":{"column":6,"line":83}},"39":{"end":{"column":23,"line":88},"start":{"column":4,"line":85}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"25":40,"30":269,"31":269,"32":269,"33":269,"34":269,"35":9,"39":0,"40":0,"41":0,"42":0,"48":21,"61":309,"62":309,"63":309,"64":309,"65":309,"66":309,"67":309,"68":309,"69":0,"70":0,"71":309,"72":9,"73":9,"74":9,"75":9,"78":300,"79":0,"80":0,"82":300,"83":300,"85":309}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/buttons/close-button.cjsx":{"b":{},"branchMap":{},"code":["var React, classnames;","","React = require('react');","","classnames = require('classnames');","","module.exports = React.createClass({displayName: \"exports\",","  render: function() {","    var classNames;","    classNames = classnames('openstax-close-x', 'close', this.props.className);","    return React.createElement(\"button\", React.__spread({}, this.props, {","      \"className\": classNames,","      \"aria-role\": 'close'","    }));","  }","});",""],"f":{"1":140},"fnMap":{"1":{"line":8,"loc":{"end":{"column":21,"line":8},"start":{"column":10,"line":8}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/buttons/close-button.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":140,"6":140,"7":140},"statementMap":{"1":{"end":{"column":22,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":35,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":16},"start":{"column":0,"line":7}},"5":{"end":{"column":19,"line":9},"start":{"column":4,"line":9}},"6":{"end":{"column":79,"line":10},"start":{"column":4,"line":10}},"7":{"end":{"column":8,"line":14},"start":{"column":4,"line":11}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":140,"10":140,"11":140}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/buttons/refresh-button.cjsx":{"b":{},"branchMap":{},"code":["var React;","","React = require('react');","","module.exports = React.createClass({","  displayName: 'RefreshButton',","  propTypes: {","    beforeText: React.PropTypes.string,","    buttonText: React.PropTypes.string,","    afterText: React.PropTypes.string","  },","  getDefaultProps: function() {","    return {","      beforeText: 'There was a problem loading. ',","      buttonText: 'Refresh',","      afterText: ' to try again.'","    };","  },","  render: function() {","    var afterText, beforeText, buttonText, ref;","    ref = this.props, beforeText = ref.beforeText, buttonText = ref.buttonText, afterText = ref.afterText;","    return React.createElement(\"span\", {","      \"className\": 'refresh-button'","    }, beforeText, React.createElement(\"a\", {","      \"className\": 'btn btn-primary',","      \"href\": window.location.href","    }, buttonText), afterText);","  }","});",""],"f":{"1":21,"2":80},"fnMap":{"1":{"line":12,"loc":{"end":{"column":30,"line":12},"start":{"column":19,"line":12}},"name":"(anonymous_1)"},"2":{"line":19,"loc":{"end":{"column":21,"line":19},"start":{"column":10,"line":19}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/buttons/refresh-button.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":80,"6":80,"7":80},"statementMap":{"1":{"end":{"column":10,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":29},"start":{"column":0,"line":5}},"4":{"end":{"column":6,"line":17},"start":{"column":4,"line":13}},"5":{"end":{"column":47,"line":20},"start":{"column":4,"line":20}},"6":{"end":{"column":106,"line":21},"start":{"column":4,"line":21}},"7":{"end":{"column":31,"line":27},"start":{"column":4,"line":22}}},"l":{"1":21,"3":21,"5":21,"13":21,"20":80,"21":80,"22":80}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/chapter-section-mixin.cjsx":{"b":{"1":[0,10757],"2":[10757,0],"3":[1650,9107],"4":[10757,10757],"5":[10757,0],"6":[10757,10421]},"branchMap":{"1":{"line":16,"locations":[{"end":{"column":4,"line":16},"start":{"column":4,"line":16}},{"end":{"column":4,"line":16},"start":{"column":4,"line":16}}],"type":"if"},"2":{"line":19,"locations":[{"end":{"column":4,"line":19},"start":{"column":4,"line":19}},{"end":{"column":4,"line":19},"start":{"column":4,"line":19}}],"type":"if"},"3":{"line":23,"locations":[{"end":{"column":4,"line":23},"start":{"column":4,"line":23}},{"end":{"column":4,"line":23},"start":{"column":4,"line":23}}],"type":"if"},"4":{"line":23,"locations":[{"end":{"column":17,"line":23},"start":{"column":8,"line":23}},{"end":{"column":47,"line":23},"start":{"column":21,"line":23}}],"type":"binary-expr"},"5":{"line":26,"locations":[{"end":{"column":4,"line":26},"start":{"column":4,"line":26}},{"end":{"column":4,"line":26},"start":{"column":4,"line":26}}],"type":"if"},"6":{"line":27,"locations":[{"end":{"column":40,"line":27},"start":{"column":31,"line":27}},{"end":{"column":60,"line":27},"start":{"column":44,"line":27}}],"type":"binary-expr"}},"code":["var _;","","_ = require('underscore');","","module.exports = {","  getDefaultProps: function() {","    return {","      sectionSeparator: '.',","      skipZeros: true,","      inputStringSeparator: '.'","    };","  },","  sectionFormat: function(section, separator) {","    var inputStringSeparator, ref, sectionArray, sectionSeparator, skipZeros;","    ref = this.props, inputStringSeparator = ref.inputStringSeparator, skipZeros = ref.skipZeros, sectionSeparator = ref.sectionSeparator;","    if (_.isString(section)) {","      sectionArray = section.split(inputStringSeparator);","    }","    if (_.isArray(section)) {","      sectionArray = section;","    }","    sectionArray = _.clone(sectionArray);","    if (skipZeros && _.last(sectionArray) === 0) {","      sectionArray.pop();","    }","    if (sectionArray instanceof Array) {","      return sectionArray.join(separator || sectionSeparator);","    } else {","      return section;","    }","  }","};",""],"f":{"1":420,"2":10757},"fnMap":{"1":{"line":6,"loc":{"end":{"column":30,"line":6},"start":{"column":19,"line":6}},"name":"(anonymous_1)"},"2":{"line":13,"loc":{"end":{"column":46,"line":13},"start":{"column":17,"line":13}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/chapter-section-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":420,"5":10757,"6":10757,"7":10757,"8":0,"9":10757,"10":10757,"11":10757,"12":10757,"13":1650,"14":10757,"15":10757,"16":0},"statementMap":{"1":{"end":{"column":6,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":2,"line":32},"start":{"column":0,"line":5}},"4":{"end":{"column":6,"line":11},"start":{"column":4,"line":7}},"5":{"end":{"column":77,"line":14},"start":{"column":4,"line":14}},"6":{"end":{"column":138,"line":15},"start":{"column":4,"line":15}},"7":{"end":{"column":5,"line":18},"start":{"column":4,"line":16}},"8":{"end":{"column":57,"line":17},"start":{"column":6,"line":17}},"9":{"end":{"column":5,"line":21},"start":{"column":4,"line":19}},"10":{"end":{"column":29,"line":20},"start":{"column":6,"line":20}},"11":{"end":{"column":41,"line":22},"start":{"column":4,"line":22}},"12":{"end":{"column":5,"line":25},"start":{"column":4,"line":23}},"13":{"end":{"column":25,"line":24},"start":{"column":6,"line":24}},"14":{"end":{"column":5,"line":30},"start":{"column":4,"line":26}},"15":{"end":{"column":62,"line":27},"start":{"column":6,"line":27}},"16":{"end":{"column":21,"line":29},"start":{"column":6,"line":29}}},"l":{"1":21,"3":21,"5":21,"7":420,"14":10757,"15":10757,"16":10757,"17":0,"19":10757,"20":10757,"22":10757,"23":10757,"24":1650,"26":10757,"27":10757,"29":0}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/controls.cjsx":{"b":{"1":[3,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":26,"locations":[{"end":{"column":25,"line":26},"start":{"column":17,"line":26}},{"end":{"column":39,"line":26},"start":{"column":29,"line":26}}],"type":"binary-expr"},"2":{"line":56,"locations":[{"end":{"column":50,"line":56},"start":{"column":41,"line":56}},{"end":{"column":61,"line":56},"start":{"column":53,"line":56}}],"type":"cond-expr"},"3":{"line":57,"locations":[{"end":{"column":4,"line":57},"start":{"column":4,"line":57}},{"end":{"column":4,"line":57},"start":{"column":4,"line":57}}],"type":"if"},"4":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"5":{"line":75,"locations":[{"end":{"column":26,"line":81},"start":{"column":46,"line":75}},{"end":{"column":35,"line":81},"start":{"column":29,"line":81}}],"type":"cond-expr"}},"code":["var AsyncButton, BS, ExContinueButton, ExReviewControls, React, _, propTypes, props, ref;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","AsyncButton = require('../buttons/async-button');","","ref = require('./props'), propTypes = ref.propTypes, props = ref.props;","","ExContinueButton = React.createClass({","  displayName: 'ExContinueButton',","  propTypes: propTypes.ExContinueButton,","  getDefaultProps: function() {","    return {","      isContinueFailed: false,","      waitingText: null,","      isContinueEnabled: true","    };","  },","  render: function() {","    var buttonText, children, isContinueEnabled, isContinueFailed, onContinue, ref1, waitingText;","    ref1 = this.props, isContinueEnabled = ref1.isContinueEnabled, isContinueFailed = ref1.isContinueFailed, waitingText = ref1.waitingText, onContinue = ref1.onContinue, children = ref1.children;","    buttonText = children || 'Continue';","    return React.createElement(AsyncButton, {","      \"bsStyle\": 'primary',","      \"className\": 'continue',","      \"key\": 'step-continue',","      \"onClick\": onContinue,","      \"disabled\": !isContinueEnabled,","      \"isWaiting\": !!waitingText,","      \"waitingText\": waitingText,","      \"isFailed\": isContinueFailed","    }, buttonText);","  }","});","","ExReviewControls = React.createClass({","  displayName: 'ExReviewControls',","  propTypes: propTypes.ExReviewControls,","  getDefaultProps: function() {","    return {","      review: '',","      canTryAnother: false,","      isRecovering: false,","      canRefreshMemory: false","    };","  },","  render: function() {","    var canRefreshMemory, canTryAnother, children, continueButton, continueButtonText, isContinueEnabled, isContinueFailed, isRecovering, onContinue, ref1, ref2, ref3, refreshMemory, refreshMemoryButton, review, tryAnother, tryAnotherButton, waitingText;","    ref1 = this.props, review = ref1.review, canTryAnother = ref1.canTryAnother, tryAnother = ref1.tryAnother, isRecovering = ref1.isRecovering, children = ref1.children;","    ref2 = this.props, canRefreshMemory = ref2.canRefreshMemory, refreshMemory = ref2.refreshMemory;","    ref3 = this.props, isContinueFailed = ref3.isContinueFailed, waitingText = ref3.waitingText, onContinue = ref3.onContinue, isContinueEnabled = ref3.isContinueEnabled;","    continueButtonText = canTryAnother ? 'Move On' : children;","    if (canTryAnother) {","      tryAnotherButton = React.createElement(AsyncButton, {","        \"key\": 'step-try-another',","        \"bsStyle\": 'primary',","        \"className\": '-try-another',","        \"onClick\": tryAnother,","        \"isWaiting\": isRecovering,","        \"waitingText\": 'Loading Another…'","      }, \"Try Another\");","    }","    if (canRefreshMemory) {","      refreshMemoryButton = React.createElement(BS.Button, {","        \"key\": 'step-refresh',","        \"bsStyle\": 'primary',","        \"className\": '-refresh-memory',","        \"onClick\": refreshMemory","      }, \"Refresh My Memory\");","    }","    continueButton = review !== 'completed' ? React.createElement(ExContinueButton, {","      \"key\": 'step-continue',","      \"isContinueFailed\": isContinueFailed,","      \"waitingText\": waitingText,","      \"onContinue\": onContinue,","      \"isContinueEnabled\": isContinueEnabled","    }, continueButtonText) : void 0;","    return React.createElement(\"div\", {","      \"className\": 'task-footer-buttons',","      \"key\": 'step-buttons'","    }, tryAnotherButton, continueButton);","  }","});","","module.exports = {","  ExContinueButton: ExContinueButton,","  ExReviewControls: ExReviewControls","};",""],"f":{"1":21,"2":3,"3":21,"4":0},"fnMap":{"1":{"line":16,"loc":{"end":{"column":30,"line":16},"start":{"column":19,"line":16}},"name":"(anonymous_1)"},"2":{"line":23,"loc":{"end":{"column":21,"line":23},"start":{"column":10,"line":23}},"name":"(anonymous_2)"},"3":{"line":43,"loc":{"end":{"column":30,"line":43},"start":{"column":19,"line":43}},"name":"(anonymous_3)"},"4":{"line":51,"loc":{"end":{"column":21,"line":51},"start":{"column":10,"line":51}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/controls.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":3,"10":3,"11":3,"12":3,"13":21,"14":21,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":21},"statementMap":{"1":{"end":{"column":89,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":49,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":71,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":38},"start":{"column":0,"line":13}},"8":{"end":{"column":6,"line":21},"start":{"column":4,"line":17}},"9":{"end":{"column":97,"line":24},"start":{"column":4,"line":24}},"10":{"end":{"column":196,"line":25},"start":{"column":4,"line":25}},"11":{"end":{"column":40,"line":26},"start":{"column":4,"line":26}},"12":{"end":{"column":19,"line":36},"start":{"column":4,"line":27}},"13":{"end":{"column":3,"line":87},"start":{"column":0,"line":40}},"14":{"end":{"column":6,"line":49},"start":{"column":4,"line":44}},"15":{"end":{"column":254,"line":52},"start":{"column":4,"line":52}},"16":{"end":{"column":170,"line":53},"start":{"column":4,"line":53}},"17":{"end":{"column":100,"line":54},"start":{"column":4,"line":54}},"18":{"end":{"column":170,"line":55},"start":{"column":4,"line":55}},"19":{"end":{"column":62,"line":56},"start":{"column":4,"line":56}},"20":{"end":{"column":5,"line":66},"start":{"column":4,"line":57}},"21":{"end":{"column":24,"line":65},"start":{"column":6,"line":58}},"22":{"end":{"column":5,"line":74},"start":{"column":4,"line":67}},"23":{"end":{"column":30,"line":73},"start":{"column":6,"line":68}},"24":{"end":{"column":36,"line":81},"start":{"column":4,"line":75}},"25":{"end":{"column":41,"line":85},"start":{"column":4,"line":82}},"26":{"end":{"column":2,"line":92},"start":{"column":0,"line":89}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"17":21,"24":3,"25":3,"26":3,"27":3,"40":21,"44":21,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"67":0,"68":0,"75":0,"82":0,"89":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/free-response.cjsx":{"b":{"1":[900,3],"2":[903,0],"3":[903,903]},"branchMap":{"1":{"line":22,"locations":[{"end":{"column":4,"line":22},"start":{"column":4,"line":22}},{"end":{"column":4,"line":22},"start":{"column":4,"line":22}}],"type":"if"},"2":{"line":25,"locations":[{"end":{"column":4,"line":25},"start":{"column":4,"line":25}},{"end":{"column":4,"line":25},"start":{"column":4,"line":25}}],"type":"if"},"3":{"line":25,"locations":[{"end":{"column":30,"line":25},"start":{"column":9,"line":25}},{"end":{"column":55,"line":25},"start":{"column":35,"line":25}}],"type":"binary-expr"}},"code":["var FreeResponse, React;","","React = require('react');","","FreeResponse = React.createClass({","  displayName: 'FreeResponse',","  propTypes: {","    free_response: React.PropTypes.string.isRequired","  },","  getDefaultProps: function() {","    return {","      free_response: ''","    };","  },","  render: function() {","    var freeResponseProps, free_response, ref, student_names;","    ref = this.props, free_response = ref.free_response, student_names = ref.student_names;","    FreeResponse = null;","    freeResponseProps = {","      className: 'free-response'","    };","    if (student_names != null) {","      freeResponseProps['data-student-names'] = student_names.join(', ');","    }","    if ((free_response != null) && free_response.length) {","      FreeResponse = React.createElement(\"div\", React.__spread({}, freeResponseProps), free_response);","    }","    return FreeResponse;","  }","});","","module.exports = FreeResponse;",""],"f":{"1":21,"2":903},"fnMap":{"1":{"line":10,"loc":{"end":{"column":30,"line":10},"start":{"column":19,"line":10}},"name":"(anonymous_1)"},"2":{"line":15,"loc":{"end":{"column":21,"line":15},"start":{"column":10,"line":15}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/free-response.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":903,"6":903,"7":903,"8":903,"9":903,"10":900,"11":903,"12":903,"13":903,"14":21},"statementMap":{"1":{"end":{"column":24,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":30},"start":{"column":0,"line":5}},"4":{"end":{"column":6,"line":13},"start":{"column":4,"line":11}},"5":{"end":{"column":61,"line":16},"start":{"column":4,"line":16}},"6":{"end":{"column":91,"line":17},"start":{"column":4,"line":17}},"7":{"end":{"column":24,"line":18},"start":{"column":4,"line":18}},"8":{"end":{"column":6,"line":21},"start":{"column":4,"line":19}},"9":{"end":{"column":5,"line":24},"start":{"column":4,"line":22}},"10":{"end":{"column":73,"line":23},"start":{"column":6,"line":23}},"11":{"end":{"column":5,"line":27},"start":{"column":4,"line":25}},"12":{"end":{"column":102,"line":26},"start":{"column":6,"line":26}},"13":{"end":{"column":24,"line":28},"start":{"column":4,"line":28}},"14":{"end":{"column":30,"line":32},"start":{"column":0,"line":32}}},"l":{"1":21,"3":21,"5":21,"11":21,"16":903,"17":903,"18":903,"19":903,"22":903,"23":900,"25":903,"26":903,"28":903,"32":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/group.cjsx":{"b":{"1":[0,0],"2":[0,3],"3":[3,0]},"branchMap":{"1":{"line":56,"locations":[{"end":{"column":4,"line":56},"start":{"column":4,"line":56}},{"end":{"column":4,"line":56},"start":{"column":4,"line":56}}],"type":"if"},"2":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"3":{"line":80,"locations":[{"end":{"column":4,"line":80},"start":{"column":4,"line":80}},{"end":{"column":4,"line":80},"start":{"column":4,"line":80}}],"type":"if"}},"code":["var ChapterSectionMixin, DEFAULT_GROUP, ExerciseGroup, ExerciseIdentifierLink, RULES, React, _, camelCase;","","React = require('react');","","_ = require('underscore');","","camelCase = require('camelcase');","","ChapterSectionMixin = require('../chapter-section-mixin');","","ExerciseIdentifierLink = require('./identifier-link');","","DEFAULT_GROUP = {","  show: false","};","","RULES = {","  \"default\": DEFAULT_GROUP,","  core: DEFAULT_GROUP,","  recovery: DEFAULT_GROUP,","  personalized: {","    show: true,","    label: 'Personalized'","  },","  'spaced practice': {","    show: true","  },","  spaced_practice: {","    show: true","  }","};","","ExerciseGroup = React.createClass({","  displayName: 'ExerciseGroup',","  mixins: [ChapterSectionMixin],","  propTypes: {","    group: React.PropTypes.oneOf(_.keys(RULES)).isRequired,","    related_content: React.PropTypes.array.isRequired","  },","  getDefaultProps: function() {","    return {","      group: 'default',","      related_content: []","    };","  },","  getPossibleGroups: function() {","    return _.keys(RULES);","  },","  buildLabel: function(related) {","    var chapterSection;","    chapterSection = this.sectionFormat(related.chapter_section, this.props.sectionSeparator);","    return \"Review - \" + chapterSection + \" \" + related.title;","  },","  getGroupLabel: function(group, related_content) {","    var labels;","    if (RULES[group].label != null) {","      labels = RULES[group].label;","    } else {","      labels = _.map(related_content, this.buildLabel);","    }","    return labels;","  },","  render: function() {","    var className, exercise_uid, group, groupDOM, labels, ref, related_content;","    ref = this.props, group = ref.group, related_content = ref.related_content, exercise_uid = ref.exercise_uid;","    groupDOM = [];","    if (RULES[group].show) {","      className = group.replace(' ', '_');","      labels = this.getGroupLabel(group, related_content);","      groupDOM = [","        React.createElement(\"i\", {","          \"className\": \"icon-sm icon-\" + className,","          \"key\": 'group-icon'","        }), React.createElement(\"span\", {","          \"className\": 'openstax-step-group-label',","          \"key\": 'group-label'","        }, labels)","      ];","    }","    if (exercise_uid) {","      groupDOM.push(React.createElement(ExerciseIdentifierLink, {","        \"key\": 'exercise-uid',","        \"exerciseId\": exercise_uid","      }));","    }","    return React.createElement(\"div\", {","      \"className\": 'openstax-step-group'","    }, groupDOM);","  }","});","","module.exports = ExerciseGroup;",""],"f":{"1":21,"2":0,"3":0,"4":0,"5":3},"fnMap":{"1":{"line":40,"loc":{"end":{"column":30,"line":40},"start":{"column":19,"line":40}},"name":"(anonymous_1)"},"2":{"line":46,"loc":{"end":{"column":32,"line":46},"start":{"column":21,"line":46}},"name":"(anonymous_2)"},"3":{"line":49,"loc":{"end":{"column":32,"line":49},"start":{"column":14,"line":49}},"name":"(anonymous_3)"},"4":{"line":54,"loc":{"end":{"column":50,"line":54},"start":{"column":17,"line":54}},"name":"(anonymous_4)"},"5":{"line":63,"loc":{"end":{"column":21,"line":63},"start":{"column":10,"line":63}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/group.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":3,"21":3,"22":3,"23":3,"24":0,"25":0,"26":0,"27":3,"28":3,"29":3,"30":21},"statementMap":{"1":{"end":{"column":106,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":58,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":54,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":2,"line":15},"start":{"column":0,"line":13}},"8":{"end":{"column":2,"line":31},"start":{"column":0,"line":17}},"9":{"end":{"column":3,"line":90},"start":{"column":0,"line":33}},"10":{"end":{"column":6,"line":44},"start":{"column":4,"line":41}},"11":{"end":{"column":25,"line":47},"start":{"column":4,"line":47}},"12":{"end":{"column":23,"line":50},"start":{"column":4,"line":50}},"13":{"end":{"column":94,"line":51},"start":{"column":4,"line":51}},"14":{"end":{"column":62,"line":52},"start":{"column":4,"line":52}},"15":{"end":{"column":15,"line":55},"start":{"column":4,"line":55}},"16":{"end":{"column":5,"line":60},"start":{"column":4,"line":56}},"17":{"end":{"column":34,"line":57},"start":{"column":6,"line":57}},"18":{"end":{"column":55,"line":59},"start":{"column":6,"line":59}},"19":{"end":{"column":18,"line":61},"start":{"column":4,"line":61}},"20":{"end":{"column":79,"line":64},"start":{"column":4,"line":64}},"21":{"end":{"column":112,"line":65},"start":{"column":4,"line":65}},"22":{"end":{"column":18,"line":66},"start":{"column":4,"line":66}},"23":{"end":{"column":5,"line":79},"start":{"column":4,"line":67}},"24":{"end":{"column":42,"line":68},"start":{"column":6,"line":68}},"25":{"end":{"column":58,"line":69},"start":{"column":6,"line":69}},"26":{"end":{"column":8,"line":78},"start":{"column":6,"line":70}},"27":{"end":{"column":5,"line":85},"start":{"column":4,"line":80}},"28":{"end":{"column":10,"line":84},"start":{"column":6,"line":81}},"29":{"end":{"column":17,"line":88},"start":{"column":4,"line":86}},"30":{"end":{"column":31,"line":92},"start":{"column":0,"line":92}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"17":21,"33":21,"41":21,"47":0,"50":0,"51":0,"52":0,"55":0,"56":0,"57":0,"59":0,"61":0,"64":3,"65":3,"66":3,"67":3,"68":0,"69":0,"70":0,"80":3,"81":3,"86":3,"92":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/identifier-link.cjsx":{"b":{"1":[0,3],"2":[0,0],"3":[0,3],"4":[3,0]},"branchMap":{"1":{"line":25,"locations":[{"end":{"column":4,"line":25},"start":{"column":4,"line":25}},{"end":{"column":4,"line":25},"start":{"column":4,"line":25}}],"type":"if"},"2":{"line":26,"locations":[{"end":{"column":83,"line":26},"start":{"column":78,"line":26}},{"end":{"column":90,"line":26},"start":{"column":86,"line":26}}],"type":"cond-expr"},"3":{"line":28,"locations":[{"end":{"column":4,"line":28},"start":{"column":4,"line":28}},{"end":{"column":4,"line":28},"start":{"column":4,"line":28}}],"type":"if"},"4":{"line":28,"locations":[{"end":{"column":27,"line":28},"start":{"column":8,"line":28}},{"end":{"column":65,"line":28},"start":{"column":31,"line":28}}],"type":"binary-expr"}},"code":["var BOOK_UID_XREF, ExerciseIdentifierLink, React;","","React = require('react');","","BOOK_UID_XREF = {","  '27275f49-f212-4506-b3b1-a4d5e3598b99': 'Tutor Physics',","  'd52e93f4-8653-4273-86da-3850001c0786': 'Tutor Biology',","  '947a1417-5fd5-4b3c-ac8f-bd9d1aedf2d2': 'Macroeconomics with Concept Coach',","  'bf96bfc5-e723-46c2-9fa2-5a4c9294fa26': 'Concepts of Biology with Concept Coach',","  '08df2bee-3db4-4243-bd76-ee032da173e8': 'Microeconomics with Concept Coach',","  '4f86c023-a135-412a-9d96-dcbd1ca61e7d': 'Introduction to Sociology 2e with Concept Coach',","  'd2fbadca-e4f3-4432-a074-2438c216b62a': 'Principles of Economics with Concept Coach',","  '99e127f8-f722-4907-a6b3-2d62fca135d6': 'Anatomy & Physiology with Concept Coach'","};","","ExerciseIdentifierLink = React.createClass({displayName: \"ExerciseIdentifierLink\",","  propTypes: {","    bookUUID: React.PropTypes.string,","    exerciseId: React.PropTypes.string.isRequired,","    project: React.PropTypes.oneOf(['concept-coach', 'tutor'])","  },","  formUrl: function() {","    var url;","    url = 'https://docs.google.com/a/rice.edu/forms/d/' + '1AmwbFIRvZJ6F91PQp1I6jQgqM9Kc3qNMrHdLdqhj8FE/viewform' + (\"?entry.649352110=\" + this.props.exerciseId);","    if (this.props.project) {","      url += \"&entry.1655668181=\" + (this.props.project === 'concept-coach' ? 'Yes' : 'No');","    }","    if (this.props.bookUUID && BOOK_UID_XREF[this.props.bookUUID]) {","      url += \"&entry.1091629000=\" + BOOK_UID_XREF[this.props.bookUUID];","    }","    return url;","  },","  render: function() {","    return React.createElement(\"span\", {","      \"className\": 'exercise-identifier-link'","    }, \"ID# \", this.props.exerciseId, \" | \", React.createElement(\"a\", {","      \"target\": \"_blank\",","      \"href\": this.formUrl()","    }, \"Report an error\"));","  }","});","","module.exports = ExerciseIdentifierLink;",""],"f":{"1":3,"2":3},"fnMap":{"1":{"line":22,"loc":{"end":{"column":22,"line":22},"start":{"column":11,"line":22}},"name":"(anonymous_1)"},"2":{"line":33,"loc":{"end":{"column":21,"line":33},"start":{"column":10,"line":33}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/identifier-link.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":3,"6":3,"7":3,"8":0,"9":3,"10":0,"11":3,"12":3,"13":21},"statementMap":{"1":{"end":{"column":49,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":2,"line":14},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":41},"start":{"column":0,"line":16}},"5":{"end":{"column":12,"line":23},"start":{"column":4,"line":23}},"6":{"end":{"column":162,"line":24},"start":{"column":4,"line":24}},"7":{"end":{"column":5,"line":27},"start":{"column":4,"line":25}},"8":{"end":{"column":92,"line":26},"start":{"column":6,"line":26}},"9":{"end":{"column":5,"line":30},"start":{"column":4,"line":28}},"10":{"end":{"column":71,"line":29},"start":{"column":6,"line":29}},"11":{"end":{"column":15,"line":31},"start":{"column":4,"line":31}},"12":{"end":{"column":27,"line":39},"start":{"column":4,"line":34}},"13":{"end":{"column":40,"line":43},"start":{"column":0,"line":43}}},"l":{"1":21,"3":21,"5":21,"16":21,"23":3,"24":3,"25":3,"26":0,"28":3,"29":0,"31":3,"34":3,"43":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/index.cjsx":{"b":{"1":[0,1],"2":[2,0],"3":[0,2],"4":[2,2],"5":[3,0]},"branchMap":{"1":{"line":56,"locations":[{"end":{"column":4,"line":56},"start":{"column":4,"line":56}},{"end":{"column":4,"line":56},"start":{"column":4,"line":56}}],"type":"if"},"2":{"line":65,"locations":[{"end":{"column":15,"line":65},"start":{"column":10,"line":65}},{"end":{"column":29,"line":65},"start":{"column":19,"line":65}}],"type":"binary-expr"},"3":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"4":{"line":67,"locations":[{"end":{"column":29,"line":67},"start":{"column":9,"line":67}},{"end":{"column":74,"line":67},"start":{"column":34,"line":67}}],"type":"binary-expr"},"5":{"line":137,"locations":[{"end":{"column":87,"line":137},"start":{"column":63,"line":137}},{"end":{"column":96,"line":137},"start":{"column":90,"line":137}}],"type":"cond-expr"}},"code":["var Exercise, ExerciseStepCard, NOT_FREE_RESPONSE_PROPS, NOT_MULTIPLE_CHOICE_PROPS, NOT_REVIEW_PROPS, NOT_TEACHER_READ_ONLY_PROPS, REVIEW_CONTROL_PROPS, React, _, camelCase, propTypes, step;","","React = require('react');","","_ = require('underscore');","","camelCase = require('camelcase');","","ExerciseStepCard = require('./step-card');","","propTypes = require('./props').propTypes;","","step = propTypes.ExerciseStepCard.step;","","REVIEW_CONTROL_PROPS = ['refreshStep', 'recoverFor', 'canTryAnother'];","","NOT_REVIEW_PROPS = ['onNextStep', 'canReview', 'disabled'];","","NOT_TEACHER_READ_ONLY_PROPS = _.union(NOT_REVIEW_PROPS, ['onStepCompleted', 'canTryAnother']);","","NOT_MULTIPLE_CHOICE_PROPS = _.union(REVIEW_CONTROL_PROPS, ['disabled']);","","NOT_FREE_RESPONSE_PROPS = _.union(REVIEW_CONTROL_PROPS, ['onStepCompleted', 'onNextStep', 'canReview']);","","Exercise = React.createClass({","  displayName: 'Exercise',","  propTypes: {","    id: React.PropTypes.string.isRequired,","    taskId: React.PropTypes.string.isRequired,","    onStepCompleted: React.PropTypes.func.isRequired,","    onNextStep: React.PropTypes.func.isRequired,","    getCurrentPanel: React.PropTypes.func.isRequired,","    step: step,","    setFreeResponseAnswer: React.PropTypes.func.isRequired,","    setAnswerId: React.PropTypes.func.isRequired,","    getReadingForStep: React.PropTypes.func,","    refreshStep: React.PropTypes.func,","    recoverFor: React.PropTypes.func,","    review: React.PropTypes.string,","    focus: React.PropTypes.bool,","    courseId: React.PropTypes.string,","    canTryAnother: React.PropTypes.bool,","    canReview: React.PropTypes.bool,","    disabled: React.PropTypes.bool","  },","  getInitialState: function() {","    var id;","    id = this.props.id;","    return {","      currentPanel: this.props.getCurrentPanel(id)","    };","  },","  componentWillMount: function() {","    var id;","    id = this.props.id;","    if (!this.state.currentPanel) {","      return this.updateCurrentPanel(this.props);","    }","  },","  componentWillReceiveProps: function(nextProps) {","    return this.updateCurrentPanel(nextProps);","  },","  updateCurrentPanel: function(props) {","    var currentPanel, getCurrentPanel, id, ref;","    ref = props || this.props, id = ref.id, getCurrentPanel = ref.getCurrentPanel;","    currentPanel = getCurrentPanel(id);","    if ((currentPanel != null) && this.state.currentPanel !== currentPanel) {","      return this.setState({","        currentPanel: currentPanel","      });","    }","  },","  getDefaultProps: function() {","    return {","      focus: true,","      review: '',","      pinned: true,","      canTryAnother: false,","      canReview: false","    };","  },","  refreshMemory: function() {","    var id, index, ref, taskId;","    ref = this.props, id = ref.id, taskId = ref.taskId;","    index = this.props.getReadingForStep(id, taskId).index;","    return this.props.refreshStep(index, id);","  },","  tryAnother: function() {","    var id;","    id = this.props.id;","    return this.props.recoverFor(id);","  },","  onFreeResponseContinue: function(state) {","    var freeResponse, id;","    id = this.props.id;","    freeResponse = state.freeResponse;","    return this.props.setFreeResponseAnswer(id, freeResponse);","  },","  onMultipleChoiceAnswerChanged: function(answer) {","    var id;","    id = this.props.id;","    return this.props.setAnswerId(id, answer.id);","  },","  getReviewProps: function() {","    var reviewProps;","    reviewProps = _.omit(this.props, NOT_REVIEW_PROPS);","    reviewProps.onContinue = this.props.onNextStep;","    reviewProps.refreshMemory = this.refreshMemory;","    reviewProps.tryAnother = this.tryAnother;","    return reviewProps;","  },","  getMultipleChoiceProps: function() {","    var multipleChoiceProps;","    multipleChoiceProps = _.omit(this.props, NOT_MULTIPLE_CHOICE_PROPS);","    multipleChoiceProps.onAnswerChanged = this.onMultipleChoiceAnswerChanged;","    return multipleChoiceProps;","  },","  getFreeResponseProps: function() {","    var freeResponseProps;","    freeResponseProps = _.omit(this.props, NOT_FREE_RESPONSE_PROPS);","    freeResponseProps.onContinue = this.onFreeResponseContinue;","    return freeResponseProps;","  },","  getTeacherReadOnlyProps: function() {","    var teacherReadOnlyProps;","    teacherReadOnlyProps = _.omit(this.props, NOT_TEACHER_READ_ONLY_PROPS);","    teacherReadOnlyProps.onContinue = this.props.onNextStep;","    teacherReadOnlyProps.controlButtons = false;","    teacherReadOnlyProps.type = 'teacher-review';","    return teacherReadOnlyProps;","  },","  render: function() {","    var cardProps, currentPanel, getPropsForPanel, id, ref, waitingText;","    ref = this.props, id = ref.id, step = ref.step, waitingText = ref.waitingText;","    currentPanel = this.state.currentPanel;","    getPropsForPanel = camelCase(\"get-\" + currentPanel + \"-props\");","    cardProps = typeof this[getPropsForPanel] === \"function\" ? this[getPropsForPanel]() : void 0;","    return React.createElement(ExerciseStepCard, React.__spread({}, cardProps, {","      \"step\": step,","      \"panel\": currentPanel,","      \"waitingText\": waitingText","    }));","  }","});","","module.exports = Exercise;",""],"f":{"1":1,"2":1,"3":2,"4":2,"5":21,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":3,"14":3},"fnMap":{"1":{"line":46,"loc":{"end":{"column":30,"line":46},"start":{"column":19,"line":46}},"name":"(anonymous_1)"},"2":{"line":53,"loc":{"end":{"column":33,"line":53},"start":{"column":22,"line":53}},"name":"(anonymous_2)"},"3":{"line":60,"loc":{"end":{"column":49,"line":60},"start":{"column":29,"line":60}},"name":"(anonymous_3)"},"4":{"line":63,"loc":{"end":{"column":38,"line":63},"start":{"column":22,"line":63}},"name":"(anonymous_4)"},"5":{"line":73,"loc":{"end":{"column":30,"line":73},"start":{"column":19,"line":73}},"name":"(anonymous_5)"},"6":{"line":82,"loc":{"end":{"column":28,"line":82},"start":{"column":17,"line":82}},"name":"(anonymous_6)"},"7":{"line":88,"loc":{"end":{"column":25,"line":88},"start":{"column":14,"line":88}},"name":"(anonymous_7)"},"8":{"line":93,"loc":{"end":{"column":42,"line":93},"start":{"column":26,"line":93}},"name":"(anonymous_8)"},"9":{"line":99,"loc":{"end":{"column":50,"line":99},"start":{"column":33,"line":99}},"name":"(anonymous_9)"},"10":{"line":104,"loc":{"end":{"column":29,"line":104},"start":{"column":18,"line":104}},"name":"(anonymous_10)"},"11":{"line":112,"loc":{"end":{"column":37,"line":112},"start":{"column":26,"line":112}},"name":"(anonymous_11)"},"12":{"line":118,"loc":{"end":{"column":35,"line":118},"start":{"column":24,"line":118}},"name":"(anonymous_12)"},"13":{"line":124,"loc":{"end":{"column":38,"line":124},"start":{"column":27,"line":124}},"name":"(anonymous_13)"},"14":{"line":132,"loc":{"end":{"column":21,"line":132},"start":{"column":10,"line":132}},"name":"(anonymous_14)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":2,"22":2,"23":2,"24":2,"25":2,"26":0,"27":21,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":3,"57":3,"58":3,"59":3,"60":3,"61":3,"62":3,"63":3,"64":3,"65":3,"66":3,"67":3,"68":21},"statementMap":{"1":{"end":{"column":190,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":42,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":41,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":39,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":70,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":59,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":94,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":72,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":104,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":144},"start":{"column":0,"line":25}},"14":{"end":{"column":11,"line":47},"start":{"column":4,"line":47}},"15":{"end":{"column":23,"line":48},"start":{"column":4,"line":48}},"16":{"end":{"column":6,"line":51},"start":{"column":4,"line":49}},"17":{"end":{"column":11,"line":54},"start":{"column":4,"line":54}},"18":{"end":{"column":23,"line":55},"start":{"column":4,"line":55}},"19":{"end":{"column":5,"line":58},"start":{"column":4,"line":56}},"20":{"end":{"column":49,"line":57},"start":{"column":6,"line":57}},"21":{"end":{"column":46,"line":61},"start":{"column":4,"line":61}},"22":{"end":{"column":47,"line":64},"start":{"column":4,"line":64}},"23":{"end":{"column":82,"line":65},"start":{"column":4,"line":65}},"24":{"end":{"column":39,"line":66},"start":{"column":4,"line":66}},"25":{"end":{"column":5,"line":71},"start":{"column":4,"line":67}},"26":{"end":{"column":9,"line":70},"start":{"column":6,"line":68}},"27":{"end":{"column":6,"line":80},"start":{"column":4,"line":74}},"28":{"end":{"column":31,"line":83},"start":{"column":4,"line":83}},"29":{"end":{"column":55,"line":84},"start":{"column":4,"line":84}},"30":{"end":{"column":59,"line":85},"start":{"column":4,"line":85}},"31":{"end":{"column":45,"line":86},"start":{"column":4,"line":86}},"32":{"end":{"column":11,"line":89},"start":{"column":4,"line":89}},"33":{"end":{"column":23,"line":90},"start":{"column":4,"line":90}},"34":{"end":{"column":37,"line":91},"start":{"column":4,"line":91}},"35":{"end":{"column":25,"line":94},"start":{"column":4,"line":94}},"36":{"end":{"column":23,"line":95},"start":{"column":4,"line":95}},"37":{"end":{"column":38,"line":96},"start":{"column":4,"line":96}},"38":{"end":{"column":62,"line":97},"start":{"column":4,"line":97}},"39":{"end":{"column":11,"line":100},"start":{"column":4,"line":100}},"40":{"end":{"column":23,"line":101},"start":{"column":4,"line":101}},"41":{"end":{"column":49,"line":102},"start":{"column":4,"line":102}},"42":{"end":{"column":20,"line":105},"start":{"column":4,"line":105}},"43":{"end":{"column":55,"line":106},"start":{"column":4,"line":106}},"44":{"end":{"column":51,"line":107},"start":{"column":4,"line":107}},"45":{"end":{"column":51,"line":108},"start":{"column":4,"line":108}},"46":{"end":{"column":45,"line":109},"start":{"column":4,"line":109}},"47":{"end":{"column":23,"line":110},"start":{"column":4,"line":110}},"48":{"end":{"column":28,"line":113},"start":{"column":4,"line":113}},"49":{"end":{"column":72,"line":114},"start":{"column":4,"line":114}},"50":{"end":{"column":77,"line":115},"start":{"column":4,"line":115}},"51":{"end":{"column":31,"line":116},"start":{"column":4,"line":116}},"52":{"end":{"column":26,"line":119},"start":{"column":4,"line":119}},"53":{"end":{"column":68,"line":120},"start":{"column":4,"line":120}},"54":{"end":{"column":63,"line":121},"start":{"column":4,"line":121}},"55":{"end":{"column":29,"line":122},"start":{"column":4,"line":122}},"56":{"end":{"column":29,"line":125},"start":{"column":4,"line":125}},"57":{"end":{"column":75,"line":126},"start":{"column":4,"line":126}},"58":{"end":{"column":60,"line":127},"start":{"column":4,"line":127}},"59":{"end":{"column":48,"line":128},"start":{"column":4,"line":128}},"60":{"end":{"column":49,"line":129},"start":{"column":4,"line":129}},"61":{"end":{"column":32,"line":130},"start":{"column":4,"line":130}},"62":{"end":{"column":72,"line":133},"start":{"column":4,"line":133}},"63":{"end":{"column":82,"line":134},"start":{"column":4,"line":134}},"64":{"end":{"column":43,"line":135},"start":{"column":4,"line":135}},"65":{"end":{"column":67,"line":136},"start":{"column":4,"line":136}},"66":{"end":{"column":97,"line":137},"start":{"column":4,"line":137}},"67":{"end":{"column":8,"line":142},"start":{"column":4,"line":138}},"68":{"end":{"column":26,"line":146},"start":{"column":0,"line":146}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"47":1,"48":1,"49":1,"54":1,"55":1,"56":1,"57":0,"61":2,"64":2,"65":2,"66":2,"67":2,"68":0,"74":21,"83":0,"84":0,"85":0,"86":0,"89":0,"90":0,"91":0,"94":0,"95":0,"96":0,"97":0,"100":0,"101":0,"102":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"113":0,"114":0,"115":0,"116":0,"119":0,"120":0,"121":0,"122":0,"125":3,"126":3,"127":3,"128":3,"129":3,"130":3,"133":3,"134":3,"135":3,"136":3,"137":3,"138":3,"146":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/mode.cjsx":{"b":{"1":[0,1],"2":[0,2],"3":[0,2],"4":[0,2],"5":[0,2],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,3],"18":[0,3],"19":[0,0],"20":[3,0],"21":[0,3],"22":[0,3],"23":[0,3]},"branchMap":{"1":{"line":42,"locations":[{"end":{"column":4,"line":42},"start":{"column":4,"line":42}},{"end":{"column":4,"line":42},"start":{"column":4,"line":42}}],"type":"if"},"2":{"line":49,"locations":[{"end":{"column":4,"line":49},"start":{"column":4,"line":49}},{"end":{"column":4,"line":49},"start":{"column":4,"line":49}}],"type":"if"},"3":{"line":57,"locations":[{"end":{"column":4,"line":57},"start":{"column":4,"line":57}},{"end":{"column":4,"line":57},"start":{"column":4,"line":57}}],"type":"if"},"4":{"line":60,"locations":[{"end":{"column":4,"line":60},"start":{"column":4,"line":60}},{"end":{"column":4,"line":60},"start":{"column":4,"line":60}}],"type":"if"},"5":{"line":63,"locations":[{"end":{"column":4,"line":63},"start":{"column":4,"line":63}},{"end":{"column":4,"line":63},"start":{"column":4,"line":63}}],"type":"if"},"6":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"},"7":{"line":70,"locations":[{"end":{"column":13,"line":70},"start":{"column":8,"line":70}},{"end":{"column":41,"line":70},"start":{"column":17,"line":70}}],"type":"binary-expr"},"8":{"line":71,"locations":[{"end":{"column":182,"line":71},"start":{"column":55,"line":71}},{"end":{"column":191,"line":71},"start":{"column":185,"line":71}}],"type":"cond-expr"},"9":{"line":71,"locations":[{"end":{"column":173,"line":71},"start":{"column":95,"line":71}},{"end":{"column":182,"line":71},"start":{"column":176,"line":71}}],"type":"cond-expr"},"10":{"line":71,"locations":[{"end":{"column":164,"line":71},"start":{"column":152,"line":71}},{"end":{"column":173,"line":71},"start":{"column":167,"line":71}}],"type":"cond-expr"},"11":{"line":76,"locations":[{"end":{"column":117,"line":76},"start":{"column":61,"line":76}},{"end":{"column":126,"line":76},"start":{"column":120,"line":76}}],"type":"cond-expr"},"12":{"line":76,"locations":[{"end":{"column":108,"line":76},"start":{"column":98,"line":76}},{"end":{"column":117,"line":76},"start":{"column":111,"line":76}}],"type":"cond-expr"},"13":{"line":80,"locations":[{"end":{"column":115,"line":80},"start":{"column":76,"line":80}},{"end":{"column":124,"line":80},"start":{"column":118,"line":80}}],"type":"cond-expr"},"14":{"line":84,"locations":[{"end":{"column":4,"line":84},"start":{"column":4,"line":84}},{"end":{"column":4,"line":84},"start":{"column":4,"line":84}}],"type":"if"},"15":{"line":84,"locations":[{"end":{"column":41,"line":84},"start":{"column":8,"line":84}},{"end":{"column":82,"line":84},"start":{"column":45,"line":84}}],"type":"binary-expr"},"16":{"line":90,"locations":[{"end":{"column":99,"line":90},"start":{"column":71,"line":90}},{"end":{"column":108,"line":90},"start":{"column":102,"line":90}}],"type":"cond-expr"},"17":{"line":96,"locations":[{"end":{"column":4,"line":96},"start":{"column":4,"line":96}},{"end":{"column":4,"line":96},"start":{"column":4,"line":96}}],"type":"if"},"18":{"line":99,"locations":[{"end":{"column":4,"line":99},"start":{"column":4,"line":99}},{"end":{"column":4,"line":99},"start":{"column":4,"line":99}}],"type":"if"},"19":{"line":104,"locations":[{"end":{"column":34,"line":104},"start":{"column":17,"line":104}},{"end":{"column":40,"line":104},"start":{"column":38,"line":104}}],"type":"binary-expr"},"20":{"line":117,"locations":[{"end":{"column":4,"line":117},"start":{"column":4,"line":117}},{"end":{"column":4,"line":117},"start":{"column":4,"line":117}}],"type":"if"},"21":{"line":121,"locations":[{"end":{"column":4,"line":121},"start":{"column":4,"line":121}},{"end":{"column":4,"line":121},"start":{"column":4,"line":121}}],"type":"if"},"22":{"line":125,"locations":[{"end":{"column":4,"line":125},"start":{"column":4,"line":125}},{"end":{"column":4,"line":125},"start":{"column":4,"line":125}}],"type":"if"},"23":{"line":129,"locations":[{"end":{"column":11,"line":129},"start":{"column":11,"line":129}},{"end":{"column":11,"line":129},"start":{"column":11,"line":129}}],"type":"if"}},"code":["var ArbitraryHtmlAndMath, ExMode, FreeResponse, Question, React, _, modeProps, modeType, propTypes, props, ref;","","React = require('react');","","_ = require('underscore');","","ArbitraryHtmlAndMath = require('../html');","","Question = require('../question');","","FreeResponse = require('./free-response');","","ref = require('./props'), propTypes = ref.propTypes, props = ref.props;","","modeType = propTypes.ExerciseStepCard.panel;","","modeProps = _.extend({}, propTypes.ExFreeResponse, propTypes.ExMulitpleChoice, propTypes.ExReview, {","  mode: modeType","});","","ExMode = React.createClass({","  displayName: 'ExMode',","  propTypes: modeProps,","  getDefaultProps: function() {","    return {","      disabled: false,","      free_response: '',","      answer_id: ''","    };","  },","  getInitialState: function() {","    var answer_id, free_response, ref1;","    ref1 = this.props, free_response = ref1.free_response, answer_id = ref1.answer_id;","    return {","      freeResponse: free_response,","      answerId: answer_id","    };","  },","  componentDidMount: function() {","    var mode;","    mode = this.props.mode;","    if (mode === 'free-response') {","      return this.focusBox();","    }","  },","  componentDidUpdate: function(nextProps, nextState) {","    var mode;","    mode = nextProps.mode;","    if (mode === 'free-response') {","      return this.focusBox();","    }","  },","  componentWillReceiveProps: function(nextProps) {","    var answer_id, free_response, nextAnswers;","    free_response = nextProps.free_response, answer_id = nextProps.answer_id;","    nextAnswers = {};","    if (this.state.freeResponse !== free_response) {","      nextAnswers.freeResponse = free_response;","    }","    if (this.state.answerId !== answer_id) {","      nextAnswers.answerId = answer_id;","    }","    if (!_.isEmpty(nextAnswers)) {","      return this.setState(nextAnswers);","    }","  },","  focusBox: function() {","    var base, focus, mode, ref1, ref2;","    ref1 = this.props, focus = ref1.focus, mode = ref1.mode;","    if (focus && mode === 'free-response') {","      return (ref2 = this.refs.freeResponse) != null ? typeof ref2.getDOMNode === \"function\" ? typeof (base = ref2.getDOMNode()).focus === \"function\" ? base.focus() : void 0 : void 0 : void 0;","    }","  },","  onFreeResponseChange: function() {","    var base, freeResponse, ref1, ref2;","    freeResponse = (ref1 = this.refs.freeResponse) != null ? (ref2 = ref1.getDOMNode()) != null ? ref2.value : void 0 : void 0;","    this.setState({","      freeResponse: freeResponse","    });","    return typeof (base = this.props).onFreeResponseChange === \"function\" ? base.onFreeResponseChange(freeResponse) : void 0;","  },","  onAnswerChanged: function(answer) {","    var base;","    if (answer.id === this.state.answerId || this.props.mode !== 'multiple-choice') {","      return;","    }","    this.setState({","      answerId: answer.id","    });","    return typeof (base = this.props).onAnswerChanged === \"function\" ? base.onAnswerChanged(answer) : void 0;","  },","  getFreeResponse: function() {","    var disabled, freeResponseValue, free_response, mode, ref1;","    freeResponseValue = this.state.freeResponse;","    ref1 = this.props, mode = ref1.mode, free_response = ref1.free_response, disabled = ref1.disabled;","    if (!freeResponseValue) {","      freeResponseValue = this.props.freeResponseValue;","    }","    if (mode === 'free-response') {","      return React.createElement(\"textarea\", {","        \"disabled\": disabled,","        \"ref\": 'freeResponse',","        \"placeholder\": 'Enter your response',","        \"value\": freeResponseValue || '',","        \"onChange\": this.onFreeResponseChange","      });","    } else {","      return React.createElement(FreeResponse, {","        \"free_response\": free_response","      });","    }","  },","  render: function() {","    var answerId, answerKeySet, changeProps, choicesEnabled, content, htmlAndMathProps, mode, onChangeAnswerAttempt, question, questionProps, ref1, stimulus_html;","    ref1 = this.props, mode = ref1.mode, content = ref1.content, onChangeAnswerAttempt = ref1.onChangeAnswerAttempt, answerKeySet = ref1.answerKeySet, choicesEnabled = ref1.choicesEnabled;","    answerId = this.state.answerId;","    if (!choicesEnabled) {","      answerKeySet = null;","    }","    question = content.questions[0];","    if (mode === 'free-response') {","      question = _.omit(question, 'answers');","    }","    questionProps = _.pick(this.props, 'processHtmlAndMath', 'choicesEnabled', 'correct_answer_id', 'feedback_html', 'type');","    if (mode === 'multiple-choice') {","      changeProps = {","        onChange: this.onAnswerChanged","      };","    } else if (mode === 'review') {","      changeProps = {","        onChangeAttempt: onChangeAnswerAttempt","      };","    }","    htmlAndMathProps = _.pick(this.props, 'processHtmlAndMath');","    stimulus_html = content.stimulus_html;","    return React.createElement(\"div\", {","      \"className\": 'openstax-exercise'","    }, React.createElement(ArbitraryHtmlAndMath, React.__spread({}, htmlAndMathProps, {","      \"className\": 'exercise-stimulus',","      \"block\": true,","      \"html\": stimulus_html","    })), React.createElement(Question, React.__spread({}, questionProps, changeProps, {","      \"key\": 'step-question',","      \"model\": question,","      \"answer_id\": answerId,","      \"keySet\": answerKeySet","    }), this.getFreeResponse()));","  }","});","","module.exports = {","  ExMode: ExMode","};",""],"f":{"1":21,"2":1,"3":1,"4":2,"5":2,"6":0,"7":0,"8":0,"9":3,"10":3},"fnMap":{"1":{"line":24,"loc":{"end":{"column":30,"line":24},"start":{"column":19,"line":24}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":30,"line":31},"start":{"column":19,"line":31}},"name":"(anonymous_2)"},"3":{"line":39,"loc":{"end":{"column":32,"line":39},"start":{"column":21,"line":39}},"name":"(anonymous_3)"},"4":{"line":46,"loc":{"end":{"column":53,"line":46},"start":{"column":22,"line":46}},"name":"(anonymous_4)"},"5":{"line":53,"loc":{"end":{"column":49,"line":53},"start":{"column":29,"line":53}},"name":"(anonymous_5)"},"6":{"line":67,"loc":{"end":{"column":23,"line":67},"start":{"column":12,"line":67}},"name":"(anonymous_6)"},"7":{"line":74,"loc":{"end":{"column":35,"line":74},"start":{"column":24,"line":74}},"name":"(anonymous_7)"},"8":{"line":82,"loc":{"end":{"column":36,"line":82},"start":{"column":19,"line":82}},"name":"(anonymous_8)"},"9":{"line":92,"loc":{"end":{"column":30,"line":92},"start":{"column":19,"line":92}},"name":"(anonymous_9)"},"10":{"line":113,"loc":{"end":{"column":21,"line":113},"start":{"column":10,"line":113}},"name":"(anonymous_10)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/mode.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":2,"20":2,"21":2,"22":0,"23":2,"24":2,"25":2,"26":2,"27":0,"28":2,"29":0,"30":2,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":3,"46":3,"47":3,"48":3,"49":0,"50":3,"51":0,"52":3,"53":3,"54":3,"55":3,"56":3,"57":3,"58":3,"59":3,"60":0,"61":3,"62":3,"63":0,"64":3,"65":0,"66":3,"67":3,"68":3,"69":21},"statementMap":{"1":{"end":{"column":111,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":42,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":34,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":42,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":71,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":44,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":19},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":149},"start":{"column":0,"line":21}},"11":{"end":{"column":6,"line":29},"start":{"column":4,"line":25}},"12":{"end":{"column":39,"line":32},"start":{"column":4,"line":32}},"13":{"end":{"column":86,"line":33},"start":{"column":4,"line":33}},"14":{"end":{"column":6,"line":37},"start":{"column":4,"line":34}},"15":{"end":{"column":13,"line":40},"start":{"column":4,"line":40}},"16":{"end":{"column":27,"line":41},"start":{"column":4,"line":41}},"17":{"end":{"column":5,"line":44},"start":{"column":4,"line":42}},"18":{"end":{"column":29,"line":43},"start":{"column":6,"line":43}},"19":{"end":{"column":13,"line":47},"start":{"column":4,"line":47}},"20":{"end":{"column":26,"line":48},"start":{"column":4,"line":48}},"21":{"end":{"column":5,"line":51},"start":{"column":4,"line":49}},"22":{"end":{"column":29,"line":50},"start":{"column":6,"line":50}},"23":{"end":{"column":46,"line":54},"start":{"column":4,"line":54}},"24":{"end":{"column":77,"line":55},"start":{"column":4,"line":55}},"25":{"end":{"column":21,"line":56},"start":{"column":4,"line":56}},"26":{"end":{"column":5,"line":59},"start":{"column":4,"line":57}},"27":{"end":{"column":47,"line":58},"start":{"column":6,"line":58}},"28":{"end":{"column":5,"line":62},"start":{"column":4,"line":60}},"29":{"end":{"column":39,"line":61},"start":{"column":6,"line":61}},"30":{"end":{"column":5,"line":65},"start":{"column":4,"line":63}},"31":{"end":{"column":40,"line":64},"start":{"column":6,"line":64}},"32":{"end":{"column":38,"line":68},"start":{"column":4,"line":68}},"33":{"end":{"column":60,"line":69},"start":{"column":4,"line":69}},"34":{"end":{"column":5,"line":72},"start":{"column":4,"line":70}},"35":{"end":{"column":192,"line":71},"start":{"column":6,"line":71}},"36":{"end":{"column":39,"line":75},"start":{"column":4,"line":75}},"37":{"end":{"column":127,"line":76},"start":{"column":4,"line":76}},"38":{"end":{"column":7,"line":79},"start":{"column":4,"line":77}},"39":{"end":{"column":125,"line":80},"start":{"column":4,"line":80}},"40":{"end":{"column":13,"line":83},"start":{"column":4,"line":83}},"41":{"end":{"column":5,"line":86},"start":{"column":4,"line":84}},"42":{"end":{"column":13,"line":85},"start":{"column":6,"line":85}},"43":{"end":{"column":7,"line":89},"start":{"column":4,"line":87}},"44":{"end":{"column":109,"line":90},"start":{"column":4,"line":90}},"45":{"end":{"column":63,"line":93},"start":{"column":4,"line":93}},"46":{"end":{"column":48,"line":94},"start":{"column":4,"line":94}},"47":{"end":{"column":102,"line":95},"start":{"column":4,"line":95}},"48":{"end":{"column":5,"line":98},"start":{"column":4,"line":96}},"49":{"end":{"column":55,"line":97},"start":{"column":6,"line":97}},"50":{"end":{"column":5,"line":111},"start":{"column":4,"line":99}},"51":{"end":{"column":9,"line":106},"start":{"column":6,"line":100}},"52":{"end":{"column":9,"line":110},"start":{"column":6,"line":108}},"53":{"end":{"column":162,"line":114},"start":{"column":4,"line":114}},"54":{"end":{"column":188,"line":115},"start":{"column":4,"line":115}},"55":{"end":{"column":35,"line":116},"start":{"column":4,"line":116}},"56":{"end":{"column":5,"line":119},"start":{"column":4,"line":117}},"57":{"end":{"column":26,"line":118},"start":{"column":6,"line":118}},"58":{"end":{"column":36,"line":120},"start":{"column":4,"line":120}},"59":{"end":{"column":5,"line":123},"start":{"column":4,"line":121}},"60":{"end":{"column":45,"line":122},"start":{"column":6,"line":122}},"61":{"end":{"column":125,"line":124},"start":{"column":4,"line":124}},"62":{"end":{"column":5,"line":133},"start":{"column":4,"line":125}},"63":{"end":{"column":8,"line":128},"start":{"column":6,"line":126}},"64":{"end":{"column":5,"line":133},"start":{"column":11,"line":129}},"65":{"end":{"column":8,"line":132},"start":{"column":6,"line":130}},"66":{"end":{"column":64,"line":134},"start":{"column":4,"line":134}},"67":{"end":{"column":42,"line":135},"start":{"column":4,"line":135}},"68":{"end":{"column":33,"line":147},"start":{"column":4,"line":136}},"69":{"end":{"column":2,"line":153},"start":{"column":0,"line":151}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"21":21,"25":21,"32":1,"33":1,"34":1,"40":1,"41":1,"42":1,"43":0,"47":2,"48":2,"49":2,"50":0,"54":2,"55":2,"56":2,"57":2,"58":0,"60":2,"61":0,"63":2,"64":0,"68":0,"69":0,"70":0,"71":0,"75":0,"76":0,"77":0,"80":0,"83":0,"84":0,"85":0,"87":0,"90":0,"93":3,"94":3,"95":3,"96":3,"97":0,"99":3,"100":0,"108":3,"114":3,"115":3,"116":3,"117":3,"118":3,"120":3,"121":3,"122":0,"124":3,"125":3,"126":0,"129":3,"130":0,"134":3,"135":3,"136":3,"151":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/props.cjsx":{"b":{"1":[105,0]},"branchMap":{"1":{"line":10,"locations":[{"end":{"column":62,"line":10},"start":{"column":38,"line":10}},{"end":{"column":67,"line":10},"start":{"column":65,"line":10}}],"type":"cond-expr"}},"code":["var CONTINUE_PROP_TYPES, CONTROL_PROPS, EXERCISE_STEP_CARD_PROP_TYPES, FOOTER_PROPS, FREE_RESPONSE_PROP_TYPES, MULTIPLE_CHOICE_PROP_TYPES, NOT_PANEL_PROPS, REVIEW_CONTROL_PROP_TYPES, React, STEP_PROP_TYPES, _, extendPropTypes, propTypes, props,","  slice = [].slice;","","React = require('react');","","_ = require('underscore');","","extendPropTypes = function() {","  var propTypes;","  propTypes = 1 <= arguments.length ? slice.call(arguments, 0) : [];","  propTypes.unshift({});","  return _.extend.apply(_, propTypes);","};","","STEP_PROP_TYPES = {","  content: React.PropTypes.object.isRequired,","  feedback_html: React.PropTypes.string,","  correct_answer_id: React.PropTypes.string,","  answer_id: React.PropTypes.string,","  free_response: React.PropTypes.string,","  group: React.PropTypes.string,","  related_content: React.PropTypes.array","};","","CONTINUE_PROP_TYPES = {","  isContinueEnabled: React.PropTypes.bool,","  isContinueFailed: React.PropTypes.bool,","  waitingText: React.PropTypes.string,","  children: React.PropTypes.string,","  onContinue: React.PropTypes.func","};","","REVIEW_CONTROL_PROP_TYPES = {","  review: React.PropTypes.string,","  isRecovering: React.PropTypes.bool,","  canTryAnother: React.PropTypes.bool,","  tryAnother: React.PropTypes.func,","  canRefreshMemory: React.PropTypes.bool,","  refreshMemory: React.PropTypes.func","};","","FREE_RESPONSE_PROP_TYPES = {","  free_response: React.PropTypes.string,","  focus: React.PropTypes.bool.isRequired,","  disabled: React.PropTypes.bool,","  onFreeResponseChange: React.PropTypes.func","};","","MULTIPLE_CHOICE_PROP_TYPES = {","  choicesEnabled: React.PropTypes.bool.isRequired,","  canReview: React.PropTypes.bool.isRequired,","  onAnswerChanged: React.PropTypes.func","};","","EXERCISE_STEP_CARD_PROP_TYPES = _.extend({}, CONTINUE_PROP_TYPES, REVIEW_CONTROL_PROP_TYPES);","","EXERCISE_STEP_CARD_PROP_TYPES.step = React.PropTypes.shape(STEP_PROP_TYPES).isRequired;","","EXERCISE_STEP_CARD_PROP_TYPES.footer = React.PropTypes.node.isRequired;","","EXERCISE_STEP_CARD_PROP_TYPES.pinned = React.PropTypes.bool;","","EXERCISE_STEP_CARD_PROP_TYPES.allowKeyNav = React.PropTypes.bool;","","EXERCISE_STEP_CARD_PROP_TYPES.panel = React.PropTypes.oneOf(['review', 'multiple-choice', 'free-response', 'teacher-read-only']);","","EXERCISE_STEP_CARD_PROP_TYPES.review = React.PropTypes.string;","","EXERCISE_STEP_CARD_PROP_TYPES.onAnswerChanged = React.PropTypes.func;","","EXERCISE_STEP_CARD_PROP_TYPES.onFreeResponseChange = React.PropTypes.func;","","EXERCISE_STEP_CARD_PROP_TYPES.onChangeAnswerAttempt = React.PropTypes.func;","","CONTROL_PROPS = _.union(_.keys(CONTINUE_PROP_TYPES), _.keys(REVIEW_CONTROL_PROP_TYPES));","","FOOTER_PROPS = ['pinned', 'courseId', 'id', 'taskId', 'review', 'panel'];","","NOT_PANEL_PROPS = _.union(CONTROL_PROPS, FOOTER_PROPS, ['onContinue', 'isContinueEnabled', 'step']);","","propTypes = {","  ExContinueButton: extendPropTypes(CONTINUE_PROP_TYPES),","  ExReviewControls: extendPropTypes(CONTINUE_PROP_TYPES, REVIEW_CONTROL_PROP_TYPES),","  ExFreeResponse: extendPropTypes(STEP_PROP_TYPES, FREE_RESPONSE_PROP_TYPES),","  ExMultipleChoice: extendPropTypes(STEP_PROP_TYPES, MULTIPLE_CHOICE_PROP_TYPES),","  ExReview: extendPropTypes(STEP_PROP_TYPES),","  ExerciseStepCard: EXERCISE_STEP_CARD_PROP_TYPES","};","","props = _.mapObject(propTypes, _.keys);","","props.StepFooter = ['pinned', 'courseId', 'id', 'taskId', 'review', 'panel'];","","props.notPanel = _.union(props.ExReviewControls, props.StepFooter, ['step']);","","module.exports = {","  propTypes: propTypes,","  props: props","};",""],"f":{"1":105},"fnMap":{"1":{"line":8,"loc":{"end":{"column":29,"line":8},"start":{"column":18,"line":8}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/props.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":105,"6":105,"7":105,"8":105,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":21,"20":21,"21":21,"22":21,"23":21,"24":21,"25":21,"26":21,"27":21,"28":21,"29":21,"30":21,"31":21},"statementMap":{"1":{"end":{"column":19,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":4},"start":{"column":0,"line":4}},"3":{"end":{"column":26,"line":6},"start":{"column":0,"line":6}},"4":{"end":{"column":2,"line":13},"start":{"column":0,"line":8}},"5":{"end":{"column":16,"line":9},"start":{"column":2,"line":9}},"6":{"end":{"column":68,"line":10},"start":{"column":2,"line":10}},"7":{"end":{"column":24,"line":11},"start":{"column":2,"line":11}},"8":{"end":{"column":38,"line":12},"start":{"column":2,"line":12}},"9":{"end":{"column":2,"line":23},"start":{"column":0,"line":15}},"10":{"end":{"column":2,"line":31},"start":{"column":0,"line":25}},"11":{"end":{"column":2,"line":40},"start":{"column":0,"line":33}},"12":{"end":{"column":2,"line":47},"start":{"column":0,"line":42}},"13":{"end":{"column":2,"line":53},"start":{"column":0,"line":49}},"14":{"end":{"column":93,"line":55},"start":{"column":0,"line":55}},"15":{"end":{"column":87,"line":57},"start":{"column":0,"line":57}},"16":{"end":{"column":71,"line":59},"start":{"column":0,"line":59}},"17":{"end":{"column":60,"line":61},"start":{"column":0,"line":61}},"18":{"end":{"column":65,"line":63},"start":{"column":0,"line":63}},"19":{"end":{"column":129,"line":65},"start":{"column":0,"line":65}},"20":{"end":{"column":62,"line":67},"start":{"column":0,"line":67}},"21":{"end":{"column":69,"line":69},"start":{"column":0,"line":69}},"22":{"end":{"column":74,"line":71},"start":{"column":0,"line":71}},"23":{"end":{"column":75,"line":73},"start":{"column":0,"line":73}},"24":{"end":{"column":88,"line":75},"start":{"column":0,"line":75}},"25":{"end":{"column":73,"line":77},"start":{"column":0,"line":77}},"26":{"end":{"column":100,"line":79},"start":{"column":0,"line":79}},"27":{"end":{"column":2,"line":88},"start":{"column":0,"line":81}},"28":{"end":{"column":39,"line":90},"start":{"column":0,"line":90}},"29":{"end":{"column":77,"line":92},"start":{"column":0,"line":92}},"30":{"end":{"column":77,"line":94},"start":{"column":0,"line":94}},"31":{"end":{"column":2,"line":99},"start":{"column":0,"line":96}}},"l":{"1":21,"4":21,"6":21,"8":21,"9":105,"10":105,"11":105,"12":105,"15":21,"25":21,"33":21,"42":21,"49":21,"55":21,"57":21,"59":21,"61":21,"63":21,"65":21,"67":21,"69":21,"71":21,"73":21,"75":21,"77":21,"79":21,"81":21,"90":21,"92":21,"94":21,"96":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/step-card.cjsx":{"b":{"1":[2,0,0],"2":[0,2],"3":[0,2],"4":[0,0],"5":[5,0],"6":[5,0],"7":[3,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[3,3],"18":[3,2],"19":[3,3],"20":[3,0]},"branchMap":{"1":{"line":72,"locations":[{"end":{"column":45,"line":72},"start":{"column":13,"line":72}},{"end":{"column":128,"line":72},"start":{"column":49,"line":72}},{"end":{"column":227,"line":72},"start":{"column":132,"line":72}}],"type":"binary-expr"},"2":{"line":76,"locations":[{"end":{"column":4,"line":76},"start":{"column":4,"line":76}},{"end":{"column":4,"line":76},"start":{"column":4,"line":76}}],"type":"if"},"3":{"line":80,"locations":[{"end":{"column":4,"line":80},"start":{"column":4,"line":80}},{"end":{"column":4,"line":80},"start":{"column":4,"line":80}}],"type":"if"},"4":{"line":85,"locations":[{"end":{"column":4,"line":85},"start":{"column":4,"line":85}},{"end":{"column":4,"line":85},"start":{"column":4,"line":85}}],"type":"if"},"5":{"line":103,"locations":[{"end":{"column":38,"line":103},"start":{"column":20,"line":103}},{"end":{"column":44,"line":103},"start":{"column":42,"line":103}}],"type":"binary-expr"},"6":{"line":104,"locations":[{"end":{"column":30,"line":104},"start":{"column":16,"line":104}},{"end":{"column":36,"line":104},"start":{"column":34,"line":104}}],"type":"binary-expr"},"7":{"line":111,"locations":[{"end":{"column":4,"line":111},"start":{"column":4,"line":111}},{"end":{"column":4,"line":111},"start":{"column":4,"line":111}}],"type":"if"},"8":{"line":114,"locations":[{"end":{"column":64,"line":114},"start":{"column":46,"line":114}},{"end":{"column":73,"line":114},"start":{"column":67,"line":114}}],"type":"cond-expr"},"9":{"line":121,"locations":[{"end":{"column":99,"line":121},"start":{"column":71,"line":121}},{"end":{"column":108,"line":121},"start":{"column":102,"line":121}}],"type":"cond-expr"},"10":{"line":128,"locations":[{"end":{"column":115,"line":128},"start":{"column":76,"line":128}},{"end":{"column":124,"line":128},"start":{"column":118,"line":128}}],"type":"cond-expr"},"11":{"line":133,"locations":[{"end":{"column":111,"line":133},"start":{"column":77,"line":133}},{"end":{"column":120,"line":133},"start":{"column":114,"line":133}}],"type":"cond-expr"},"12":{"line":138,"locations":[{"end":{"column":4,"line":138},"start":{"column":4,"line":138}},{"end":{"column":4,"line":138},"start":{"column":4,"line":138}}],"type":"if"},"13":{"line":138,"locations":[{"end":{"column":27,"line":138},"start":{"column":10,"line":138}},{"end":{"column":77,"line":138},"start":{"column":31,"line":138}}],"type":"binary-expr"},"14":{"line":141,"locations":[{"end":{"column":4,"line":141},"start":{"column":4,"line":141}},{"end":{"column":4,"line":141},"start":{"column":4,"line":141}}],"type":"if"},"15":{"line":145,"locations":[{"end":{"column":4,"line":145},"start":{"column":4,"line":145}},{"end":{"column":4,"line":145},"start":{"column":4,"line":145}}],"type":"if"},"16":{"line":147,"locations":[{"end":{"column":6,"line":147},"start":{"column":6,"line":147}},{"end":{"column":6,"line":147},"start":{"column":6,"line":147}}],"type":"if"},"17":{"line":160,"locations":[{"end":{"column":54,"line":160},"start":{"column":37,"line":160}},{"end":{"column":104,"line":160},"start":{"column":58,"line":160}}],"type":"binary-expr"},"18":{"line":164,"locations":[{"end":{"column":44,"line":164},"start":{"column":32,"line":164}},{"end":{"column":75,"line":164},"start":{"column":48,"line":164}}],"type":"binary-expr"},"19":{"line":167,"locations":[{"end":{"column":47,"line":167},"start":{"column":33,"line":167}},{"end":{"column":120,"line":167},"start":{"column":51,"line":167}}],"type":"binary-expr"},"20":{"line":181,"locations":[{"end":{"column":63,"line":181},"start":{"column":55,"line":181}},{"end":{"column":72,"line":181},"start":{"column":66,"line":181}}],"type":"cond-expr"}},"code":["var CONTINUE_CHECKS, CONTROLS, CONTROLS_TEXT, CardBody, ExContinueButton, ExMode, ExReviewControls, ExerciseDefaultFooter, ExerciseGroup, ExerciseStepCard, ON_CHANGE, React, _, classnames, keymaster, propTypes, props, ref, ref1;","","React = require('react/addons');","","_ = require('underscore');","","classnames = require('classnames');","","keymaster = require('keymaster');","","ExerciseGroup = require('./group');","","CardBody = require('../pinned-header-footer-card/sections').CardBody;","","ref = require('./controls'), ExContinueButton = ref.ExContinueButton, ExReviewControls = ref.ExReviewControls;","","ExMode = require('./mode').ExMode;","","ref1 = require('./props'), propTypes = ref1.propTypes, props = ref1.props;","","CONTROLS = {","  'free-response': ExContinueButton,","  'multiple-choice': ExContinueButton,","  'review': ExReviewControls,","  'teacher-read-only': ExContinueButton","};","","CONTROLS_TEXT = {","  'free-response': 'Answer',","  'multiple-choice': 'Submit',","  'review': 'Next Question',","  'teacher-read-only': 'Next Question'","};","","CONTINUE_CHECKS = {","  'free-response': 'freeResponse',","  'multiple-choice': 'answerId',","  'review': null,","  'teacher-read-only': null","};","","ON_CHANGE = {","  'free-response': 'onFreeResponseChange',","  'multiple-choice': 'onAnswerChanged',","  'review': 'onChangeAnswerAttempt',","  'teacher-read-only': 'onChangeAnswerAttempt'","};","","ExerciseDefaultFooter = React.createClass({","  displayName: 'ExerciseDefaultFooter',","  render: function() {","    return React.createElement(\"div\", null, this.props.controlButtons);","  }","});","","ExerciseStepCard = React.createClass({","  displayName: 'ExerciseStepCard',","  propTypes: propTypes.ExerciseStepCard,","  getDefaultProps: function() {","    return {","      disabled: false,","      isContinueEnabled: true,","      footer: React.createElement(ExerciseDefaultFooter, null),","      allowKeyNext: false","    };","  },","  getInitialState: function() {","    var stepState;","    return stepState = this.getStepState(this.props);","  },","  shouldComponentUpdate: function(nextProps, nextState) {","    return !(_.isEqual(this.props, nextProps) && this.props.isContinueEnabled === this.isContinueEnabled(this.props, this.state) && this.isContinueEnabled(this.props, this.state) === this.isContinueEnabled(nextProps, nextState));","  },","  componentWillReceiveProps: function(nextProps) {","    var nextStepState;","    if (!_.isEqual(this.getStepState(this.props), this.getStepState(nextProps))) {","      nextStepState = this.getStepState(nextProps);","      this.setState(nextStepState);","    }","    if (this.props.allowKeyNext !== nextProps.allowKeyNext) {","      return this.updateKeyBind(nextProps.allowKeyNext);","    }","  },","  updateKeyBind: function(allowKeyNext) {","    if (allowKeyNext) {","      return this.startKeys();","    } else {","      return this.clearKeys();","    }","  },","  startKeys: function() {","    keymaster('enter', 'multiple-choice', this.onContinue);","    return keymaster.setScope('multiple-choice');","  },","  clearKeys: function() {","    keymaster.unbind('enter', 'multiple-choice');","    return keymaster.deleteScope('multiple-choice');","  },","  getStepState: function(props) {","    var step;","    step = props.step;","    return {","      freeResponse: step.free_response || '',","      answerId: step.answer_id || ''","    };","  },","  isContinueEnabled: function(props, state) {","    var panel, ref2, toCheck;","    panel = props.panel;","    toCheck = CONTINUE_CHECKS[panel];","    if (toCheck == null) {","      return true;","    }","    return ((ref2 = state[toCheck]) != null ? ref2.trim().length : void 0) > 0;","  },","  onAnswerChanged: function(answer) {","    var base;","    this.setState({","      answerId: answer.id","    });","    return typeof (base = this.props).onAnswerChanged === \"function\" ? base.onAnswerChanged(answer) : void 0;","  },","  onFreeResponseChange: function(freeResponse) {","    var base;","    this.setState({","      freeResponse: freeResponse","    });","    return typeof (base = this.props).onFreeResponseChange === \"function\" ? base.onFreeResponseChange(freeResponse) : void 0;","  },","  onChangeAnswerAttempt: function(answer) {","    var base;","    console.log('You cannot change an answer on a problem you\\'ve reviewed.', 'TODO: show warning in ui.');","    return typeof (base = this.props).onChangeAnswerAttempt === \"function\" ? base.onChangeAnswerAttempt(answer) : void 0;","  },","  onContinue: function() {","    var canReview, isContinueEnabled, onContinue, onNextStep, onStepCompleted, panel, ref2;","    ref2 = this.props, panel = ref2.panel, canReview = ref2.canReview, onNextStep = ref2.onNextStep, onStepCompleted = ref2.onStepCompleted, onContinue = ref2.onContinue, isContinueEnabled = ref2.isContinueEnabled;","    if (!(isContinueEnabled && this.isContinueEnabled(this.props, this.state))) {","      return;","    }","    if (onContinue != null) {","      onContinue(this.state);","      return;","    }","    if (panel === 'multiple-choice') {","      onStepCompleted();","      if (!canReview) {","        return onNextStep();","      }","    }","  },","  render: function() {","    var ControlButtons, cardClasses, className, controlButtons, controlProps, controlText, footer, footerProps, group, isContinueEnabled, onInputChange, panel, panelProps, pinned, ref2, ref3, related_content, step, waitingText;","    ref2 = this.props, step = ref2.step, panel = ref2.panel, pinned = ref2.pinned, isContinueEnabled = ref2.isContinueEnabled, waitingText = ref2.waitingText, controlButtons = ref2.controlButtons, className = ref2.className, footer = ref2.footer;","    group = step.group, related_content = step.related_content;","    ControlButtons = CONTROLS[panel];","    onInputChange = ON_CHANGE[panel];","    controlText = CONTROLS_TEXT[panel];","    controlProps = _.pick(this.props, props.ExReviewControls);","    controlProps.isContinueEnabled = isContinueEnabled && this.isContinueEnabled(this.props, this.state);","    controlProps.onContinue = this.onContinue;","    controlProps.children = controlText;","    panelProps = _.omit(this.props, props.notPanel);","    panelProps.choicesEnabled = !waitingText && panel === 'multiple-choice';","    panelProps[onInputChange] = this[onInputChange];","    footerProps = _.pick(this.props, props.StepFooter);","    footerProps.controlButtons = controlButtons || React.createElement(ControlButtons, React.__spread({}, controlProps));","    footer = React.addons.cloneWithProps(footer, footerProps);","    cardClasses = classnames('task-step', 'openstax-exercise-card', className);","    return React.createElement(CardBody, {","      \"className\": cardClasses,","      \"footer\": footer,","      \"pinned\": pinned","    }, React.createElement(\"div\", {","      \"className\": \"exercise-\" + panel","    }, React.createElement(ExMode, React.__spread({}, step, panelProps, {","      \"mode\": panel","    })), React.createElement(ExerciseGroup, {","      \"key\": 'step-exercise-group',","      \"group\": group,","      \"exercise_uid\": ((ref3 = step.content) != null ? ref3.uid : void 0),","      \"related_content\": related_content","    })));","  }","});","","module.exports = ExerciseStepCard;",""],"f":{"1":0,"2":21,"3":1,"4":2,"5":2,"6":0,"7":0,"8":0,"9":5,"10":3,"11":0,"12":0,"13":0,"14":0,"15":3},"fnMap":{"1":{"line":51,"loc":{"end":{"column":21,"line":51},"start":{"column":10,"line":51}},"name":"(anonymous_1)"},"2":{"line":59,"loc":{"end":{"column":30,"line":59},"start":{"column":19,"line":59}},"name":"(anonymous_2)"},"3":{"line":67,"loc":{"end":{"column":30,"line":67},"start":{"column":19,"line":67}},"name":"(anonymous_3)"},"4":{"line":71,"loc":{"end":{"column":56,"line":71},"start":{"column":25,"line":71}},"name":"(anonymous_4)"},"5":{"line":74,"loc":{"end":{"column":49,"line":74},"start":{"column":29,"line":74}},"name":"(anonymous_5)"},"6":{"line":84,"loc":{"end":{"column":40,"line":84},"start":{"column":17,"line":84}},"name":"(anonymous_6)"},"7":{"line":91,"loc":{"end":{"column":24,"line":91},"start":{"column":13,"line":91}},"name":"(anonymous_7)"},"8":{"line":95,"loc":{"end":{"column":24,"line":95},"start":{"column":13,"line":95}},"name":"(anonymous_8)"},"9":{"line":99,"loc":{"end":{"column":32,"line":99},"start":{"column":16,"line":99}},"name":"(anonymous_9)"},"10":{"line":107,"loc":{"end":{"column":44,"line":107},"start":{"column":21,"line":107}},"name":"(anonymous_10)"},"11":{"line":116,"loc":{"end":{"column":36,"line":116},"start":{"column":19,"line":116}},"name":"(anonymous_11)"},"12":{"line":123,"loc":{"end":{"column":47,"line":123},"start":{"column":24,"line":123}},"name":"(anonymous_12)"},"13":{"line":130,"loc":{"end":{"column":42,"line":130},"start":{"column":25,"line":130}},"name":"(anonymous_13)"},"14":{"line":135,"loc":{"end":{"column":25,"line":135},"start":{"column":14,"line":135}},"name":"(anonymous_14)"},"15":{"line":152,"loc":{"end":{"column":21,"line":152},"start":{"column":10,"line":152}},"name":"(anonymous_15)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/exercise/step-card.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":0,"17":21,"18":21,"19":1,"20":1,"21":2,"22":2,"23":2,"24":0,"25":0,"26":2,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":5,"36":5,"37":5,"38":3,"39":3,"40":3,"41":3,"42":3,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":3,"65":3,"66":3,"67":3,"68":3,"69":3,"70":3,"71":3,"72":3,"73":3,"74":3,"75":3,"76":3,"77":3,"78":3,"79":3,"80":3,"81":3,"82":21},"statementMap":{"1":{"end":{"column":228,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":32,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":35,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":69,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":110,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":34,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":74,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":2,"line":26},"start":{"column":0,"line":21}},"12":{"end":{"column":2,"line":33},"start":{"column":0,"line":28}},"13":{"end":{"column":2,"line":40},"start":{"column":0,"line":35}},"14":{"end":{"column":2,"line":47},"start":{"column":0,"line":42}},"15":{"end":{"column":3,"line":54},"start":{"column":0,"line":49}},"16":{"end":{"column":71,"line":52},"start":{"column":4,"line":52}},"17":{"end":{"column":3,"line":185},"start":{"column":0,"line":56}},"18":{"end":{"column":6,"line":65},"start":{"column":4,"line":60}},"19":{"end":{"column":18,"line":68},"start":{"column":4,"line":68}},"20":{"end":{"column":53,"line":69},"start":{"column":4,"line":69}},"21":{"end":{"column":229,"line":72},"start":{"column":4,"line":72}},"22":{"end":{"column":22,"line":75},"start":{"column":4,"line":75}},"23":{"end":{"column":5,"line":79},"start":{"column":4,"line":76}},"24":{"end":{"column":51,"line":77},"start":{"column":6,"line":77}},"25":{"end":{"column":35,"line":78},"start":{"column":6,"line":78}},"26":{"end":{"column":5,"line":82},"start":{"column":4,"line":80}},"27":{"end":{"column":56,"line":81},"start":{"column":6,"line":81}},"28":{"end":{"column":5,"line":89},"start":{"column":4,"line":85}},"29":{"end":{"column":30,"line":86},"start":{"column":6,"line":86}},"30":{"end":{"column":30,"line":88},"start":{"column":6,"line":88}},"31":{"end":{"column":59,"line":92},"start":{"column":4,"line":92}},"32":{"end":{"column":49,"line":93},"start":{"column":4,"line":93}},"33":{"end":{"column":49,"line":96},"start":{"column":4,"line":96}},"34":{"end":{"column":52,"line":97},"start":{"column":4,"line":97}},"35":{"end":{"column":13,"line":100},"start":{"column":4,"line":100}},"36":{"end":{"column":22,"line":101},"start":{"column":4,"line":101}},"37":{"end":{"column":6,"line":105},"start":{"column":4,"line":102}},"38":{"end":{"column":29,"line":108},"start":{"column":4,"line":108}},"39":{"end":{"column":24,"line":109},"start":{"column":4,"line":109}},"40":{"end":{"column":37,"line":110},"start":{"column":4,"line":110}},"41":{"end":{"column":5,"line":113},"start":{"column":4,"line":111}},"42":{"end":{"column":18,"line":112},"start":{"column":6,"line":112}},"43":{"end":{"column":79,"line":114},"start":{"column":4,"line":114}},"44":{"end":{"column":13,"line":117},"start":{"column":4,"line":117}},"45":{"end":{"column":7,"line":120},"start":{"column":4,"line":118}},"46":{"end":{"column":109,"line":121},"start":{"column":4,"line":121}},"47":{"end":{"column":13,"line":124},"start":{"column":4,"line":124}},"48":{"end":{"column":7,"line":127},"start":{"column":4,"line":125}},"49":{"end":{"column":125,"line":128},"start":{"column":4,"line":128}},"50":{"end":{"column":13,"line":131},"start":{"column":4,"line":131}},"51":{"end":{"column":107,"line":132},"start":{"column":4,"line":132}},"52":{"end":{"column":121,"line":133},"start":{"column":4,"line":133}},"53":{"end":{"column":91,"line":136},"start":{"column":4,"line":136}},"54":{"end":{"column":214,"line":137},"start":{"column":4,"line":137}},"55":{"end":{"column":5,"line":140},"start":{"column":4,"line":138}},"56":{"end":{"column":13,"line":139},"start":{"column":6,"line":139}},"57":{"end":{"column":5,"line":144},"start":{"column":4,"line":141}},"58":{"end":{"column":29,"line":142},"start":{"column":6,"line":142}},"59":{"end":{"column":13,"line":143},"start":{"column":6,"line":143}},"60":{"end":{"column":5,"line":150},"start":{"column":4,"line":145}},"61":{"end":{"column":24,"line":146},"start":{"column":6,"line":146}},"62":{"end":{"column":7,"line":149},"start":{"column":6,"line":147}},"63":{"end":{"column":28,"line":148},"start":{"column":8,"line":148}},"64":{"end":{"column":227,"line":153},"start":{"column":4,"line":153}},"65":{"end":{"column":246,"line":154},"start":{"column":4,"line":154}},"66":{"end":{"column":63,"line":155},"start":{"column":4,"line":155}},"67":{"end":{"column":37,"line":156},"start":{"column":4,"line":156}},"68":{"end":{"column":37,"line":157},"start":{"column":4,"line":157}},"69":{"end":{"column":39,"line":158},"start":{"column":4,"line":158}},"70":{"end":{"column":62,"line":159},"start":{"column":4,"line":159}},"71":{"end":{"column":105,"line":160},"start":{"column":4,"line":160}},"72":{"end":{"column":46,"line":161},"start":{"column":4,"line":161}},"73":{"end":{"column":40,"line":162},"start":{"column":4,"line":162}},"74":{"end":{"column":52,"line":163},"start":{"column":4,"line":163}},"75":{"end":{"column":76,"line":164},"start":{"column":4,"line":164}},"76":{"end":{"column":52,"line":165},"start":{"column":4,"line":165}},"77":{"end":{"column":55,"line":166},"start":{"column":4,"line":166}},"78":{"end":{"column":121,"line":167},"start":{"column":4,"line":167}},"79":{"end":{"column":62,"line":168},"start":{"column":4,"line":168}},"80":{"end":{"column":79,"line":169},"start":{"column":4,"line":169}},"81":{"end":{"column":9,"line":183},"start":{"column":4,"line":170}},"82":{"end":{"column":34,"line":187},"start":{"column":0,"line":187}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"28":21,"35":21,"42":21,"49":21,"52":0,"56":21,"60":21,"68":1,"69":1,"72":2,"75":2,"76":2,"77":0,"78":0,"80":2,"81":0,"85":0,"86":0,"88":0,"92":0,"93":0,"96":0,"97":0,"100":5,"101":5,"102":5,"108":3,"109":3,"110":3,"111":3,"112":3,"114":0,"117":0,"118":0,"121":0,"124":0,"125":0,"128":0,"131":0,"132":0,"133":0,"136":0,"137":0,"138":0,"139":0,"141":0,"142":0,"143":0,"145":0,"146":0,"147":0,"148":0,"153":3,"154":3,"155":3,"156":3,"157":3,"158":3,"159":3,"160":3,"161":3,"162":3,"163":3,"164":3,"165":3,"166":3,"167":3,"168":3,"169":3,"170":3,"187":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/get-position-mixin.cjsx":{"b":{},"branchMap":{},"code":["module.exports = {","  getTopPosition: function(el) {","    return el.getBoundingClientRect().top - document.body.getBoundingClientRect().top;","  }","};",""],"f":{"1":31},"fnMap":{"1":{"line":2,"loc":{"end":{"column":31,"line":2},"start":{"column":18,"line":2}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/get-position-mixin.cjsx","s":{"1":21,"2":31},"statementMap":{"1":{"end":{"column":2,"line":5},"start":{"column":0,"line":1}},"2":{"end":{"column":86,"line":3},"start":{"column":4,"line":3}}},"l":{"1":21,"3":31}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/html.cjsx":{"b":{"1":[30,113],"2":[142,1],"3":[0,2764],"4":[1,0],"5":[1,0],"6":[143,143],"7":[0,143]},"branchMap":{"1":{"line":29,"locations":[{"end":{"column":4,"line":29},"start":{"column":4,"line":29}},{"end":{"column":4,"line":29},"start":{"column":4,"line":29}}],"type":"if"},"2":{"line":44,"locations":[{"end":{"column":4,"line":44},"start":{"column":4,"line":44}},{"end":{"column":4,"line":44},"start":{"column":4,"line":44}}],"type":"if"},"3":{"line":54,"locations":[{"end":{"column":6,"line":54},"start":{"column":6,"line":54}},{"end":{"column":6,"line":54},"start":{"column":6,"line":54}}],"type":"if"},"4":{"line":72,"locations":[{"end":{"column":6,"line":72},"start":{"column":6,"line":72}},{"end":{"column":6,"line":72},"start":{"column":6,"line":72}}],"type":"if"},"5":{"line":72,"locations":[{"end":{"column":61,"line":72},"start":{"column":55,"line":72}},{"end":{"column":70,"line":72},"start":{"column":64,"line":72}}],"type":"cond-expr"},"6":{"line":76,"locations":[{"end":{"column":113,"line":76},"start":{"column":12,"line":76}},{"end":{"column":135,"line":76},"start":{"column":118,"line":76}}],"type":"binary-expr"},"7":{"line":76,"locations":[{"end":{"column":104,"line":76},"start":{"column":75,"line":76}},{"end":{"column":113,"line":76},"start":{"column":107,"line":76}}],"type":"cond-expr"}},"code":["var React, _, classnames, typesetMath;","","React = require('react');","","_ = require('underscore');","","classnames = require('classnames');","","typesetMath = require('../helpers/mathjax').typesetMath;","","module.exports = React.createClass({","  displayName: 'ArbitraryHtmlAndMath',","  propTypes: {","    className: React.PropTypes.string,","    html: React.PropTypes.string,","    block: React.PropTypes.bool.isRequired,","    processHtmlAndMath: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      block: false","    };","  },","  render: function() {","    var block, className, classes, otherProps, ref;","    ref = this.props, className = ref.className, block = ref.block;","    classes = classnames('openstax-has-html', className);","    otherProps = _.omit(this.props, 'className', 'block', 'html');","    if (block) {","      return React.createElement(\"div\", React.__spread({}, otherProps, {","        \"className\": classes,","        \"dangerouslySetInnerHTML\": this.getHTMLFromProp()","      }));","    } else {","      return React.createElement(\"span\", React.__spread({}, otherProps, {","        \"className\": classes,","        \"dangerouslySetInnerHTML\": this.getHTMLFromProp()","      }));","    }","  },","  getHTMLFromProp: function() {","    var html;","    html = this.props.html;","    if (html) {","      return {","        __html: html","      };","    }","  },","  shouldComponentUpdate: function(nextProps, nextState) {","    var propName, value;","    for (propName in nextProps) {","      value = nextProps[propName];","      if (this.props[propName] !== value) {","        return true;","      }","    }","    return false;","  },","  componentDidMount: function() {","    return this.updateDOMNode();","  },","  componentDidUpdate: function() {","    return this.updateDOMNode();","  },","  updateDOMNode: function() {","    var base, links, root;","    root = this.getDOMNode();","    links = root.querySelectorAll('a');","    _.each(links, function(link) {","      var ref;","      if (((ref = link.getAttribute('href')) != null ? ref[0] : void 0) !== '#') {","        return link.setAttribute('target', '_blank');","      }","    });","    return (typeof (base = this.props).processHtmlAndMath === \"function\" ? base.processHtmlAndMath(root) : void 0) || typesetMath(root);","  }","});",""],"f":{"1":21,"2":143,"3":143,"4":691,"5":143,"6":0,"7":143,"8":1},"fnMap":{"1":{"line":19,"loc":{"end":{"column":30,"line":19},"start":{"column":19,"line":19}},"name":"(anonymous_1)"},"2":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_2)"},"3":{"line":41,"loc":{"end":{"column":30,"line":41},"start":{"column":19,"line":41}},"name":"(anonymous_3)"},"4":{"line":50,"loc":{"end":{"column":56,"line":50},"start":{"column":25,"line":50}},"name":"(anonymous_4)"},"5":{"line":60,"loc":{"end":{"column":32,"line":60},"start":{"column":21,"line":60}},"name":"(anonymous_5)"},"6":{"line":63,"loc":{"end":{"column":33,"line":63},"start":{"column":22,"line":63}},"name":"(anonymous_6)"},"7":{"line":66,"loc":{"end":{"column":28,"line":66},"start":{"column":17,"line":66}},"name":"(anonymous_7)"},"8":{"line":70,"loc":{"end":{"column":33,"line":70},"start":{"column":18,"line":70}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/html.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":143,"9":143,"10":143,"11":143,"12":143,"13":30,"14":113,"15":143,"16":143,"17":143,"18":142,"19":691,"20":691,"21":2764,"22":2764,"23":0,"24":691,"25":143,"26":0,"27":143,"28":143,"29":143,"30":143,"31":1,"32":1,"33":1,"34":143},"statementMap":{"1":{"end":{"column":38,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":56,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":78},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":22},"start":{"column":4,"line":20}},"8":{"end":{"column":51,"line":25},"start":{"column":4,"line":25}},"9":{"end":{"column":67,"line":26},"start":{"column":4,"line":26}},"10":{"end":{"column":57,"line":27},"start":{"column":4,"line":27}},"11":{"end":{"column":66,"line":28},"start":{"column":4,"line":28}},"12":{"end":{"column":5,"line":39},"start":{"column":4,"line":29}},"13":{"end":{"column":10,"line":33},"start":{"column":6,"line":30}},"14":{"end":{"column":10,"line":38},"start":{"column":6,"line":35}},"15":{"end":{"column":13,"line":42},"start":{"column":4,"line":42}},"16":{"end":{"column":27,"line":43},"start":{"column":4,"line":43}},"17":{"end":{"column":5,"line":48},"start":{"column":4,"line":44}},"18":{"end":{"column":8,"line":47},"start":{"column":6,"line":45}},"19":{"end":{"column":24,"line":51},"start":{"column":4,"line":51}},"20":{"end":{"column":5,"line":57},"start":{"column":4,"line":52}},"21":{"end":{"column":34,"line":53},"start":{"column":6,"line":53}},"22":{"end":{"column":7,"line":56},"start":{"column":6,"line":54}},"23":{"end":{"column":20,"line":55},"start":{"column":8,"line":55}},"24":{"end":{"column":17,"line":58},"start":{"column":4,"line":58}},"25":{"end":{"column":32,"line":61},"start":{"column":4,"line":61}},"26":{"end":{"column":32,"line":64},"start":{"column":4,"line":64}},"27":{"end":{"column":26,"line":67},"start":{"column":4,"line":67}},"28":{"end":{"column":29,"line":68},"start":{"column":4,"line":68}},"29":{"end":{"column":39,"line":69},"start":{"column":4,"line":69}},"30":{"end":{"column":7,"line":75},"start":{"column":4,"line":70}},"31":{"end":{"column":14,"line":71},"start":{"column":6,"line":71}},"32":{"end":{"column":7,"line":74},"start":{"column":6,"line":72}},"33":{"end":{"column":53,"line":73},"start":{"column":8,"line":73}},"34":{"end":{"column":136,"line":76},"start":{"column":4,"line":76}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"20":21,"25":143,"26":143,"27":143,"28":143,"29":143,"30":30,"35":113,"42":143,"43":143,"44":143,"45":142,"51":691,"52":691,"53":2764,"54":2764,"55":0,"58":691,"61":143,"64":0,"67":143,"68":143,"69":143,"70":143,"71":1,"72":1,"73":1,"76":143}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/pinned-header-footer-card/index.cjsx":{"b":{"1":[2,2],"2":[4,0],"3":[0,0],"4":[32,15],"5":[4,11],"6":[9,2],"7":[14,14],"8":[31,16],"9":[47,16],"10":[31,16],"11":[4,0],"12":[0,4],"13":[4,0],"14":[14,0],"15":[0,14],"16":[33,0],"17":[0,33],"18":[10,23],"19":[33,29],"20":[10,23],"21":[33,25],"22":[0,8],"23":[37,0],"24":[33,4],"25":[23,14]},"branchMap":{"1":{"line":49,"locations":[{"end":{"column":4,"line":49},"start":{"column":4,"line":49}},{"end":{"column":4,"line":49},"start":{"column":4,"line":49}}],"type":"if"},"2":{"line":58,"locations":[{"end":{"column":4,"line":58},"start":{"column":4,"line":58}},{"end":{"column":4,"line":58},"start":{"column":4,"line":58}}],"type":"if"},"3":{"line":60,"locations":[{"end":{"column":11,"line":60},"start":{"column":11,"line":60}},{"end":{"column":11,"line":60},"start":{"column":11,"line":60}}],"type":"if"},"4":{"line":86,"locations":[{"end":{"column":4,"line":86},"start":{"column":4,"line":86}},{"end":{"column":4,"line":86},"start":{"column":4,"line":86}}],"type":"if"},"5":{"line":88,"locations":[{"end":{"column":11,"line":88},"start":{"column":11,"line":88}},{"end":{"column":11,"line":88},"start":{"column":11,"line":88}}],"type":"if"},"6":{"line":90,"locations":[{"end":{"column":11,"line":90},"start":{"column":11,"line":90}},{"end":{"column":11,"line":90},"start":{"column":11,"line":90}}],"type":"if"},"7":{"line":101,"locations":[{"end":{"column":33,"line":101},"start":{"column":11,"line":101}},{"end":{"column":90,"line":101},"start":{"column":37,"line":101}}],"type":"binary-expr"},"8":{"line":120,"locations":[{"end":{"column":66,"line":120},"start":{"column":49,"line":120}},{"end":{"column":75,"line":120},"start":{"column":69,"line":120}}],"type":"cond-expr"},"9":{"line":121,"locations":[{"end":{"column":72,"line":121},"start":{"column":27,"line":121}},{"end":{"column":78,"line":121},"start":{"column":77,"line":121}}],"type":"binary-expr"},"10":{"line":121,"locations":[{"end":{"column":63,"line":121},"start":{"column":44,"line":121}},{"end":{"column":72,"line":121},"start":{"column":66,"line":121}}],"type":"cond-expr"},"11":{"line":125,"locations":[{"end":{"column":72,"line":125},"start":{"column":55,"line":125}},{"end":{"column":81,"line":125},"start":{"column":75,"line":125}}],"type":"cond-expr"},"12":{"line":126,"locations":[{"end":{"column":4,"line":126},"start":{"column":4,"line":126}},{"end":{"column":4,"line":126},"start":{"column":4,"line":126}}],"type":"if"},"13":{"line":129,"locations":[{"end":{"column":4,"line":129},"start":{"column":4,"line":129}},{"end":{"column":4,"line":129},"start":{"column":4,"line":129}}],"type":"if"},"14":{"line":138,"locations":[{"end":{"column":72,"line":138},"start":{"column":55,"line":138}},{"end":{"column":81,"line":138},"start":{"column":75,"line":138}}],"type":"cond-expr"},"15":{"line":139,"locations":[{"end":{"column":4,"line":139},"start":{"column":4,"line":139}},{"end":{"column":4,"line":139},"start":{"column":4,"line":139}}],"type":"if"},"16":{"line":157,"locations":[{"end":{"column":41,"line":157},"start":{"column":23,"line":157}},{"end":{"column":87,"line":157},"start":{"column":46,"line":157}}],"type":"binary-expr"},"17":{"line":161,"locations":[{"end":{"column":4,"line":161},"start":{"column":4,"line":161}},{"end":{"column":4,"line":161},"start":{"column":4,"line":161}}],"type":"if"},"18":{"line":164,"locations":[{"end":{"column":4,"line":164},"start":{"column":4,"line":164}},{"end":{"column":4,"line":164},"start":{"column":4,"line":164}}],"type":"if"},"19":{"line":164,"locations":[{"end":{"column":26,"line":164},"start":{"column":8,"line":164}},{"end":{"column":50,"line":164},"start":{"column":30,"line":164}}],"type":"binary-expr"},"20":{"line":167,"locations":[{"end":{"column":4,"line":167},"start":{"column":4,"line":167}},{"end":{"column":4,"line":167},"start":{"column":4,"line":167}}],"type":"if"},"21":{"line":167,"locations":[{"end":{"column":29,"line":167},"start":{"column":8,"line":167}},{"end":{"column":51,"line":167},"start":{"column":33,"line":167}}],"type":"binary-expr"},"22":{"line":172,"locations":[{"end":{"column":4,"line":172},"start":{"column":4,"line":172}},{"end":{"column":4,"line":172},"start":{"column":4,"line":172}}],"type":"if"},"23":{"line":180,"locations":[{"end":{"column":4,"line":180},"start":{"column":4,"line":180}},{"end":{"column":4,"line":180},"start":{"column":4,"line":180}}],"type":"if"},"24":{"line":185,"locations":[{"end":{"column":4,"line":185},"start":{"column":4,"line":185}},{"end":{"column":4,"line":185},"start":{"column":4,"line":185}}],"type":"if"},"25":{"line":194,"locations":[{"end":{"column":4,"line":194},"start":{"column":4,"line":194}},{"end":{"column":4,"line":194},"start":{"column":4,"line":194}}],"type":"if"}},"code":["var CardBody, GetPositionMixin, PinnableFooter, PinnedHeader, React, ResizeListenerMixin, ScrollListenerMixin, _, ref;","","React = require('react');","","_ = require('underscore');","","ScrollListenerMixin = require('react-scroll-components').ScrollListenerMixin;","","ResizeListenerMixin = require('../resize-listener-mixin');","","GetPositionMixin = require('../get-position-mixin');","","ref = require('./sections'), PinnedHeader = ref.PinnedHeader, CardBody = ref.CardBody, PinnableFooter = ref.PinnableFooter;","","module.exports = React.createClass({","  displayName: 'PinnedHeaderFooterCard',","  propTypes: {","    cardType: React.PropTypes.string.isRequired,","    buffer: React.PropTypes.number,","    scrollSpeedBuffer: React.PropTypes.number,","    forceShy: React.PropTypes.bool,","    containerBuffer: React.PropTypes.number","  },","  getDefaultProps: function() {","    return {","      buffer: 60,","      scrollSpeedBuffer: 30,","      forceShy: false,","      containerBuffer: 30","    };","  },","  getInitialState: function() {","    return {","      offset: 0,","      shy: false,","      pinned: false,","      shouldBeShy: false,","      headerHeight: 0,","      containerMarginTop: '0px'","    };","  },","  mixins: [ScrollListenerMixin, ResizeListenerMixin, GetPositionMixin],","  componentWillMount: function() {","    var cardBodyClass;","    this.previousBodyClasses = document.body.className;","    cardBodyClass = this.props.cardType;","    document.body.className = cardBodyClass + \"-view\";","    document.body.classList.add('pinned-view');","    if (this.props.forceShy) {","      return document.body.classList.add('pinned-force-shy');","    }","  },","  componentWillUnmount: function() {","    return document.body.className = this.previousBodyClasses;","  },","  getOffset: function() {","    var offset;","    if (this.props.fixedOffset != null) {","      offset = this.props.fixedOffset;","    } else if (this.refs.header != null) {","      offset = this.getTopPosition(this.refs.header.getDOMNode());","    }","    return offset;","  },","  setOffset: function() {","    var offset;","    offset = this.getOffset();","    return this.setState({","      offset: offset","    });","  },","  shouldPinHeader: function(prevScrollTop, currentScrollTop) {","    return currentScrollTop >= this.state.offset - this.props.buffer;","  },","  isScrollingSlowed: function(prevScrollTop, currentScrollTop) {","    return Math.abs(prevScrollTop - currentScrollTop) <= this.props.scrollSpeedBuffer;","  },","  isScrollingDown: function(prevScrollTop, currentScrollTop) {","    return currentScrollTop > prevScrollTop;","  },","  isScrollPassBuffer: function(prevScrollTop, currentScrollTop) {","    return currentScrollTop >= this.props.buffer + this.state.offset;","  },","  shouldBeShy: function(prevScrollTop, currentScrollTop) {","    var shouldBeShy;","    if (!this.isScrollPassBuffer(prevScrollTop, currentScrollTop)) {","      shouldBeShy = false;","    } else if (this.isScrollingDown(prevScrollTop, currentScrollTop)) {","      shouldBeShy = true;","    } else if (this.isScrollingSlowed(prevScrollTop, currentScrollTop)) {","      shouldBeShy = this.state.shy;","    } else {","      shouldBeShy = false;","    }","    return shouldBeShy;","  },","  updatePinState: function(prevScrollTop) {","    var addOrRemove, pinnedClassAction, shouldBeShy, shouldPinHeader, shyClassAction;","    addOrRemove = ['remove', 'add'];","    this.setState({","      shy: this.state.shouldBeShy || this.shouldBeShy(prevScrollTop, this.state.scrollTop),","      pinned: this.shouldPinHeader(prevScrollTop, this.state.scrollTop),","      shouldBeShy: false","    });","    shouldPinHeader = this.state.pinned * 1;","    shouldBeShy = this.state.shy * 1;","    pinnedClassAction = addOrRemove[shouldPinHeader];","    document.body.classList[pinnedClassAction]('pinned-on');","    shyClassAction = addOrRemove[shouldBeShy];","    return document.body.classList[shyClassAction]('pinned-shy');","  },","  forceShy: function() {","    window.scroll(0, this.props.buffer + this.state.offset);","    return this.setState({","      shouldBeShy: true","    });","  },","  getHeaderHeight: function() {","    var header, headerHeight, ref1;","    header = (ref1 = this.refs.header) != null ? ref1.getDOMNode() : void 0;","    return headerHeight = (header != null ? header.offsetHeight : void 0) || 0;","  },","  setOriginalContainerMargin: function() {","    var container, ref1;","    container = (ref1 = this.refs.container) != null ? ref1.getDOMNode() : void 0;","    if (!container) {","      return;","    }","    if (window.getComputedStyle != null) {","      return this.setState({","        containerMarginTop: window.getComputedStyle(container).marginTop","      });","    }","  },","  setContainerMargin: function() {","    var container, headerHeight, ref1;","    headerHeight = this.getHeaderHeight();","    container = (ref1 = this.refs.container) != null ? ref1.getDOMNode() : void 0;","    if (!container) {","      return;","    }","    return this.setState({","      headerHeight: headerHeight","    });","  },","  _resizeListener: function() {","    return this.setContainerMargin();","  },","  componentDidMount: function() {","    this.setOffset();","    this.updatePinState(0);","    this.setOriginalContainerMargin();","    return this.setContainerMargin();","  },","  componentDidUpdate: function(prevProps, prevState) {","    var didHeaderHeightChange, didOffsetChange, didShouldBeShyChange, didShouldPinChange;","    didOffsetChange = (!this.state.pinned) && !(this.state.offset === this.getOffset());","    didShouldPinChange = !prevState.pinned === this.shouldPinHeader(prevState.scrollTop, this.state.scrollTop);","    didShouldBeShyChange = !prevState.shy === this.shouldBeShy(prevState.scrollTop, this.state.scrollTop);","    didHeaderHeightChange = !(prevState.headerHeight === this.getHeaderHeight());","    if (didOffsetChange) {","      this.setOffset();","    }","    if (didShouldPinChange || didShouldBeShyChange) {","      this.updatePinState(prevState.scrollTop);","    }","    if (didHeaderHeightChange || didShouldPinChange) {","      return this.setContainerMargin();","    }","  },","  componentWillReceiveProps: function() {","    if (this.props.forceShy) {","      return this.forceShy();","    }","  },","  render: function() {","    var childrenProps, className, classes, containerStyle, pinnedHeader;","    className = this.props.className;","    classes = ['pinned-container'];","    if (className != null) {","      classes.push(className);","    }","    classes = classes.join(' ');","    childrenProps = _.omit(this.props, 'children', 'header', 'footer', 'className');","    if (this.state.pinned) {","      containerStyle = {","        marginTop: (this.state.headerHeight + this.props.containerBuffer) + 'px'","      };","    } else {","      containerStyle = {","        marginTop: this.state.containerMarginTop","      };","    }","    if (this.props.header != null) {","      pinnedHeader = React.createElement(PinnedHeader, React.__spread({}, childrenProps, {","        \"ref\": 'header'","      }), this.props.header);","    }","    return React.createElement(\"div\", {","      \"className\": classes,","      \"style\": containerStyle,","      \"ref\": 'container'","    }, pinnedHeader, this.props.children);","  }","});",""],"f":{"1":21,"2":4,"3":4,"4":4,"5":4,"6":4,"7":47,"8":11,"9":15,"10":47,"11":47,"12":14,"13":0,"14":47,"15":4,"16":14,"17":0,"18":4,"19":33,"20":8,"21":37},"fnMap":{"1":{"line":24,"loc":{"end":{"column":30,"line":24},"start":{"column":19,"line":24}},"name":"(anonymous_1)"},"2":{"line":32,"loc":{"end":{"column":30,"line":32},"start":{"column":19,"line":32}},"name":"(anonymous_2)"},"3":{"line":43,"loc":{"end":{"column":33,"line":43},"start":{"column":22,"line":43}},"name":"(anonymous_3)"},"4":{"line":53,"loc":{"end":{"column":35,"line":53},"start":{"column":24,"line":53}},"name":"(anonymous_4)"},"5":{"line":56,"loc":{"end":{"column":24,"line":56},"start":{"column":13,"line":56}},"name":"(anonymous_5)"},"6":{"line":65,"loc":{"end":{"column":24,"line":65},"start":{"column":13,"line":65}},"name":"(anonymous_6)"},"7":{"line":72,"loc":{"end":{"column":61,"line":72},"start":{"column":19,"line":72}},"name":"(anonymous_7)"},"8":{"line":75,"loc":{"end":{"column":63,"line":75},"start":{"column":21,"line":75}},"name":"(anonymous_8)"},"9":{"line":78,"loc":{"end":{"column":61,"line":78},"start":{"column":19,"line":78}},"name":"(anonymous_9)"},"10":{"line":81,"loc":{"end":{"column":64,"line":81},"start":{"column":22,"line":81}},"name":"(anonymous_10)"},"11":{"line":84,"loc":{"end":{"column":57,"line":84},"start":{"column":15,"line":84}},"name":"(anonymous_11)"},"12":{"line":97,"loc":{"end":{"column":42,"line":97},"start":{"column":18,"line":97}},"name":"(anonymous_12)"},"13":{"line":112,"loc":{"end":{"column":23,"line":112},"start":{"column":12,"line":112}},"name":"(anonymous_13)"},"14":{"line":118,"loc":{"end":{"column":30,"line":118},"start":{"column":19,"line":118}},"name":"(anonymous_14)"},"15":{"line":123,"loc":{"end":{"column":41,"line":123},"start":{"column":30,"line":123}},"name":"(anonymous_15)"},"16":{"line":135,"loc":{"end":{"column":33,"line":135},"start":{"column":22,"line":135}},"name":"(anonymous_16)"},"17":{"line":146,"loc":{"end":{"column":30,"line":146},"start":{"column":19,"line":146}},"name":"(anonymous_17)"},"18":{"line":149,"loc":{"end":{"column":32,"line":149},"start":{"column":21,"line":149}},"name":"(anonymous_18)"},"19":{"line":155,"loc":{"end":{"column":53,"line":155},"start":{"column":22,"line":155}},"name":"(anonymous_19)"},"20":{"line":171,"loc":{"end":{"column":40,"line":171},"start":{"column":29,"line":171}},"name":"(anonymous_20)"},"21":{"line":176,"loc":{"end":{"column":21,"line":176},"start":{"column":10,"line":176}},"name":"(anonymous_21)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/pinned-header-footer-card/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":4,"11":4,"12":4,"13":4,"14":4,"15":4,"16":4,"17":2,"18":4,"19":4,"20":4,"21":4,"22":0,"23":0,"24":4,"25":4,"26":4,"27":4,"28":47,"29":11,"30":15,"31":47,"32":47,"33":47,"34":32,"35":15,"36":4,"37":11,"38":9,"39":2,"40":47,"41":14,"42":14,"43":14,"44":14,"45":14,"46":14,"47":14,"48":14,"49":14,"50":0,"51":0,"52":47,"53":47,"54":47,"55":4,"56":4,"57":4,"58":0,"59":4,"60":4,"61":14,"62":14,"63":14,"64":14,"65":0,"66":14,"67":0,"68":4,"69":4,"70":4,"71":4,"72":33,"73":33,"74":33,"75":33,"76":33,"77":33,"78":0,"79":33,"80":10,"81":33,"82":10,"83":8,"84":0,"85":37,"86":37,"87":37,"88":37,"89":37,"90":37,"91":37,"92":37,"93":33,"94":4,"95":37,"96":23,"97":37},"statementMap":{"1":{"end":{"column":118,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":77,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":58,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":52,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":123,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":205},"start":{"column":0,"line":15}},"9":{"end":{"column":6,"line":30},"start":{"column":4,"line":25}},"10":{"end":{"column":6,"line":40},"start":{"column":4,"line":33}},"11":{"end":{"column":22,"line":44},"start":{"column":4,"line":44}},"12":{"end":{"column":55,"line":45},"start":{"column":4,"line":45}},"13":{"end":{"column":40,"line":46},"start":{"column":4,"line":46}},"14":{"end":{"column":54,"line":47},"start":{"column":4,"line":47}},"15":{"end":{"column":47,"line":48},"start":{"column":4,"line":48}},"16":{"end":{"column":5,"line":51},"start":{"column":4,"line":49}},"17":{"end":{"column":61,"line":50},"start":{"column":6,"line":50}},"18":{"end":{"column":62,"line":54},"start":{"column":4,"line":54}},"19":{"end":{"column":15,"line":57},"start":{"column":4,"line":57}},"20":{"end":{"column":5,"line":62},"start":{"column":4,"line":58}},"21":{"end":{"column":38,"line":59},"start":{"column":6,"line":59}},"22":{"end":{"column":5,"line":62},"start":{"column":11,"line":60}},"23":{"end":{"column":66,"line":61},"start":{"column":6,"line":61}},"24":{"end":{"column":18,"line":63},"start":{"column":4,"line":63}},"25":{"end":{"column":15,"line":66},"start":{"column":4,"line":66}},"26":{"end":{"column":30,"line":67},"start":{"column":4,"line":67}},"27":{"end":{"column":7,"line":70},"start":{"column":4,"line":68}},"28":{"end":{"column":69,"line":73},"start":{"column":4,"line":73}},"29":{"end":{"column":86,"line":76},"start":{"column":4,"line":76}},"30":{"end":{"column":44,"line":79},"start":{"column":4,"line":79}},"31":{"end":{"column":69,"line":82},"start":{"column":4,"line":82}},"32":{"end":{"column":20,"line":85},"start":{"column":4,"line":85}},"33":{"end":{"column":5,"line":94},"start":{"column":4,"line":86}},"34":{"end":{"column":26,"line":87},"start":{"column":6,"line":87}},"35":{"end":{"column":5,"line":94},"start":{"column":11,"line":88}},"36":{"end":{"column":25,"line":89},"start":{"column":6,"line":89}},"37":{"end":{"column":5,"line":94},"start":{"column":11,"line":90}},"38":{"end":{"column":35,"line":91},"start":{"column":6,"line":91}},"39":{"end":{"column":26,"line":93},"start":{"column":6,"line":93}},"40":{"end":{"column":23,"line":95},"start":{"column":4,"line":95}},"41":{"end":{"column":85,"line":98},"start":{"column":4,"line":98}},"42":{"end":{"column":36,"line":99},"start":{"column":4,"line":99}},"43":{"end":{"column":7,"line":104},"start":{"column":4,"line":100}},"44":{"end":{"column":44,"line":105},"start":{"column":4,"line":105}},"45":{"end":{"column":37,"line":106},"start":{"column":4,"line":106}},"46":{"end":{"column":53,"line":107},"start":{"column":4,"line":107}},"47":{"end":{"column":60,"line":108},"start":{"column":4,"line":108}},"48":{"end":{"column":46,"line":109},"start":{"column":4,"line":109}},"49":{"end":{"column":65,"line":110},"start":{"column":4,"line":110}},"50":{"end":{"column":60,"line":113},"start":{"column":4,"line":113}},"51":{"end":{"column":7,"line":116},"start":{"column":4,"line":114}},"52":{"end":{"column":35,"line":119},"start":{"column":4,"line":119}},"53":{"end":{"column":76,"line":120},"start":{"column":4,"line":120}},"54":{"end":{"column":79,"line":121},"start":{"column":4,"line":121}},"55":{"end":{"column":24,"line":124},"start":{"column":4,"line":124}},"56":{"end":{"column":82,"line":125},"start":{"column":4,"line":125}},"57":{"end":{"column":5,"line":128},"start":{"column":4,"line":126}},"58":{"end":{"column":13,"line":127},"start":{"column":6,"line":127}},"59":{"end":{"column":5,"line":133},"start":{"column":4,"line":129}},"60":{"end":{"column":9,"line":132},"start":{"column":6,"line":130}},"61":{"end":{"column":38,"line":136},"start":{"column":4,"line":136}},"62":{"end":{"column":42,"line":137},"start":{"column":4,"line":137}},"63":{"end":{"column":82,"line":138},"start":{"column":4,"line":138}},"64":{"end":{"column":5,"line":141},"start":{"column":4,"line":139}},"65":{"end":{"column":13,"line":140},"start":{"column":6,"line":140}},"66":{"end":{"column":7,"line":144},"start":{"column":4,"line":142}},"67":{"end":{"column":37,"line":147},"start":{"column":4,"line":147}},"68":{"end":{"column":21,"line":150},"start":{"column":4,"line":150}},"69":{"end":{"column":27,"line":151},"start":{"column":4,"line":151}},"70":{"end":{"column":38,"line":152},"start":{"column":4,"line":152}},"71":{"end":{"column":37,"line":153},"start":{"column":4,"line":153}},"72":{"end":{"column":89,"line":156},"start":{"column":4,"line":156}},"73":{"end":{"column":88,"line":157},"start":{"column":4,"line":157}},"74":{"end":{"column":111,"line":158},"start":{"column":4,"line":158}},"75":{"end":{"column":106,"line":159},"start":{"column":4,"line":159}},"76":{"end":{"column":81,"line":160},"start":{"column":4,"line":160}},"77":{"end":{"column":5,"line":163},"start":{"column":4,"line":161}},"78":{"end":{"column":23,"line":162},"start":{"column":6,"line":162}},"79":{"end":{"column":5,"line":166},"start":{"column":4,"line":164}},"80":{"end":{"column":47,"line":165},"start":{"column":6,"line":165}},"81":{"end":{"column":5,"line":169},"start":{"column":4,"line":167}},"82":{"end":{"column":39,"line":168},"start":{"column":6,"line":168}},"83":{"end":{"column":5,"line":174},"start":{"column":4,"line":172}},"84":{"end":{"column":29,"line":173},"start":{"column":6,"line":173}},"85":{"end":{"column":72,"line":177},"start":{"column":4,"line":177}},"86":{"end":{"column":37,"line":178},"start":{"column":4,"line":178}},"87":{"end":{"column":35,"line":179},"start":{"column":4,"line":179}},"88":{"end":{"column":5,"line":182},"start":{"column":4,"line":180}},"89":{"end":{"column":30,"line":181},"start":{"column":6,"line":181}},"90":{"end":{"column":32,"line":183},"start":{"column":4,"line":183}},"91":{"end":{"column":84,"line":184},"start":{"column":4,"line":184}},"92":{"end":{"column":5,"line":193},"start":{"column":4,"line":185}},"93":{"end":{"column":8,"line":188},"start":{"column":6,"line":186}},"94":{"end":{"column":8,"line":192},"start":{"column":6,"line":190}},"95":{"end":{"column":5,"line":198},"start":{"column":4,"line":194}},"96":{"end":{"column":29,"line":197},"start":{"column":6,"line":195}},"97":{"end":{"column":42,"line":203},"start":{"column":4,"line":199}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"25":21,"33":4,"44":4,"45":4,"46":4,"47":4,"48":4,"49":4,"50":2,"54":4,"57":4,"58":4,"59":4,"60":0,"61":0,"63":4,"66":4,"67":4,"68":4,"73":47,"76":11,"79":15,"82":47,"85":47,"86":47,"87":32,"88":15,"89":4,"90":11,"91":9,"93":2,"95":47,"98":14,"99":14,"100":14,"105":14,"106":14,"107":14,"108":14,"109":14,"110":14,"113":0,"114":0,"119":47,"120":47,"121":47,"124":4,"125":4,"126":4,"127":0,"129":4,"130":4,"136":14,"137":14,"138":14,"139":14,"140":0,"142":14,"147":0,"150":4,"151":4,"152":4,"153":4,"156":33,"157":33,"158":33,"159":33,"160":33,"161":33,"162":0,"164":33,"165":10,"167":33,"168":10,"172":8,"173":0,"177":37,"178":37,"179":37,"180":37,"181":37,"183":37,"184":37,"185":37,"186":33,"190":4,"194":37,"195":23,"199":37}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/pinned-header-footer-card/sections.cjsx":{"b":{"1":[0,23],"2":[6,0],"3":[0,6],"4":[168,0],"5":[6,162]},"branchMap":{"1":{"line":14,"locations":[{"end":{"column":4,"line":14},"start":{"column":4,"line":14}},{"end":{"column":4,"line":14},"start":{"column":4,"line":14}}],"type":"if"},"2":{"line":37,"locations":[{"end":{"column":35,"line":37},"start":{"column":27,"line":37}},{"end":{"column":44,"line":37},"start":{"column":38,"line":37}}],"type":"cond-expr"},"3":{"line":39,"locations":[{"end":{"column":4,"line":39},"start":{"column":4,"line":39}},{"end":{"column":4,"line":39},"start":{"column":4,"line":39}}],"type":"if"},"4":{"line":64,"locations":[{"end":{"column":4,"line":64},"start":{"column":4,"line":64}},{"end":{"column":4,"line":64},"start":{"column":4,"line":64}}],"type":"if"},"5":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"}},"code":["var CardBody, PinnableFooter, PinnedHeader, React;","","React = require('react');","","PinnedHeader = React.createClass({","  displayName: 'PinnedHeader',","  propTypes: {","    className: React.PropTypes.string","  },","  render: function() {","    var className, classes;","    className = this.props.className;","    classes = 'pinned-header';","    if (className != null) {","      classes += \" \" + className;","    }","    return React.createElement(\"div\", {","      \"className\": classes","    }, this.props.children);","  }","});","","PinnableFooter = React.createClass({","  displayName: 'PinnableFooter',","  propTypes: {","    className: React.PropTypes.string,","    pinned: React.PropTypes.bool.isRequired","  },","  getDefaultProps: function() {","    return {","      pinned: true","    };","  },","  render: function() {","    var className, classPrefix, classes, pinned, ref;","    ref = this.props, className = ref.className, pinned = ref.pinned;","    classPrefix = pinned ? 'pinned' : 'card';","    classes = classPrefix + \"-footer\";","    if (className != null) {","      classes += \" \" + className;","    }","    return React.createElement(\"div\", {","      \"className\": classes","    }, this.props.children);","  }","});","","CardBody = React.createClass({","  displayName: 'CardBody',","  propTypes: {","    className: React.PropTypes.string,","    footerClassName: React.PropTypes.string,","    pinned: React.PropTypes.bool.isRequired","  },","  getDefaultProps: function() {","    return {","      pinned: true","    };","  },","  render: function() {","    var children, className, classes, footer, footerClassName, pinnableFooter, pinned, ref;","    ref = this.props, className = ref.className, pinned = ref.pinned, footerClassName = ref.footerClassName, footer = ref.footer, children = ref.children;","    classes = 'card-body';","    if (className != null) {","      classes += \" \" + className;","    }","    if (footer) {","      pinnableFooter = React.createElement(PinnableFooter, {","        \"pinned\": pinned,","        \"className\": footerClassName","      }, footer);","    }","    return React.createElement(\"div\", {","      \"className\": classes","    }, children, pinnableFooter);","  }","});","","module.exports = {","  PinnedHeader: PinnedHeader,","  CardBody: CardBody,","  PinnableFooter: PinnableFooter","};",""],"f":{"1":23,"2":21,"3":6,"4":21,"5":168},"fnMap":{"1":{"line":10,"loc":{"end":{"column":21,"line":10},"start":{"column":10,"line":10}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":30,"line":29},"start":{"column":19,"line":29}},"name":"(anonymous_2)"},"3":{"line":34,"loc":{"end":{"column":21,"line":34},"start":{"column":10,"line":34}},"name":"(anonymous_3)"},"4":{"line":55,"loc":{"end":{"column":30,"line":55},"start":{"column":19,"line":55}},"name":"(anonymous_4)"},"5":{"line":60,"loc":{"end":{"column":21,"line":60},"start":{"column":10,"line":60}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/pinned-header-footer-card/sections.cjsx","s":{"1":21,"2":21,"3":21,"4":23,"5":23,"6":23,"7":23,"8":0,"9":23,"10":21,"11":21,"12":6,"13":6,"14":6,"15":6,"16":6,"17":0,"18":6,"19":21,"20":21,"21":168,"22":168,"23":168,"24":168,"25":168,"26":168,"27":6,"28":168,"29":21},"statementMap":{"1":{"end":{"column":50,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":21},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":11},"start":{"column":4,"line":11}},"5":{"end":{"column":37,"line":12},"start":{"column":4,"line":12}},"6":{"end":{"column":30,"line":13},"start":{"column":4,"line":13}},"7":{"end":{"column":5,"line":16},"start":{"column":4,"line":14}},"8":{"end":{"column":33,"line":15},"start":{"column":6,"line":15}},"9":{"end":{"column":28,"line":19},"start":{"column":4,"line":17}},"10":{"end":{"column":3,"line":46},"start":{"column":0,"line":23}},"11":{"end":{"column":6,"line":32},"start":{"column":4,"line":30}},"12":{"end":{"column":53,"line":35},"start":{"column":4,"line":35}},"13":{"end":{"column":69,"line":36},"start":{"column":4,"line":36}},"14":{"end":{"column":45,"line":37},"start":{"column":4,"line":37}},"15":{"end":{"column":38,"line":38},"start":{"column":4,"line":38}},"16":{"end":{"column":5,"line":41},"start":{"column":4,"line":39}},"17":{"end":{"column":33,"line":40},"start":{"column":6,"line":40}},"18":{"end":{"column":28,"line":44},"start":{"column":4,"line":42}},"19":{"end":{"column":3,"line":77},"start":{"column":0,"line":48}},"20":{"end":{"column":6,"line":58},"start":{"column":4,"line":56}},"21":{"end":{"column":91,"line":61},"start":{"column":4,"line":61}},"22":{"end":{"column":154,"line":62},"start":{"column":4,"line":62}},"23":{"end":{"column":26,"line":63},"start":{"column":4,"line":63}},"24":{"end":{"column":5,"line":66},"start":{"column":4,"line":64}},"25":{"end":{"column":33,"line":65},"start":{"column":6,"line":65}},"26":{"end":{"column":5,"line":72},"start":{"column":4,"line":67}},"27":{"end":{"column":17,"line":71},"start":{"column":6,"line":68}},"28":{"end":{"column":33,"line":75},"start":{"column":4,"line":73}},"29":{"end":{"column":2,"line":83},"start":{"column":0,"line":79}}},"l":{"1":21,"3":21,"5":21,"11":23,"12":23,"13":23,"14":23,"15":0,"17":23,"23":21,"30":21,"35":6,"36":6,"37":6,"38":6,"39":6,"40":0,"42":6,"48":21,"56":21,"61":168,"62":168,"63":168,"64":168,"65":168,"67":168,"68":6,"73":168,"79":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/question/answer.cjsx":{"b":{"1":[21,0],"2":[0,0],"3":[0,0],"4":[648,12],"5":[0,112],"6":[108,4],"7":[0,548],"8":[548,0],"9":[0,548],"10":[548,0],"11":[660,548],"12":[1208,1188],"13":[0,660],"14":[0,660],"15":[660,648],"16":[660,0],"17":[660,366],"18":[0,660],"19":[660,0]},"branchMap":{"1":{"line":2,"locations":[{"end":{"column":22,"line":2},"start":{"column":12,"line":2}},{"end":{"column":149,"line":2},"start":{"column":26,"line":2}}],"type":"binary-expr"},"2":{"line":2,"locations":[{"end":{"column":90,"line":2},"start":{"column":90,"line":2}},{"end":{"column":90,"line":2},"start":{"column":90,"line":2}}],"type":"if"},"3":{"line":2,"locations":[{"end":{"column":103,"line":2},"start":{"column":94,"line":2}},{"end":{"column":123,"line":2},"start":{"column":107,"line":2}}],"type":"binary-expr"},"4":{"line":21,"locations":[{"end":{"column":2,"line":21},"start":{"column":2,"line":21}},{"end":{"column":2,"line":21},"start":{"column":2,"line":21}}],"type":"if"},"5":{"line":60,"locations":[{"end":{"column":4,"line":60},"start":{"column":4,"line":60}},{"end":{"column":4,"line":60},"start":{"column":4,"line":60}}],"type":"if"},"6":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"7":{"line":74,"locations":[{"end":{"column":4,"line":74},"start":{"column":4,"line":74}},{"end":{"column":4,"line":74},"start":{"column":4,"line":74}}],"type":"if"},"8":{"line":74,"locations":[{"end":{"column":33,"line":74},"start":{"column":8,"line":74}},{"end":{"column":54,"line":74},"start":{"column":37,"line":74}}],"type":"binary-expr"},"9":{"line":77,"locations":[{"end":{"column":4,"line":77},"start":{"column":4,"line":77}},{"end":{"column":4,"line":77},"start":{"column":4,"line":77}}],"type":"if"},"10":{"line":77,"locations":[{"end":{"column":24,"line":77},"start":{"column":8,"line":77}},{"end":{"column":63,"line":77},"start":{"column":28,"line":77}}],"type":"binary-expr"},"11":{"line":83,"locations":[{"end":{"column":4,"line":83},"start":{"column":4,"line":83}},{"end":{"column":4,"line":83},"start":{"column":4,"line":83}}],"type":"if"},"12":{"line":87,"locations":[{"end":{"column":30,"line":87},"start":{"column":12,"line":87}},{"end":{"column":44,"line":87},"start":{"column":35,"line":87}}],"type":"binary-expr"},"13":{"line":102,"locations":[{"end":{"column":4,"line":102},"start":{"column":4,"line":102}},{"end":{"column":4,"line":102},"start":{"column":4,"line":102}}],"type":"if"},"14":{"line":111,"locations":[{"end":{"column":4,"line":111},"start":{"column":4,"line":111}},{"end":{"column":4,"line":111},"start":{"column":4,"line":111}}],"type":"if"},"15":{"line":111,"locations":[{"end":{"column":26,"line":111},"start":{"column":10,"line":111}},{"end":{"column":55,"line":111},"start":{"column":30,"line":111}}],"type":"binary-expr"},"16":{"line":122,"locations":[{"end":{"column":4,"line":122},"start":{"column":4,"line":122}},{"end":{"column":4,"line":122},"start":{"column":4,"line":122}}],"type":"if"},"17":{"line":123,"locations":[{"end":{"column":72,"line":123},"start":{"column":16,"line":123}},{"end":{"column":77,"line":123},"start":{"column":76,"line":123}}],"type":"binary-expr"},"18":{"line":130,"locations":[{"end":{"column":4,"line":130},"start":{"column":4,"line":130}},{"end":{"column":4,"line":130},"start":{"column":4,"line":130}}],"type":"if"},"19":{"line":130,"locations":[{"end":{"column":36,"line":130},"start":{"column":8,"line":130}},{"end":{"column":60,"line":130},"start":{"column":40,"line":130}}],"type":"binary-expr"}},"code":["var Answer, ArbitraryHtmlAndMath, React, _, classnames, idCounter, isAnswerChecked, isAnswerCorrect, keymaster, keysHelper,","  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };","","React = require('react');","","_ = require('underscore');","","classnames = require('classnames');","","keymaster = require('keymaster');","","keysHelper = require('../../helpers/keys');","","ArbitraryHtmlAndMath = require('../html');","","idCounter = 0;","","isAnswerCorrect = function(answer, correctAnswerId) {","  var isCorrect;","  isCorrect = answer.id === correctAnswerId;","  if (answer.correctness != null) {","    isCorrect = answer.correctness === '1.0';","  }","  return isCorrect;","};","","isAnswerChecked = function(answer, chosenAnswer) {","  var isChecked, ref;","  return isChecked = (ref = answer.id, indexOf.call(chosenAnswer, ref) >= 0);","};","","Answer = React.createClass({","  displayName: 'Answer',","  propTypes: {","    answer: React.PropTypes.shape({","      id: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number]).isRequired,","      content_html: React.PropTypes.string.isRequired,","      correctness: React.PropTypes.string,","      selected_count: React.PropTypes.number","    }).isRequired,","    iter: React.PropTypes.number.isRequired,","    qid: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number]).isRequired,","    type: React.PropTypes.string.isRequired,","    hasCorrectAnswer: React.PropTypes.bool.isRequired,","    onChangeAnswer: React.PropTypes.func.isRequired,","    disabled: React.PropTypes.bool,","    chosenAnswer: React.PropTypes.array,","    correctAnswerId: React.PropTypes.string,","    answered_count: React.PropTypes.number,","    show_all_feedback: React.PropTypes.bool,","    keyControl: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number, React.PropTypes.array])","  },","  getDefaultProps: function() {","    return {","      disabled: false,","      show_all_feedback: false","    };","  },","  componentWillMount: function() {","    if (this.shouldKey()) {","      return this.setUpKeys();","    }","  },","  componentWillUnmount: function() {","    var keyControl;","    keyControl = this.props.keyControl;","    if (keyControl != null) {","      return keysHelper.off(keyControl, 'multiple-choice');","    }","  },","  componentDidUpdate: function(prevProps) {","    var keyControl;","    keyControl = this.props.keyControl;","    if (this.shouldKey(prevProps) && !this.shouldKey()) {","      keysHelper.off(prevProps.keyControl, 'multiple-choice');","    }","    if (this.shouldKey() && prevProps.keyControl !== keyControl) {","      return this.setUpKeys();","    }","  },","  shouldKey: function(props) {","    var disabled, keyControl;","    if (props == null) {","      props = this.props;","    }","    keyControl = props.keyControl, disabled = props.disabled;","    return (keyControl != null) && !disabled;","  },","  setUpKeys: function() {","    var answer, keyControl, keyInAnswer, onChangeAnswer, ref;","    ref = this.props, answer = ref.answer, onChangeAnswer = ref.onChangeAnswer, keyControl = ref.keyControl;","    keyInAnswer = _.partial(onChangeAnswer, answer);","    keysHelper.on(keyControl, 'multiple-choice', keyInAnswer);","    return keymaster.setScope('multiple-choice');","  },","  contextTypes: {","    processHtmlAndMath: React.PropTypes.func","  },","  render: function() {","    var answer, answered_count, chosenAnswer, classes, correctAnswerId, disabled, feedback, hasCorrectAnswer, htmlAndMathProps, isChecked, isCorrect, iter, onChangeAnswer, percent, qid, radioBox, ref, selectedCount, type;","    ref = this.props, answer = ref.answer, iter = ref.iter, qid = ref.qid, type = ref.type, correctAnswerId = ref.correctAnswerId, answered_count = ref.answered_count, hasCorrectAnswer = ref.hasCorrectAnswer, chosenAnswer = ref.chosenAnswer, onChangeAnswer = ref.onChangeAnswer, disabled = ref.disabled;","    if (qid == null) {","      qid = \"auto-\" + (idCounter++);","    }","    isChecked = isAnswerChecked(answer, chosenAnswer);","    isCorrect = isAnswerCorrect(answer, correctAnswerId);","    classes = classnames('answers-answer', {","      'answer-checked': isChecked,","      'answer-correct': isCorrect","    });","    if (!(hasCorrectAnswer || type === 'teacher-review')) {","      radioBox = React.createElement(\"input\", {","        \"type\": 'radio',","        \"className\": 'answer-input-box',","        \"checked\": isChecked,","        \"id\": qid + \"-option-\" + iter,","        \"name\": qid + \"-options\",","        \"onChange\": _.partial(onChangeAnswer, answer),","        \"disabled\": disabled","      });","    }","    if (type === 'teacher-review') {","      percent = Math.round(answer.selected_count / answered_count * 100) || 0;","      selectedCount = React.createElement(\"div\", {","        \"className\": 'selected-count',","        \"data-count\": \"\" + answer.selected_count,","        \"data-percent\": \"\" + percent","      });","    }","    if (this.props.show_all_feedback && answer.feedback_html) {","      feedback = React.createElement(Feedback, {","        \"key\": 'question-mc-feedback'","      }, answer.feedback_html);","    }","    htmlAndMathProps = _.pick(this.context, 'processHtmlAndMath');","    return React.createElement(\"div\", {","      \"className\": 'openstax-answer'","    }, React.createElement(\"div\", {","      \"className\": classes","    }, selectedCount, radioBox, React.createElement(\"label\", {","      \"htmlFor\": qid + \"-option-\" + iter,","      \"className\": 'answer-label'","    }, React.createElement(\"div\", {","      \"className\": 'answer-letter'","    }), React.createElement(ArbitraryHtmlAndMath, React.__spread({}, htmlAndMathProps, {","      \"className\": 'answer-content',","      \"html\": answer.content_html","    })))), feedback);","  }","});","","module.exports = {","  Answer: Answer","};",""],"f":{"1":0,"2":660,"3":660,"4":21,"5":112,"6":112,"7":548,"8":1208,"9":0,"10":660},"fnMap":{"1":{"line":2,"loc":{"end":{"column":41,"line":2},"start":{"column":26,"line":2}},"name":"(anonymous_1)"},"2":{"line":18,"loc":{"end":{"column":52,"line":18},"start":{"column":18,"line":18}},"name":"(anonymous_2)"},"3":{"line":27,"loc":{"end":{"column":49,"line":27},"start":{"column":18,"line":27}},"name":"(anonymous_3)"},"4":{"line":53,"loc":{"end":{"column":30,"line":53},"start":{"column":19,"line":53}},"name":"(anonymous_4)"},"5":{"line":59,"loc":{"end":{"column":33,"line":59},"start":{"column":22,"line":59}},"name":"(anonymous_5)"},"6":{"line":64,"loc":{"end":{"column":35,"line":64},"start":{"column":24,"line":64}},"name":"(anonymous_6)"},"7":{"line":71,"loc":{"end":{"column":42,"line":71},"start":{"column":22,"line":71}},"name":"(anonymous_7)"},"8":{"line":81,"loc":{"end":{"column":29,"line":81},"start":{"column":13,"line":81}},"name":"(anonymous_8)"},"9":{"line":89,"loc":{"end":{"column":24,"line":89},"start":{"column":13,"line":89}},"name":"(anonymous_9)"},"10":{"line":99,"loc":{"end":{"column":21,"line":99},"start":{"column":10,"line":99}},"name":"(anonymous_10)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/question/answer.cjsx","s":{"1":21,"2":0,"3":0,"4":0,"5":0,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":660,"15":660,"16":660,"17":648,"18":660,"19":21,"20":660,"21":660,"22":21,"23":21,"24":112,"25":0,"26":112,"27":112,"28":112,"29":108,"30":548,"31":548,"32":548,"33":0,"34":548,"35":0,"36":1208,"37":1208,"38":660,"39":1208,"40":1208,"41":0,"42":0,"43":0,"44":0,"45":0,"46":660,"47":660,"48":660,"49":0,"50":660,"51":660,"52":660,"53":660,"54":0,"55":660,"56":660,"57":660,"58":660,"59":0,"60":660,"61":660,"62":21},"statementMap":{"1":{"end":{"column":150,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":136,"line":2},"start":{"column":43,"line":2}},"3":{"end":{"column":134,"line":2},"start":{"column":90,"line":2}},"4":{"end":{"column":134,"line":2},"start":{"column":125,"line":2}},"5":{"end":{"column":147,"line":2},"start":{"column":137,"line":2}},"6":{"end":{"column":25,"line":4},"start":{"column":0,"line":4}},"7":{"end":{"column":26,"line":6},"start":{"column":0,"line":6}},"8":{"end":{"column":35,"line":8},"start":{"column":0,"line":8}},"9":{"end":{"column":33,"line":10},"start":{"column":0,"line":10}},"10":{"end":{"column":43,"line":12},"start":{"column":0,"line":12}},"11":{"end":{"column":42,"line":14},"start":{"column":0,"line":14}},"12":{"end":{"column":14,"line":16},"start":{"column":0,"line":16}},"13":{"end":{"column":2,"line":25},"start":{"column":0,"line":18}},"14":{"end":{"column":16,"line":19},"start":{"column":2,"line":19}},"15":{"end":{"column":44,"line":20},"start":{"column":2,"line":20}},"16":{"end":{"column":3,"line":23},"start":{"column":2,"line":21}},"17":{"end":{"column":45,"line":22},"start":{"column":4,"line":22}},"18":{"end":{"column":19,"line":24},"start":{"column":2,"line":24}},"19":{"end":{"column":2,"line":30},"start":{"column":0,"line":27}},"20":{"end":{"column":21,"line":28},"start":{"column":2,"line":28}},"21":{"end":{"column":77,"line":29},"start":{"column":2,"line":29}},"22":{"end":{"column":3,"line":150},"start":{"column":0,"line":32}},"23":{"end":{"column":6,"line":57},"start":{"column":4,"line":54}},"24":{"end":{"column":5,"line":62},"start":{"column":4,"line":60}},"25":{"end":{"column":30,"line":61},"start":{"column":6,"line":61}},"26":{"end":{"column":19,"line":65},"start":{"column":4,"line":65}},"27":{"end":{"column":39,"line":66},"start":{"column":4,"line":66}},"28":{"end":{"column":5,"line":69},"start":{"column":4,"line":67}},"29":{"end":{"column":59,"line":68},"start":{"column":6,"line":68}},"30":{"end":{"column":19,"line":72},"start":{"column":4,"line":72}},"31":{"end":{"column":39,"line":73},"start":{"column":4,"line":73}},"32":{"end":{"column":5,"line":76},"start":{"column":4,"line":74}},"33":{"end":{"column":62,"line":75},"start":{"column":6,"line":75}},"34":{"end":{"column":5,"line":79},"start":{"column":4,"line":77}},"35":{"end":{"column":30,"line":78},"start":{"column":6,"line":78}},"36":{"end":{"column":29,"line":82},"start":{"column":4,"line":82}},"37":{"end":{"column":5,"line":85},"start":{"column":4,"line":83}},"38":{"end":{"column":25,"line":84},"start":{"column":6,"line":84}},"39":{"end":{"column":61,"line":86},"start":{"column":4,"line":86}},"40":{"end":{"column":45,"line":87},"start":{"column":4,"line":87}},"41":{"end":{"column":61,"line":90},"start":{"column":4,"line":90}},"42":{"end":{"column":108,"line":91},"start":{"column":4,"line":91}},"43":{"end":{"column":52,"line":92},"start":{"column":4,"line":92}},"44":{"end":{"column":62,"line":93},"start":{"column":4,"line":93}},"45":{"end":{"column":49,"line":94},"start":{"column":4,"line":94}},"46":{"end":{"column":221,"line":100},"start":{"column":4,"line":100}},"47":{"end":{"column":303,"line":101},"start":{"column":4,"line":101}},"48":{"end":{"column":5,"line":104},"start":{"column":4,"line":102}},"49":{"end":{"column":36,"line":103},"start":{"column":6,"line":103}},"50":{"end":{"column":54,"line":105},"start":{"column":4,"line":105}},"51":{"end":{"column":57,"line":106},"start":{"column":4,"line":106}},"52":{"end":{"column":7,"line":110},"start":{"column":4,"line":107}},"53":{"end":{"column":5,"line":121},"start":{"column":4,"line":111}},"54":{"end":{"column":9,"line":120},"start":{"column":6,"line":112}},"55":{"end":{"column":5,"line":129},"start":{"column":4,"line":122}},"56":{"end":{"column":78,"line":123},"start":{"column":6,"line":123}},"57":{"end":{"column":9,"line":128},"start":{"column":6,"line":124}},"58":{"end":{"column":5,"line":134},"start":{"column":4,"line":130}},"59":{"end":{"column":31,"line":133},"start":{"column":6,"line":131}},"60":{"end":{"column":66,"line":135},"start":{"column":4,"line":135}},"61":{"end":{"column":21,"line":148},"start":{"column":4,"line":136}},"62":{"end":{"column":2,"line":154},"start":{"column":0,"line":152}}},"l":{"1":21,"2":0,"4":21,"6":21,"8":21,"10":21,"12":21,"14":21,"16":21,"18":21,"19":660,"20":660,"21":660,"22":648,"24":660,"27":21,"28":660,"29":660,"32":21,"54":21,"60":112,"61":0,"65":112,"66":112,"67":112,"68":108,"72":548,"73":548,"74":548,"75":0,"77":548,"78":0,"82":1208,"83":1208,"84":660,"86":1208,"87":1208,"90":0,"91":0,"92":0,"93":0,"94":0,"100":660,"101":660,"102":660,"103":0,"105":660,"106":660,"107":660,"111":660,"112":0,"122":660,"123":660,"124":660,"130":660,"131":0,"135":660,"136":660,"152":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/question/answers-table.cjsx":{"b":{"1":[21,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,165],"7":[165,0],"8":[165,0],"9":[648,12],"10":[3,657],"11":[3,162],"12":[3,162],"13":[165,3]},"branchMap":{"1":{"line":2,"locations":[{"end":{"column":22,"line":2},"start":{"column":12,"line":2}},{"end":{"column":149,"line":2},"start":{"column":26,"line":2}}],"type":"binary-expr"},"2":{"line":2,"locations":[{"end":{"column":90,"line":2},"start":{"column":90,"line":2}},{"end":{"column":90,"line":2},"start":{"column":90,"line":2}}],"type":"if"},"3":{"line":2,"locations":[{"end":{"column":103,"line":2},"start":{"column":94,"line":2}},{"end":{"column":123,"line":2},"start":{"column":107,"line":2}}],"type":"binary-expr"},"4":{"line":63,"locations":[{"end":{"column":4,"line":63},"start":{"column":4,"line":63}},{"end":{"column":4,"line":63},"start":{"column":4,"line":63}}],"type":"if"},"5":{"line":70,"locations":[{"end":{"column":101,"line":70},"start":{"column":73,"line":70}},{"end":{"column":110,"line":70},"start":{"column":104,"line":70}}],"type":"cond-expr"},"6":{"line":77,"locations":[{"end":{"column":4,"line":77},"start":{"column":4,"line":77}},{"end":{"column":4,"line":77},"start":{"column":4,"line":77}}],"type":"if"},"7":{"line":77,"locations":[{"end":{"column":43,"line":77},"start":{"column":29,"line":77}},{"end":{"column":52,"line":77},"start":{"column":46,"line":77}}],"type":"cond-expr"},"8":{"line":84,"locations":[{"end":{"column":13,"line":84},"start":{"column":11,"line":84}},{"end":{"column":41,"line":84},"start":{"column":18,"line":84}}],"type":"binary-expr"},"9":{"line":102,"locations":[{"end":{"column":59,"line":102},"start":{"column":52,"line":102}},{"end":{"column":68,"line":102},"start":{"column":62,"line":102}}],"type":"cond-expr"},"10":{"line":105,"locations":[{"end":{"column":6,"line":105},"start":{"column":6,"line":105}},{"end":{"column":6,"line":105},"start":{"column":6,"line":105}}],"type":"if"},"11":{"line":110,"locations":[{"end":{"column":4,"line":110},"start":{"column":4,"line":110}},{"end":{"column":4,"line":110},"start":{"column":4,"line":110}}],"type":"if"},"12":{"line":115,"locations":[{"end":{"column":4,"line":115},"start":{"column":4,"line":115}},{"end":{"column":4,"line":115},"start":{"column":4,"line":115}}],"type":"if"},"13":{"line":115,"locations":[{"end":{"column":25,"line":115},"start":{"column":9,"line":115}},{"end":{"column":57,"line":115},"start":{"column":31,"line":115}}],"type":"binary-expr"}},"code":["var Answer, AnswersTable, ArbitraryHtmlAndMath, Feedback, KEYS, KEYSETS_PROPS, React, _, idCounter, isAnswerChecked, keysHelper,","  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };","","React = require('react');","","_ = require('underscore');","","keysHelper = require('../../helpers/keys');","","KEYS = {","  'multiple-choice-numbers': _.range(1, 10)","};","","KEYS['multiple-choice-alpha'] = _.map(KEYS['multiple-choice-numbers'], _.partial(keysHelper.getCharFromNumKey, _, null));","","KEYS['multiple-choice'] = _.zip(KEYS['multiple-choice-numbers'], KEYS['multiple-choice-alpha']);","","KEYSETS_PROPS = _.keys(KEYS);","","KEYSETS_PROPS.push(null);","","ArbitraryHtmlAndMath = require('../html');","","Answer = require('./answer').Answer;","","Feedback = require('./feedback').Feedback;","","idCounter = 0;","","isAnswerChecked = function(answer, chosenAnswer) {","  var isChecked, ref;","  return isChecked = (ref = answer.id, indexOf.call(chosenAnswer, ref) >= 0);","};","","AnswersTable = React.createClass({","  displayName: 'AnswersTable',","  propTypes: {","    model: React.PropTypes.object.isRequired,","    type: React.PropTypes.string.isRequired,","    answer_id: React.PropTypes.string,","    correct_answer_id: React.PropTypes.string,","    feedback_html: React.PropTypes.string,","    answered_count: React.PropTypes.number,","    show_all_feedback: React.PropTypes.bool,","    onChange: React.PropTypes.func,","    onChangeAttempt: React.PropTypes.func,","    keySet: React.PropTypes.oneOf(KEYSETS_PROPS)","  },","  getDefaultProps: function() {","    return {","      type: 'student',","      show_all_feedback: false,","      keySet: 'multiple-choice'","    };","  },","  getInitialState: function() {","    return {","      answer_id: null","    };","  },","  onChangeAnswer: function(answer, changeEvent) {","    var base;","    if (this.props.onChange != null) {","      this.setState({","        answer_id: answer.id","      });","      return this.props.onChange(answer);","    } else {","      changeEvent.preventDefault();","      return typeof (base = this.props).onChangeAttempt === \"function\" ? base.onChangeAttempt(answer) : void 0;","    }","  },","  render: function() {","    var answer_id, answered_count, answers, answersHtml, checkedAnswerIndex, choicesEnabled, chosenAnswer, correct_answer_id, feedback, feedback_html, hasCorrectAnswer, id, keySet, model, questionAnswerProps, ref, show_all_feedback, type;","    ref = this.props, model = ref.model, type = ref.type, answered_count = ref.answered_count, choicesEnabled = ref.choicesEnabled, correct_answer_id = ref.correct_answer_id, answer_id = ref.answer_id, feedback_html = ref.feedback_html, show_all_feedback = ref.show_all_feedback, keySet = ref.keySet;","    answers = model.answers, id = model.id;","    if (!((answers != null ? answers.length : void 0) > 0)) {","      return null;","    }","    chosenAnswer = [answer_id, this.state.answer_id];","    checkedAnswerIndex = null;","    hasCorrectAnswer = !!correct_answer_id;","    questionAnswerProps = {","      qid: id || (\"auto-\" + (idCounter++)),","      correctAnswerId: correct_answer_id,","      hasCorrectAnswer: hasCorrectAnswer,","      chosenAnswer: chosenAnswer,","      onChangeAnswer: this.onChangeAnswer,","      type: type,","      answered_count: answered_count,","      disabled: !choicesEnabled,","      show_all_feedback: show_all_feedback","    };","    answersHtml = _.chain(answers).sortBy(function(answer) {","      return parseInt(answer.id);","    }).map(function(answer, i) {","      var additionalProps, answerProps, ref1;","      additionalProps = {","        answer: answer,","        iter: i,","        key: questionAnswerProps.qid + \"-option-\" + i,","        keyControl: (ref1 = KEYS[keySet]) != null ? ref1[i] : void 0","      };","      answerProps = _.extend({}, additionalProps, questionAnswerProps);","      if (isAnswerChecked(answer, chosenAnswer)) {","        checkedAnswerIndex = i;","      }","      return React.createElement(Answer, React.__spread({}, answerProps));","    }).value();","    if (feedback_html) {","      feedback = React.createElement(Feedback, {","        \"key\": 'question-mc-feedback'","      }, feedback_html);","    }","    if ((feedback != null) && (checkedAnswerIndex != null)) {","      answersHtml.splice(checkedAnswerIndex + 1, 0, feedback);","    }","    return React.createElement(\"div\", {","      \"className\": 'answers-table'","    }, answersHtml);","  }","});","","module.exports = {","  AnswersTable: AnswersTable","};",""],"f":{"1":0,"2":660,"3":21,"4":28,"5":0,"6":165,"7":660,"8":660},"fnMap":{"1":{"line":2,"loc":{"end":{"column":41,"line":2},"start":{"column":26,"line":2}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":49,"line":30},"start":{"column":18,"line":30}},"name":"(anonymous_2)"},"3":{"line":49,"loc":{"end":{"column":30,"line":49},"start":{"column":19,"line":49}},"name":"(anonymous_3)"},"4":{"line":56,"loc":{"end":{"column":30,"line":56},"start":{"column":19,"line":56}},"name":"(anonymous_4)"},"5":{"line":61,"loc":{"end":{"column":48,"line":61},"start":{"column":18,"line":61}},"name":"(anonymous_5)"},"6":{"line":73,"loc":{"end":{"column":21,"line":73},"start":{"column":10,"line":73}},"name":"(anonymous_6)"},"7":{"line":94,"loc":{"end":{"column":59,"line":94},"start":{"column":42,"line":94}},"name":"(anonymous_7)"},"8":{"line":96,"loc":{"end":{"column":31,"line":96},"start":{"column":11,"line":96}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/question/answers-table.cjsx","s":{"1":21,"2":0,"3":0,"4":0,"5":0,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":660,"20":660,"21":21,"22":21,"23":28,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":165,"31":165,"32":165,"33":165,"34":0,"35":165,"36":165,"37":165,"38":165,"39":165,"40":660,"41":660,"42":660,"43":660,"44":660,"45":3,"46":660,"47":165,"48":3,"49":165,"50":3,"51":165,"52":21},"statementMap":{"1":{"end":{"column":150,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":136,"line":2},"start":{"column":43,"line":2}},"3":{"end":{"column":134,"line":2},"start":{"column":90,"line":2}},"4":{"end":{"column":134,"line":2},"start":{"column":125,"line":2}},"5":{"end":{"column":147,"line":2},"start":{"column":137,"line":2}},"6":{"end":{"column":25,"line":4},"start":{"column":0,"line":4}},"7":{"end":{"column":26,"line":6},"start":{"column":0,"line":6}},"8":{"end":{"column":43,"line":8},"start":{"column":0,"line":8}},"9":{"end":{"column":2,"line":12},"start":{"column":0,"line":10}},"10":{"end":{"column":121,"line":14},"start":{"column":0,"line":14}},"11":{"end":{"column":96,"line":16},"start":{"column":0,"line":16}},"12":{"end":{"column":29,"line":18},"start":{"column":0,"line":18}},"13":{"end":{"column":25,"line":20},"start":{"column":0,"line":20}},"14":{"end":{"column":42,"line":22},"start":{"column":0,"line":22}},"15":{"end":{"column":36,"line":24},"start":{"column":0,"line":24}},"16":{"end":{"column":42,"line":26},"start":{"column":0,"line":26}},"17":{"end":{"column":14,"line":28},"start":{"column":0,"line":28}},"18":{"end":{"column":2,"line":33},"start":{"column":0,"line":30}},"19":{"end":{"column":21,"line":31},"start":{"column":2,"line":31}},"20":{"end":{"column":77,"line":32},"start":{"column":2,"line":32}},"21":{"end":{"column":3,"line":122},"start":{"column":0,"line":35}},"22":{"end":{"column":6,"line":54},"start":{"column":4,"line":50}},"23":{"end":{"column":6,"line":59},"start":{"column":4,"line":57}},"24":{"end":{"column":13,"line":62},"start":{"column":4,"line":62}},"25":{"end":{"column":5,"line":71},"start":{"column":4,"line":63}},"26":{"end":{"column":9,"line":66},"start":{"column":6,"line":64}},"27":{"end":{"column":41,"line":67},"start":{"column":6,"line":67}},"28":{"end":{"column":35,"line":69},"start":{"column":6,"line":69}},"29":{"end":{"column":111,"line":70},"start":{"column":6,"line":70}},"30":{"end":{"column":238,"line":74},"start":{"column":4,"line":74}},"31":{"end":{"column":300,"line":75},"start":{"column":4,"line":75}},"32":{"end":{"column":43,"line":76},"start":{"column":4,"line":76}},"33":{"end":{"column":5,"line":79},"start":{"column":4,"line":77}},"34":{"end":{"column":18,"line":78},"start":{"column":6,"line":78}},"35":{"end":{"column":53,"line":80},"start":{"column":4,"line":80}},"36":{"end":{"column":30,"line":81},"start":{"column":4,"line":81}},"37":{"end":{"column":43,"line":82},"start":{"column":4,"line":82}},"38":{"end":{"column":6,"line":93},"start":{"column":4,"line":83}},"39":{"end":{"column":15,"line":109},"start":{"column":4,"line":94}},"40":{"end":{"column":33,"line":95},"start":{"column":6,"line":95}},"41":{"end":{"column":45,"line":97},"start":{"column":6,"line":97}},"42":{"end":{"column":8,"line":103},"start":{"column":6,"line":98}},"43":{"end":{"column":71,"line":104},"start":{"column":6,"line":104}},"44":{"end":{"column":7,"line":107},"start":{"column":6,"line":105}},"45":{"end":{"column":31,"line":106},"start":{"column":8,"line":106}},"46":{"end":{"column":74,"line":108},"start":{"column":6,"line":108}},"47":{"end":{"column":5,"line":114},"start":{"column":4,"line":110}},"48":{"end":{"column":24,"line":113},"start":{"column":6,"line":111}},"49":{"end":{"column":5,"line":117},"start":{"column":4,"line":115}},"50":{"end":{"column":62,"line":116},"start":{"column":6,"line":116}},"51":{"end":{"column":20,"line":120},"start":{"column":4,"line":118}},"52":{"end":{"column":2,"line":126},"start":{"column":0,"line":124}}},"l":{"1":21,"2":0,"4":21,"6":21,"8":21,"10":21,"14":21,"16":21,"18":21,"20":21,"22":21,"24":21,"26":21,"28":21,"30":21,"31":660,"32":660,"35":21,"50":21,"57":28,"62":0,"63":0,"64":0,"67":0,"69":0,"70":0,"74":165,"75":165,"76":165,"77":165,"78":0,"80":165,"81":165,"82":165,"83":165,"94":165,"95":660,"97":660,"98":660,"104":660,"105":660,"106":3,"108":660,"110":165,"111":3,"115":165,"116":3,"118":165,"124":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/question/feedback.cjsx":{"b":{},"branchMap":{},"code":["var ArbitraryHtmlAndMath, Feedback, React, _, classnames;","","React = require('react');","","classnames = require('classnames');","","_ = require('underscore');","","ArbitraryHtmlAndMath = require('../html');","","Feedback = React.createClass({","  displayName: 'Feedback',","  propTypes: {","    children: React.PropTypes.string.isRequired,","    position: React.PropTypes.oneOf(['top', 'bottom', 'left', 'right'])","  },","  getDefaultProps: function() {","    return {","      position: 'bottom'","    };","  },","  contextTypes: {","    processHtmlAndMath: React.PropTypes.func","  },","  render: function() {","    var htmlAndMathProps, wrapperClasses;","    wrapperClasses = classnames('question-feedback', this.props.position);","    htmlAndMathProps = _.pick(this.context, 'processHtmlAndMath');","    return React.createElement(\"div\", {","      \"className\": wrapperClasses","    }, React.createElement(\"div\", {","      \"className\": 'arrow'","    }), React.createElement(ArbitraryHtmlAndMath, React.__spread({}, htmlAndMathProps, {","      \"className\": 'question-feedback-content has-html',","      \"html\": this.props.children,","      \"block\": true","    })));","  }","});","","module.exports = {","  Feedback: Feedback","};",""],"f":{"1":21,"2":3},"fnMap":{"1":{"line":17,"loc":{"end":{"column":30,"line":17},"start":{"column":19,"line":17}},"name":"(anonymous_1)"},"2":{"line":25,"loc":{"end":{"column":21,"line":25},"start":{"column":10,"line":25}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/question/feedback.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":3,"9":3,"10":3,"11":3,"12":21},"statementMap":{"1":{"end":{"column":57,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":35,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":42,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":39},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":20},"start":{"column":4,"line":18}},"8":{"end":{"column":41,"line":26},"start":{"column":4,"line":26}},"9":{"end":{"column":74,"line":27},"start":{"column":4,"line":27}},"10":{"end":{"column":66,"line":28},"start":{"column":4,"line":28}},"11":{"end":{"column":9,"line":37},"start":{"column":4,"line":29}},"12":{"end":{"column":2,"line":43},"start":{"column":0,"line":41}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"18":21,"26":3,"27":3,"28":3,"29":3,"41":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/question/index.cjsx":{"b":{"1":[165,165]},"branchMap":{"1":{"line":35,"locations":[{"end":{"column":4,"line":35},"start":{"column":4,"line":35}},{"end":{"column":4,"line":35},"start":{"column":4,"line":35}}],"type":"if"}},"code":["var Answer, AnswersTable, ArbitraryHtmlAndMath, Feedback, Question, QuestionHtml, React, _, classnames;","","React = require('react');","","_ = require('underscore');","","classnames = require('classnames');","","AnswersTable = require('./answers-table').AnswersTable;","","Answer = require('./answer').Answer;","","Feedback = require('./feedback').Feedback;","","ArbitraryHtmlAndMath = require('../html');","","QuestionHtml = React.createClass({","  displayName: 'QuestionHtml',","  propTypes: {","    html: React.PropTypes.string,","    type: React.PropTypes.string","  },","  getDefaultProps: function() {","    return {","      html: '',","      type: ''","    };","  },","  contextTypes: {","    processHtmlAndMath: React.PropTypes.func","  },","  render: function() {","    var html, htmlAndMathProps, ref, type;","    ref = this.props, html = ref.html, type = ref.type;","    if (!(html.length > 0)) {","      return null;","    }","    htmlAndMathProps = _.pick(this.context, 'processHtmlAndMath');","    return React.createElement(ArbitraryHtmlAndMath, React.__spread({}, htmlAndMathProps, {","      \"className\": \"question-\" + type,","      \"block\": true,","      \"html\": html","    }));","  }","});","","Question = React.createClass({","  displayName: 'Question',","  propTypes: {","    model: React.PropTypes.object.isRequired,","    correct_answer_id: React.PropTypes.string,","    exercise_uid: React.PropTypes.string","  },","  childContextTypes: {","    processHtmlAndMath: React.PropTypes.func","  },","  getChildContext: function() {","    return {","      processHtmlAndMath: this.props.processHtmlAndMath","    };","  },","  render: function() {","    var classes, correct_answer_id, exercise_uid, hasCorrectAnswer, model, ref, stem_html, stimulus_html;","    ref = this.props, model = ref.model, correct_answer_id = ref.correct_answer_id, exercise_uid = ref.exercise_uid;","    stem_html = model.stem_html, stimulus_html = model.stimulus_html;","    hasCorrectAnswer = !!correct_answer_id;","    classes = classnames('openstax-question', {","      'has-correct-answer': hasCorrectAnswer","    });","    return React.createElement(\"div\", {","      \"className\": classes","    }, React.createElement(QuestionHtml, {","      \"type\": 'stem',","      \"html\": stem_html","    }), React.createElement(QuestionHtml, {","      \"type\": 'stimulus',","      \"html\": stimulus_html","    }), this.props.children, React.createElement(AnswersTable, React.__spread({}, this.props)), React.createElement(\"div\", {","      \"className\": \"exercise-uid\"","    }, exercise_uid));","  }","});","","module.exports = Question;",""],"f":{"1":21,"2":330,"3":330,"4":165},"fnMap":{"1":{"line":23,"loc":{"end":{"column":30,"line":23},"start":{"column":19,"line":23}},"name":"(anonymous_1)"},"2":{"line":32,"loc":{"end":{"column":21,"line":32},"start":{"column":10,"line":32}},"name":"(anonymous_2)"},"3":{"line":57,"loc":{"end":{"column":30,"line":57},"start":{"column":19,"line":57}},"name":"(anonymous_3)"},"4":{"line":62,"loc":{"end":{"column":21,"line":62},"start":{"column":10,"line":62}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/question/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":330,"12":330,"13":330,"14":165,"15":165,"16":165,"17":21,"18":330,"19":165,"20":165,"21":165,"22":165,"23":165,"24":165,"25":21},"statementMap":{"1":{"end":{"column":103,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":55,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":36,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":42,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":42,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":45},"start":{"column":0,"line":17}},"10":{"end":{"column":6,"line":27},"start":{"column":4,"line":24}},"11":{"end":{"column":42,"line":33},"start":{"column":4,"line":33}},"12":{"end":{"column":55,"line":34},"start":{"column":4,"line":34}},"13":{"end":{"column":5,"line":37},"start":{"column":4,"line":35}},"14":{"end":{"column":18,"line":36},"start":{"column":6,"line":36}},"15":{"end":{"column":66,"line":38},"start":{"column":4,"line":38}},"16":{"end":{"column":8,"line":43},"start":{"column":4,"line":39}},"17":{"end":{"column":3,"line":82},"start":{"column":0,"line":47}},"18":{"end":{"column":6,"line":60},"start":{"column":4,"line":58}},"19":{"end":{"column":105,"line":63},"start":{"column":4,"line":63}},"20":{"end":{"column":116,"line":64},"start":{"column":4,"line":64}},"21":{"end":{"column":69,"line":65},"start":{"column":4,"line":65}},"22":{"end":{"column":43,"line":66},"start":{"column":4,"line":66}},"23":{"end":{"column":7,"line":69},"start":{"column":4,"line":67}},"24":{"end":{"column":22,"line":80},"start":{"column":4,"line":70}},"25":{"end":{"column":26,"line":84},"start":{"column":0,"line":84}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"24":21,"33":330,"34":330,"35":330,"36":165,"38":165,"39":165,"47":21,"58":330,"63":165,"64":165,"65":165,"66":165,"67":165,"70":165,"84":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/resize-listener-mixin.cjsx":{"b":{"1":[23,23],"2":[0,0],"3":[0,18],"4":[3,18]},"branchMap":{"1":{"line":24,"locations":[{"end":{"column":88,"line":24},"start":{"column":63,"line":24}},{"end":{"column":117,"line":24},"start":{"column":92,"line":24}}],"type":"binary-expr"},"2":{"line":42,"locations":[{"end":{"column":96,"line":42},"start":{"column":56,"line":42}},{"end":{"column":105,"line":42},"start":{"column":99,"line":42}}],"type":"cond-expr"},"3":{"line":55,"locations":[{"end":{"column":4,"line":55},"start":{"column":4,"line":55}},{"end":{"column":4,"line":55},"start":{"column":4,"line":55}}],"type":"if"},"4":{"line":69,"locations":[{"end":{"column":4,"line":69},"start":{"column":4,"line":69}},{"end":{"column":4,"line":69},"start":{"column":4,"line":69}}],"type":"if"}},"code":["var React, _;","","React = require('react');","","_ = require('underscore');","","module.exports = {","  propTypes: {","    resizeThrottle: React.PropTypes.number","  },","  getDefaultProps: function() {","    return {","      resizeThrottle: 200","    };","  },","  getInitialState: function() {","    return {","      windowEl: {},","      componentEl: {},","      sizesInitial: {}","    };","  },","  componentWillMount: function() {","    return this.resizeListener = _.throttle(this.resizeEffect, this.state.resizeThrottle || this.props.resizeThrottle);","  },","  componentDidMount: function() {","    _.defer(this.setInitialSize);","    return window.addEventListener('resize', this.resizeListener);","  },","  componentWillUnmount: function() {","    return window.removeEventListener('resize', this.resizeListener);","  },","  resizeEffect: function(resizeEvent) {","    var componentEl, sizes, windowEl;","    windowEl = this._getWindowSize();","    componentEl = this._getComponentSize();","    sizes = {","      windowEl: windowEl,","      componentEl: componentEl","    };","    this.setState(sizes);","    return typeof this._resizeListener === \"function\" ? this._resizeListener(sizes, resizeEvent) : void 0;","  },","  _getWindowSize: function() {","    var height, width;","    width = window.innerWidth;","    height = window.innerHeight;","    return {","      width: width,","      height: height","    };","  },","  _getComponentSize: function() {","    var componentNode;","    if (!this.isMounted()) {","      return {","        height: 0,","        width: 0","      };","    }","    componentNode = this.getDOMNode();","    return {","      width: componentNode.offsetWidth,","      height: componentNode.offsetHeight","    };","  },","  setInitialSize: function() {","    var componentEl, sizesInitial, windowEl;","    if (!this.isMounted()) {","      return;","    }","    windowEl = this._getWindowSize();","    componentEl = this._getComponentSize();","    sizesInitial = {","      windowEl: windowEl,","      componentEl: componentEl","    };","    return this.setState({","      sizesInitial: sizesInitial,","      windowEl: windowEl,","      componentEl: componentEl","    });","  }","};",""],"f":{"1":105,"2":23,"3":23,"4":23,"5":20,"6":0,"7":48,"8":18,"9":21},"fnMap":{"1":{"line":11,"loc":{"end":{"column":30,"line":11},"start":{"column":19,"line":11}},"name":"(anonymous_1)"},"2":{"line":16,"loc":{"end":{"column":30,"line":16},"start":{"column":19,"line":16}},"name":"(anonymous_2)"},"3":{"line":23,"loc":{"end":{"column":33,"line":23},"start":{"column":22,"line":23}},"name":"(anonymous_3)"},"4":{"line":26,"loc":{"end":{"column":32,"line":26},"start":{"column":21,"line":26}},"name":"(anonymous_4)"},"5":{"line":30,"loc":{"end":{"column":35,"line":30},"start":{"column":24,"line":30}},"name":"(anonymous_5)"},"6":{"line":33,"loc":{"end":{"column":38,"line":33},"start":{"column":16,"line":33}},"name":"(anonymous_6)"},"7":{"line":44,"loc":{"end":{"column":29,"line":44},"start":{"column":18,"line":44}},"name":"(anonymous_7)"},"8":{"line":53,"loc":{"end":{"column":32,"line":53},"start":{"column":21,"line":53}},"name":"(anonymous_8)"},"9":{"line":67,"loc":{"end":{"column":29,"line":67},"start":{"column":18,"line":67}},"name":"(anonymous_9)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/resize-listener-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":105,"6":23,"7":23,"8":23,"9":23,"10":20,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":48,"18":48,"19":48,"20":48,"21":18,"22":18,"23":0,"24":18,"25":18,"26":21,"27":21,"28":3,"29":18,"30":18,"31":18,"32":18},"statementMap":{"1":{"end":{"column":13,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":84},"start":{"column":0,"line":7}},"5":{"end":{"column":6,"line":14},"start":{"column":4,"line":12}},"6":{"end":{"column":6,"line":21},"start":{"column":4,"line":17}},"7":{"end":{"column":119,"line":24},"start":{"column":4,"line":24}},"8":{"end":{"column":33,"line":27},"start":{"column":4,"line":27}},"9":{"end":{"column":66,"line":28},"start":{"column":4,"line":28}},"10":{"end":{"column":69,"line":31},"start":{"column":4,"line":31}},"11":{"end":{"column":37,"line":34},"start":{"column":4,"line":34}},"12":{"end":{"column":37,"line":35},"start":{"column":4,"line":35}},"13":{"end":{"column":43,"line":36},"start":{"column":4,"line":36}},"14":{"end":{"column":6,"line":40},"start":{"column":4,"line":37}},"15":{"end":{"column":25,"line":41},"start":{"column":4,"line":41}},"16":{"end":{"column":106,"line":42},"start":{"column":4,"line":42}},"17":{"end":{"column":22,"line":45},"start":{"column":4,"line":45}},"18":{"end":{"column":30,"line":46},"start":{"column":4,"line":46}},"19":{"end":{"column":32,"line":47},"start":{"column":4,"line":47}},"20":{"end":{"column":6,"line":51},"start":{"column":4,"line":48}},"21":{"end":{"column":22,"line":54},"start":{"column":4,"line":54}},"22":{"end":{"column":5,"line":60},"start":{"column":4,"line":55}},"23":{"end":{"column":8,"line":59},"start":{"column":6,"line":56}},"24":{"end":{"column":38,"line":61},"start":{"column":4,"line":61}},"25":{"end":{"column":6,"line":65},"start":{"column":4,"line":62}},"26":{"end":{"column":44,"line":68},"start":{"column":4,"line":68}},"27":{"end":{"column":5,"line":71},"start":{"column":4,"line":69}},"28":{"end":{"column":13,"line":70},"start":{"column":6,"line":70}},"29":{"end":{"column":37,"line":72},"start":{"column":4,"line":72}},"30":{"end":{"column":43,"line":73},"start":{"column":4,"line":73}},"31":{"end":{"column":6,"line":77},"start":{"column":4,"line":74}},"32":{"end":{"column":7,"line":82},"start":{"column":4,"line":78}}},"l":{"1":21,"3":21,"5":21,"7":21,"12":105,"17":23,"24":23,"27":23,"28":23,"31":20,"34":0,"35":0,"36":0,"37":0,"41":0,"42":0,"45":48,"46":48,"47":48,"48":48,"54":18,"55":18,"56":0,"61":18,"62":18,"68":21,"69":21,"70":3,"72":18,"73":18,"74":18,"78":18}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/smart-overflow.cjsx":{"b":{"1":[2,12],"2":[14,4],"3":[1,1],"4":[2,0]},"branchMap":{"1":{"line":42,"locations":[{"end":{"column":4,"line":42},"start":{"column":4,"line":42}},{"end":{"column":4,"line":42},"start":{"column":4,"line":42}}],"type":"if"},"2":{"line":42,"locations":[{"end":{"column":44,"line":42},"start":{"column":10,"line":42}},{"end":{"column":81,"line":42},"start":{"column":49,"line":42}}],"type":"binary-expr"},"3":{"line":54,"locations":[{"end":{"column":4,"line":54},"start":{"column":4,"line":54}},{"end":{"column":4,"line":54},"start":{"column":4,"line":54}}],"type":"if"},"4":{"line":54,"locations":[{"end":{"column":52,"line":54},"start":{"column":33,"line":54}},{"end":{"column":80,"line":54},"start":{"column":56,"line":54}}],"type":"binary-expr"}},"code":["var React, ResizeListenerMixin, SmartOverflow, _, classnames;","","React = require('react');","","_ = require('underscore');","","classnames = require('classnames');","","ResizeListenerMixin = require('./resize-listener-mixin');","","SmartOverflow = React.createClass({displayName: \"SmartOverflow\",","  propTypes: {","    heightBuffer: React.PropTypes.number,","    marginBottom: React.PropTypes.number","  },","  getInitialState: function() {","    return {","      isOverflowing: false,","      triggerHeight: null,","      style: void 0","    };","  },","  getDefaultProps: function() {","    return {","      heightBuffer: 20,","      marginBottom: 0","    };","  },","  mixins: [ResizeListenerMixin],","  getOffset: function() {","    var componentNode, topOffset;","    componentNode = this.getDOMNode();","    return topOffset = componentNode.getBoundingClientRect().top;","  },","  getTriggerHeight: function() {","    var topOffset;","    topOffset = this.getOffset();","    return topOffset + this.state.sizesInitial.componentEl.height;","  },","  componentDidUpdate: function() {","    var sizes, triggerHeight, triggerHeightState;","    if (!(_.isEmpty(this.state.sizesInitial) || (this.state.triggerHeight != null))) {","      triggerHeight = this.getTriggerHeight();","      triggerHeightState = {","        triggerHeight: triggerHeight","      };","      this.setState(triggerHeightState);","      sizes = _.defaults({}, this.state.sizesInitial, triggerHeightState);","      return this._resizeListener(sizes);","    }","  },","  _resizeListener: function(sizes) {","    var marginBottom, maxHeight, style;","    if (sizes.windowEl.height < (sizes.triggerHeight || this.state.triggerHeight)) {","      maxHeight = sizes.windowEl.height - this.getOffset() - this.props.heightBuffer;","      marginBottom = this.props.marginBottom;","      style = {","        maxHeight: maxHeight,","        marginBottom: marginBottom","      };","    } else {","      style = void 0;","    }","    return this.setState({","      style: style","    });","  },","  render: function() {","    var className, classes;","    className = this.props.className;","    classes = classnames('openstax-smart-overflow', className);","    return React.createElement(\"div\", {","      \"className\": classes,","      \"style\": this.state.style","    }, this.props.children);","  }","});","","module.exports = SmartOverflow;",""],"f":{"1":2,"2":21,"3":3,"4":2,"5":14,"6":2,"7":16},"fnMap":{"1":{"line":16,"loc":{"end":{"column":30,"line":16},"start":{"column":19,"line":16}},"name":"(anonymous_1)"},"2":{"line":23,"loc":{"end":{"column":30,"line":23},"start":{"column":19,"line":23}},"name":"(anonymous_2)"},"3":{"line":30,"loc":{"end":{"column":24,"line":30},"start":{"column":13,"line":30}},"name":"(anonymous_3)"},"4":{"line":35,"loc":{"end":{"column":31,"line":35},"start":{"column":20,"line":35}},"name":"(anonymous_4)"},"5":{"line":40,"loc":{"end":{"column":33,"line":40},"start":{"column":22,"line":40}},"name":"(anonymous_5)"},"6":{"line":52,"loc":{"end":{"column":35,"line":52},"start":{"column":19,"line":52}},"name":"(anonymous_6)"},"7":{"line":68,"loc":{"end":{"column":21,"line":68},"start":{"column":10,"line":68}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/smart-overflow.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":2,"8":21,"9":3,"10":3,"11":3,"12":2,"13":2,"14":2,"15":14,"16":14,"17":2,"18":2,"19":2,"20":2,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":2,"29":16,"30":16,"31":16,"32":16,"33":21},"statementMap":{"1":{"end":{"column":61,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":57,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":77},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":21},"start":{"column":4,"line":17}},"8":{"end":{"column":6,"line":27},"start":{"column":4,"line":24}},"9":{"end":{"column":33,"line":31},"start":{"column":4,"line":31}},"10":{"end":{"column":38,"line":32},"start":{"column":4,"line":32}},"11":{"end":{"column":65,"line":33},"start":{"column":4,"line":33}},"12":{"end":{"column":18,"line":36},"start":{"column":4,"line":36}},"13":{"end":{"column":33,"line":37},"start":{"column":4,"line":37}},"14":{"end":{"column":66,"line":38},"start":{"column":4,"line":38}},"15":{"end":{"column":49,"line":41},"start":{"column":4,"line":41}},"16":{"end":{"column":5,"line":50},"start":{"column":4,"line":42}},"17":{"end":{"column":46,"line":43},"start":{"column":6,"line":43}},"18":{"end":{"column":8,"line":46},"start":{"column":6,"line":44}},"19":{"end":{"column":40,"line":47},"start":{"column":6,"line":47}},"20":{"end":{"column":74,"line":48},"start":{"column":6,"line":48}},"21":{"end":{"column":41,"line":49},"start":{"column":6,"line":49}},"22":{"end":{"column":39,"line":53},"start":{"column":4,"line":53}},"23":{"end":{"column":5,"line":63},"start":{"column":4,"line":54}},"24":{"end":{"column":85,"line":55},"start":{"column":6,"line":55}},"25":{"end":{"column":45,"line":56},"start":{"column":6,"line":56}},"26":{"end":{"column":8,"line":60},"start":{"column":6,"line":57}},"27":{"end":{"column":21,"line":62},"start":{"column":6,"line":62}},"28":{"end":{"column":7,"line":66},"start":{"column":4,"line":64}},"29":{"end":{"column":27,"line":69},"start":{"column":4,"line":69}},"30":{"end":{"column":37,"line":70},"start":{"column":4,"line":70}},"31":{"end":{"column":63,"line":71},"start":{"column":4,"line":71}},"32":{"end":{"column":28,"line":75},"start":{"column":4,"line":72}},"33":{"end":{"column":31,"line":79},"start":{"column":0,"line":79}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"17":2,"24":21,"31":3,"32":3,"33":3,"36":2,"37":2,"38":2,"41":14,"42":14,"43":2,"44":2,"47":2,"48":2,"49":2,"53":2,"54":2,"55":1,"56":1,"57":1,"62":1,"64":2,"69":16,"70":16,"71":16,"72":16,"79":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/spy-mode.cjsx":{"b":{},"branchMap":{},"code":["var React, SpyModeContent, SpyModeWrapper, classnames;","","React = require('react');","","classnames = require('classnames');","","SpyModeWrapper = React.createClass({displayName: \"SpyModeWrapper\",","  propTypes: {","    onChange: React.PropTypes.func","  },","  getInitialState: function() {","    return {","      isEnabled: false","    };","  },","  toggleDebug: function(ev) {","    this.setState({","      isEnabled: !this.state.isEnabled","    });","    return ev.preventDefault();","  },","  render: function() {","    return React.createElement(\"div\", {","      \"className\": classnames('openstax-debug-content', {","        'is-enabled': this.state.isEnabled","      })","    }, this.props.children, React.createElement(\"a\", {","      \"href\": '#spy',","      \"onClick\": this.toggleDebug,","      \"className\": 'debug-toggle-link'","    }, \"π\"));","  }","});","","SpyModeContent = React.createClass({displayName: \"SpyModeContent\",","  propTypes: {","    className: React.PropTypes.string","  },","  render: function() {","    return React.createElement(\"div\", {","      \"className\": classnames('visible-when-debugging', this.props.className)","    }, this.props.children);","  }","});","","module.exports = {","  Content: SpyModeContent,","  Wrapper: SpyModeWrapper","};",""],"f":{"1":21,"2":0,"3":98,"4":134},"fnMap":{"1":{"line":11,"loc":{"end":{"column":30,"line":11},"start":{"column":19,"line":11}},"name":"(anonymous_1)"},"2":{"line":16,"loc":{"end":{"column":28,"line":16},"start":{"column":15,"line":16}},"name":"(anonymous_2)"},"3":{"line":22,"loc":{"end":{"column":21,"line":22},"start":{"column":10,"line":22}},"name":"(anonymous_3)"},"4":{"line":39,"loc":{"end":{"column":21,"line":39},"start":{"column":10,"line":39}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/components/spy-mode.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":98,"9":21,"10":134,"11":21},"statementMap":{"1":{"end":{"column":54,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":35,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":33},"start":{"column":0,"line":7}},"5":{"end":{"column":6,"line":14},"start":{"column":4,"line":12}},"6":{"end":{"column":7,"line":19},"start":{"column":4,"line":17}},"7":{"end":{"column":31,"line":20},"start":{"column":4,"line":20}},"8":{"end":{"column":13,"line":31},"start":{"column":4,"line":23}},"9":{"end":{"column":3,"line":44},"start":{"column":0,"line":35}},"10":{"end":{"column":28,"line":42},"start":{"column":4,"line":40}},"11":{"end":{"column":2,"line":49},"start":{"column":0,"line":46}}},"l":{"1":21,"3":21,"5":21,"7":21,"12":21,"17":0,"20":0,"23":98,"35":21,"40":134,"46":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/helpers/keys.coffee":{"b":{"1":[108,0],"2":[0,108],"3":[108,0],"4":[189,0]},"branchMap":{"1":{"line":12,"locations":[{"end":{"column":109,"line":12},"start":{"column":85,"line":12}},{"end":{"column":114,"line":12},"start":{"column":112,"line":12}}],"type":"cond-expr"},"2":{"line":13,"locations":[{"end":{"column":2,"line":13},"start":{"column":2,"line":13}},{"end":{"column":2,"line":13},"start":{"column":2,"line":13}}],"type":"if"},"3":{"line":16,"locations":[{"end":{"column":2,"line":16},"start":{"column":2,"line":16}},{"end":{"column":2,"line":16},"start":{"column":2,"line":16}}],"type":"if"},"4":{"line":30,"locations":[{"end":{"column":2,"line":30},"start":{"column":2,"line":30}},{"end":{"column":2,"line":30},"start":{"column":2,"line":30}}],"type":"if"}},"code":["var _, handleKeys, keymaster, keysHelper,","  slice = [].slice;","","_ = require('underscore');","","keymaster = require('keymaster');","","keysHelper = {};","","handleKeys = function() {","  var keyFN, keymasterArgs, keys;","  keyFN = arguments[0], keys = arguments[1], keymasterArgs = 3 <= arguments.length ? slice.call(arguments, 2) : [];","  if (!keys) {","    return keys != null;","  }","  if (_.isArray(keys)) {","    return _.each(keys, function(key) {","      return keyFN.apply(null, [key.toString()].concat(slice.call(keymasterArgs)));","    });","  } else {","    return keyFN.apply(null, [keys].concat(slice.call(keymasterArgs)));","  }","};","","keysHelper.on = _.partial(handleKeys, keymaster);","","keysHelper.off = _.partial(handleKeys, keymaster.unbind);","","keysHelper.getCharFromNumKey = function(numKey, offset) {","  if (offset == null) {","    offset = 1;","  }","  return String.fromCharCode((97 - offset) + numKey);","};","","module.exports = keysHelper;",""],"f":{"1":108,"2":216,"3":189},"fnMap":{"1":{"line":10,"loc":{"end":{"column":24,"line":10},"start":{"column":13,"line":10}},"name":"(anonymous_1)"},"2":{"line":17,"loc":{"end":{"column":38,"line":17},"start":{"column":24,"line":17}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":56,"line":29},"start":{"column":31,"line":29}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/helpers/keys.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":108,"7":108,"8":108,"9":0,"10":108,"11":108,"12":216,"13":0,"14":21,"15":21,"16":21,"17":189,"18":189,"19":189,"20":21},"statementMap":{"1":{"end":{"column":19,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":4},"start":{"column":0,"line":4}},"3":{"end":{"column":33,"line":6},"start":{"column":0,"line":6}},"4":{"end":{"column":16,"line":8},"start":{"column":0,"line":8}},"5":{"end":{"column":2,"line":23},"start":{"column":0,"line":10}},"6":{"end":{"column":33,"line":11},"start":{"column":2,"line":11}},"7":{"end":{"column":115,"line":12},"start":{"column":2,"line":12}},"8":{"end":{"column":3,"line":15},"start":{"column":2,"line":13}},"9":{"end":{"column":24,"line":14},"start":{"column":4,"line":14}},"10":{"end":{"column":3,"line":22},"start":{"column":2,"line":16}},"11":{"end":{"column":7,"line":19},"start":{"column":4,"line":17}},"12":{"end":{"column":83,"line":18},"start":{"column":6,"line":18}},"13":{"end":{"column":71,"line":21},"start":{"column":4,"line":21}},"14":{"end":{"column":49,"line":25},"start":{"column":0,"line":25}},"15":{"end":{"column":57,"line":27},"start":{"column":0,"line":27}},"16":{"end":{"column":2,"line":34},"start":{"column":0,"line":29}},"17":{"end":{"column":3,"line":32},"start":{"column":2,"line":30}},"18":{"end":{"column":15,"line":31},"start":{"column":4,"line":31}},"19":{"end":{"column":53,"line":33},"start":{"column":2,"line":33}},"20":{"end":{"column":28,"line":36},"start":{"column":0,"line":36}}},"l":{"1":21,"4":21,"6":21,"8":21,"10":21,"11":108,"12":108,"13":108,"14":0,"16":108,"17":108,"18":216,"21":0,"25":21,"27":21,"29":21,"30":189,"31":189,"33":189,"36":21}},
"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/helpers/mathjax.coffee":{"b":{"1":[116,0],"2":[0,116],"3":[64,79],"4":[143,143],"5":[143,0],"6":[143,0],"7":[21,0],"8":[21,0]},"branchMap":{"1":{"line":18,"locations":[{"end":{"column":2,"line":18},"start":{"column":2,"line":18}},{"end":{"column":2,"line":18},"start":{"column":2,"line":18}}],"type":"if"},"2":{"line":32,"locations":[{"end":{"column":4,"line":32},"start":{"column":4,"line":32}},{"end":{"column":4,"line":32},"start":{"column":4,"line":32}}],"type":"if"},"3":{"line":56,"locations":[{"end":{"column":2,"line":56},"start":{"column":2,"line":56}},{"end":{"column":2,"line":56},"start":{"column":2,"line":56}}],"type":"if"},"4":{"line":56,"locations":[{"end":{"column":105,"line":56},"start":{"column":7,"line":56}},{"end":{"column":152,"line":56},"start":{"column":110,"line":56}}],"type":"binary-expr"},"5":{"line":56,"locations":[{"end":{"column":87,"line":56},"start":{"column":41,"line":56}},{"end":{"column":96,"line":56},"start":{"column":90,"line":56}}],"type":"cond-expr"},"6":{"line":56,"locations":[{"end":{"column":78,"line":56},"start":{"column":68,"line":56}},{"end":{"column":87,"line":56},"start":{"column":81,"line":56}}],"type":"cond-expr"},"7":{"line":85,"locations":[{"end":{"column":2,"line":85},"start":{"column":2,"line":85}},{"end":{"column":2,"line":85},"start":{"column":2,"line":85}}],"type":"if"},"8":{"line":85,"locations":[{"end":{"column":46,"line":85},"start":{"column":39,"line":85}},{"end":{"column":55,"line":85},"start":{"column":49,"line":85}}],"type":"cond-expr"}},"code":["var COMBINED_MATH_SELECTOR, MATH_DATA_SELECTOR, MATH_MARKER_BLOCK, MATH_MARKER_INLINE, MATH_ML_SELECTOR, MATH_RENDERED_CLASS, _, setAsRendered, startMathJax, typesetDocument, typesetMath;","","_ = require('underscore');","","MATH_MARKER_BLOCK = '\\u200c\\u200c\\u200c';","","MATH_MARKER_INLINE = '\\u200b\\u200b\\u200b';","","MATH_RENDERED_CLASS = 'math-rendered';","","MATH_DATA_SELECTOR = \"[data-math]:not(.\" + MATH_RENDERED_CLASS + \")\";","","MATH_ML_SELECTOR = \"math:not(.\" + MATH_RENDERED_CLASS + \")\";","","COMBINED_MATH_SELECTOR = MATH_DATA_SELECTOR + \", \" + MATH_ML_SELECTOR;","","setAsRendered = function(node, type) {","  if (type == null) {","    type = 'mathjax';","  }","  node.classList.add(type + \"-rendered\");","  return node.classList.add(MATH_RENDERED_CLASS);","};","","typesetDocument = function() {","  var allNodes, formula, i, len, node, ref;","  allNodes = [];","  ref = document.querySelectorAll(MATH_DATA_SELECTOR);","  for (i = 0, len = ref.length; i < len; i++) {","    node = ref[i];","    formula = node.getAttribute('data-math');","    if (node.tagName.toLowerCase() === 'div') {","      node.textContent = \"\" + MATH_MARKER_BLOCK + formula + MATH_MARKER_BLOCK;","    } else {","      node.textContent = \"\" + MATH_MARKER_INLINE + formula + MATH_MARKER_INLINE;","    }","    allNodes.push(node);","  }","  allNodes = allNodes.concat(_.pluck(document.querySelectorAll(MATH_ML_SELECTOR), 'parentNode'));","  window.MathJax.Hub.Typeset(allNodes);","  return window.MathJax.Hub.Queue(function() {","    var j, len1, results;","    results = [];","    for (j = 0, len1 = allNodes.length; j < len1; j++) {","      node = allNodes[j];","      results.push(setAsRendered(node));","    }","    return results;","  });","};","","typesetDocument = _.debounce(typesetDocument, 10);","","typesetMath = function(root) {","  var ref, ref1;","  if ((((ref = window.MathJax) != null ? (ref1 = ref.Hub) != null ? ref1.Queue : void 0 : void 0) != null) && root.querySelector(COMBINED_MATH_SELECTOR)) {","    return typesetDocument();","  }","};","","startMathJax = function() {","  var MATHJAX_CONFIG, configuredCallback, ref;","  MATHJAX_CONFIG = {","    showProcessingMessages: false,","    tex2jax: {","      displayMath: [[MATH_MARKER_BLOCK, MATH_MARKER_BLOCK]],","      inlineMath: [[MATH_MARKER_INLINE, MATH_MARKER_INLINE]]","    },","    styles: {","      '#MathJax_Message': {","        visibility: 'hidden',","        left: '',","        right: 0","      },","      '#MathJax_MSIE_Frame': {","        visibility: 'hidden',","        left: '',","        right: 0","      }","    }","  };","  configuredCallback = function() {","    return window.MathJax.Hub.Configured();","  };","  if ((ref = window.MathJax) != null ? ref.Hub : void 0) {","    window.MathJax.Hub.Config(MATHJAX_CONFIG);","    window.MathJax.Hub.processSectionDelay = 0;","    return configuredCallback();","  } else {","    MATHJAX_CONFIG.AuthorInit = configuredCallback;","    return window.MathJax = MATHJAX_CONFIG;","  }","};","","module.exports = {","  typesetMath: typesetMath,","  startMathJax: startMathJax","};",""],"f":{"1":116,"2":2,"3":2,"4":143,"5":21,"6":21},"fnMap":{"1":{"line":17,"loc":{"end":{"column":37,"line":17},"start":{"column":16,"line":17}},"name":"(anonymous_1)"},"2":{"line":25,"loc":{"end":{"column":29,"line":25},"start":{"column":18,"line":25}},"name":"(anonymous_2)"},"3":{"line":41,"loc":{"end":{"column":45,"line":41},"start":{"column":34,"line":41}},"name":"(anonymous_3)"},"4":{"line":54,"loc":{"end":{"column":29,"line":54},"start":{"column":14,"line":54}},"name":"(anonymous_4)"},"5":{"line":61,"loc":{"end":{"column":26,"line":61},"start":{"column":15,"line":61}},"name":"(anonymous_5)"},"6":{"line":82,"loc":{"end":{"column":34,"line":82},"start":{"column":23,"line":82}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/node_modules/openstax-react-components/src/helpers/mathjax.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":116,"11":116,"12":116,"13":116,"14":21,"15":2,"16":2,"17":2,"18":2,"19":116,"20":116,"21":116,"22":0,"23":116,"24":116,"25":2,"26":2,"27":2,"28":2,"29":2,"30":2,"31":116,"32":116,"33":2,"34":21,"35":21,"36":143,"37":143,"38":64,"39":21,"40":21,"41":21,"42":21,"43":21,"44":21,"45":21,"46":21,"47":21,"48":0,"49":0,"50":21},"statementMap":{"1":{"end":{"column":187,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":41,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":42,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":38,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":69,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":60,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":70,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":2,"line":23},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":20},"start":{"column":2,"line":18}},"11":{"end":{"column":21,"line":19},"start":{"column":4,"line":19}},"12":{"end":{"column":41,"line":21},"start":{"column":2,"line":21}},"13":{"end":{"column":49,"line":22},"start":{"column":2,"line":22}},"14":{"end":{"column":2,"line":50},"start":{"column":0,"line":25}},"15":{"end":{"column":43,"line":26},"start":{"column":2,"line":26}},"16":{"end":{"column":16,"line":27},"start":{"column":2,"line":27}},"17":{"end":{"column":54,"line":28},"start":{"column":2,"line":28}},"18":{"end":{"column":3,"line":38},"start":{"column":2,"line":29}},"19":{"end":{"column":18,"line":30},"start":{"column":4,"line":30}},"20":{"end":{"column":45,"line":31},"start":{"column":4,"line":31}},"21":{"end":{"column":5,"line":36},"start":{"column":4,"line":32}},"22":{"end":{"column":78,"line":33},"start":{"column":6,"line":33}},"23":{"end":{"column":80,"line":35},"start":{"column":6,"line":35}},"24":{"end":{"column":24,"line":37},"start":{"column":4,"line":37}},"25":{"end":{"column":97,"line":39},"start":{"column":2,"line":39}},"26":{"end":{"column":39,"line":40},"start":{"column":2,"line":40}},"27":{"end":{"column":5,"line":49},"start":{"column":2,"line":41}},"28":{"end":{"column":25,"line":42},"start":{"column":4,"line":42}},"29":{"end":{"column":17,"line":43},"start":{"column":4,"line":43}},"30":{"end":{"column":5,"line":47},"start":{"column":4,"line":44}},"31":{"end":{"column":25,"line":45},"start":{"column":6,"line":45}},"32":{"end":{"column":40,"line":46},"start":{"column":6,"line":46}},"33":{"end":{"column":19,"line":48},"start":{"column":4,"line":48}},"34":{"end":{"column":50,"line":52},"start":{"column":0,"line":52}},"35":{"end":{"column":2,"line":59},"start":{"column":0,"line":54}},"36":{"end":{"column":16,"line":55},"start":{"column":2,"line":55}},"37":{"end":{"column":3,"line":58},"start":{"column":2,"line":56}},"38":{"end":{"column":29,"line":57},"start":{"column":4,"line":57}},"39":{"end":{"column":2,"line":93},"start":{"column":0,"line":61}},"40":{"end":{"column":46,"line":62},"start":{"column":2,"line":62}},"41":{"end":{"column":4,"line":81},"start":{"column":2,"line":63}},"42":{"end":{"column":4,"line":84},"start":{"column":2,"line":82}},"43":{"end":{"column":43,"line":83},"start":{"column":4,"line":83}},"44":{"end":{"column":3,"line":92},"start":{"column":2,"line":85}},"45":{"end":{"column":46,"line":86},"start":{"column":4,"line":86}},"46":{"end":{"column":47,"line":87},"start":{"column":4,"line":87}},"47":{"end":{"column":32,"line":88},"start":{"column":4,"line":88}},"48":{"end":{"column":51,"line":90},"start":{"column":4,"line":90}},"49":{"end":{"column":43,"line":91},"start":{"column":4,"line":91}},"50":{"end":{"column":2,"line":98},"start":{"column":0,"line":95}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"18":116,"19":116,"21":116,"22":116,"25":21,"26":2,"27":2,"28":2,"29":2,"30":116,"31":116,"32":116,"33":0,"35":116,"37":116,"39":2,"40":2,"41":2,"42":2,"43":2,"44":2,"45":116,"46":116,"48":2,"52":21,"54":21,"55":143,"56":143,"57":64,"61":21,"62":21,"63":21,"82":21,"83":21,"85":21,"86":21,"87":21,"88":21,"90":0,"91":0,"95":21}},
"/Users/phil/github/openstax/tutor-js/src/api.coffee":{"b":{"1":[21,21],"2":[0,93],"3":[120,0],"4":[116,3],"5":[6,110],"6":[0,116],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[42,0],"15":[3,3],"16":[0,3],"17":[0,0],"18":[0,21],"19":[0,2],"20":[2,0]},"branchMap":{"1":{"line":60,"locations":[{"end":{"column":42,"line":60},"start":{"column":11,"line":60}},{"end":{"column":62,"line":60},"start":{"column":46,"line":60}}],"type":"binary-expr"},"2":{"line":69,"locations":[{"end":{"column":2,"line":69},"start":{"column":2,"line":69}},{"end":{"column":2,"line":69},"start":{"column":2,"line":69}}],"type":"if"},"3":{"line":78,"locations":[{"end":{"column":59,"line":78},"start":{"column":35,"line":78}},{"end":{"column":64,"line":78},"start":{"column":62,"line":78}}],"type":"cond-expr"},"4":{"line":83,"locations":[{"end":{"column":26,"line":83},"start":{"column":16,"line":83}},{"end":{"column":48,"line":83},"start":{"column":30,"line":83}}],"type":"binary-expr"},"5":{"line":91,"locations":[{"end":{"column":6,"line":91},"start":{"column":6,"line":91}},{"end":{"column":6,"line":91},"start":{"column":6,"line":91}}],"type":"if"},"6":{"line":97,"locations":[{"end":{"column":6,"line":97},"start":{"column":6,"line":97}},{"end":{"column":6,"line":97},"start":{"column":6,"line":97}}],"type":"if"},"7":{"line":99,"locations":[{"end":{"column":8,"line":99},"start":{"column":8,"line":99}},{"end":{"column":8,"line":99},"start":{"column":8,"line":99}}],"type":"if"},"8":{"line":118,"locations":[{"end":{"column":8,"line":118},"start":{"column":8,"line":118}},{"end":{"column":8,"line":118},"start":{"column":8,"line":118}}],"type":"if"},"9":{"line":120,"locations":[{"end":{"column":15,"line":120},"start":{"column":15,"line":120}},{"end":{"column":15,"line":120},"start":{"column":15,"line":120}}],"type":"if"},"10":{"line":120,"locations":[{"end":{"column":50,"line":120},"start":{"column":19,"line":120}},{"end":{"column":72,"line":120},"start":{"column":54,"line":120}},{"end":{"column":84,"line":120},"start":{"column":76,"line":120}}],"type":"binary-expr"},"11":{"line":121,"locations":[{"end":{"column":10,"line":121},"start":{"column":10,"line":121}},{"end":{"column":10,"line":121},"start":{"column":10,"line":121}}],"type":"if"},"12":{"line":121,"locations":[{"end":{"column":34,"line":121},"start":{"column":14,"line":121}},{"end":{"column":60,"line":121},"start":{"column":38,"line":121}}],"type":"binary-expr"},"13":{"line":126,"locations":[{"end":{"column":15,"line":126},"start":{"column":15,"line":126}},{"end":{"column":15,"line":126},"start":{"column":15,"line":126}}],"type":"if"},"14":{"line":153,"locations":[{"end":{"column":4,"line":153},"start":{"column":4,"line":153}},{"end":{"column":4,"line":153},"start":{"column":4,"line":153}}],"type":"if"},"15":{"line":165,"locations":[{"end":{"column":4,"line":165},"start":{"column":4,"line":165}},{"end":{"column":4,"line":165},"start":{"column":4,"line":165}}],"type":"if"},"16":{"line":166,"locations":[{"end":{"column":6,"line":166},"start":{"column":6,"line":166}},{"end":{"column":6,"line":166},"start":{"column":6,"line":166}}],"type":"if"},"17":{"line":198,"locations":[{"end":{"column":4,"line":198},"start":{"column":4,"line":198}},{"end":{"column":4,"line":198},"start":{"column":4,"line":198}}],"type":"if"},"18":{"line":232,"locations":[{"end":{"column":33,"line":232},"start":{"column":28,"line":232}},{"end":{"column":42,"line":232},"start":{"column":36,"line":232}}],"type":"cond-expr"},"19":{"line":331,"locations":[{"end":{"column":4,"line":331},"start":{"column":4,"line":331}},{"end":{"column":4,"line":331},"start":{"column":4,"line":331}}],"type":"if"},"20":{"line":331,"locations":[{"end":{"column":32,"line":331},"start":{"column":10,"line":331}},{"end":{"column":58,"line":331},"start":{"column":36,"line":331}}],"type":"binary-expr"}},"code":["var $, AppActions, BOOTSTRAPED_STORES, CCDashboardActions, CCDashboardStore, CourseActions, CourseListingActions, CourseListingStore, CurrentUserActions, CurrentUserStore, EcosystemsActions, ExerciseActions, IS_LOCAL, JobActions, PerformanceForecast, PeriodActions, ReferenceBookActions, ReferenceBookExerciseActions, ReferenceBookExerciseStore, ReferenceBookPageActions, ReferenceBookPageStore, ReferenceBookStore, RosterActions, ScoresActions, ScoresExportActions, StudentDashboardActions, TaskActions, TaskPlanActions, TaskPlanStatsActions, TaskPlanStatsStore, TaskPlanStore, TaskStepActions, TaskTeacherReviewActions, TaskTeacherReviewStore, TeacherRosterActions, TeacherTaskPlanActions, TeacherTaskPlanStore, TimeActions, TocActions, _, apiHelper, delay, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, setNow, start,","  slice = [].slice;","","$ = require('jquery');","","_ = require('underscore');","","AppActions = require('./flux/app').AppActions;","","TimeActions = require('./flux/time').TimeActions;","","ref = require('./flux/current-user'), CurrentUserActions = ref.CurrentUserActions, CurrentUserStore = ref.CurrentUserStore;","","CourseActions = require('./flux/course').CourseActions;","","JobActions = require('./flux/job').JobActions;","","EcosystemsActions = require('./flux/ecosystems').EcosystemsActions;","","PerformanceForecast = require('./flux/performance-forecast');","","ScoresActions = require('./flux/scores').ScoresActions;","","ScoresExportActions = require('./flux/scores-export').ScoresExportActions;","","TeacherRosterActions = require('./flux/teacher-roster').TeacherRosterActions;","","RosterActions = require('./flux/roster').RosterActions;","","PeriodActions = require('./flux/period').PeriodActions;","","TaskActions = require('./flux/task').TaskActions;","","TaskStepActions = require('./flux/task-step').TaskStepActions;","","ref1 = require('./flux/task-plan'), TaskPlanActions = ref1.TaskPlanActions, TaskPlanStore = ref1.TaskPlanStore;","","ref2 = require('./flux/task-teacher-review'), TaskTeacherReviewActions = ref2.TaskTeacherReviewActions, TaskTeacherReviewStore = ref2.TaskTeacherReviewStore;","","ref3 = require('./flux/task-plan-stats'), TaskPlanStatsActions = ref3.TaskPlanStatsActions, TaskPlanStatsStore = ref3.TaskPlanStatsStore;","","TocActions = require('./flux/toc').TocActions;","","ExerciseActions = require('./flux/exercise').ExerciseActions;","","ref4 = require('./flux/teacher-task-plan'), TeacherTaskPlanActions = ref4.TeacherTaskPlanActions, TeacherTaskPlanStore = ref4.TeacherTaskPlanStore;","","StudentDashboardActions = require('./flux/student-dashboard').StudentDashboardActions;","","ref5 = require('./flux/course-listing'), CourseListingActions = ref5.CourseListingActions, CourseListingStore = ref5.CourseListingStore;","","ref6 = require('./flux/cc-dashboard'), CCDashboardStore = ref6.CCDashboardStore, CCDashboardActions = ref6.CCDashboardActions;","","ref7 = require('./flux/reference-book'), ReferenceBookActions = ref7.ReferenceBookActions, ReferenceBookStore = ref7.ReferenceBookStore;","","ref8 = require('./flux/reference-book-page'), ReferenceBookPageActions = ref8.ReferenceBookPageActions, ReferenceBookPageStore = ref8.ReferenceBookPageStore;","","ref9 = require('./flux/reference-book-exercise'), ReferenceBookExerciseActions = ref9.ReferenceBookExerciseActions, ReferenceBookExerciseStore = ref9.ReferenceBookExerciseStore;","","IS_LOCAL = window.location.port === '8000' || window.__karma__;","","delay = function(ms, fn) {","  return setTimeout(fn, ms);","};","","setNow = function(jqXhr) {","  var date;","  date = jqXhr.getResponseHeader('X-App-Date');","  if (date == null) {","    date = jqXhr.getResponseHeader('Date');","  }","  return TimeActions.setFromString(date);","};","","apiHelper = function(Actions, listenAction, successAction, httpMethod, pathMaker, options) {","  return listenAction.addListener('trigger', function() {","    var args;","    args = 1 <= arguments.length ? slice.call(arguments, 0) : [];","    return delay(20, function() {","      var httpMethodOverride, opts, params, payload, ref10, ref11, rejected, resolved, uri, url;","      ref10 = pathMaker.apply(null, args), url = ref10.url, payload = ref10.payload, httpMethodOverride = ref10.httpMethod;","      opts = {","        method: httpMethod || httpMethodOverride,","        dataType: 'json',","        headers: {","          'X-CSRF-Token': CurrentUserStore.getCSRFToken(),","          token: CurrentUserStore.getToken()","        },","        displayError: true","      };","      if (payload != null) {","        opts.data = JSON.stringify(payload);","        opts.processData = false;","        opts.contentType = 'application/json';","      }","      opts = _.extend({}, opts, options);","      if (IS_LOCAL) {","        ref11 = url.split(\"?\"), uri = ref11[0], params = ref11[1];","        if (opts.method === 'GET') {","          url = uri + \".json?\" + params;","        } else {","          url = uri + \"/\" + opts.method + \".json?\" + params;","          opts.method = 'GET';","        }","      }","      resolved = function(results, statusStr, jqXhr) {","        setNow(jqXhr);","        return successAction.apply(null, [results].concat(slice.call(args)));","      };","      rejected = function(jqXhr, statusMessage, err) {","        var e, msg, statusCode;","        setNow(jqXhr);","        statusCode = jqXhr.status;","        AppActions.setServerError(statusCode, jqXhr.responseText, {","          url: url,","          opts: opts","        });","        if (statusCode === 400) {","          return CurrentUserActions.logout();","        } else if (statusMessage === 'parsererror' && statusCode === 200 && IS_LOCAL) {","          if (httpMethod === 'PUT' || httpMethod === 'PATCH') {","            return successAction.apply(null, [null].concat(slice.call(args)));","          } else {","            return Actions.FAILED.apply(Actions, [404, 'Error Parsing the JSON or a 404'].concat(slice.call(args)));","          }","        } else if (statusCode === 404) {","          return Actions.FAILED.apply(Actions, [statusCode, 'ERROR_NOTFOUND'].concat(slice.call(args)));","        } else {","          try {","            msg = JSON.parse(jqXhr.responseText);","          } catch (_error) {","            e = _error;","            msg = jqXhr.responseText;","          }","          return Actions.FAILED.apply(Actions, [statusCode, msg].concat(slice.call(args)));","        }","      };","      return $.ajax(url, opts).then(resolved, rejected);","    });","  });","};","","BOOTSTRAPED_STORES = {","  user: CurrentUserActions.loaded,","  courses: CourseListingActions.loaded","};","","start = function(bootstrapData) {","  var action, createMethod, data, saveHelper, storeId;","  for (storeId in BOOTSTRAPED_STORES) {","    action = BOOTSTRAPED_STORES[storeId];","    data = bootstrapData[storeId];","    if (data) {","      action(data);","    }","  }","  apiHelper(TaskActions, TaskActions.load, TaskActions.loaded, 'GET', function(id) {","    return {","      url: \"/api/tasks/\" + id","    };","  });","  saveHelper = function(id) {","    var courseId, obj;","    obj = TaskPlanStore.getChanged(id);","    if (TaskPlanStore.isNew(id)) {","      if (obj.type == null) {","        obj.type = 'reading';","      }","      courseId = obj._HACK_courseId;","      delete obj._HACK_courseId;","      return {","        url: \"/api/courses/\" + courseId + \"/plans\",","        httpMethod: 'POST',","        payload: obj","      };","    } else {","      return {","        url: \"/api/plans/\" + id,","        httpMethod: 'PATCH',","        payload: obj","      };","    }","  };","  apiHelper(TaskPlanActions, TaskPlanActions.save, TaskPlanActions.saved, null, saveHelper);","  apiHelper(TaskPlanActions, TaskPlanActions[\"delete\"], TaskPlanActions.deleted, 'DELETE', saveHelper);","  apiHelper(TaskPlanActions, TaskPlanActions.load, TaskPlanActions.loaded, 'GET', function(id) {","    return {","      url: \"/api/plans/\" + id","    };","  });","  apiHelper(TaskPlanStatsActions, TaskPlanStatsActions.load, TaskPlanStatsActions.loaded, 'GET', function(id) {","    return {","      url: \"/api/plans/\" + id + \"/stats\"","    };","  });","  apiHelper(ExerciseActions, ExerciseActions.load, ExerciseActions.loaded, 'GET', function(ecosystemId, pageIds, requestType) {","    var page_id_str;","    if (requestType == null) {","      requestType = 'homework_core';","    }","    page_id_str = pageIds.join('&page_ids[]=');","    return {","      url: \"/api/ecosystems/\" + ecosystemId + \"/exercises/\" + requestType + \"?page_ids[]=\" + page_id_str","    };","  });","  apiHelper(TocActions, TocActions.load, TocActions.loaded, 'GET', function(ecosystemId) {","    return {","      url: \"/api/ecosystems/\" + ecosystemId + \"/readings\"","    };","  });","  apiHelper(CourseActions, CourseActions.loadPractice, CourseActions.loadedPractice, 'GET', function(courseId) {","    return {","      url: \"/api/courses/\" + courseId + \"/practice\"","    };","  });","  apiHelper(CourseActions, CourseActions.loadGuide, CourseActions.loadedGuide, 'GET', function(courseId) {","    return {","      url: \"/api/courses/\" + courseId + \"/guide\"","    };","  });","  apiHelper(CourseActions, CourseActions.save, CourseActions.saved, 'PATCH', function(courseId, params) {","    return {","      url: \"/api/courses/\" + courseId,","      payload: params","    };","  });","  apiHelper(CCDashboardActions, CCDashboardActions.load, CCDashboardActions.loaded, 'GET', function(courseId) {","    return {","      url: \"/api/courses/\" + courseId + \"/cc/dashboard\"","    };","  });","  createMethod = IS_LOCAL ? 'GET' : 'POST';","  apiHelper(CourseActions, CourseActions.createPractice, CourseActions.createdPractice, createMethod, function(courseId, params) {","    return {","      url: \"/api/courses/\" + courseId + \"/practice\",","      payload: params","    };","  });","  apiHelper(CourseActions, CourseActions.load, CourseActions.loaded, 'GET', function(courseId) {","    return {","      url: \"/api/courses/\" + courseId","    };","  });","  apiHelper(PerformanceForecast.Student.actions, PerformanceForecast.Student.actions.load, PerformanceForecast.Student.actions.loaded, 'GET', function(id) {","    return {","      url: \"/api/courses/\" + id + \"/guide\"","    };","  });","  apiHelper(PerformanceForecast.Teacher.actions, PerformanceForecast.Teacher.actions.load, PerformanceForecast.Teacher.actions.loaded, 'GET', function(id) {","    return {","      url: \"/api/courses/\" + id + \"/teacher_guide\"","    };","  });","  apiHelper(PerformanceForecast.TeacherStudent.actions, PerformanceForecast.TeacherStudent.actions.load, PerformanceForecast.TeacherStudent.actions.loaded, 'GET', function(id, arg) {","    var roleId;","    roleId = arg.roleId;","    return {","      url: \"/api/courses/\" + id + \"/guide/role/\" + roleId","    };","  });","  apiHelper(ScoresActions, ScoresActions.load, ScoresActions.loaded, 'GET', function(id) {","    return {","      url: \"/api/courses/\" + id + \"/performance\"","    };","  });","  apiHelper(ScoresExportActions, ScoresExportActions.load, ScoresExportActions.loaded, 'GET', function(id) {","    return {","      url: \"/api/courses/\" + id + \"/performance/exports\"","    };","  });","  apiHelper(ScoresExportActions, ScoresExportActions[\"export\"], ScoresExportActions.exported, 'POST', function(id) {","    return {","      url: \"/api/courses/\" + id + \"/performance/export\"","    };","  });","  apiHelper(JobActions, JobActions.load, JobActions.loaded, 'GET', function(id) {","    return {","      url: \"/api/jobs/\" + id","    };","  });","  apiHelper(EcosystemsActions, EcosystemsActions.load, EcosystemsActions.loaded, 'GET', function() {","    return {","      url: \"/api/ecosystems\"","    };","  });","  apiHelper(TeacherRosterActions, TeacherRosterActions[\"delete\"], TeacherRosterActions.deleted, 'DELETE', function(id) {","    return {","      url: \"/api/teachers/\" + id","    };","  });","  apiHelper(RosterActions, RosterActions[\"delete\"], RosterActions.deleted, 'DELETE', function(id) {","    return {","      url: \"/api/students/\" + id","    };","  });","  apiHelper(RosterActions, RosterActions.save, RosterActions.saved, 'PATCH', function(id, params) {","    return {","      url: \"/api/students/\" + id,","      payload: params","    };","  });","  apiHelper(RosterActions, RosterActions.create, RosterActions.created, createMethod, function(courseId, params) {","    return {","      url: \"/api/courses/\" + courseId + \"/roster\",","      payload: params","    };","  });","  apiHelper(RosterActions, RosterActions.load, RosterActions.loaded, 'GET', function(id) {","    return {","      url: \"/api/courses/\" + id + \"/roster\"","    };","  });","  apiHelper(PeriodActions, PeriodActions.create, PeriodActions.created, createMethod, function(courseId, params) {","    return {","      url: \"/api/courses/\" + courseId + \"/periods\",","      payload: params","    };","  });","  apiHelper(PeriodActions, PeriodActions.save, PeriodActions.saved, 'PATCH', function(id, period, params) {","    return {","      url: \"/api/periods/\" + period,","      payload: params","    };","  });","  apiHelper(PeriodActions, PeriodActions[\"delete\"], PeriodActions.deleted, 'DELETE', function(id) {","    return {","      url: \"/api/periods/\" + id","    };","  });","  apiHelper(TaskStepActions, TaskStepActions.load, TaskStepActions.loaded, 'GET', function(id) {","    if (!(typeof id === 'string' || typeof id === 'number')) {","      throw new Error('BUG: Wrong type');","    }","    return {","      url: \"/api/steps/\" + id","    };","  });","  apiHelper(TaskStepActions, TaskStepActions.complete, TaskStepActions.completed, 'PUT', function(id) {","    return {","      url: \"/api/steps/\" + id + \"/completed\"","    };","  });","  apiHelper(TaskStepActions, TaskStepActions.loadRecovery, TaskStepActions.loadedRecovery, 'PUT', function(id) {","    return {","      url: \"/api/steps/\" + id + \"/recovery\"","    };","  });","  apiHelper(TaskStepActions, TaskStepActions.setFreeResponseAnswer, TaskStepActions.saved, 'PATCH', function(id, free_response) {","    return {","      url: \"/api/steps/\" + id,","      payload: {","        free_response: free_response","      }","    };","  });","  apiHelper(TaskStepActions, TaskStepActions.setAnswerId, TaskStepActions.saved, 'PATCH', function(id, answer_id) {","    return {","      url: \"/api/steps/\" + id,","      payload: {","        answer_id: answer_id","      }","    };","  });","  apiHelper(TaskActions, TaskActions.loadUserTasks, TaskActions.loadedUserTasks, 'GET', function(courseId) {","    return {","      url: \"/api/courses/\" + courseId + \"/tasks\"","    };","  });","  apiHelper(TaskTeacherReviewActions, TaskTeacherReviewActions.load, TaskTeacherReviewActions.loaded, 'GET', function(id) {","    return {","      url: \"/api/plans/\" + id + \"/review\"","    };","  });","  apiHelper(TeacherTaskPlanActions, TeacherTaskPlanActions.load, TeacherTaskPlanActions.loaded, 'GET', function(courseId) {","    return {","      url: \"/api/courses/\" + courseId + \"/dashboard\"","    };","  });","  apiHelper(CurrentUserActions, CurrentUserActions.load, CurrentUserActions.loaded, 'GET', function() {","    return {","      url: '/api/user'","    };","  });","  apiHelper(CourseListingActions, CourseListingActions.load, CourseListingActions.loaded, 'GET', function() {","    return {","      url: '/api/user/courses'","    };","  });","  apiHelper(ReferenceBookActions, ReferenceBookActions.load, ReferenceBookActions.loaded, 'GET', function(ecosystemId) {","    return {","      url: \"/api/ecosystems/\" + ecosystemId + \"/readings\"","    };","  });","  apiHelper(ReferenceBookPageActions, ReferenceBookPageActions.load, ReferenceBookPageActions.loaded, 'GET', function(cnxId) {","    return {","      url: \"/api/pages/\" + cnxId","    };","  });","  apiHelper(ReferenceBookPageActions, ReferenceBookPageActions.loadSilent, ReferenceBookPageActions.loaded, 'GET', function(cnxId) {","    return {","      url: \"/api/pages/\" + cnxId","    };","  }, {","    displayError: false","  });","  apiHelper(ReferenceBookExerciseActions, ReferenceBookExerciseActions.load, ReferenceBookExerciseActions.loaded, 'GET', function(exerciseAPIUrl) {","    return {","      url: exerciseAPIUrl","    };","  });","  apiHelper(StudentDashboardActions, StudentDashboardActions.load, StudentDashboardActions.loaded, 'GET', function(courseId) {","    return {","      url: \"/api/courses/\" + courseId + \"/dashboard\"","    };","  });","  return CurrentUserActions.logout.addListener('trigger', function() {","    console.warn('Logging out programatically needs to be done via a form submission or follow redirects');","    return window.location.href = '/';","  });","};","","module.exports = {","  start: start","};",""],"f":{"1":120,"2":93,"3":924,"4":120,"5":116,"6":93,"7":0,"8":21,"9":2,"10":6,"11":3,"12":3,"13":0,"14":12,"15":0,"16":0,"17":0,"18":7,"19":0,"20":15,"21":2,"22":2,"23":2,"24":17,"25":13,"26":0,"27":2,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":2,"38":0,"39":0,"40":0,"41":0,"42":0,"43":2,"44":24,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":2,"52":0},"fnMap":{"1":{"line":62,"loc":{"end":{"column":25,"line":62},"start":{"column":8,"line":62}},"name":"(anonymous_1)"},"2":{"line":66,"loc":{"end":{"column":25,"line":66},"start":{"column":9,"line":66}},"name":"(anonymous_2)"},"3":{"line":75,"loc":{"end":{"column":91,"line":75},"start":{"column":12,"line":75}},"name":"(anonymous_3)"},"4":{"line":76,"loc":{"end":{"column":56,"line":76},"start":{"column":45,"line":76}},"name":"(anonymous_4)"},"5":{"line":79,"loc":{"end":{"column":32,"line":79},"start":{"column":21,"line":79}},"name":"(anonymous_5)"},"6":{"line":106,"loc":{"end":{"column":53,"line":106},"start":{"column":17,"line":106}},"name":"(anonymous_6)"},"7":{"line":110,"loc":{"end":{"column":53,"line":110},"start":{"column":17,"line":110}},"name":"(anonymous_7)"},"8":{"line":148,"loc":{"end":{"column":32,"line":148},"start":{"column":8,"line":148}},"name":"(anonymous_8)"},"9":{"line":157,"loc":{"end":{"column":83,"line":157},"start":{"column":70,"line":157}},"name":"(anonymous_9)"},"10":{"line":162,"loc":{"end":{"column":28,"line":162},"start":{"column":15,"line":162}},"name":"(anonymous_10)"},"11":{"line":186,"loc":{"end":{"column":95,"line":186},"start":{"column":82,"line":186}},"name":"(anonymous_11)"},"12":{"line":191,"loc":{"end":{"column":110,"line":191},"start":{"column":97,"line":191}},"name":"(anonymous_12)"},"13":{"line":196,"loc":{"end":{"column":126,"line":196},"start":{"column":82,"line":196}},"name":"(anonymous_13)"},"14":{"line":206,"loc":{"end":{"column":89,"line":206},"start":{"column":67,"line":206}},"name":"(anonymous_14)"},"15":{"line":211,"loc":{"end":{"column":111,"line":211},"start":{"column":92,"line":211}},"name":"(anonymous_15)"},"16":{"line":216,"loc":{"end":{"column":105,"line":216},"start":{"column":86,"line":216}},"name":"(anonymous_16)"},"17":{"line":221,"loc":{"end":{"column":104,"line":221},"start":{"column":77,"line":221}},"name":"(anonymous_17)"},"18":{"line":227,"loc":{"end":{"column":110,"line":227},"start":{"column":91,"line":227}},"name":"(anonymous_18)"},"19":{"line":233,"loc":{"end":{"column":129,"line":233},"start":{"column":102,"line":233}},"name":"(anonymous_19)"},"20":{"line":239,"loc":{"end":{"column":95,"line":239},"start":{"column":76,"line":239}},"name":"(anonymous_20)"},"21":{"line":244,"loc":{"end":{"column":155,"line":244},"start":{"column":142,"line":244}},"name":"(anonymous_21)"},"22":{"line":249,"loc":{"end":{"column":155,"line":249},"start":{"column":142,"line":249}},"name":"(anonymous_22)"},"23":{"line":254,"loc":{"end":{"column":181,"line":254},"start":{"column":163,"line":254}},"name":"(anonymous_23)"},"24":{"line":261,"loc":{"end":{"column":89,"line":261},"start":{"column":76,"line":261}},"name":"(anonymous_24)"},"25":{"line":266,"loc":{"end":{"column":107,"line":266},"start":{"column":94,"line":266}},"name":"(anonymous_25)"},"26":{"line":271,"loc":{"end":{"column":115,"line":271},"start":{"column":102,"line":271}},"name":"(anonymous_26)"},"27":{"line":276,"loc":{"end":{"column":80,"line":276},"start":{"column":67,"line":276}},"name":"(anonymous_27)"},"28":{"line":281,"loc":{"end":{"column":99,"line":281},"start":{"column":88,"line":281}},"name":"(anonymous_28)"},"29":{"line":286,"loc":{"end":{"column":119,"line":286},"start":{"column":106,"line":286}},"name":"(anonymous_29)"},"30":{"line":291,"loc":{"end":{"column":98,"line":291},"start":{"column":85,"line":291}},"name":"(anonymous_30)"},"31":{"line":296,"loc":{"end":{"column":98,"line":296},"start":{"column":77,"line":296}},"name":"(anonymous_31)"},"32":{"line":302,"loc":{"end":{"column":113,"line":302},"start":{"column":86,"line":302}},"name":"(anonymous_32)"},"33":{"line":308,"loc":{"end":{"column":89,"line":308},"start":{"column":76,"line":308}},"name":"(anonymous_33)"},"34":{"line":313,"loc":{"end":{"column":113,"line":313},"start":{"column":86,"line":313}},"name":"(anonymous_34)"},"35":{"line":319,"loc":{"end":{"column":106,"line":319},"start":{"column":77,"line":319}},"name":"(anonymous_35)"},"36":{"line":325,"loc":{"end":{"column":98,"line":325},"start":{"column":85,"line":325}},"name":"(anonymous_36)"},"37":{"line":330,"loc":{"end":{"column":95,"line":330},"start":{"column":82,"line":330}},"name":"(anonymous_37)"},"38":{"line":338,"loc":{"end":{"column":102,"line":338},"start":{"column":89,"line":338}},"name":"(anonymous_38)"},"39":{"line":343,"loc":{"end":{"column":111,"line":343},"start":{"column":98,"line":343}},"name":"(anonymous_39)"},"40":{"line":348,"loc":{"end":{"column":128,"line":348},"start":{"column":100,"line":348}},"name":"(anonymous_40)"},"41":{"line":356,"loc":{"end":{"column":114,"line":356},"start":{"column":90,"line":356}},"name":"(anonymous_41)"},"42":{"line":364,"loc":{"end":{"column":107,"line":364},"start":{"column":88,"line":364}},"name":"(anonymous_42)"},"43":{"line":369,"loc":{"end":{"column":122,"line":369},"start":{"column":109,"line":369}},"name":"(anonymous_43)"},"44":{"line":374,"loc":{"end":{"column":122,"line":374},"start":{"column":103,"line":374}},"name":"(anonymous_44)"},"45":{"line":379,"loc":{"end":{"column":102,"line":379},"start":{"column":91,"line":379}},"name":"(anonymous_45)"},"46":{"line":384,"loc":{"end":{"column":108,"line":384},"start":{"column":97,"line":384}},"name":"(anonymous_46)"},"47":{"line":389,"loc":{"end":{"column":119,"line":389},"start":{"column":97,"line":389}},"name":"(anonymous_47)"},"48":{"line":394,"loc":{"end":{"column":125,"line":394},"start":{"column":109,"line":394}},"name":"(anonymous_48)"},"49":{"line":399,"loc":{"end":{"column":131,"line":399},"start":{"column":115,"line":399}},"name":"(anonymous_49)"},"50":{"line":406,"loc":{"end":{"column":146,"line":406},"start":{"column":121,"line":406}},"name":"(anonymous_50)"},"51":{"line":411,"loc":{"end":{"column":125,"line":411},"start":{"column":106,"line":411}},"name":"(anonymous_51)"},"52":{"line":416,"loc":{"end":{"column":69,"line":416},"start":{"column":58,"line":416}},"name":"(anonymous_52)"}},"path":"/Users/phil/github/openstax/tutor-js/src/api.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":21,"20":21,"21":21,"22":21,"23":21,"24":21,"25":21,"26":21,"27":21,"28":21,"29":21,"30":21,"31":21,"32":120,"33":21,"34":93,"35":93,"36":93,"37":0,"38":93,"39":21,"40":924,"41":120,"42":120,"43":120,"44":116,"45":116,"46":116,"47":116,"48":6,"49":6,"50":6,"51":116,"52":116,"53":0,"54":0,"55":0,"56":0,"57":0,"58":116,"59":93,"60":93,"61":116,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":116,"80":21,"81":21,"82":21,"83":21,"84":42,"85":42,"86":42,"87":42,"88":21,"89":2,"90":21,"91":6,"92":6,"93":6,"94":3,"95":0,"96":3,"97":3,"98":3,"99":3,"100":21,"101":21,"102":21,"103":3,"104":21,"105":3,"106":21,"107":0,"108":0,"109":0,"110":0,"111":0,"112":21,"113":12,"114":21,"115":0,"116":21,"117":0,"118":21,"119":0,"120":21,"121":7,"122":21,"123":21,"124":0,"125":21,"126":15,"127":21,"128":2,"129":21,"130":2,"131":21,"132":2,"133":2,"134":2,"135":21,"136":17,"137":21,"138":13,"139":21,"140":0,"141":21,"142":2,"143":21,"144":0,"145":21,"146":0,"147":21,"148":0,"149":21,"150":0,"151":21,"152":0,"153":21,"154":0,"155":21,"156":0,"157":21,"158":0,"159":21,"160":0,"161":21,"162":2,"163":0,"164":2,"165":21,"166":0,"167":21,"168":0,"169":21,"170":0,"171":21,"172":0,"173":21,"174":0,"175":21,"176":2,"177":21,"178":24,"179":21,"180":0,"181":21,"182":0,"183":21,"184":0,"185":21,"186":0,"187":21,"188":0,"189":21,"190":0,"191":21,"192":2,"193":21,"194":0,"195":0,"196":21},"statementMap":{"1":{"end":{"column":19,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":22,"line":4},"start":{"column":0,"line":4}},"3":{"end":{"column":26,"line":6},"start":{"column":0,"line":6}},"4":{"end":{"column":46,"line":8},"start":{"column":0,"line":8}},"5":{"end":{"column":49,"line":10},"start":{"column":0,"line":10}},"6":{"end":{"column":123,"line":12},"start":{"column":0,"line":12}},"7":{"end":{"column":55,"line":14},"start":{"column":0,"line":14}},"8":{"end":{"column":46,"line":16},"start":{"column":0,"line":16}},"9":{"end":{"column":67,"line":18},"start":{"column":0,"line":18}},"10":{"end":{"column":61,"line":20},"start":{"column":0,"line":20}},"11":{"end":{"column":55,"line":22},"start":{"column":0,"line":22}},"12":{"end":{"column":74,"line":24},"start":{"column":0,"line":24}},"13":{"end":{"column":77,"line":26},"start":{"column":0,"line":26}},"14":{"end":{"column":55,"line":28},"start":{"column":0,"line":28}},"15":{"end":{"column":55,"line":30},"start":{"column":0,"line":30}},"16":{"end":{"column":49,"line":32},"start":{"column":0,"line":32}},"17":{"end":{"column":62,"line":34},"start":{"column":0,"line":34}},"18":{"end":{"column":111,"line":36},"start":{"column":0,"line":36}},"19":{"end":{"column":157,"line":38},"start":{"column":0,"line":38}},"20":{"end":{"column":137,"line":40},"start":{"column":0,"line":40}},"21":{"end":{"column":46,"line":42},"start":{"column":0,"line":42}},"22":{"end":{"column":61,"line":44},"start":{"column":0,"line":44}},"23":{"end":{"column":147,"line":46},"start":{"column":0,"line":46}},"24":{"end":{"column":86,"line":48},"start":{"column":0,"line":48}},"25":{"end":{"column":136,"line":50},"start":{"column":0,"line":50}},"26":{"end":{"column":126,"line":52},"start":{"column":0,"line":52}},"27":{"end":{"column":136,"line":54},"start":{"column":0,"line":54}},"28":{"end":{"column":157,"line":56},"start":{"column":0,"line":56}},"29":{"end":{"column":177,"line":58},"start":{"column":0,"line":58}},"30":{"end":{"column":63,"line":60},"start":{"column":0,"line":60}},"31":{"end":{"column":2,"line":64},"start":{"column":0,"line":62}},"32":{"end":{"column":28,"line":63},"start":{"column":2,"line":63}},"33":{"end":{"column":2,"line":73},"start":{"column":0,"line":66}},"34":{"end":{"column":11,"line":67},"start":{"column":2,"line":67}},"35":{"end":{"column":47,"line":68},"start":{"column":2,"line":68}},"36":{"end":{"column":3,"line":71},"start":{"column":2,"line":69}},"37":{"end":{"column":43,"line":70},"start":{"column":4,"line":70}},"38":{"end":{"column":41,"line":72},"start":{"column":2,"line":72}},"39":{"end":{"column":2,"line":141},"start":{"column":0,"line":75}},"40":{"end":{"column":5,"line":140},"start":{"column":2,"line":76}},"41":{"end":{"column":13,"line":77},"start":{"column":4,"line":77}},"42":{"end":{"column":65,"line":78},"start":{"column":4,"line":78}},"43":{"end":{"column":7,"line":139},"start":{"column":4,"line":79}},"44":{"end":{"column":96,"line":80},"start":{"column":6,"line":80}},"45":{"end":{"column":123,"line":81},"start":{"column":6,"line":81}},"46":{"end":{"column":8,"line":90},"start":{"column":6,"line":82}},"47":{"end":{"column":7,"line":95},"start":{"column":6,"line":91}},"48":{"end":{"column":44,"line":92},"start":{"column":8,"line":92}},"49":{"end":{"column":33,"line":93},"start":{"column":8,"line":93}},"50":{"end":{"column":46,"line":94},"start":{"column":8,"line":94}},"51":{"end":{"column":41,"line":96},"start":{"column":6,"line":96}},"52":{"end":{"column":7,"line":105},"start":{"column":6,"line":97}},"53":{"end":{"column":66,"line":98},"start":{"column":8,"line":98}},"54":{"end":{"column":9,"line":104},"start":{"column":8,"line":99}},"55":{"end":{"column":40,"line":100},"start":{"column":10,"line":100}},"56":{"end":{"column":60,"line":102},"start":{"column":10,"line":102}},"57":{"end":{"column":30,"line":103},"start":{"column":10,"line":103}},"58":{"end":{"column":8,"line":109},"start":{"column":6,"line":106}},"59":{"end":{"column":22,"line":107},"start":{"column":8,"line":107}},"60":{"end":{"column":77,"line":108},"start":{"column":8,"line":108}},"61":{"end":{"column":8,"line":137},"start":{"column":6,"line":110}},"62":{"end":{"column":31,"line":111},"start":{"column":8,"line":111}},"63":{"end":{"column":22,"line":112},"start":{"column":8,"line":112}},"64":{"end":{"column":34,"line":113},"start":{"column":8,"line":113}},"65":{"end":{"column":11,"line":117},"start":{"column":8,"line":114}},"66":{"end":{"column":9,"line":136},"start":{"column":8,"line":118}},"67":{"end":{"column":45,"line":119},"start":{"column":10,"line":119}},"68":{"end":{"column":9,"line":136},"start":{"column":15,"line":120}},"69":{"end":{"column":11,"line":125},"start":{"column":10,"line":121}},"70":{"end":{"column":78,"line":122},"start":{"column":12,"line":122}},"71":{"end":{"column":116,"line":124},"start":{"column":12,"line":124}},"72":{"end":{"column":9,"line":136},"start":{"column":15,"line":126}},"73":{"end":{"column":104,"line":127},"start":{"column":10,"line":127}},"74":{"end":{"column":11,"line":134},"start":{"column":10,"line":129}},"75":{"end":{"column":49,"line":130},"start":{"column":12,"line":130}},"76":{"end":{"column":23,"line":132},"start":{"column":12,"line":132}},"77":{"end":{"column":37,"line":133},"start":{"column":12,"line":133}},"78":{"end":{"column":91,"line":135},"start":{"column":10,"line":135}},"79":{"end":{"column":56,"line":138},"start":{"column":6,"line":138}},"80":{"end":{"column":2,"line":146},"start":{"column":0,"line":143}},"81":{"end":{"column":2,"line":420},"start":{"column":0,"line":148}},"82":{"end":{"column":54,"line":149},"start":{"column":2,"line":149}},"83":{"end":{"column":3,"line":156},"start":{"column":2,"line":150}},"84":{"end":{"column":41,"line":151},"start":{"column":4,"line":151}},"85":{"end":{"column":34,"line":152},"start":{"column":4,"line":152}},"86":{"end":{"column":5,"line":155},"start":{"column":4,"line":153}},"87":{"end":{"column":19,"line":154},"start":{"column":6,"line":154}},"88":{"end":{"column":5,"line":161},"start":{"column":2,"line":157}},"89":{"end":{"column":6,"line":160},"start":{"column":4,"line":158}},"90":{"end":{"column":4,"line":183},"start":{"column":2,"line":162}},"91":{"end":{"column":22,"line":163},"start":{"column":4,"line":163}},"92":{"end":{"column":39,"line":164},"start":{"column":4,"line":164}},"93":{"end":{"column":5,"line":182},"start":{"column":4,"line":165}},"94":{"end":{"column":7,"line":168},"start":{"column":6,"line":166}},"95":{"end":{"column":29,"line":167},"start":{"column":8,"line":167}},"96":{"end":{"column":36,"line":169},"start":{"column":6,"line":169}},"97":{"end":{"column":32,"line":170},"start":{"column":6,"line":170}},"98":{"end":{"column":8,"line":175},"start":{"column":6,"line":171}},"99":{"end":{"column":8,"line":181},"start":{"column":6,"line":177}},"100":{"end":{"column":92,"line":184},"start":{"column":2,"line":184}},"101":{"end":{"column":103,"line":185},"start":{"column":2,"line":185}},"102":{"end":{"column":5,"line":190},"start":{"column":2,"line":186}},"103":{"end":{"column":6,"line":189},"start":{"column":4,"line":187}},"104":{"end":{"column":5,"line":195},"start":{"column":2,"line":191}},"105":{"end":{"column":6,"line":194},"start":{"column":4,"line":192}},"106":{"end":{"column":5,"line":205},"start":{"column":2,"line":196}},"107":{"end":{"column":20,"line":197},"start":{"column":4,"line":197}},"108":{"end":{"column":5,"line":200},"start":{"column":4,"line":198}},"109":{"end":{"column":36,"line":199},"start":{"column":6,"line":199}},"110":{"end":{"column":47,"line":201},"start":{"column":4,"line":201}},"111":{"end":{"column":6,"line":204},"start":{"column":4,"line":202}},"112":{"end":{"column":5,"line":210},"start":{"column":2,"line":206}},"113":{"end":{"column":6,"line":209},"start":{"column":4,"line":207}},"114":{"end":{"column":5,"line":215},"start":{"column":2,"line":211}},"115":{"end":{"column":6,"line":214},"start":{"column":4,"line":212}},"116":{"end":{"column":5,"line":220},"start":{"column":2,"line":216}},"117":{"end":{"column":6,"line":219},"start":{"column":4,"line":217}},"118":{"end":{"column":5,"line":226},"start":{"column":2,"line":221}},"119":{"end":{"column":6,"line":225},"start":{"column":4,"line":222}},"120":{"end":{"column":5,"line":231},"start":{"column":2,"line":227}},"121":{"end":{"column":6,"line":230},"start":{"column":4,"line":228}},"122":{"end":{"column":43,"line":232},"start":{"column":2,"line":232}},"123":{"end":{"column":5,"line":238},"start":{"column":2,"line":233}},"124":{"end":{"column":6,"line":237},"start":{"column":4,"line":234}},"125":{"end":{"column":5,"line":243},"start":{"column":2,"line":239}},"126":{"end":{"column":6,"line":242},"start":{"column":4,"line":240}},"127":{"end":{"column":5,"line":248},"start":{"column":2,"line":244}},"128":{"end":{"column":6,"line":247},"start":{"column":4,"line":245}},"129":{"end":{"column":5,"line":253},"start":{"column":2,"line":249}},"130":{"end":{"column":6,"line":252},"start":{"column":4,"line":250}},"131":{"end":{"column":5,"line":260},"start":{"column":2,"line":254}},"132":{"end":{"column":15,"line":255},"start":{"column":4,"line":255}},"133":{"end":{"column":24,"line":256},"start":{"column":4,"line":256}},"134":{"end":{"column":6,"line":259},"start":{"column":4,"line":257}},"135":{"end":{"column":5,"line":265},"start":{"column":2,"line":261}},"136":{"end":{"column":6,"line":264},"start":{"column":4,"line":262}},"137":{"end":{"column":5,"line":270},"start":{"column":2,"line":266}},"138":{"end":{"column":6,"line":269},"start":{"column":4,"line":267}},"139":{"end":{"column":5,"line":275},"start":{"column":2,"line":271}},"140":{"end":{"column":6,"line":274},"start":{"column":4,"line":272}},"141":{"end":{"column":5,"line":280},"start":{"column":2,"line":276}},"142":{"end":{"column":6,"line":279},"start":{"column":4,"line":277}},"143":{"end":{"column":5,"line":285},"start":{"column":2,"line":281}},"144":{"end":{"column":6,"line":284},"start":{"column":4,"line":282}},"145":{"end":{"column":5,"line":290},"start":{"column":2,"line":286}},"146":{"end":{"column":6,"line":289},"start":{"column":4,"line":287}},"147":{"end":{"column":5,"line":295},"start":{"column":2,"line":291}},"148":{"end":{"column":6,"line":294},"start":{"column":4,"line":292}},"149":{"end":{"column":5,"line":301},"start":{"column":2,"line":296}},"150":{"end":{"column":6,"line":300},"start":{"column":4,"line":297}},"151":{"end":{"column":5,"line":307},"start":{"column":2,"line":302}},"152":{"end":{"column":6,"line":306},"start":{"column":4,"line":303}},"153":{"end":{"column":5,"line":312},"start":{"column":2,"line":308}},"154":{"end":{"column":6,"line":311},"start":{"column":4,"line":309}},"155":{"end":{"column":5,"line":318},"start":{"column":2,"line":313}},"156":{"end":{"column":6,"line":317},"start":{"column":4,"line":314}},"157":{"end":{"column":5,"line":324},"start":{"column":2,"line":319}},"158":{"end":{"column":6,"line":323},"start":{"column":4,"line":320}},"159":{"end":{"column":5,"line":329},"start":{"column":2,"line":325}},"160":{"end":{"column":6,"line":328},"start":{"column":4,"line":326}},"161":{"end":{"column":5,"line":337},"start":{"column":2,"line":330}},"162":{"end":{"column":5,"line":333},"start":{"column":4,"line":331}},"163":{"end":{"column":41,"line":332},"start":{"column":6,"line":332}},"164":{"end":{"column":6,"line":336},"start":{"column":4,"line":334}},"165":{"end":{"column":5,"line":342},"start":{"column":2,"line":338}},"166":{"end":{"column":6,"line":341},"start":{"column":4,"line":339}},"167":{"end":{"column":5,"line":347},"start":{"column":2,"line":343}},"168":{"end":{"column":6,"line":346},"start":{"column":4,"line":344}},"169":{"end":{"column":5,"line":355},"start":{"column":2,"line":348}},"170":{"end":{"column":6,"line":354},"start":{"column":4,"line":349}},"171":{"end":{"column":5,"line":363},"start":{"column":2,"line":356}},"172":{"end":{"column":6,"line":362},"start":{"column":4,"line":357}},"173":{"end":{"column":5,"line":368},"start":{"column":2,"line":364}},"174":{"end":{"column":6,"line":367},"start":{"column":4,"line":365}},"175":{"end":{"column":5,"line":373},"start":{"column":2,"line":369}},"176":{"end":{"column":6,"line":372},"start":{"column":4,"line":370}},"177":{"end":{"column":5,"line":378},"start":{"column":2,"line":374}},"178":{"end":{"column":6,"line":377},"start":{"column":4,"line":375}},"179":{"end":{"column":5,"line":383},"start":{"column":2,"line":379}},"180":{"end":{"column":6,"line":382},"start":{"column":4,"line":380}},"181":{"end":{"column":5,"line":388},"start":{"column":2,"line":384}},"182":{"end":{"column":6,"line":387},"start":{"column":4,"line":385}},"183":{"end":{"column":5,"line":393},"start":{"column":2,"line":389}},"184":{"end":{"column":6,"line":392},"start":{"column":4,"line":390}},"185":{"end":{"column":5,"line":398},"start":{"column":2,"line":394}},"186":{"end":{"column":6,"line":397},"start":{"column":4,"line":395}},"187":{"end":{"column":5,"line":405},"start":{"column":2,"line":399}},"188":{"end":{"column":6,"line":402},"start":{"column":4,"line":400}},"189":{"end":{"column":5,"line":410},"start":{"column":2,"line":406}},"190":{"end":{"column":6,"line":409},"start":{"column":4,"line":407}},"191":{"end":{"column":5,"line":415},"start":{"column":2,"line":411}},"192":{"end":{"column":6,"line":414},"start":{"column":4,"line":412}},"193":{"end":{"column":5,"line":419},"start":{"column":2,"line":416}},"194":{"end":{"column":107,"line":417},"start":{"column":4,"line":417}},"195":{"end":{"column":38,"line":418},"start":{"column":4,"line":418}},"196":{"end":{"column":2,"line":424},"start":{"column":0,"line":422}}},"l":{"1":21,"4":21,"6":21,"8":21,"10":21,"12":21,"14":21,"16":21,"18":21,"20":21,"22":21,"24":21,"26":21,"28":21,"30":21,"32":21,"34":21,"36":21,"38":21,"40":21,"42":21,"44":21,"46":21,"48":21,"50":21,"52":21,"54":21,"56":21,"58":21,"60":21,"62":21,"63":120,"66":21,"67":93,"68":93,"69":93,"70":0,"72":93,"75":21,"76":924,"77":120,"78":120,"79":120,"80":116,"81":116,"82":116,"91":116,"92":6,"93":6,"94":6,"96":116,"97":116,"98":0,"99":0,"100":0,"102":0,"103":0,"106":116,"107":93,"108":93,"110":116,"111":0,"112":0,"113":0,"114":0,"118":0,"119":0,"120":0,"121":0,"122":0,"124":0,"126":0,"127":0,"129":0,"130":0,"132":0,"133":0,"135":0,"138":116,"143":21,"148":21,"149":21,"150":21,"151":42,"152":42,"153":42,"154":42,"157":21,"158":2,"162":21,"163":6,"164":6,"165":6,"166":3,"167":0,"169":3,"170":3,"171":3,"177":3,"184":21,"185":21,"186":21,"187":3,"191":21,"192":3,"196":21,"197":0,"198":0,"199":0,"201":0,"202":0,"206":21,"207":12,"211":21,"212":0,"216":21,"217":0,"221":21,"222":0,"227":21,"228":7,"232":21,"233":21,"234":0,"239":21,"240":15,"244":21,"245":2,"249":21,"250":2,"254":21,"255":2,"256":2,"257":2,"261":21,"262":17,"266":21,"267":13,"271":21,"272":0,"276":21,"277":2,"281":21,"282":0,"286":21,"287":0,"291":21,"292":0,"296":21,"297":0,"302":21,"303":0,"308":21,"309":0,"313":21,"314":0,"319":21,"320":0,"325":21,"326":0,"330":21,"331":2,"332":0,"334":2,"338":21,"339":0,"343":21,"344":0,"348":21,"349":0,"356":21,"357":0,"364":21,"365":0,"369":21,"370":2,"374":21,"375":24,"379":21,"380":0,"384":21,"385":0,"389":21,"390":0,"394":21,"395":0,"399":21,"400":0,"406":21,"407":0,"411":21,"412":2,"416":21,"417":0,"418":0,"422":21}},
"/Users/phil/github/openstax/tutor-js/src/components/app.cjsx":{"b":{},"branchMap":{},"code":["var Analytics, History, HistoryLocation, Navbar, React, RouteHandler, SpyMode, TransitionActions, TransitionStore, ref, ref1;","","React = require('react');","","ref = require('react-router'), HistoryLocation = ref.HistoryLocation, History = ref.History, RouteHandler = ref.RouteHandler;","","Navbar = require('./navbar');","","Analytics = require('../helpers/analytics');","","SpyMode = require('openstax-react-components').SpyMode;","","ref1 = require('../flux/transition'), TransitionActions = ref1.TransitionActions, TransitionStore = ref1.TransitionStore;","","module.exports = React.createClass({","  displayName: 'App',","  contextTypes: {","    router: React.PropTypes.func","  },","  componentDidMount: function() {","    this.storeInitial();","    Analytics.setTracker(window.ga);","    return HistoryLocation.addChangeListener(this.storeHistory);","  },","  componentWillUnmount: function() {","    return HistoryLocation.removeChangeListener(this.storeHistory);","  },","  storeInitial: function() {","    return this.storeHistory({","      path: this.context.router.getCurrentPath()","    });","  },","  storeHistory: function(locationChangeEvent) {","    Analytics.onNavigation(locationChangeEvent, this.context.router);","    return TransitionActions.load(locationChangeEvent, this.context.router);","  },","  render: function() {","    return React.createElement(\"div\", {","      \"className\": 'tutor-app openstax-wrapper'","    }, React.createElement(SpyMode.Wrapper, null, React.createElement(Navbar, null), React.createElement(RouteHandler, null)));","  }","});",""],"f":{"1":21,"2":0,"3":21,"4":112,"5":98},"fnMap":{"1":{"line":20,"loc":{"end":{"column":32,"line":20},"start":{"column":21,"line":20}},"name":"(anonymous_1)"},"2":{"line":25,"loc":{"end":{"column":35,"line":25},"start":{"column":24,"line":25}},"name":"(anonymous_2)"},"3":{"line":28,"loc":{"end":{"column":27,"line":28},"start":{"column":16,"line":28}},"name":"(anonymous_3)"},"4":{"line":33,"loc":{"end":{"column":46,"line":33},"start":{"column":16,"line":33}},"name":"(anonymous_4)"},"5":{"line":37,"loc":{"end":{"column":21,"line":37},"start":{"column":10,"line":37}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/app.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":0,"13":21,"14":112,"15":112,"16":98},"statementMap":{"1":{"end":{"column":125,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":125,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":29,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":44,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":121,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":42},"start":{"column":0,"line":15}},"9":{"end":{"column":24,"line":21},"start":{"column":4,"line":21}},"10":{"end":{"column":36,"line":22},"start":{"column":4,"line":22}},"11":{"end":{"column":64,"line":23},"start":{"column":4,"line":23}},"12":{"end":{"column":67,"line":26},"start":{"column":4,"line":26}},"13":{"end":{"column":7,"line":31},"start":{"column":4,"line":29}},"14":{"end":{"column":69,"line":34},"start":{"column":4,"line":34}},"15":{"end":{"column":76,"line":35},"start":{"column":4,"line":35}},"16":{"end":{"column":127,"line":40},"start":{"column":4,"line":38}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"21":21,"22":21,"23":21,"26":0,"29":21,"34":112,"35":112,"38":98}},
"/Users/phil/github/openstax/tutor-js/src/components/bind-store-mixin.cjsx":{"b":{"1":[192,171,69],"2":[300,114],"3":[186,114],"4":[0,366],"5":[235,131],"6":[15,177],"7":[192,0],"8":[12,96],"9":[108,0]},"branchMap":{"1":{"line":5,"locations":[{"end":{"column":25,"line":5},"start":{"column":11,"line":5}},{"end":{"column":49,"line":5},"start":{"column":29,"line":5}},{"end":{"column":61,"line":5},"start":{"column":53,"line":5}}],"type":"binary-expr"},"2":{"line":8,"locations":[{"end":{"column":76,"line":8},"start":{"column":12,"line":8}},{"end":{"column":95,"line":8},"start":{"column":81,"line":8}}],"type":"binary-expr"},"3":{"line":8,"locations":[{"end":{"column":67,"line":8},"start":{"column":51,"line":8}},{"end":{"column":76,"line":8},"start":{"column":70,"line":8}}],"type":"cond-expr"},"4":{"line":12,"locations":[{"end":{"column":59,"line":12},"start":{"column":35,"line":12}},{"end":{"column":64,"line":12},"start":{"column":62,"line":12}}],"type":"cond-expr"},"5":{"line":13,"locations":[{"end":{"column":4,"line":13},"start":{"column":4,"line":13}},{"end":{"column":4,"line":13},"start":{"column":4,"line":13}}],"type":"if"},"6":{"line":22,"locations":[{"end":{"column":4,"line":22},"start":{"column":4,"line":22}},{"end":{"column":4,"line":22},"start":{"column":4,"line":22}}],"type":"if"},"7":{"line":26,"locations":[{"end":{"column":4,"line":26},"start":{"column":4,"line":26}},{"end":{"column":4,"line":26},"start":{"column":4,"line":26}}],"type":"if"},"8":{"line":32,"locations":[{"end":{"column":4,"line":32},"start":{"column":4,"line":32}},{"end":{"column":4,"line":32},"start":{"column":4,"line":32}}],"type":"if"},"9":{"line":36,"locations":[{"end":{"column":4,"line":36},"start":{"column":4,"line":36}},{"end":{"column":4,"line":36},"start":{"column":4,"line":36}}],"type":"if"}},"code":["var slice = [].slice;","","module.exports = {","  _bindEvent: function() {","    return this.bindEvent || this.props.bindEvent || 'change';","  },","  _bindStore: function() {","    return (typeof this.bindStore === \"function\" ? this.bindStore() : void 0) || this.bindStore;","  },","  _bindUpdate: function() {","    var args;","    args = 1 <= arguments.length ? slice.call(arguments, 0) : [];","    if (this.bindUpdate != null) {","      return this.bindUpdate.apply(this, args);","    } else {","      return this.setState({});","    }","  },","  _addListener: function() {","    var bindStore;","    this.boundEvent = this._bindEvent();","    if (typeof this.addBindListener === \"function\") {","      this.addBindListener();","    }","    bindStore = this._bindStore();","    if (this._bindStore != null) {","      return bindStore.on(this.boundEvent, this._bindUpdate);","    }","  },","  _removeListener: function() {","    var bindStore;","    if (typeof this.removeBindListener === \"function\") {","      this.removeBindListener();","    }","    bindStore = this._bindStore();","    if (this._bindStore != null) {","      return bindStore.off(this.boundEvent, this._bindUpdate);","    }","  },","  componentWillMount: function() {","    return this._addListener();","  },","  componentWillUnmount: function() {","    return this._removeListener();","  }","};",""],"f":{"1":192,"2":300,"3":366,"4":192,"5":108,"6":192,"7":108},"fnMap":{"1":{"line":4,"loc":{"end":{"column":25,"line":4},"start":{"column":14,"line":4}},"name":"(anonymous_1)"},"2":{"line":7,"loc":{"end":{"column":25,"line":7},"start":{"column":14,"line":7}},"name":"(anonymous_2)"},"3":{"line":10,"loc":{"end":{"column":26,"line":10},"start":{"column":15,"line":10}},"name":"(anonymous_3)"},"4":{"line":19,"loc":{"end":{"column":27,"line":19},"start":{"column":16,"line":19}},"name":"(anonymous_4)"},"5":{"line":30,"loc":{"end":{"column":30,"line":30},"start":{"column":19,"line":30}},"name":"(anonymous_5)"},"6":{"line":40,"loc":{"end":{"column":33,"line":40},"start":{"column":22,"line":40}},"name":"(anonymous_6)"},"7":{"line":43,"loc":{"end":{"column":35,"line":43},"start":{"column":24,"line":43}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/bind-store-mixin.cjsx","s":{"1":21,"2":21,"3":192,"4":300,"5":366,"6":366,"7":366,"8":235,"9":131,"10":192,"11":192,"12":192,"13":15,"14":192,"15":192,"16":192,"17":108,"18":108,"19":12,"20":108,"21":108,"22":108,"23":192,"24":108},"statementMap":{"1":{"end":{"column":21,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":2,"line":46},"start":{"column":0,"line":3}},"3":{"end":{"column":62,"line":5},"start":{"column":4,"line":5}},"4":{"end":{"column":96,"line":8},"start":{"column":4,"line":8}},"5":{"end":{"column":13,"line":11},"start":{"column":4,"line":11}},"6":{"end":{"column":65,"line":12},"start":{"column":4,"line":12}},"7":{"end":{"column":5,"line":17},"start":{"column":4,"line":13}},"8":{"end":{"column":47,"line":14},"start":{"column":6,"line":14}},"9":{"end":{"column":31,"line":16},"start":{"column":6,"line":16}},"10":{"end":{"column":18,"line":20},"start":{"column":4,"line":20}},"11":{"end":{"column":40,"line":21},"start":{"column":4,"line":21}},"12":{"end":{"column":5,"line":24},"start":{"column":4,"line":22}},"13":{"end":{"column":29,"line":23},"start":{"column":6,"line":23}},"14":{"end":{"column":34,"line":25},"start":{"column":4,"line":25}},"15":{"end":{"column":5,"line":28},"start":{"column":4,"line":26}},"16":{"end":{"column":61,"line":27},"start":{"column":6,"line":27}},"17":{"end":{"column":18,"line":31},"start":{"column":4,"line":31}},"18":{"end":{"column":5,"line":34},"start":{"column":4,"line":32}},"19":{"end":{"column":32,"line":33},"start":{"column":6,"line":33}},"20":{"end":{"column":34,"line":35},"start":{"column":4,"line":35}},"21":{"end":{"column":5,"line":38},"start":{"column":4,"line":36}},"22":{"end":{"column":62,"line":37},"start":{"column":6,"line":37}},"23":{"end":{"column":31,"line":41},"start":{"column":4,"line":41}},"24":{"end":{"column":34,"line":44},"start":{"column":4,"line":44}}},"l":{"1":21,"3":21,"5":192,"8":300,"11":366,"12":366,"13":366,"14":235,"16":131,"20":192,"21":192,"22":192,"23":15,"25":192,"26":192,"27":192,"31":108,"32":108,"33":12,"35":108,"36":108,"37":108,"41":192,"44":108}},
"/Users/phil/github/openstax/tutor-js/src/components/book-content-mixin.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,3],"22":[0,3],"23":[3,0],"24":[0,0],"25":[0,3],"26":[3,0],"27":[0,0],"28":[0,3],"29":[0,3],"30":[2,1],"31":[0,3],"32":[1,0],"33":[0,0],"34":[0,0]},"branchMap":{"1":{"line":47,"locations":[{"end":{"column":4,"line":47},"start":{"column":4,"line":47}},{"end":{"column":4,"line":47},"start":{"column":4,"line":47}}],"type":"if"},"2":{"line":47,"locations":[{"end":{"column":19,"line":47},"start":{"column":8,"line":47}},{"end":{"column":32,"line":47},"start":{"column":23,"line":47}}],"type":"binary-expr"},"3":{"line":48,"locations":[{"end":{"column":85,"line":48},"start":{"column":78,"line":48}},{"end":{"column":94,"line":48},"start":{"column":88,"line":48}}],"type":"cond-expr"},"4":{"line":50,"locations":[{"end":{"column":4,"line":50},"start":{"column":4,"line":50}},{"end":{"column":4,"line":50},"start":{"column":4,"line":50}}],"type":"if"},"5":{"line":53,"locations":[{"end":{"column":4,"line":53},"start":{"column":4,"line":53}},{"end":{"column":4,"line":53},"start":{"column":4,"line":53}}],"type":"if"},"6":{"line":54,"locations":[{"end":{"column":85,"line":54},"start":{"column":65,"line":54}},{"end":{"column":94,"line":54},"start":{"column":88,"line":54}}],"type":"cond-expr"},"7":{"line":55,"locations":[{"end":{"column":6,"line":55},"start":{"column":6,"line":55}},{"end":{"column":6,"line":55},"start":{"column":6,"line":55}}],"type":"if"},"8":{"line":56,"locations":[{"end":{"column":221,"line":56},"start":{"column":61,"line":56}},{"end":{"column":230,"line":56},"start":{"column":224,"line":56}}],"type":"cond-expr"},"9":{"line":56,"locations":[{"end":{"column":148,"line":56},"start":{"column":81,"line":56}},{"end":{"column":219,"line":56},"start":{"column":154,"line":56}}],"type":"binary-expr"},"10":{"line":56,"locations":[{"end":{"column":139,"line":56},"start":{"column":119,"line":56}},{"end":{"column":148,"line":56},"start":{"column":142,"line":56}}],"type":"cond-expr"},"11":{"line":56,"locations":[{"end":{"column":210,"line":56},"start":{"column":192,"line":56}},{"end":{"column":219,"line":56},"start":{"column":213,"line":56}}],"type":"cond-expr"},"12":{"line":57,"locations":[{"end":{"column":8,"line":57},"start":{"column":8,"line":57}},{"end":{"column":8,"line":57},"start":{"column":8,"line":57}}],"type":"if"},"13":{"line":64,"locations":[{"end":{"column":11,"line":64},"start":{"column":11,"line":64}},{"end":{"column":11,"line":64},"start":{"column":11,"line":64}}],"type":"if"},"14":{"line":73,"locations":[{"end":{"column":32,"line":73},"start":{"column":12,"line":73}},{"end":{"column":64,"line":73},"start":{"column":36,"line":73}},{"end":{"column":108,"line":73},"start":{"column":69,"line":73}}],"type":"binary-expr"},"15":{"line":78,"locations":[{"end":{"column":31,"line":78},"start":{"column":11,"line":78}},{"end":{"column":64,"line":78},"start":{"column":35,"line":78}}],"type":"binary-expr"},"16":{"line":96,"locations":[{"end":{"column":4,"line":96},"start":{"column":4,"line":96}},{"end":{"column":4,"line":96},"start":{"column":4,"line":96}}],"type":"if"},"17":{"line":99,"locations":[{"end":{"column":63,"line":99},"start":{"column":17,"line":99}},{"end":{"column":83,"line":99},"start":{"column":67,"line":99}},{"end":{"column":150,"line":99},"start":{"column":88,"line":99}}],"type":"binary-expr"},"18":{"line":99,"locations":[{"end":{"column":141,"line":99},"start":{"column":126,"line":99}},{"end":{"column":150,"line":99},"start":{"column":144,"line":99}}],"type":"cond-expr"},"19":{"line":108,"locations":[{"end":{"column":90,"line":108},"start":{"column":67,"line":108}},{"end":{"column":99,"line":108},"start":{"column":93,"line":108}}],"type":"cond-expr"},"20":{"line":115,"locations":[{"end":{"column":4,"line":115},"start":{"column":4,"line":115}},{"end":{"column":4,"line":115},"start":{"column":4,"line":115}}],"type":"if"},"21":{"line":127,"locations":[{"end":{"column":4,"line":127},"start":{"column":4,"line":127}},{"end":{"column":4,"line":127},"start":{"column":4,"line":127}}],"type":"if"},"22":{"line":134,"locations":[{"end":{"column":4,"line":134},"start":{"column":4,"line":134}},{"end":{"column":4,"line":134},"start":{"column":4,"line":134}}],"type":"if"},"23":{"line":134,"locations":[{"end":{"column":46,"line":134},"start":{"column":29,"line":134}},{"end":{"column":55,"line":134},"start":{"column":49,"line":134}}],"type":"cond-expr"},"24":{"line":135,"locations":[{"end":{"column":6,"line":135},"start":{"column":6,"line":135}},{"end":{"column":6,"line":135},"start":{"column":6,"line":135}}],"type":"if"},"25":{"line":139,"locations":[{"end":{"column":4,"line":139},"start":{"column":4,"line":139}},{"end":{"column":4,"line":139},"start":{"column":4,"line":139}}],"type":"if"},"26":{"line":139,"locations":[{"end":{"column":52,"line":139},"start":{"column":32,"line":139}},{"end":{"column":61,"line":139},"start":{"column":55,"line":139}}],"type":"cond-expr"},"27":{"line":140,"locations":[{"end":{"column":93,"line":140},"start":{"column":58,"line":140}},{"end":{"column":102,"line":140},"start":{"column":96,"line":140}}],"type":"cond-expr"},"28":{"line":163,"locations":[{"end":{"column":4,"line":163},"start":{"column":4,"line":163}},{"end":{"column":4,"line":163},"start":{"column":4,"line":163}}],"type":"if"},"29":{"line":171,"locations":[{"end":{"column":6,"line":171},"start":{"column":6,"line":171}},{"end":{"column":6,"line":171},"start":{"column":6,"line":171}}],"type":"if"},"30":{"line":175,"locations":[{"end":{"column":6,"line":175},"start":{"column":6,"line":175}},{"end":{"column":6,"line":175},"start":{"column":6,"line":175}}],"type":"if"},"31":{"line":191,"locations":[{"end":{"column":6,"line":191},"start":{"column":6,"line":191}},{"end":{"column":6,"line":191},"start":{"column":6,"line":191}}],"type":"if"},"32":{"line":204,"locations":[{"end":{"column":2,"line":204},"start":{"column":2,"line":204}},{"end":{"column":2,"line":204},"start":{"column":2,"line":204}}],"type":"if"},"33":{"line":207,"locations":[{"end":{"column":2,"line":207},"start":{"column":2,"line":207}},{"end":{"column":2,"line":207},"start":{"column":2,"line":207}}],"type":"if"},"34":{"line":209,"locations":[{"end":{"column":4,"line":209},"start":{"column":4,"line":209}},{"end":{"column":4,"line":209},"start":{"column":4,"line":209}}],"type":"if"}},"code":["var BookContentMixin, CourseStore, EXERCISE_LINK_SELECTOR, LinkContentMixin, MediaPreview, MediaStore, React, ReadingContentMixin, S, ScrollTo, TaskStepStore, _, dom, sizeImage;","","React = require('react');","","_ = require('underscore');","","S = require('../helpers/string');","","dom = require('../helpers/dom');","","MediaPreview = require('./media-preview').MediaPreview;","","CourseStore = require('../flux/course').CourseStore;","","TaskStepStore = require('../flux/task-step').TaskStepStore;","","MediaStore = require('../flux/media').MediaStore;","","CourseStore = require('../flux/course').CourseStore;","","ScrollTo = require('./scroll-to');","","EXERCISE_LINK_SELECTOR = '.os-exercise > [data-type=\"problem\"] > p > a[href]';","","LinkContentMixin = {","  componentDidMount: function() {","    return this.processLinks();","  },","  componentDidUpdate: function() {","    return this.processLinks();","  },","  componentWillUnmount: function() {","    return this.cleanUpLinks();","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  getCnxIdOfHref: function(href) {","    var beforeHash;","    beforeHash = _.first(href.split('#'));","    return _.last(beforeHash.split('/'));","  },","  buildReferenceBookLink: function(cnxId) {","    var courseId, ecosystemId, id, query, ref, ref1, ref2, ref3, ref4, ref5, referenceBookLink, related_content, section;","    ref = this.context.router.getCurrentParams(), courseId = ref.courseId, ecosystemId = ref.ecosystemId;","    ref1 = this.props, query = ref1.query, id = ref1.id;","    if (ecosystemId && !courseId) {","      courseId = (ref2 = CourseStore.getByEcosystemId(ecosystemId)) != null ? ref2.id : void 0;","    }","    if (!courseId) {","      return null;","    }","    if (id != null) {","      related_content = (ref3 = TaskStepStore.get(id)) != null ? ref3.related_content : void 0;","      if (related_content != null) {","        section = typeof this.sectionFormat === \"function\" ? this.sectionFormat(((ref4 = related_content[0]) != null ? ref4.chapter_section : void 0) || ((ref5 = related_content[0]) != null ? ref5.book_location : void 0)) : void 0;","        if (section != null) {","          referenceBookLink = this.context.router.makeHref('viewReferenceBookSection', {","            courseId: courseId,","            section: section","          }, query);","        }","      }","    } else if (cnxId != null) {","      referenceBookLink = this.context.router.makeHref('viewReferenceBookPage', {","        courseId: courseId,","        cnxId: cnxId","      });","    }","    return referenceBookLink;","  },","  isMediaLink: function(link) {","    return (link.hash.length > 0 && link.hash.search('/') === -1) || link.href !== link.getAttribute('href');","  },","  hasCNXId: function(link) {","    var trueHref;","    trueHref = link.getAttribute('href');","    return link.hash.length > 0 && trueHref.substr(0, 1) !== '#';","  },","  getMedia: function(mediaId) {","    var root;","    root = this.getDOMNode();","    return root.querySelector(\"#\" + mediaId);","  },","  cleanUpLinks: function() {","    var previewNodes, root;","    root = this.getDOMNode();","    previewNodes = root.getElementsByClassName('media-preview-wrapper');","    return _.each(previewNodes, function(previewNode) {","      return React.unmountComponentAtNode(previewNode);","    });","  },","  linkPreview: function(link) {","    var mediaCNXId, mediaDOM, mediaId, mediaPreview, mediaProps, previewNode;","    mediaId = link.hash.replace('#', '');","    if (mediaId) {","      mediaDOM = this.getMedia(mediaId);","    }","    mediaCNXId = this.getCnxIdOfHref(link.getAttribute('href')) || this.props.cnxId || (typeof this.getCnxId === \"function\" ? this.getCnxId() : void 0);","    previewNode = document.createElement('span');","    previewNode.classList.add('media-preview-wrapper');","    link.parentNode.replaceChild(previewNode, link);","    mediaProps = {","      mediaId: mediaId,","      cnxId: mediaCNXId,","      bookHref: this.buildReferenceBookLink(mediaCNXId),","      mediaDOMOnParent: mediaDOM,","      shouldLinkOut: typeof this.shouldOpenNewTab === \"function\" ? this.shouldOpenNewTab() : void 0,","      originalHref: link.getAttribute('href')","    };","    mediaPreview = React.createElement(MediaPreview, React.__spread({}, mediaProps), link.innerText);","    return React.render(mediaPreview, previewNode);","  },","  processLink: function(link) {","    if (this.isMediaLink(link)) {","      this.linkPreview(link);","      return null;","    } else {","      return link;","    }","  },","  processLinks: function() {","    return _.defer(this._processLinks);","  },","  _processLinks: function() {","    var exerciseLinks, mediaLinks, otherLinks, root;","    if (!this.isMounted()) {","      return;","    }","    root = this.getDOMNode();","    mediaLinks = root.querySelectorAll(MediaStore.getSelector());","    exerciseLinks = root.querySelectorAll(EXERCISE_LINK_SELECTOR);","    otherLinks = _.chain(mediaLinks).map(this.processLink).compact().uniq().value();","    if (otherLinks != null ? otherLinks.length : void 0) {","      if (typeof this.renderOtherLinks === \"function\") {","        this.renderOtherLinks(otherLinks);","      }","    }","    if (exerciseLinks != null ? exerciseLinks.length : void 0) {","      return typeof this.renderExercises === \"function\" ? this.renderExercises(exerciseLinks) : void 0;","    }","  }","};","","ReadingContentMixin = {","  mixins: [ScrollTo],","  componentDidMount: function() {","    this.insertOverlays();","    this.detectImgAspectRatio();","    return this.processLinks();","  },","  componentDidUpdate: function() {","    this.insertOverlays();","    this.detectImgAspectRatio();","    return this.processLinks();","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  insertOverlays: function() {","    var i, img, len, overlay, ref, results, root, title;","    title = this.getSplashTitle();","    if (!title) {","      return;","    }","    root = this.getDOMNode();","    ref = root.querySelectorAll('.splash img');","    results = [];","    for (i = 0, len = ref.length; i < len; i++) {","      img = ref[i];","      if (img.parentElement.querySelector('.ui-overlay')) {","        continue;","      }","      overlay = document.createElement('div');","      if (img.parentElement.querySelector('.tutor-ui-overlay')) {","        continue;","      }","      overlay.className = 'tutor-ui-overlay';","      overlay.innerHTML = title;","      results.push(img.parentElement.appendChild(overlay));","    }","    return results;","  },","  detectImgAspectRatio: function() {","    var i, img, len, ref, results, root;","    root = this.getDOMNode();","    ref = root.querySelectorAll('img');","    results = [];","    for (i = 0, len = ref.length; i < len; i++) {","      img = ref[i];","      if (img.complete) {","        results.push(sizeImage.call(img));","      } else {","        results.push(img.onload = sizeImage);","      }","    }","    return results;","  }","};","","sizeImage = function() {","  var figure;","  figure = dom.closest(this, 'figure');","  if (!figure) {","    return;","  }","  if (this.naturalWidth > this.naturalHeight) {","    figure.classList.add('tutor-ui-horizontal-img');","    if (this.naturalWidth > 450) {","      return figure.classList.add('full-width');","    }","  } else {","    return figure.classList.add('tutor-ui-vertical-img');","  }","};","","BookContentMixin = _.extend({}, LinkContentMixin, ReadingContentMixin);","","module.exports = {","  BookContentMixin: BookContentMixin,","  LinkContentMixin: LinkContentMixin,","  ReadingContentMixin: ReadingContentMixin","};",""],"f":{"1":0,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":3,"14":3,"15":1,"16":2,"17":3,"18":3,"19":1},"fnMap":{"1":{"line":26,"loc":{"end":{"column":32,"line":26},"start":{"column":21,"line":26}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":33,"line":29},"start":{"column":22,"line":29}},"name":"(anonymous_2)"},"3":{"line":32,"loc":{"end":{"column":35,"line":32},"start":{"column":24,"line":32}},"name":"(anonymous_3)"},"4":{"line":38,"loc":{"end":{"column":33,"line":38},"start":{"column":18,"line":38}},"name":"(anonymous_4)"},"5":{"line":43,"loc":{"end":{"column":42,"line":43},"start":{"column":26,"line":43}},"name":"(anonymous_5)"},"6":{"line":72,"loc":{"end":{"column":30,"line":72},"start":{"column":15,"line":72}},"name":"(anonymous_6)"},"7":{"line":75,"loc":{"end":{"column":27,"line":75},"start":{"column":12,"line":75}},"name":"(anonymous_7)"},"8":{"line":80,"loc":{"end":{"column":30,"line":80},"start":{"column":12,"line":80}},"name":"(anonymous_8)"},"9":{"line":85,"loc":{"end":{"column":27,"line":85},"start":{"column":16,"line":85}},"name":"(anonymous_9)"},"10":{"line":89,"loc":{"end":{"column":54,"line":89},"start":{"column":32,"line":89}},"name":"(anonymous_10)"},"11":{"line":93,"loc":{"end":{"column":30,"line":93},"start":{"column":15,"line":93}},"name":"(anonymous_11)"},"12":{"line":114,"loc":{"end":{"column":30,"line":114},"start":{"column":15,"line":114}},"name":"(anonymous_12)"},"13":{"line":122,"loc":{"end":{"column":27,"line":122},"start":{"column":16,"line":122}},"name":"(anonymous_13)"},"14":{"line":125,"loc":{"end":{"column":28,"line":125},"start":{"column":17,"line":125}},"name":"(anonymous_14)"},"15":{"line":147,"loc":{"end":{"column":32,"line":147},"start":{"column":21,"line":147}},"name":"(anonymous_15)"},"16":{"line":152,"loc":{"end":{"column":33,"line":152},"start":{"column":22,"line":152}},"name":"(anonymous_16)"},"17":{"line":160,"loc":{"end":{"column":29,"line":160},"start":{"column":18,"line":160}},"name":"(anonymous_17)"},"18":{"line":184,"loc":{"end":{"column":35,"line":184},"start":{"column":24,"line":184}},"name":"(anonymous_18)"},"19":{"line":201,"loc":{"end":{"column":23,"line":201},"start":{"column":12,"line":201}},"name":"(anonymous_19)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/book-content-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":1,"45":1,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":3,"64":3,"65":3,"66":0,"67":3,"68":3,"69":3,"70":3,"71":3,"72":0,"73":0,"74":3,"75":0,"76":21,"77":1,"78":1,"79":1,"80":2,"81":2,"82":2,"83":3,"84":3,"85":3,"86":0,"87":3,"88":3,"89":3,"90":3,"91":3,"92":3,"93":0,"94":3,"95":3,"96":2,"97":1,"98":1,"99":1,"100":3,"101":3,"102":3,"103":3,"104":3,"105":3,"106":3,"107":3,"108":0,"109":3,"110":3,"111":21,"112":1,"113":1,"114":1,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":21,"122":21},"statementMap":{"1":{"end":{"column":177,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":32,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":52,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":59,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":49,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":52,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":34,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":78,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":2,"line":143},"start":{"column":0,"line":25}},"14":{"end":{"column":31,"line":27},"start":{"column":4,"line":27}},"15":{"end":{"column":31,"line":30},"start":{"column":4,"line":30}},"16":{"end":{"column":31,"line":33},"start":{"column":4,"line":33}},"17":{"end":{"column":19,"line":39},"start":{"column":4,"line":39}},"18":{"end":{"column":42,"line":40},"start":{"column":4,"line":40}},"19":{"end":{"column":41,"line":41},"start":{"column":4,"line":41}},"20":{"end":{"column":121,"line":44},"start":{"column":4,"line":44}},"21":{"end":{"column":105,"line":45},"start":{"column":4,"line":45}},"22":{"end":{"column":56,"line":46},"start":{"column":4,"line":46}},"23":{"end":{"column":5,"line":49},"start":{"column":4,"line":47}},"24":{"end":{"column":95,"line":48},"start":{"column":6,"line":48}},"25":{"end":{"column":5,"line":52},"start":{"column":4,"line":50}},"26":{"end":{"column":18,"line":51},"start":{"column":6,"line":51}},"27":{"end":{"column":5,"line":69},"start":{"column":4,"line":53}},"28":{"end":{"column":95,"line":54},"start":{"column":6,"line":54}},"29":{"end":{"column":7,"line":63},"start":{"column":6,"line":55}},"30":{"end":{"column":231,"line":56},"start":{"column":8,"line":56}},"31":{"end":{"column":9,"line":62},"start":{"column":8,"line":57}},"32":{"end":{"column":20,"line":61},"start":{"column":10,"line":58}},"33":{"end":{"column":5,"line":69},"start":{"column":11,"line":64}},"34":{"end":{"column":9,"line":68},"start":{"column":6,"line":65}},"35":{"end":{"column":29,"line":70},"start":{"column":4,"line":70}},"36":{"end":{"column":109,"line":73},"start":{"column":4,"line":73}},"37":{"end":{"column":17,"line":76},"start":{"column":4,"line":76}},"38":{"end":{"column":41,"line":77},"start":{"column":4,"line":77}},"39":{"end":{"column":65,"line":78},"start":{"column":4,"line":78}},"40":{"end":{"column":13,"line":81},"start":{"column":4,"line":81}},"41":{"end":{"column":29,"line":82},"start":{"column":4,"line":82}},"42":{"end":{"column":45,"line":83},"start":{"column":4,"line":83}},"43":{"end":{"column":27,"line":86},"start":{"column":4,"line":86}},"44":{"end":{"column":29,"line":87},"start":{"column":4,"line":87}},"45":{"end":{"column":72,"line":88},"start":{"column":4,"line":88}},"46":{"end":{"column":7,"line":91},"start":{"column":4,"line":89}},"47":{"end":{"column":55,"line":90},"start":{"column":6,"line":90}},"48":{"end":{"column":77,"line":94},"start":{"column":4,"line":94}},"49":{"end":{"column":41,"line":95},"start":{"column":4,"line":95}},"50":{"end":{"column":5,"line":98},"start":{"column":4,"line":96}},"51":{"end":{"column":40,"line":97},"start":{"column":6,"line":97}},"52":{"end":{"column":152,"line":99},"start":{"column":4,"line":99}},"53":{"end":{"column":49,"line":100},"start":{"column":4,"line":100}},"54":{"end":{"column":55,"line":101},"start":{"column":4,"line":101}},"55":{"end":{"column":52,"line":102},"start":{"column":4,"line":102}},"56":{"end":{"column":6,"line":110},"start":{"column":4,"line":103}},"57":{"end":{"column":101,"line":111},"start":{"column":4,"line":111}},"58":{"end":{"column":51,"line":112},"start":{"column":4,"line":112}},"59":{"end":{"column":5,"line":120},"start":{"column":4,"line":115}},"60":{"end":{"column":29,"line":116},"start":{"column":6,"line":116}},"61":{"end":{"column":18,"line":117},"start":{"column":6,"line":117}},"62":{"end":{"column":18,"line":119},"start":{"column":6,"line":119}},"63":{"end":{"column":39,"line":123},"start":{"column":4,"line":123}},"64":{"end":{"column":52,"line":126},"start":{"column":4,"line":126}},"65":{"end":{"column":5,"line":129},"start":{"column":4,"line":127}},"66":{"end":{"column":13,"line":128},"start":{"column":6,"line":128}},"67":{"end":{"column":29,"line":130},"start":{"column":4,"line":130}},"68":{"end":{"column":65,"line":131},"start":{"column":4,"line":131}},"69":{"end":{"column":66,"line":132},"start":{"column":4,"line":132}},"70":{"end":{"column":84,"line":133},"start":{"column":4,"line":133}},"71":{"end":{"column":5,"line":138},"start":{"column":4,"line":134}},"72":{"end":{"column":7,"line":137},"start":{"column":6,"line":135}},"73":{"end":{"column":42,"line":136},"start":{"column":8,"line":136}},"74":{"end":{"column":5,"line":141},"start":{"column":4,"line":139}},"75":{"end":{"column":103,"line":140},"start":{"column":6,"line":140}},"76":{"end":{"column":2,"line":199},"start":{"column":0,"line":145}},"77":{"end":{"column":26,"line":148},"start":{"column":4,"line":148}},"78":{"end":{"column":32,"line":149},"start":{"column":4,"line":149}},"79":{"end":{"column":31,"line":150},"start":{"column":4,"line":150}},"80":{"end":{"column":26,"line":153},"start":{"column":4,"line":153}},"81":{"end":{"column":32,"line":154},"start":{"column":4,"line":154}},"82":{"end":{"column":31,"line":155},"start":{"column":4,"line":155}},"83":{"end":{"column":56,"line":161},"start":{"column":4,"line":161}},"84":{"end":{"column":34,"line":162},"start":{"column":4,"line":162}},"85":{"end":{"column":5,"line":165},"start":{"column":4,"line":163}},"86":{"end":{"column":13,"line":164},"start":{"column":6,"line":164}},"87":{"end":{"column":29,"line":166},"start":{"column":4,"line":166}},"88":{"end":{"column":47,"line":167},"start":{"column":4,"line":167}},"89":{"end":{"column":17,"line":168},"start":{"column":4,"line":168}},"90":{"end":{"column":5,"line":181},"start":{"column":4,"line":169}},"91":{"end":{"column":19,"line":170},"start":{"column":6,"line":170}},"92":{"end":{"column":7,"line":173},"start":{"column":6,"line":171}},"93":{"end":{"column":17,"line":172},"start":{"column":8,"line":172}},"94":{"end":{"column":46,"line":174},"start":{"column":6,"line":174}},"95":{"end":{"column":7,"line":177},"start":{"column":6,"line":175}},"96":{"end":{"column":17,"line":176},"start":{"column":8,"line":176}},"97":{"end":{"column":45,"line":178},"start":{"column":6,"line":178}},"98":{"end":{"column":32,"line":179},"start":{"column":6,"line":179}},"99":{"end":{"column":59,"line":180},"start":{"column":6,"line":180}},"100":{"end":{"column":19,"line":182},"start":{"column":4,"line":182}},"101":{"end":{"column":40,"line":185},"start":{"column":4,"line":185}},"102":{"end":{"column":29,"line":186},"start":{"column":4,"line":186}},"103":{"end":{"column":39,"line":187},"start":{"column":4,"line":187}},"104":{"end":{"column":17,"line":188},"start":{"column":4,"line":188}},"105":{"end":{"column":5,"line":196},"start":{"column":4,"line":189}},"106":{"end":{"column":19,"line":190},"start":{"column":6,"line":190}},"107":{"end":{"column":7,"line":195},"start":{"column":6,"line":191}},"108":{"end":{"column":42,"line":192},"start":{"column":8,"line":192}},"109":{"end":{"column":45,"line":194},"start":{"column":8,"line":194}},"110":{"end":{"column":19,"line":197},"start":{"column":4,"line":197}},"111":{"end":{"column":2,"line":215},"start":{"column":0,"line":201}},"112":{"end":{"column":13,"line":202},"start":{"column":2,"line":202}},"113":{"end":{"column":39,"line":203},"start":{"column":2,"line":203}},"114":{"end":{"column":3,"line":206},"start":{"column":2,"line":204}},"115":{"end":{"column":11,"line":205},"start":{"column":4,"line":205}},"116":{"end":{"column":3,"line":214},"start":{"column":2,"line":207}},"117":{"end":{"column":52,"line":208},"start":{"column":4,"line":208}},"118":{"end":{"column":5,"line":211},"start":{"column":4,"line":209}},"119":{"end":{"column":48,"line":210},"start":{"column":6,"line":210}},"120":{"end":{"column":57,"line":213},"start":{"column":4,"line":213}},"121":{"end":{"column":71,"line":217},"start":{"column":0,"line":217}},"122":{"end":{"column":2,"line":223},"start":{"column":0,"line":219}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":0,"30":0,"33":1,"39":0,"40":0,"41":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"51":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"64":0,"65":0,"70":0,"73":0,"76":0,"77":0,"78":0,"81":0,"82":0,"83":0,"86":1,"87":1,"88":1,"89":1,"90":0,"94":0,"95":0,"96":0,"97":0,"99":0,"100":0,"101":0,"102":0,"103":0,"111":0,"112":0,"115":0,"116":0,"117":0,"119":0,"123":3,"126":3,"127":3,"128":0,"130":3,"131":3,"132":3,"133":3,"134":3,"135":0,"136":0,"139":3,"140":0,"145":21,"148":1,"149":1,"150":1,"153":2,"154":2,"155":2,"161":3,"162":3,"163":3,"164":0,"166":3,"167":3,"168":3,"169":3,"170":3,"171":3,"172":0,"174":3,"175":3,"176":2,"178":1,"179":1,"180":1,"182":3,"185":3,"186":3,"187":3,"188":3,"189":3,"190":3,"191":3,"192":0,"194":3,"197":3,"201":21,"202":1,"203":1,"204":1,"205":1,"207":0,"208":0,"209":0,"210":0,"213":0,"217":21,"219":21}},
"/Users/phil/github/openstax/tutor-js/src/components/breadcrumb/index.cjsx":{"b":{"1":[21,0],"2":[2,19],"3":[0,39],"4":[39,37],"5":[39,0],"6":[37,2],"7":[37,2],"8":[39,37],"9":[0,0],"10":[0,0]},"branchMap":{"1":{"line":22,"locations":[{"end":{"column":4,"line":22},"start":{"column":4,"line":22}},{"end":{"column":4,"line":22},"start":{"column":4,"line":22}}],"type":"if"},"2":{"line":33,"locations":[{"end":{"column":4,"line":33},"start":{"column":4,"line":33}},{"end":{"column":4,"line":33},"start":{"column":4,"line":33}}],"type":"if"},"3":{"line":49,"locations":[{"end":{"column":4,"line":49},"start":{"column":4,"line":49}},{"end":{"column":4,"line":49},"start":{"column":4,"line":49}}],"type":"if"},"4":{"line":49,"locations":[{"end":{"column":29,"line":49},"start":{"column":8,"line":49}},{"end":{"column":75,"line":49},"start":{"column":33,"line":49}}],"type":"binary-expr"},"5":{"line":64,"locations":[{"end":{"column":77,"line":64},"start":{"column":63,"line":64}},{"end":{"column":86,"line":64},"start":{"column":80,"line":64}}],"type":"cond-expr"},"6":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"},"7":{"line":73,"locations":[{"end":{"column":4,"line":73},"start":{"column":4,"line":73}},{"end":{"column":4,"line":73},"start":{"column":4,"line":73}}],"type":"if"},"8":{"line":73,"locations":[{"end":{"column":29,"line":73},"start":{"column":8,"line":73}},{"end":{"column":46,"line":73},"start":{"column":34,"line":73}}],"type":"binary-expr"},"9":{"line":84,"locations":[{"end":{"column":4,"line":84},"start":{"column":4,"line":84}},{"end":{"column":4,"line":84},"start":{"column":4,"line":84}}],"type":"if"},"10":{"line":91,"locations":[{"end":{"column":4,"line":91},"start":{"column":4,"line":91}},{"end":{"column":4,"line":91},"start":{"column":4,"line":91}}],"type":"if"}},"code":["var Breadcrumb, BreadcrumbStatic, BreadcrumbTaskDynamic, React, StepPanel, TaskStepActions, TaskStepStore, TaskStore, ref;","","React = require('react');","","Breadcrumb = require('openstax-react-components').Breadcrumb;","","StepPanel = require('../../helpers/policies').StepPanel;","","ref = require('../../flux/task-step'), TaskStepActions = ref.TaskStepActions, TaskStepStore = ref.TaskStepStore;","","TaskStore = require('../../flux/task').TaskStore;","","BreadcrumbStatic = React.createClass({","  displayName: 'BreadcrumbStatic',","  componentWillMount: function() {","    return this.setStep(this.props);","  },","  setStep: function(props) {","    var crumb, step;","    crumb = props.crumb;","    step = crumb.data;","    if (crumb.type === 'step') {","      step = crumb.data;","    }","    return this.setState({","      step: step","    });","  },","  render: function() {","    var crumbProps, step;","    step = this.state.step;","    crumbProps = _.omit(this.props, 'step');","    if (_.isArray(step)) {","      step = _.first(step);","    }","    return React.createElement(Breadcrumb, React.__spread({}, crumbProps, {","      \"step\": step","    }));","  }","});","","BreadcrumbTaskDynamic = React.createClass({","  displayName: 'BreadcrumbTaskDynamic',","  componentWillMount: function() {","    var crumb;","    crumb = this.props.crumb;","    this.setStep(this.props);","    TaskStepStore.on('step.completed', this.update);","    if (crumb.type === 'step' && TaskStepStore.isPlaceholder(crumb.data.id)) {","      TaskStepStore.on('step.completed', this.checkPlaceholder);","      return TaskStepStore.on('step.loaded', this.update);","    }","  },","  removeListeners: function() {","    TaskStepStore.off('step.completed', this.update);","    TaskStepStore.off('step.completed', this.checkPlaceholder);","    return TaskStepStore.off('step.loaded', this.update);","  },","  componentWillUnmount: function() {","    return this.removeListeners();","  },","  componentDidMount: function() {","    var base;","    return typeof (base = this.props).onMount === \"function\" ? base.onMount() : void 0;","  },","  setStep: function(props) {","    var canReview, crumb, step;","    crumb = props.crumb;","    step = crumb.data;","    if (crumb.type === 'step') {","      step = TaskStepStore.get(crumb.data.id);","    }","    if (crumb.type === 'step' && (step != null)) {","      canReview = StepPanel.canReview(step.id);","    }","    return this.setState({","      step: step,","      canReview: canReview","    });","  },","  checkPlaceholder: function() {","    var id, ref1, task_id;","    ref1 = this.props.crumb.data, task_id = ref1.task_id, id = ref1.id;","    if (!TaskStore.hasIncompleteCoreStepsIndexes(task_id)) {","      return TaskStepActions.load(id);","    }","  },","  update: function(id) {","    var crumb;","    crumb = this.props.crumb;","    if (crumb.data.id === id) {","      return this.setStep(this.props);","    }","  },","  render: function() {","    var crumbProps, step;","    step = this.state.step;","    crumbProps = _.omit(this.props, 'step');","    return React.createElement(Breadcrumb, React.__spread({}, crumbProps, {","      \"step\": step","    }));","  }","});","","module.exports = {","  BreadcrumbTaskDynamic: BreadcrumbTaskDynamic,","  BreadcrumbStatic: BreadcrumbStatic","};",""],"f":{"1":21,"2":21,"3":21,"4":39,"5":39,"6":39,"7":39,"8":39,"9":0,"10":0,"11":195},"fnMap":{"1":{"line":15,"loc":{"end":{"column":33,"line":15},"start":{"column":22,"line":15}},"name":"(anonymous_1)"},"2":{"line":18,"loc":{"end":{"column":27,"line":18},"start":{"column":11,"line":18}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":21,"line":29},"start":{"column":10,"line":29}},"name":"(anonymous_3)"},"4":{"line":44,"loc":{"end":{"column":33,"line":44},"start":{"column":22,"line":44}},"name":"(anonymous_4)"},"5":{"line":54,"loc":{"end":{"column":30,"line":54},"start":{"column":19,"line":54}},"name":"(anonymous_5)"},"6":{"line":59,"loc":{"end":{"column":35,"line":59},"start":{"column":24,"line":59}},"name":"(anonymous_6)"},"7":{"line":62,"loc":{"end":{"column":32,"line":62},"start":{"column":21,"line":62}},"name":"(anonymous_7)"},"8":{"line":66,"loc":{"end":{"column":27,"line":66},"start":{"column":11,"line":66}},"name":"(anonymous_8)"},"9":{"line":81,"loc":{"end":{"column":31,"line":81},"start":{"column":20,"line":81}},"name":"(anonymous_9)"},"10":{"line":88,"loc":{"end":{"column":23,"line":88},"start":{"column":10,"line":88}},"name":"(anonymous_10)"},"11":{"line":95,"loc":{"end":{"column":21,"line":95},"start":{"column":10,"line":95}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/breadcrumb/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":2,"20":21,"21":21,"22":39,"23":39,"24":39,"25":39,"26":39,"27":0,"28":0,"29":39,"30":39,"31":39,"32":39,"33":39,"34":39,"35":39,"36":39,"37":39,"38":39,"39":37,"40":39,"41":37,"42":39,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":195,"52":195,"53":195,"54":195,"55":21},"statementMap":{"1":{"end":{"column":122,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":61,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":56,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":112,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":49,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":40},"start":{"column":0,"line":13}},"8":{"end":{"column":36,"line":16},"start":{"column":4,"line":16}},"9":{"end":{"column":20,"line":19},"start":{"column":4,"line":19}},"10":{"end":{"column":24,"line":20},"start":{"column":4,"line":20}},"11":{"end":{"column":22,"line":21},"start":{"column":4,"line":21}},"12":{"end":{"column":5,"line":24},"start":{"column":4,"line":22}},"13":{"end":{"column":24,"line":23},"start":{"column":6,"line":23}},"14":{"end":{"column":7,"line":27},"start":{"column":4,"line":25}},"15":{"end":{"column":25,"line":30},"start":{"column":4,"line":30}},"16":{"end":{"column":27,"line":31},"start":{"column":4,"line":31}},"17":{"end":{"column":44,"line":32},"start":{"column":4,"line":32}},"18":{"end":{"column":5,"line":35},"start":{"column":4,"line":33}},"19":{"end":{"column":27,"line":34},"start":{"column":6,"line":34}},"20":{"end":{"column":8,"line":38},"start":{"column":4,"line":36}},"21":{"end":{"column":3,"line":103},"start":{"column":0,"line":42}},"22":{"end":{"column":14,"line":45},"start":{"column":4,"line":45}},"23":{"end":{"column":29,"line":46},"start":{"column":4,"line":46}},"24":{"end":{"column":29,"line":47},"start":{"column":4,"line":47}},"25":{"end":{"column":52,"line":48},"start":{"column":4,"line":48}},"26":{"end":{"column":5,"line":52},"start":{"column":4,"line":49}},"27":{"end":{"column":64,"line":50},"start":{"column":6,"line":50}},"28":{"end":{"column":58,"line":51},"start":{"column":6,"line":51}},"29":{"end":{"column":53,"line":55},"start":{"column":4,"line":55}},"30":{"end":{"column":63,"line":56},"start":{"column":4,"line":56}},"31":{"end":{"column":57,"line":57},"start":{"column":4,"line":57}},"32":{"end":{"column":34,"line":60},"start":{"column":4,"line":60}},"33":{"end":{"column":13,"line":63},"start":{"column":4,"line":63}},"34":{"end":{"column":87,"line":64},"start":{"column":4,"line":64}},"35":{"end":{"column":31,"line":67},"start":{"column":4,"line":67}},"36":{"end":{"column":24,"line":68},"start":{"column":4,"line":68}},"37":{"end":{"column":22,"line":69},"start":{"column":4,"line":69}},"38":{"end":{"column":5,"line":72},"start":{"column":4,"line":70}},"39":{"end":{"column":46,"line":71},"start":{"column":6,"line":71}},"40":{"end":{"column":5,"line":75},"start":{"column":4,"line":73}},"41":{"end":{"column":47,"line":74},"start":{"column":6,"line":74}},"42":{"end":{"column":7,"line":79},"start":{"column":4,"line":76}},"43":{"end":{"column":26,"line":82},"start":{"column":4,"line":82}},"44":{"end":{"column":71,"line":83},"start":{"column":4,"line":83}},"45":{"end":{"column":5,"line":86},"start":{"column":4,"line":84}},"46":{"end":{"column":38,"line":85},"start":{"column":6,"line":85}},"47":{"end":{"column":14,"line":89},"start":{"column":4,"line":89}},"48":{"end":{"column":29,"line":90},"start":{"column":4,"line":90}},"49":{"end":{"column":5,"line":93},"start":{"column":4,"line":91}},"50":{"end":{"column":38,"line":92},"start":{"column":6,"line":92}},"51":{"end":{"column":25,"line":96},"start":{"column":4,"line":96}},"52":{"end":{"column":27,"line":97},"start":{"column":4,"line":97}},"53":{"end":{"column":44,"line":98},"start":{"column":4,"line":98}},"54":{"end":{"column":8,"line":101},"start":{"column":4,"line":99}},"55":{"end":{"column":2,"line":108},"start":{"column":0,"line":105}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"16":21,"19":21,"20":21,"21":21,"22":21,"23":21,"25":21,"30":21,"31":21,"32":21,"33":21,"34":2,"36":21,"42":21,"45":39,"46":39,"47":39,"48":39,"49":39,"50":0,"51":0,"55":39,"56":39,"57":39,"60":39,"63":39,"64":39,"67":39,"68":39,"69":39,"70":39,"71":37,"73":39,"74":37,"76":39,"82":0,"83":0,"84":0,"85":0,"89":0,"90":0,"91":0,"92":0,"96":195,"97":195,"98":195,"99":195,"105":21}},
"/Users/phil/github/openstax/tutor-js/src/components/buttons/back-button.cjsx":{"b":{"1":[2,0],"2":[2,0]},"branchMap":{"1":{"line":36,"locations":[{"end":{"column":63,"line":36},"start":{"column":34,"line":36}},{"end":{"column":83,"line":36},"start":{"column":66,"line":36}}],"type":"cond-expr"},"2":{"line":37,"locations":[{"end":{"column":27,"line":37},"start":{"column":11,"line":37}},{"end":{"column":119,"line":37},"start":{"column":31,"line":37}}],"type":"binary-expr"}},"code":["var BS, BackButton, History, Link, React, TransitionActions, TransitionStore, _, ref, ref1;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ref = require('react-router'), History = ref.History, Link = ref.Link;","","ref1 = require('../../flux/transition'), TransitionActions = ref1.TransitionActions, TransitionStore = ref1.TransitionStore;","","BackButton = React.createClass({","  displayName: 'BackButton',","  propTypes: {","    bsStyle: React.PropTypes.string,","    fallbackLink: React.PropTypes.shape({","      to: React.PropTypes.string,","      params: React.PropTypes.object,","      text: React.PropTypes.string","    }).isRequired","  },","  getDefaultProps: function() {","    return {","      bsStyle: 'default'","    };","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var backText, className, fallbackLink, historyInfo, href, ref2, text;","    historyInfo = TransitionStore.getPrevious(this.context.router);","    ref2 = this.props, fallbackLink = ref2.fallbackLink, className = ref2.className;","    text = fallbackLink.text;","    backText = historyInfo.name ? \"Back to \" + historyInfo.name : fallbackLink.text;","    href = historyInfo.path || this.context.router.makeHref(this.props.fallbackLink.to, this.props.fallbackLink.params);","    return React.createElement(Link, {","      \"className\": \"btn btn-\" + this.props.bsStyle,","      \"to\": href","    }, backText);","  }","});","","module.exports = BackButton;",""],"f":{"1":21,"2":2},"fnMap":{"1":{"line":23,"loc":{"end":{"column":30,"line":23},"start":{"column":19,"line":23}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":21,"line":31},"start":{"column":10,"line":31}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/buttons/back-button.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":2,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":21},"statementMap":{"1":{"end":{"column":91,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":70,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":124,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":43},"start":{"column":0,"line":13}},"8":{"end":{"column":6,"line":26},"start":{"column":4,"line":24}},"9":{"end":{"column":73,"line":32},"start":{"column":4,"line":32}},"10":{"end":{"column":67,"line":33},"start":{"column":4,"line":33}},"11":{"end":{"column":84,"line":34},"start":{"column":4,"line":34}},"12":{"end":{"column":29,"line":35},"start":{"column":4,"line":35}},"13":{"end":{"column":84,"line":36},"start":{"column":4,"line":36}},"14":{"end":{"column":120,"line":37},"start":{"column":4,"line":37}},"15":{"end":{"column":17,"line":41},"start":{"column":4,"line":38}},"16":{"end":{"column":28,"line":45},"start":{"column":0,"line":45}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"24":21,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":2,"45":21}},
"/Users/phil/github/openstax/tutor-js/src/components/buttons/browse-the-book.cjsx":{"b":{"1":[780,150],"2":[63,867],"3":[930,0],"4":[930,0],"5":[150,780],"6":[0,930],"7":[789,141],"8":[1007,844],"9":[77,930],"10":[1007,952],"11":[952,0],"12":[930,139]},"branchMap":{"1":{"line":35,"locations":[{"end":{"column":4,"line":35},"start":{"column":4,"line":35}},{"end":{"column":4,"line":35},"start":{"column":4,"line":35}}],"type":"if"},"2":{"line":38,"locations":[{"end":{"column":4,"line":38},"start":{"column":4,"line":38}},{"end":{"column":4,"line":38},"start":{"column":4,"line":38}}],"type":"if"},"3":{"line":47,"locations":[{"end":{"column":4,"line":47},"start":{"column":4,"line":47}},{"end":{"column":4,"line":47},"start":{"column":4,"line":47}}],"type":"if"},"4":{"line":49,"locations":[{"end":{"column":86,"line":49},"start":{"column":70,"line":49}},{"end":{"column":95,"line":49},"start":{"column":89,"line":49}}],"type":"cond-expr"},"5":{"line":50,"locations":[{"end":{"column":6,"line":50},"start":{"column":6,"line":50}},{"end":{"column":6,"line":50},"start":{"column":6,"line":50}}],"type":"if"},"6":{"line":56,"locations":[{"end":{"column":56,"line":56},"start":{"column":33,"line":56}},{"end":{"column":128,"line":56},"start":{"column":59,"line":56}}],"type":"cond-expr"},"7":{"line":56,"locations":[{"end":{"column":106,"line":56},"start":{"column":80,"line":56}},{"end":{"column":128,"line":56},"start":{"column":109,"line":56}}],"type":"cond-expr"},"8":{"line":69,"locations":[{"end":{"column":34,"line":69},"start":{"column":15,"line":69}},{"end":{"column":85,"line":69},"start":{"column":38,"line":69}}],"type":"binary-expr"},"9":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"},"10":{"line":70,"locations":[{"end":{"column":18,"line":70},"start":{"column":10,"line":70}},{"end":{"column":98,"line":70},"start":{"column":22,"line":70}}],"type":"binary-expr"},"11":{"line":70,"locations":[{"end":{"column":88,"line":70},"start":{"column":68,"line":70}},{"end":{"column":97,"line":70},"start":{"column":91,"line":70}}],"type":"cond-expr"},"12":{"line":75,"locations":[{"end":{"column":30,"line":75},"start":{"column":11,"line":75}},{"end":{"column":51,"line":75},"start":{"column":34,"line":75}}],"type":"binary-expr"}},"code":["var CourseStore, NewTabLink, React, _;","","React = require('react');","","_ = require('underscore');","","NewTabLink = require('../new-tab-link');","","CourseStore = require('../../flux/course').CourseStore;","","module.exports = React.createClass({","  displayName: 'BrowseTheBook',","  contextTypes: {","    router: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      bsStyle: 'primary'","    };","  },","  propTypes: {","    courseId: React.PropTypes.string,","    ecosystemId: React.PropTypes.string,","    chapterId: React.PropTypes.number,","    sectionId: React.PropTypes.number,","    page: React.PropTypes.string,","    unstyled: React.PropTypes.bool,","    bsStyle: React.PropTypes.string","  },","  getLinkProps: function() {","    var linkProps, omitProps, transferProps;","    linkProps = {","      className: 'view-reference-guide'","    };","    if (this.props.className) {","      linkProps.className += \" \" + this.props.className;","    }","    if (!this.props.unstyled) {","      linkProps.className += \" btn btn-\" + this.props.bsStyle;","    }","    omitProps = _.chain(this.propTypes).keys().union(['children', 'className', 'unstyled']).value();","    transferProps = _.omit(this.props, omitProps);","    return _.extend({}, transferProps, linkProps);","  },","  buildRouteProps: function(courseId) {","    var courseEcosystemId, ecosystemId, linkType, queryParams, ref, routeProps;","    if (!this.props.page) {","      ecosystemId = this.props.ecosystemId;","      courseEcosystemId = (ref = CourseStore.get(courseId)) != null ? ref.ecosystem_id : void 0;","      if (ecosystemId !== courseEcosystemId) {","        queryParams = {","          ecosystemId: ecosystemId","        };","      }","    }","    linkType = this.props.page ? 'viewReferenceBookPage' : this.props.section ? 'viewReferenceBookSection' : 'viewReferenceBook';","    return routeProps = {","      to: linkType,","      params: {","        courseId: courseId,","        cnxId: this.props.page,","        section: this.props.section","      },","      query: queryParams","    };","  },","  render: function() {","    var courseId, linkProps, ref, routeProps, text;","    courseId = this.props.courseId || this.context.router.getCurrentParams().courseId;","    if (!(courseId && !((ref = CourseStore.get(courseId)) != null ? ref.is_concept_coach : void 0))) {","      return null;","    }","    routeProps = this.buildRouteProps(courseId);","    linkProps = _.extend({}, routeProps, this.getLinkProps());","    text = this.props.children || 'Browse the Book';","    return React.createElement(NewTabLink, React.__spread({}, linkProps), text);","  }","});",""],"f":{"1":21,"2":930,"3":930,"4":1007},"fnMap":{"1":{"line":16,"loc":{"end":{"column":30,"line":16},"start":{"column":19,"line":16}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":27,"line":30},"start":{"column":16,"line":30}},"name":"(anonymous_2)"},"3":{"line":45,"loc":{"end":{"column":38,"line":45},"start":{"column":19,"line":45}},"name":"(anonymous_3)"},"4":{"line":67,"loc":{"end":{"column":21,"line":67},"start":{"column":10,"line":67}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/buttons/browse-the-book.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":930,"9":930,"10":930,"11":780,"12":930,"13":63,"14":930,"15":930,"16":930,"17":930,"18":930,"19":930,"20":930,"21":930,"22":150,"23":930,"24":930,"25":1007,"26":1007,"27":1007,"28":77,"29":930,"30":930,"31":930,"32":930},"statementMap":{"1":{"end":{"column":38,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":40,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":55,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":78},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":19},"start":{"column":4,"line":17}},"8":{"end":{"column":44,"line":31},"start":{"column":4,"line":31}},"9":{"end":{"column":6,"line":34},"start":{"column":4,"line":32}},"10":{"end":{"column":5,"line":37},"start":{"column":4,"line":35}},"11":{"end":{"column":56,"line":36},"start":{"column":6,"line":36}},"12":{"end":{"column":5,"line":40},"start":{"column":4,"line":38}},"13":{"end":{"column":62,"line":39},"start":{"column":6,"line":39}},"14":{"end":{"column":100,"line":41},"start":{"column":4,"line":41}},"15":{"end":{"column":50,"line":42},"start":{"column":4,"line":42}},"16":{"end":{"column":50,"line":43},"start":{"column":4,"line":43}},"17":{"end":{"column":79,"line":46},"start":{"column":4,"line":46}},"18":{"end":{"column":5,"line":55},"start":{"column":4,"line":47}},"19":{"end":{"column":43,"line":48},"start":{"column":6,"line":48}},"20":{"end":{"column":96,"line":49},"start":{"column":6,"line":49}},"21":{"end":{"column":7,"line":54},"start":{"column":6,"line":50}},"22":{"end":{"column":10,"line":53},"start":{"column":8,"line":51}},"23":{"end":{"column":129,"line":56},"start":{"column":4,"line":56}},"24":{"end":{"column":6,"line":65},"start":{"column":4,"line":57}},"25":{"end":{"column":51,"line":68},"start":{"column":4,"line":68}},"26":{"end":{"column":86,"line":69},"start":{"column":4,"line":69}},"27":{"end":{"column":5,"line":72},"start":{"column":4,"line":70}},"28":{"end":{"column":18,"line":71},"start":{"column":6,"line":71}},"29":{"end":{"column":48,"line":73},"start":{"column":4,"line":73}},"30":{"end":{"column":62,"line":74},"start":{"column":4,"line":74}},"31":{"end":{"column":52,"line":75},"start":{"column":4,"line":75}},"32":{"end":{"column":80,"line":76},"start":{"column":4,"line":76}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"17":21,"31":930,"32":930,"35":930,"36":780,"38":930,"39":63,"41":930,"42":930,"43":930,"46":930,"47":930,"48":930,"49":930,"50":930,"51":150,"56":930,"57":930,"68":1007,"69":1007,"70":1007,"71":77,"73":930,"74":930,"75":930,"76":930}},
"/Users/phil/github/openstax/tutor-js/src/components/buttons/practice-button.cjsx":{"b":{"1":[0,0],"2":[0,0]},"branchMap":{"1":{"line":21,"locations":[{"end":{"column":4,"line":21},"start":{"column":4,"line":21}},{"end":{"column":4,"line":21},"start":{"column":4,"line":21}}],"type":"if"},"2":{"line":31,"locations":[{"end":{"column":42,"line":31},"start":{"column":33,"line":31}},{"end":{"column":54,"line":31},"start":{"column":45,"line":31}}],"type":"cond-expr"}},"code":["var BS, PracticeButton, React;","","React = require('react');","","BS = require('react-bootstrap');","","PracticeButton = React.createClass({","  displayName: 'PracticeButton',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    pageIds: React.PropTypes.arrayOf(React.PropTypes.string),","    showAll: React.PropTypes.bool.isRequired","  },","  goToPractice: function() {","    var courseId, pageIds, query, ref;","    ref = this.props, courseId = ref.courseId, pageIds = ref.pageIds;","    query = {};","    if (pageIds) {","      query.page_ids = pageIds;","    }","    return this.context.router.transitionTo('viewPractice', {","      courseId: courseId","    }, query);","  },","  render: function() {","    var text;","    text = 'Practice this ';","    text += this.props.showAll ? 'chapter' : 'section';","    return React.createElement(BS.Button, {","      \"bsStyle\": 'primary',","      \"className\": '-practice',","      \"onClick\": this.goToPractice","    }, text);","  }","});","","module.exports = PracticeButton;",""],"f":{"1":0,"2":0},"fnMap":{"1":{"line":17,"loc":{"end":{"column":27,"line":17},"start":{"column":16,"line":17}},"name":"(anonymous_1)"},"2":{"line":28,"loc":{"end":{"column":21,"line":28},"start":{"column":10,"line":28}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/buttons/practice-button.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":21},"statementMap":{"1":{"end":{"column":30,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":38},"start":{"column":0,"line":7}},"5":{"end":{"column":38,"line":18},"start":{"column":4,"line":18}},"6":{"end":{"column":69,"line":19},"start":{"column":4,"line":19}},"7":{"end":{"column":15,"line":20},"start":{"column":4,"line":20}},"8":{"end":{"column":5,"line":23},"start":{"column":4,"line":21}},"9":{"end":{"column":31,"line":22},"start":{"column":6,"line":22}},"10":{"end":{"column":14,"line":26},"start":{"column":4,"line":24}},"11":{"end":{"column":13,"line":29},"start":{"column":4,"line":29}},"12":{"end":{"column":28,"line":30},"start":{"column":4,"line":30}},"13":{"end":{"column":55,"line":31},"start":{"column":4,"line":31}},"14":{"end":{"column":13,"line":36},"start":{"column":4,"line":32}},"15":{"end":{"column":32,"line":40},"start":{"column":0,"line":40}}},"l":{"1":21,"3":21,"5":21,"7":21,"18":0,"19":0,"20":0,"21":0,"22":0,"24":0,"29":0,"30":0,"31":0,"32":0,"40":21}},
"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/blank-course.cjsx":{"b":{},"branchMap":{},"code":["var BS, BlankCourse, CourseGroupingLabel, DesktopImage, Icon, React, Router, _, classnames;","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","DesktopImage = require('./desktop-image');","","CourseGroupingLabel = require('../course-grouping-label');","","Icon = require('../icon');","","classnames = require('classnames');","","BlankCourse = React.createClass({displayName: \"BlankCourse\",","  propTypes: {","    courseId: React.PropTypes.string,","    inPeriod: React.PropTypes.bool","  },","  render: function() {","    var classes, glprops;","    glprops = {","      lowercase: true,","      courseId: this.props.courseId","    };","    classes = classnames('blank-course', {","      'in-period': this.props.inPeriod","    });","    return React.createElement(\"div\", {","      \"className\": \"\" + classes","    }, React.createElement(\"h3\", {","      \"className\": \"title\"","    }, \"Welcome to your OpenStax Concept Coach™ Dashboard\"), React.createElement(\"div\", {","      \"className\": \"body\"","    }, React.createElement(\"h3\", null, \"Getting Started\"), React.createElement(\"div\", {","      \"className\": \"side-by-side\"","    }, React.createElement(\"div\", {","      \"className\": \"help\"","    }, React.createElement(\"ol\", null, React.createElement(\"li\", null, \"Add \", React.createElement(CourseGroupingLabel, React.__spread({","      \"plural\": true","    }, glprops)), \" to\\nyour course by clicking on your name in the top\\nright corner and selecting \\\"Course Settings and Roster.\\\"\"), React.createElement(\"li\", null, \"Generate a student enrollment code for\\neach \", React.createElement(CourseGroupingLabel, React.__spread({}, glprops)), \" you\\ncreate.\"), React.createElement(\"li\", null, \"Distribute the enrollment codes for\\neach \", React.createElement(CourseGroupingLabel, React.__spread({}, glprops)), \" and\\ntextbook URL (which is the same for\\neach \", React.createElement(CourseGroupingLabel, React.__spread({}, glprops)), \") to\\nyour students.\"), React.createElement(\"li\", null, \"Encourage your students to login to Concept Coach as part of their\\nfirst reading assignment.\"), React.createElement(\"li\", null, \"As your students begin using Concept Coach, you will be able to\\ntrack their performance and see their scores in your dashboard.\", React.createElement(\"p\", null, \"Performance metrics will appear when at least 10% of students\\nhave completed a Concept Coach reading\"))), React.createElement(Router.Link, {","      \"className\": 'settings btn btn-default btn-large',","      \"to\": 'courseSettings',","      \"params\": {","        courseId: this.props.courseId","      }","    }, React.createElement(Icon, {","      \"type\": 'plus'","    }), \" Add\\na \", React.createElement(CourseGroupingLabel, React.__spread({}, glprops)), \" to your course\")), React.createElement(\"div\", {","      \"className\": 'graphic'","    }, React.createElement(\"div\", {","      \"className\": 'svg-container'","    }, React.createElement(DesktopImage, {","      \"courseId\": this.props.courseId","    }))))));","  }","});","","module.exports = BlankCourse;",""],"f":{"1":8},"fnMap":{"1":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/blank-course.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":8,"12":8,"13":8,"14":8,"15":21},"statementMap":{"1":{"end":{"column":91,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":42,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":58,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":26,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":35,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":61},"start":{"column":0,"line":19}},"11":{"end":{"column":25,"line":25},"start":{"column":4,"line":25}},"12":{"end":{"column":6,"line":29},"start":{"column":4,"line":26}},"13":{"end":{"column":7,"line":32},"start":{"column":4,"line":30}},"14":{"end":{"column":12,"line":59},"start":{"column":4,"line":33}},"15":{"end":{"column":29,"line":63},"start":{"column":0,"line":63}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"25":8,"26":8,"30":8,"33":8,"63":21}},
"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/chapter.cjsx":{"b":{},"branchMap":{},"code":["var BS, CCDashboardStore, ChapterSection, DashboardChapter, React, Section, _, classnames;","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","classnames = require('classnames');","","CCDashboardStore = require('../../flux/cc-dashboard').CCDashboardStore;","","ChapterSection = require('../task-plan/chapter-section');","","Section = require('./section');","","DashboardChapter = React.createClass({displayName: \"DashboardChapter\",","  propTypes: {","    chapter: React.PropTypes.shape({","      id: React.PropTypes.string,","      chapter_section: React.PropTypes.array,","      valid_sections: React.PropTypes.array","    })","  },","  renderSections: function() {","    return _.map(this.props.chapter.valid_sections, function(section, index) {","      return React.createElement(Section, {","        \"section\": section,","        \"key\": index","      });","    });","  },","  render: function() {","    var classes;","    classes = classnames('chapter', {","      empty: this.props.chapter.valid_sections","    });","    return React.createElement(\"div\", {","      \"className\": classes","    }, React.createElement(BS.Row, {","      \"className\": \"name\",","      \"key\": this.props.chapter.id","    }, React.createElement(BS.Col, {","      \"xs\": 12.","    }, React.createElement(ChapterSection, {","      \"section\": this.props.chapter.chapter_section","    }), this.props.chapter.title)), this.renderSections());","  }","});","","module.exports = DashboardChapter;",""],"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"line":25,"loc":{"end":{"column":29,"line":25},"start":{"column":18,"line":25}},"name":"(anonymous_1)"},"2":{"line":26,"loc":{"end":{"column":77,"line":26},"start":{"column":52,"line":26}},"name":"(anonymous_2)"},"3":{"line":33,"loc":{"end":{"column":21,"line":33},"start":{"column":10,"line":33}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/chapter.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":0,"12":0,"13":0,"14":0,"15":21},"statementMap":{"1":{"end":{"column":90,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":35,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":71,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":57,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":31,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":49},"start":{"column":0,"line":17}},"10":{"end":{"column":7,"line":31},"start":{"column":4,"line":26}},"11":{"end":{"column":9,"line":30},"start":{"column":6,"line":27}},"12":{"end":{"column":16,"line":34},"start":{"column":4,"line":34}},"13":{"end":{"column":7,"line":37},"start":{"column":4,"line":35}},"14":{"end":{"column":59,"line":47},"start":{"column":4,"line":38}},"15":{"end":{"column":34,"line":51},"start":{"column":0,"line":51}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"26":0,"27":0,"34":0,"35":0,"38":0,"51":21}},
"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/dashboard.cjsx":{"b":{"1":[7,0],"2":[7,0],"3":[8,0]},"branchMap":{"1":{"line":44,"locations":[{"end":{"column":121,"line":44},"start":{"column":86,"line":44}},{"end":{"column":130,"line":44},"start":{"column":124,"line":44}}],"type":"cond-expr"},"2":{"line":46,"locations":[{"end":{"column":60,"line":46},"start":{"column":45,"line":46}},{"end":{"column":69,"line":46},"start":{"column":63,"line":46}}],"type":"cond-expr"},"3":{"line":124,"locations":[{"end":{"column":35,"line":124},"start":{"column":23,"line":124}},{"end":{"column":54,"line":124},"start":{"column":38,"line":124}}],"type":"cond-expr"}},"code":["var BS, BlankCourse, CCDashboard, CCDashboardStore, CourseDataMixin, CoursePeriodsNav, CourseStore, DashboardChapter, Icon, React, Router, TOOLTIPS;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","CCDashboardStore = require('../../flux/cc-dashboard').CCDashboardStore;","","CoursePeriodsNav = require('../course-periods-nav').CoursePeriodsNav;","","CourseStore = require('../../flux/course').CourseStore;","","Icon = require('../icon');","","CourseDataMixin = require('../course-data-mixin');","","DashboardChapter = require('./chapter');","","BlankCourse = require('./blank-course');","","TOOLTIPS = {","  complete: 'Complete shows the percentage of students who\\nhave completed the Concept Coach for this section.\\nStudents who have not answered all of the Concept Coach\\nquestions for this section will not be counted, although\\nthe questions they have answered will be included in the\\nOriginal and Spaced Practice Performance percentages.',","  original: 'The original performance shows the percentage of Concept Coach\\nquestions that students answered correctly on this section of the\\nbook the first time they were presented. The performance bars\\nshow up for a section of the book once at least 10% of students\\nin the class (or section) have submitted answers.',","  spaced: 'Spaced practice performance shows the percentage of Concept Coach\\nquestions on this section that were correctly answered after the\\nsection was originally practiced. Compare this measure to\\nOriginal Performance to gauge how well students are retaining\\nthe information.'","};","","CCDashboard = React.createClass({displayName: \"CCDashboard\",","  mixins: [CourseDataMixin],","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string","  },","  getDefaultProps: function() {","    return {","      initialActivePeriod: 0","    };","  },","  getInitialState: function() {","    var activePeriod, ref;","    activePeriod = (ref = CCDashboardStore.getPeriods(this.props.courseId)) != null ? ref[this.props.initialActivePeriod] : void 0;","    return {","      activePeriodId: activePeriod != null ? activePeriod.id : void 0","    };","  },","  handlePeriodSelect: function(period) {","    return this.setState({","      activePeriodId: period.id","    });","  },","  render: function() {","    var chapter, chapters, course, courseDataProps, courseId, dashboardResults, emptyGraphic, emptyPeriod, index, periods;","    courseId = this.props.courseId;","    periods = CCDashboardStore.getPeriods(courseId);","    chapters = CCDashboardStore.chaptersForDisplay(courseId, this.state.activePeriodId);","    courseDataProps = this.getCourseDataProps(courseId);","    course = CourseStore.get(courseId);","    emptyPeriod = chapters.length === 0;","    emptyGraphic = React.createElement(BlankCourse, {","      \"courseId\": courseId,","      \"inPeriod\": emptyPeriod","    });","    dashboardResults = React.createElement(\"div\", null, React.createElement(BS.Row, {","      \"className\": \"column-legend\"","    }, React.createElement(BS.Col, {","      \"xs\": 2.,","      \"xsOffset\": 6.","    }, \"Complete\", React.createElement(Icon, {","      \"type\": 'info-circle',","      \"tooltipProps\": {","        placement: 'top'","      },","      \"tooltip\": TOOLTIPS.complete","    })), React.createElement(BS.Col, {","      \"xs\": 2.","    }, \"Original Performance\", React.createElement(Icon, {","      \"type\": 'info-circle',","      \"tooltipProps\": {","        placement: 'top'","      },","      \"tooltip\": TOOLTIPS.original","    })), React.createElement(BS.Col, {","      \"xs\": 2.","    }, \"Spaced Practice Performance\", React.createElement(Icon, {","      \"type\": 'info-circle',","      \"tooltipProps\": {","        placement: 'top'","      },","      \"tooltip\": TOOLTIPS.spaced","    }))), (function() {","      var i, len, results;","      results = [];","      for (index = i = 0, len = chapters.length; i < len; index = ++i) {","        chapter = chapters[index];","        results.push(React.createElement(DashboardChapter, {","          \"chapter\": chapter,","          \"key\": index","        }));","      }","      return results;","    })(), React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"className\": \"hide-section-legend\",","      \"xs\": 12.","    }, \"Chapters and sections that are less than 10% complete are hidden\")));","    return React.createElement(\"div\", {","      \"className\": \"dashboard\",","      \"data-period\": this.state.activePeriodId","    }, React.createElement(\"div\", React.__spread({}, courseDataProps, {","      \"className\": 'tutor-booksplash-background'","    })), React.createElement(BS.Panel, null, React.createElement(\"h2\", null, \"Class Dashboard\"), React.createElement(Router.Link, {","      \"className\": 'detailed-scores btn btn-default',","      \"to\": 'viewScores',","      \"params\": {","        courseId: courseId","      }","    }, \"View Detailed Scores\"), React.createElement(CoursePeriodsNav, {","      \"handleSelect\": this.handlePeriodSelect,","      \"initialActive\": this.props.initialActivePeriod,","      \"periods\": periods,","      \"courseId\": courseId","    }), (emptyPeriod ? emptyGraphic : dashboardResults)));","  }","});","","module.exports = CCDashboard;",""],"f":{"1":21,"2":7,"3":1,"4":8,"5":8},"fnMap":{"1":{"line":37,"loc":{"end":{"column":30,"line":37},"start":{"column":19,"line":37}},"name":"(anonymous_1)"},"2":{"line":42,"loc":{"end":{"column":30,"line":42},"start":{"column":19,"line":42}},"name":"(anonymous_2)"},"3":{"line":49,"loc":{"end":{"column":39,"line":49},"start":{"column":22,"line":49}},"name":"(anonymous_3)"},"4":{"line":54,"loc":{"end":{"column":21,"line":54},"start":{"column":10,"line":54}},"name":"(anonymous_4)"},"5":{"line":93,"loc":{"end":{"column":22,"line":93},"start":{"column":11,"line":93}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/dashboard.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":7,"16":7,"17":7,"18":1,"19":8,"20":8,"21":8,"22":8,"23":8,"24":8,"25":8,"26":8,"27":8,"28":8,"29":8,"30":8,"31":0,"32":0,"33":8,"34":8,"35":21},"statementMap":{"1":{"end":{"column":148,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":71,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":69,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":55,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":26,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":50,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":40,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":40,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":2,"line":27},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":126},"start":{"column":0,"line":29}},"14":{"end":{"column":6,"line":40},"start":{"column":4,"line":38}},"15":{"end":{"column":26,"line":43},"start":{"column":4,"line":43}},"16":{"end":{"column":131,"line":44},"start":{"column":4,"line":44}},"17":{"end":{"column":6,"line":47},"start":{"column":4,"line":45}},"18":{"end":{"column":7,"line":52},"start":{"column":4,"line":50}},"19":{"end":{"column":122,"line":55},"start":{"column":4,"line":55}},"20":{"end":{"column":35,"line":56},"start":{"column":4,"line":56}},"21":{"end":{"column":52,"line":57},"start":{"column":4,"line":57}},"22":{"end":{"column":88,"line":58},"start":{"column":4,"line":58}},"23":{"end":{"column":56,"line":59},"start":{"column":4,"line":59}},"24":{"end":{"column":39,"line":60},"start":{"column":4,"line":60}},"25":{"end":{"column":40,"line":61},"start":{"column":4,"line":61}},"26":{"end":{"column":7,"line":65},"start":{"column":4,"line":62}},"27":{"end":{"column":77,"line":107},"start":{"column":4,"line":66}},"28":{"end":{"column":26,"line":94},"start":{"column":6,"line":94}},"29":{"end":{"column":19,"line":95},"start":{"column":6,"line":95}},"30":{"end":{"column":7,"line":102},"start":{"column":6,"line":96}},"31":{"end":{"column":34,"line":97},"start":{"column":8,"line":97}},"32":{"end":{"column":12,"line":101},"start":{"column":8,"line":98}},"33":{"end":{"column":21,"line":103},"start":{"column":6,"line":103}},"34":{"end":{"column":58,"line":124},"start":{"column":4,"line":108}},"35":{"end":{"column":29,"line":128},"start":{"column":0,"line":128}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"29":21,"38":21,"43":7,"44":7,"45":7,"50":1,"55":8,"56":8,"57":8,"58":8,"59":8,"60":8,"61":8,"62":8,"66":8,"94":8,"95":8,"96":8,"97":0,"98":0,"103":8,"108":8,"128":21}},
"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/desktop-image.cjsx":{"b":{},"branchMap":{},"code":["var CourseStore, DesktopImage, React, _;","","_ = require('underscore');","","React = require('react');","","CourseStore = require('../../flux/course').CourseStore;","","DesktopImage = React.createClass({displayName: \"DesktopImage\",","  propTypes: {","    courseId: React.PropTypes.string","  },","  render: function() {","    var appearance, course;","    course = CourseStore.get(this.props.courseId);","    appearance = CourseStore.getAppearanceCode(this.props.courseId);","    return React.createElement(\"svg\", {","      \"className\": \"desktop \" + appearance,","      \"width\": \"100%\",","      \"height\": \"100%\",","      \"viewBox\": \"0 0 430 337\",","      \"version\": \"1.1\",","      \"xmlns\": \"http://www.w3.org/2000/svg\",","      \"style\": {","        fillRule: 'evenodd',","        clipRule: 'evenodd',","        strokeLinejoin: 'round',","        strokeMiterLimit: '1.41421'","      }","    }, React.createElement(\"path\", {","      \"d\": \"M430,302.705c0,9.546 -7.979,17.021 -17.43,17.43l0,9.296c0,4.266 -2.707,7.553 -6.973,7.553l-38.927,0c-4.266,0 -7.554,-3.287 -7.554,-7.553l0,-54.033c0,-4.265 0.384,-5.811 4.648,-5.811l44.736,0c4.266,0 4.066,1.546 4.066,5.811l0,9.297c9.455,0.406 17.434,8.463 17.434,18.01ZM412.57,291.084l0,22.659c6.011,-0.404 11.621,-4.928 11.621,-11.038c0,-6.111 -5.61,-11.217 -11.621,-11.621Z\",","      \"style\": {","        fill: '#77af42'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M365.63,275.762c0.963,0 1.744,0.781 1.744,1.743l0,54.032c0,0.963 -0.781,1.744 -1.744,1.744c-0.961,0 -1.741,-0.781 -1.741,-1.744l0,-54.032c0,-0.962 0.78,-1.743 1.741,-1.743Z\",","      \"style\": {","        fill: '#8ec15a'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M392.992,253.168c3.451,5.524 -7.355,10.51 -7.355,10.51c0,0 5.658,-4.237 3.152,-10.51c-2.506,-6.273 3.018,-8.369 5.256,-8.935c0.303,-0.075 -4.899,2.778 -1.053,8.935ZM376.703,264.729c0,0 7.021,-4.771 4.203,-12.088c-2.818,-7.315 2.738,-9.853 5.255,-10.509c0.343,-0.09 -4.853,3.853 -0.524,11.035c3.881,6.446 -8.934,11.562 -8.934,11.562Z\",","      \"style\": {","        fill: '#fff'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M218.288,319.175c-22.113,-9.634 -18.777,-70.415 -18.777,-70.415l-25.819,0c0,0 2.645,60.781 -18.777,70.415l63.373,0Z\",","      \"style\": {","        fill: '#9a9a9b'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M100.929,318.646l171.344,0c2.592,0 4.693,2.103 4.693,4.693c0,2.593 -2.103,4.695 -4.693,4.695l-171.344,0c-2.592,0 -4.695,-2.104 -4.695,-4.695c0,-2.591 2.102,-4.693 4.695,-4.693Z\",","      \"style\": {","        fill: '#9a9a9b'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"173.691\",","      \"y\": \"248.76\",","      \"width\": \"25.819\",","      \"height\": \"11.736\",","      \"style\": {","        fill: '#828282'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M30.249,0l312.042,0c17.232,0 30.911,13.245 30.911,30.472l0,187.774c0,17.226 -13.28,30.514 -30.515,30.514l-312.174,0c-17.233,0 -30.513,-13.288 -30.513,-30.514l0,-187.774c0,-17.227 13.015,-30.472 30.249,-30.472Z\",","      \"style\": {","        fill: '#9a9a9b'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M14.083,40.082l0,25.127l267.028,0l40.149,-25.127l-307.177,0Z\",","      \"className\": 'banner'","    }), React.createElement(\"text\", {","      \"className\": 'course-name',","      \"x\": \"55.571px\",","      \"y\": \"59px\"","    }, course.name), React.createElement(\"path\", {","      \"d\": \"M14.083,220.594c0,6.48 5.253,11.736 11.736,11.736l321.563,0c6.481,0 11.736,-5.256 11.736,-11.736l0,-155.385l-345.035,0l0,155.385Z\",","      \"style\": {","        fill: '#fff'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M347.382,16.389l-321.563,0c-6.483,0 -11.736,5.254 -11.736,11.736l0,11.957l345.036,0l0,-11.957c0,-6.482 -5.255,-11.736 -11.737,-11.736Z\",","      \"style\": {","        fill: '#fff'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"49.358\",","      \"y\": \"26.948\",","      \"width\": \"55.837\",","      \"height\": \"4\",","      \"style\": {","        fill: '#e5e5e5'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"58.82\",","      \"y\": \"79.32\",","      \"width\": \"55.837\",","      \"height\": \"4\",","      \"style\": {","        fill: '#e5e5e5'","      }","    }), React.createElement(\"g\", null, React.createElement(\"path\", {","      \"d\": \"M40.848,26.259c-0.013,0.276 -0.247,0.49 -0.524,0.476l-11.68,-0.554c-0.276,-0.014 -0.488,-0.249 -0.475,-0.524l0.049,-1.038c0.012,-0.276 0.248,-0.489 0.523,-0.477l11.68,0.555c0.276,0.013 0.489,0.248 0.477,0.524l-0.05,1.038Z\",","      \"style\": {","        fill: '#77af42'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M37.01,30.054c0,0.167 -0.135,0.301 -0.3,0.301l-9.5,0c-0.165,0 -0.3,-0.134 -0.3,-0.301l0,-1.485c0,-0.166 0.135,-0.299 0.3,-0.299l9.5,0c0.166,0 0.3,0.134 0.3,0.299l0,1.485Z\",","      \"style\": {","        fill: '#5f6163'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M39.931,31.661c0.005,0.165 -0.12,0.304 -0.281,0.309l-10.717,0.335c-0.16,0.004 -0.294,-0.127 -0.299,-0.292l-0.028,-0.882c-0.005,-0.166 0.121,-0.304 0.282,-0.31l10.717,-0.334c0.16,-0.005 0.294,0.126 0.3,0.291l0.026,0.883Z\",","      \"style\": {","        fill: '#f4d019'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M38.491,33.454c0,0.166 -0.126,0.301 -0.282,0.301l-10.23,0c-0.156,0 -0.282,-0.135 -0.282,-0.301l0,-0.59c0,-0.166 0.126,-0.3 0.282,-0.3l10.23,0c0.156,0 0.282,0.134 0.282,0.3l0,0.59Z\",","      \"style\": {","        fill: '#222f66'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M38.755,27.553c0,0.122 -0.182,0.222 -0.406,0.222l-12.405,0c-0.223,0 -0.405,-0.1 -0.405,-0.222l0,-0.48c0,-0.122 0.182,-0.221 0.405,-0.221l12.406,0c0.224,0 0.406,0.099 0.406,0.221l-0.001,0.48Z\",","      \"style\": {","        fill: '#f47641'","      }","    })), React.createElement(\"path\", {","      \"d\": \"M213.116,103.129l7.405,0l8.75,-5.476l-170.451,0l0,15.299l146.007,0l8.289,-5.187l0,-4.636Z\",","      \"style\": {","        fill: '#f1f1f1'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"67.12\",","      \"y\": \"103.303\",","      \"width\": \"65.923\",","      \"height\": \"4\",","      \"style\": {","        fill: '#e5e5e5'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M159.285,138.335l0,-4.868l12.763,0l8.334,-5.216l-121.562,0l0,15.299l97.117,0l8.333,-5.215l-4.985,0Z\",","      \"style\": {","        fill: '#f1f1f1'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"67.12\",","      \"y\": \"133.9\",","      \"width\": \"77.094\",","      \"height\": \"4\",","      \"style\": {","        fill: '#e5e5e5'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"159.285\",","      \"y\": \"103.129\",","      \"width\": \"38.312\",","      \"height\": \"4.868\",","      \"style\": {","        fill: '#0dc0dc'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M314.382,158.849l-182.89,0l-9.027,5.65l14.022,0l0,4l-20.413,0l-9.028,5.648l207.336,0l0,-15.298Z\",","      \"style\": {","        fill: '#f5f5f5'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"159.285\",","      \"y\": \"164.064\",","      \"width\": \"27.316\",","      \"height\": \"4.868\",","      \"style\": {","        fill: '#77cfe0'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M314.382,204.746l0,-15.299l-231.781,0l-9.027,5.65l59.469,0l0,4l-65.86,0l-8.363,5.234l0,0.415l255.562,0Z\",","      \"style\": {","        fill: '#f5f5f5'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"159.285\",","      \"y\": \"194.662\",","      \"width\": \"30.14\",","      \"height\": \"4.869\",","      \"style\": {","        fill: '#77cfe0'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M354.842,19.065l-7.291,4.563l1.139,0l0,1.535l-3.59,0l-3.683,2.304l7.271,0l0,1.536l-9.726,0l-17.702,11.079l37.858,0l0,-11.957c0.001,-3.648 -1.664,-6.908 -4.276,-9.06ZM348.689,32.842l-11.52,0l0,-1.536l11.52,0l0,1.536Z\",","      \"style\": {","        fill: '#fff'","      }","    }), React.createElement(\"path\", {","      \"className\": 'banner-light',","      \"d\": \"M281.111,65.209l78.008,0l0,-25.127l-37.859,0l-40.149,25.127Z\"","    }), React.createElement(\"path\", {","      \"d\": \"M337.17,23.628l0,1.535l7.93,0l2.451,-1.535l-10.381,0Z\",","      \"style\": {","        fill: '#9a9a9b'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M348.689,23.628l-1.138,0l-2.451,1.535l3.589,0l0,-1.535Z\",","      \"style\": {","        fill: '#b2b3b3'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M337.17,27.467l0,1.536l1.793,0l2.454,-1.536l-4.247,0Z\",","      \"style\": {","        fill: '#9a9a9b'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M348.689,27.467l-7.272,0l-2.454,1.536l9.726,0l0,-1.536Z\",","      \"style\": {","        fill: '#b2b3b3'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"337.17\",","      \"y\": \"31.307\",","      \"width\": \"11.52\",","      \"height\": \"1.536\",","      \"style\": {","        fill: '#b2b3b3'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M314.382,97.653l-85.111,0l-8.75,5.476l22.735,0l0,4.869l-30.14,0l0,-0.233l-8.289,5.187l109.555,0l0,-15.299Z\",","      \"style\": {","        fill: '#f5f5f5'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M314.382,128.251l-134,0l-8.334,5.216l22.136,0l0,4.868l-29.914,0l-8.333,5.215l158.445,0l0,-15.299Z\",","      \"style\": {","        fill: '#f5f5f5'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M67.12,168.499l0,-2l0,-2l55.345,0l9.027,-5.65l-72.672,0l0,15.298l48.226,0l9.028,-5.648l-48.954,0Z\",","      \"style\": {","        fill: '#f1f1f1'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M67.12,199.097l0,-2l0,-2l6.454,0l9.027,-5.65l-23.781,0l0,14.884l8.363,-5.234l-0.063,0Z\",","      \"style\": {","        fill: '#f1f1f1'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M67.12,195.097l0,4l0.063,0l6.391,-4l-6.454,0Z\",","      \"style\": {","        fill: '#e5e5e5'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M73.574,195.097l-6.391,4l65.86,0l0,-4l-59.469,0Z\",","      \"style\": {","        fill: '#eaeaea'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M67.12,164.499l0,4l48.954,0l6.391,-4l-55.345,0Z\",","      \"style\": {","        fill: '#e5e5e5'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M122.465,164.499l-6.391,4l20.413,0l0,-4l-14.022,0Z\",","      \"style\": {","        fill: '#eaeaea'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M159.285,138.335l4.985,0l7.778,-4.868l-12.763,0l0,4.868Z\",","      \"style\": {","        fill: '#0dc0dc'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M194.184,138.335l0,-4.868l-22.136,0l-7.778,4.868l29.914,0Z\",","      \"style\": {","        fill: '#77cfe0'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M213.116,107.765l7.405,-4.636l-7.405,0l0,4.636Z\",","      \"style\": {","        fill: '#77af42'","      }","    }), React.createElement(\"path\", {","      \"d\": \"M213.116,107.998l30.14,0l0,-4.869l-22.735,0l-7.405,4.636l0,0.233Z\",","      \"style\": {","        fill: '#aecf8d'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"213.116\",","      \"y\": \"133.467\",","      \"width\": \"38.312\",","      \"height\": \"4.868\",","      \"style\": {","        fill: '#aecf8d'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"213.116\",","      \"y\": \"164.064\",","      \"width\": \"27.315\",","      \"height\": \"4.868\",","      \"style\": {","        fill: '#aecf8d'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"213.116\",","      \"y\": \"194.662\",","      \"width\": \"25.14\",","      \"height\": \"4.869\",","      \"style\": {","        fill: '#aecf8d'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"266.579\",","      \"y\": \"103.129\",","      \"width\": \"36.632\",","      \"height\": \"4.868\",","      \"style\": {","        fill: '#aecf8d'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"266.579\",","      \"y\": \"133.467\",","      \"width\": \"31.46\",","      \"height\": \"4.868\",","      \"style\": {","        fill: '#aecf8d'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"266.579\",","      \"y\": \"164.064\",","      \"width\": \"25.14\",","      \"height\": \"4.868\",","      \"style\": {","        fill: '#aecf8d'","      }","    }), React.createElement(\"rect\", {","      \"x\": \"266.579\",","      \"y\": \"194.662\",","      \"width\": \"19.155\",","      \"height\": \"4.869\",","      \"style\": {","        fill: '#aecf8d'","      }","    }));","  }","});","","module.exports = DesktopImage;",""],"f":{"1":8},"fnMap":{"1":{"line":13,"loc":{"end":{"column":21,"line":13},"start":{"column":10,"line":13}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/desktop-image.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":8,"7":8,"8":8,"9":8,"10":21},"statementMap":{"1":{"end":{"column":40,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":55,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":340},"start":{"column":0,"line":9}},"6":{"end":{"column":27,"line":14},"start":{"column":4,"line":14}},"7":{"end":{"column":50,"line":15},"start":{"column":4,"line":15}},"8":{"end":{"column":68,"line":16},"start":{"column":4,"line":16}},"9":{"end":{"column":8,"line":338},"start":{"column":4,"line":17}},"10":{"end":{"column":30,"line":342},"start":{"column":0,"line":342}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"14":8,"15":8,"16":8,"17":8,"342":21}},
"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/index.cjsx":{"b":{"1":[0,7]},"branchMap":{"1":{"line":24,"locations":[{"end":{"column":4,"line":24},"start":{"column":4,"line":24}},{"end":{"column":4,"line":24},"start":{"column":4,"line":24}}],"type":"if"}},"code":["var BS, BlankCourse, CCDashboard, CCDashboardActions, CCDashboardStore, DashboardShell, LoadableItem, React, classnames, ref;","","React = require('react');","","BS = require('react-bootstrap');","","ref = require('../../flux/cc-dashboard'), CCDashboardStore = ref.CCDashboardStore, CCDashboardActions = ref.CCDashboardActions;","","LoadableItem = require('../loadable-item');","","CCDashboard = require('./dashboard');","","BlankCourse = require('./blank-course');","","classnames = require('classnames');","","DashboardShell = React.createClass({displayName: \"DashboardShell\",","  contextTypes: {","    router: React.PropTypes.func","  },","  onLoadComplete: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    if (CCDashboardStore.isBlank(courseId)) {","      return React.createElement(BlankCourse, {","        \"courseId\": courseId","      });","    } else {","      return React.createElement(CCDashboard, {","        \"key\": courseId,","        \"courseId\": courseId","      });","    }","  },","  render: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return React.createElement(\"div\", {","      \"className\": \"cc-dashboard\"","    }, React.createElement(LoadableItem, {","      \"store\": CCDashboardStore,","      \"actions\": CCDashboardActions,","      \"id\": courseId,","      \"renderItem\": this.onLoadComplete","    }));","  }","});","","module.exports = DashboardShell;",""],"f":{"1":7,"2":7},"fnMap":{"1":{"line":21,"loc":{"end":{"column":29,"line":21},"start":{"column":18,"line":21}},"name":"(anonymous_1)"},"2":{"line":35,"loc":{"end":{"column":21,"line":35},"start":{"column":10,"line":35}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":7,"11":7,"12":7,"13":0,"14":7,"15":7,"16":7,"17":7,"18":21},"statementMap":{"1":{"end":{"column":125,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":127,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":43,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":37,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":35,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":47},"start":{"column":0,"line":17}},"10":{"end":{"column":17,"line":22},"start":{"column":4,"line":22}},"11":{"end":{"column":63,"line":23},"start":{"column":4,"line":23}},"12":{"end":{"column":5,"line":33},"start":{"column":4,"line":24}},"13":{"end":{"column":9,"line":27},"start":{"column":6,"line":25}},"14":{"end":{"column":9,"line":32},"start":{"column":6,"line":29}},"15":{"end":{"column":17,"line":36},"start":{"column":4,"line":36}},"16":{"end":{"column":63,"line":37},"start":{"column":4,"line":37}},"17":{"end":{"column":8,"line":45},"start":{"column":4,"line":38}},"18":{"end":{"column":32,"line":49},"start":{"column":0,"line":49}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"22":7,"23":7,"24":7,"25":0,"29":7,"36":7,"37":7,"38":7,"49":21}},
"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/section-performance.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":11,"locations":[{"end":{"column":80,"line":11},"start":{"column":40,"line":11}},{"end":{"column":84,"line":11},"start":{"column":83,"line":11}}],"type":"cond-expr"},"2":{"line":14,"locations":[{"end":{"column":4,"line":14},"start":{"column":4,"line":14}},{"end":{"column":4,"line":14},"start":{"column":4,"line":14}}],"type":"if"},"3":{"line":16,"locations":[{"end":{"column":73,"line":16},"start":{"column":48,"line":16}},{"end":{"column":88,"line":16},"start":{"column":76,"line":16}}],"type":"cond-expr"},"4":{"line":25,"locations":[{"end":{"column":4,"line":25},"start":{"column":4,"line":25}},{"end":{"column":4,"line":25},"start":{"column":4,"line":25}}],"type":"if"},"5":{"line":26,"locations":[{"end":{"column":86,"line":26},"start":{"column":52,"line":26}},{"end":{"column":95,"line":26},"start":{"column":89,"line":26}}],"type":"cond-expr"}},"code":["var BS, React, SectionPerformance;","","React = require('react');","","BS = require('react-bootstrap');","","SectionPerformance = React.createClass({displayName: \"SectionPerformance\",","  render: function() {","    var correctBar, correctLabel, incorrectBar, incorrectLabel, percents;","    percents = {","      correct: this.props.performance ? Math.round(this.props.performance * 100) : 0","    };","    percents.incorrect = 100 - percents.correct;","    if (percents.correct) {","      correctLabel = percents.correct + \"%\";","      correctLabel = percents.correct === 100 ? correctLabel + \" correct\" : correctLabel;","      correctBar = React.createElement(BS.ProgressBar, {","        \"className\": \"reading-progress-bar progress-bar-correct\",","        \"now\": percents.correct,","        \"label\": correctLabel,","        \"type\": \"correct\",","        \"key\": 1.","      });","    }","    if (percents.incorrect) {","      incorrectLabel = percents.incorrect === 100 ? percents.incorrect + \"% incorrect\" : void 0;","      incorrectBar = React.createElement(BS.ProgressBar, {","        \"className\": \"reading-progress-bar progress-bar-incorrect\",","        \"now\": percents.incorrect,","        \"label\": incorrectLabel,","        \"type\": \"incorrect\",","        \"key\": 2.","      });","    }","    return React.createElement(\"div\", null, React.createElement(BS.ProgressBar, {","      \"className\": \"reading-progress-group\"","    }, correctBar, incorrectBar));","  }","});","","module.exports = SectionPerformance;",""],"f":{"1":0},"fnMap":{"1":{"line":8,"loc":{"end":{"column":21,"line":8},"start":{"column":10,"line":8}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/section-performance.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":21},"statementMap":{"1":{"end":{"column":34,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":39},"start":{"column":0,"line":7}},"5":{"end":{"column":73,"line":9},"start":{"column":4,"line":9}},"6":{"end":{"column":6,"line":12},"start":{"column":4,"line":10}},"7":{"end":{"column":48,"line":13},"start":{"column":4,"line":13}},"8":{"end":{"column":5,"line":24},"start":{"column":4,"line":14}},"9":{"end":{"column":44,"line":15},"start":{"column":6,"line":15}},"10":{"end":{"column":89,"line":16},"start":{"column":6,"line":16}},"11":{"end":{"column":9,"line":23},"start":{"column":6,"line":17}},"12":{"end":{"column":5,"line":34},"start":{"column":4,"line":25}},"13":{"end":{"column":96,"line":26},"start":{"column":6,"line":26}},"14":{"end":{"column":9,"line":33},"start":{"column":6,"line":27}},"15":{"end":{"column":34,"line":37},"start":{"column":4,"line":35}},"16":{"end":{"column":36,"line":41},"start":{"column":0,"line":41}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":0,"10":0,"13":0,"14":0,"15":0,"16":0,"17":0,"25":0,"26":0,"27":0,"35":0,"41":21}},
"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/section-progress.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"branchMap":{"1":{"line":13,"locations":[{"end":{"column":4,"line":13},"start":{"column":4,"line":13}},{"end":{"column":4,"line":13},"start":{"column":4,"line":13}}],"type":"if"},"2":{"line":17,"locations":[{"end":{"column":68,"line":17},"start":{"column":39,"line":17}},{"end":{"column":85,"line":17},"start":{"column":71,"line":17}}],"type":"cond-expr"},"3":{"line":22,"locations":[{"end":{"column":4,"line":22},"start":{"column":4,"line":22}},{"end":{"column":4,"line":22},"start":{"column":4,"line":22}}],"type":"if"}},"code":["var BS, React, SectionProgress, classnames;","","React = require('react');","","BS = require('react-bootstrap');","","classnames = require('classnames');","","SectionProgress = React.createClass({displayName: \"SectionProgress\",","  render: function() {","    var completed, completedLabel, incompleteClass, noneCompleteLabel, percent, progressClass;","    percent = Math.round(this.props.section.completed_percentage * 100);","    if (percent > 100) {","      percent = 100;","    }","    completedLabel = percent + \"%\";","    completedLabel = percent === 100 ? completedLabel + \" completed\" : completedLabel;","    incompleteClass = \"\";","    progressClass = classnames('reading-progress-group', {","      'none-completed': percent === 0","    });","    if (percent > 0) {","      completed = React.createElement(BS.ProgressBar, {","        \"className\": \"reading-progress-bar\",","        \"bsStyle\": \"info\",","        \"label\": completedLabel,","        \"now\": percent,","        \"type\": \"completed\",","        \"key\": 1.","      });","    } else {","      noneCompleteLabel = \"0% complete\";","    }","    return React.createElement(\"div\", null, React.createElement(BS.ProgressBar, {","      \"className\": progressClass,","      \"label\": noneCompleteLabel","    }, completed));","  }","});","","module.exports = SectionProgress;",""],"f":{"1":0},"fnMap":{"1":{"line":10,"loc":{"end":{"column":21,"line":10},"start":{"column":10,"line":10}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/section-progress.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":21},"statementMap":{"1":{"end":{"column":43,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":39},"start":{"column":0,"line":9}},"6":{"end":{"column":94,"line":11},"start":{"column":4,"line":11}},"7":{"end":{"column":72,"line":12},"start":{"column":4,"line":12}},"8":{"end":{"column":5,"line":15},"start":{"column":4,"line":13}},"9":{"end":{"column":20,"line":14},"start":{"column":6,"line":14}},"10":{"end":{"column":35,"line":16},"start":{"column":4,"line":16}},"11":{"end":{"column":86,"line":17},"start":{"column":4,"line":17}},"12":{"end":{"column":25,"line":18},"start":{"column":4,"line":18}},"13":{"end":{"column":7,"line":21},"start":{"column":4,"line":19}},"14":{"end":{"column":5,"line":33},"start":{"column":4,"line":22}},"15":{"end":{"column":9,"line":30},"start":{"column":6,"line":23}},"16":{"end":{"column":40,"line":32},"start":{"column":6,"line":32}},"17":{"end":{"column":19,"line":37},"start":{"column":4,"line":34}},"18":{"end":{"column":33,"line":41},"start":{"column":0,"line":41}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"19":0,"22":0,"23":0,"32":0,"34":0,"41":21}},
"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/section.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":26,"locations":[{"end":{"column":4,"line":26},"start":{"column":4,"line":26}},{"end":{"column":4,"line":26},"start":{"column":4,"line":26}}],"type":"if"}},"code":["var BS, ChapterSection, React, Section, SectionPerformance, SectionProgress;","","React = require('react');","","BS = require('react-bootstrap');","","SectionPerformance = require('./section-performance');","","ChapterSection = require('../task-plan/chapter-section');","","SectionProgress = require('./section-progress');","","Section = React.createClass({displayName: \"Section\",","  PropTypes: {","    section: React.PropTypes.shape({","      id: React.PropTypes.string,","      title: React.PropTypes.string,","      chapter_section: React.PropTypes.array,","      valid_sections: React.PropTypes.array,","      original_performance: React.PropTypes.number,","      spaced_practice_performance: React.PropTypes.spaced_practice_performance","    })","  },","  render: function() {","    var spacedPractice, spacedPracticeClass;","    if (typeof this.props.section.spaced_practice_performance !== 'undefined') {","      spacedPractice = React.createElement(SectionPerformance, {","        \"performance\": this.props.section.spaced_practice_performance","      });","    } else {","      spacedPracticeClass = \"empty-spaced-practice\";","      spacedPractice = React.createElement(\"i\", {","        \"className\": \"fa fa-ellipsis-h\"","      });","    }","    return React.createElement(BS.Row, {","      \"className\": \"section\",","      \"key\": this.props.section.id","    }, React.createElement(BS.Col, {","      \"xs\": 6.","    }, React.createElement(ChapterSection, {","      \"skipZeros\": false,","      \"section\": this.props.section.chapter_section","    }), this.props.section.title), React.createElement(BS.Col, {","      \"xs\": 2.","    }, React.createElement(SectionProgress, {","      \"section\": this.props.section","    })), React.createElement(BS.Col, {","      \"xs\": 2.","    }, React.createElement(SectionPerformance, {","      \"performance\": this.props.section.original_performance","    })), React.createElement(BS.Col, {","      \"xs\": 2.,","      \"className\": spacedPracticeClass","    }, spacedPractice));","  }","});","","module.exports = Section;",""],"f":{"1":0},"fnMap":{"1":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/cc-dashboard/section.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":21},"statementMap":{"1":{"end":{"column":76,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":54,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":57,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":48,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":57},"start":{"column":0,"line":13}},"8":{"end":{"column":44,"line":25},"start":{"column":4,"line":25}},"9":{"end":{"column":5,"line":35},"start":{"column":4,"line":26}},"10":{"end":{"column":9,"line":29},"start":{"column":6,"line":27}},"11":{"end":{"column":52,"line":31},"start":{"column":6,"line":31}},"12":{"end":{"column":9,"line":34},"start":{"column":6,"line":32}},"13":{"end":{"column":24,"line":55},"start":{"column":4,"line":36}},"14":{"end":{"column":25,"line":59},"start":{"column":0,"line":59}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"25":0,"26":0,"27":0,"31":0,"32":0,"36":0,"59":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/add-menu-mixin.cjsx":{"b":{"1":[0,63],"2":[0,63],"3":[0,63],"4":[0,63]},"branchMap":{"1":{"line":47,"locations":[{"end":{"column":77,"line":47},"start":{"column":55,"line":47}},{"end":{"column":86,"line":47},"start":{"column":80,"line":47}}],"type":"cond-expr"},"2":{"line":57,"locations":[{"end":{"column":79,"line":57},"start":{"column":56,"line":57}},{"end":{"column":88,"line":57},"start":{"column":82,"line":57}}],"type":"cond-expr"},"3":{"line":67,"locations":[{"end":{"column":79,"line":67},"start":{"column":56,"line":67}},{"end":{"column":88,"line":67},"start":{"column":82,"line":67}}],"type":"cond-expr"},"4":{"line":77,"locations":[{"end":{"column":79,"line":77},"start":{"column":56,"line":77}},{"end":{"column":88,"line":77},"start":{"column":82,"line":77}}],"type":"cond-expr"}},"code":["var BS, CourseAddMenuMixin, React, _;","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","CourseAddMenuMixin = {","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    dateFormat: React.PropTypes.string","  },","  getInitialState: function() {","    return {","      addDate: null","    };","  },","  getDefaultProps: function() {","    return {","      dateFormat: 'YYYY-MM-DD'","    };","  },","  goToBuilder: function(link) {","    return (function(_this) {","      return function(clickEvent) {","        clickEvent.preventDefault();","        return _this.context.router.transitionTo(link.to, link.params, link.query);","      };","    })(this);","  },","  renderAddActions: function() {","    var courseId, dateFormat, links, ref, ref1, ref2, ref3;","    courseId = this.context.router.getCurrentParams().courseId;","    dateFormat = this.props.dateFormat;","    links = [","      {","        text: 'Add Reading',","        to: 'createReading',","        params: {","          courseId: courseId","        },","        type: 'reading',","        query: {","          due_at: (ref = this.state.addDate) != null ? ref.format(dateFormat) : void 0","        }","      }, {","        text: 'Add Homework',","        to: 'createHomework',","        params: {","          courseId: courseId","        },","        type: 'homework',","        query: {","          due_at: (ref1 = this.state.addDate) != null ? ref1.format(dateFormat) : void 0","        }","      }, {","        text: 'Add External Assignment',","        to: 'createExternal',","        params: {","          courseId: courseId","        },","        type: 'external',","        query: {","          due_at: (ref2 = this.state.addDate) != null ? ref2.format(dateFormat) : void 0","        }","      }, {","        text: 'Add Event',","        to: 'createEvent',","        params: {","          courseId: courseId","        },","        type: 'event',","        query: {","          due_at: (ref3 = this.state.addDate) != null ? ref3.format(dateFormat) : void 0","        }","      }","    ];","    return _.map(links, (function(_this) {","      return function(link) {","        var href;","        href = _this.context.router.makeHref(link.to, link.params, link.query);","        return React.createElement(BS.MenuItem, {","          \"onClick\": _this.goToBuilder(link),","          \"href\": href,","          \"key\": link.type,","          \"data-assignment-type\": link.type,","          \"ref\": link.type + \"Link\"","        }, link.text);","      };","    })(this));","  }","};","","module.exports = CourseAddMenuMixin;",""],"f":{"1":72,"2":63,"3":252,"4":252,"5":7,"6":63,"7":63,"8":252},"fnMap":{"1":{"line":16,"loc":{"end":{"column":30,"line":16},"start":{"column":19,"line":16}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":30,"line":21},"start":{"column":19,"line":21}},"name":"(anonymous_2)"},"3":{"line":26,"loc":{"end":{"column":30,"line":26},"start":{"column":15,"line":26}},"name":"(anonymous_3)"},"4":{"line":27,"loc":{"end":{"column":28,"line":27},"start":{"column":12,"line":27}},"name":"(anonymous_4)"},"5":{"line":28,"loc":{"end":{"column":34,"line":28},"start":{"column":13,"line":28}},"name":"(anonymous_5)"},"6":{"line":34,"loc":{"end":{"column":31,"line":34},"start":{"column":20,"line":34}},"name":"(anonymous_6)"},"7":{"line":81,"loc":{"end":{"column":41,"line":81},"start":{"column":25,"line":81}},"name":"(anonymous_7)"},"8":{"line":82,"loc":{"end":{"column":28,"line":82},"start":{"column":13,"line":82}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/add-menu-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":72,"7":63,"8":252,"9":252,"10":7,"11":7,"12":63,"13":63,"14":63,"15":63,"16":63,"17":63,"18":252,"19":252,"20":252,"21":21},"statementMap":{"1":{"end":{"column":37,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":95},"start":{"column":0,"line":9}},"6":{"end":{"column":6,"line":19},"start":{"column":4,"line":17}},"7":{"end":{"column":6,"line":24},"start":{"column":4,"line":22}},"8":{"end":{"column":13,"line":32},"start":{"column":4,"line":27}},"9":{"end":{"column":8,"line":31},"start":{"column":6,"line":28}},"10":{"end":{"column":36,"line":29},"start":{"column":8,"line":29}},"11":{"end":{"column":83,"line":30},"start":{"column":8,"line":30}},"12":{"end":{"column":59,"line":35},"start":{"column":4,"line":35}},"13":{"end":{"column":63,"line":36},"start":{"column":4,"line":36}},"14":{"end":{"column":39,"line":37},"start":{"column":4,"line":37}},"15":{"end":{"column":6,"line":80},"start":{"column":4,"line":38}},"16":{"end":{"column":14,"line":93},"start":{"column":4,"line":81}},"17":{"end":{"column":8,"line":92},"start":{"column":6,"line":82}},"18":{"end":{"column":17,"line":83},"start":{"column":8,"line":83}},"19":{"end":{"column":79,"line":84},"start":{"column":8,"line":84}},"20":{"end":{"column":22,"line":91},"start":{"column":8,"line":85}},"21":{"end":{"column":36,"line":97},"start":{"column":0,"line":97}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"17":72,"22":63,"27":252,"28":252,"29":7,"30":7,"35":63,"36":63,"37":63,"38":63,"81":63,"82":63,"83":252,"84":252,"85":252,"97":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/add.cjsx":{"b":{"1":[0,63],"2":[0,63],"3":[0,63],"4":[0,63],"5":[0,63],"6":[0,63]},"branchMap":{"1":{"line":51,"locations":[{"end":{"column":37,"line":51},"start":{"column":30,"line":51}},{"end":{"column":46,"line":51},"start":{"column":40,"line":51}}],"type":"cond-expr"},"2":{"line":53,"locations":[{"end":{"column":73,"line":53},"start":{"column":36,"line":53}},{"end":{"column":82,"line":53},"start":{"column":76,"line":53}}],"type":"cond-expr"},"3":{"line":55,"locations":[{"end":{"column":4,"line":55},"start":{"column":4,"line":55}},{"end":{"column":4,"line":55},"start":{"column":4,"line":55}}],"type":"if"},"4":{"line":55,"locations":[{"end":{"column":63,"line":55},"start":{"column":26,"line":55}},{"end":{"column":72,"line":55},"start":{"column":66,"line":55}}],"type":"cond-expr"},"5":{"line":58,"locations":[{"end":{"column":91,"line":58},"start":{"column":84,"line":58}},{"end":{"column":104,"line":58},"start":{"column":94,"line":58}}],"type":"cond-expr"},"6":{"line":58,"locations":[{"end":{"column":71,"line":58},"start":{"column":35,"line":58}},{"end":{"column":80,"line":58},"start":{"column":74,"line":58}}],"type":"cond-expr"}},"code":["var BS, CourseAdd, CourseAddMenuMixin, React, TimeStore, _, classnames, moment, twix;","","moment = require('moment');","","twix = require('twix');","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","classnames = require('classnames');","","TimeStore = require('../../flux/time').TimeStore;","","CourseAddMenuMixin = require('./add-menu-mixin');","","CourseAdd = React.createClass({","  displayName: 'CourseAdd',","  mixins: [CourseAddMenuMixin],","  getInitialState: function() {","    return {","      positionLeft: 0,","      positionTop: 0,","      open: false,","      referenceDate: moment(TimeStore.getNow())","    };","  },","  updateState: function(date, x, y) {","    return this.setState({","      addDate: date,","      positionLeft: x,","      positionTop: y,","      open: true","    });","  },","  close: function() {","    return this.setState({","      addDate: null,","      open: false","    });","  },","  render: function() {","    var addDate, className, dayType, dropdownContent, open, ref, referenceDate, style;","    ref = this.state, referenceDate = ref.referenceDate, addDate = ref.addDate, open = ref.open;","    style = {","      left: this.state.positionLeft,","      top: this.state.positionTop","    };","    style['display'] = open ? 'block' : 'none';","    className = classnames('course-add-dropdown', {","      'no-add': !(addDate != null ? addDate.isAfter(referenceDate, 'day') : void 0)","    });","    if (addDate != null ? addDate.isAfter(referenceDate, 'day') : void 0) {","      dropdownContent = this.renderAddActions();","    } else {","      dayType = (addDate != null ? addDate.isSame(referenceDate, 'day') : void 0) ? 'today' : 'past day';","      dropdownContent = React.createElement(\"li\", null, React.createElement(\"span\", {","        \"className\": 'no-add-text'","      }, \"Cannot assign to \", dayType));","    }","    return React.createElement(BS.DropdownMenu, {","      \"ref\": 'addOnDayMenu',","      \"style\": style,","      \"className\": className","    }, dropdownContent);","  }","});","","module.exports = CourseAdd;",""],"f":{"1":24,"2":0,"3":0,"4":63},"fnMap":{"1":{"line":22,"loc":{"end":{"column":30,"line":22},"start":{"column":19,"line":22}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":36,"line":30},"start":{"column":15,"line":30}},"name":"(anonymous_2)"},"3":{"line":38,"loc":{"end":{"column":20,"line":38},"start":{"column":9,"line":38}},"name":"(anonymous_3)"},"4":{"line":44,"loc":{"end":{"column":21,"line":44},"start":{"column":10,"line":44}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/add.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":24,"12":0,"13":0,"14":63,"15":63,"16":63,"17":63,"18":63,"19":63,"20":0,"21":63,"22":63,"23":63,"24":21},"statementMap":{"1":{"end":{"column":85,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":27,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":23,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":25,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":32,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":35,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":49,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":49,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":69},"start":{"column":0,"line":19}},"11":{"end":{"column":6,"line":28},"start":{"column":4,"line":23}},"12":{"end":{"column":7,"line":36},"start":{"column":4,"line":31}},"13":{"end":{"column":7,"line":42},"start":{"column":4,"line":39}},"14":{"end":{"column":86,"line":45},"start":{"column":4,"line":45}},"15":{"end":{"column":96,"line":46},"start":{"column":4,"line":46}},"16":{"end":{"column":6,"line":50},"start":{"column":4,"line":47}},"17":{"end":{"column":47,"line":51},"start":{"column":4,"line":51}},"18":{"end":{"column":7,"line":54},"start":{"column":4,"line":52}},"19":{"end":{"column":5,"line":62},"start":{"column":4,"line":55}},"20":{"end":{"column":48,"line":56},"start":{"column":6,"line":56}},"21":{"end":{"column":105,"line":58},"start":{"column":6,"line":58}},"22":{"end":{"column":40,"line":61},"start":{"column":6,"line":59}},"23":{"end":{"column":24,"line":67},"start":{"column":4,"line":63}},"24":{"end":{"column":27,"line":71},"start":{"column":0,"line":71}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"23":24,"31":0,"39":0,"45":63,"46":63,"47":63,"51":63,"52":63,"55":63,"56":0,"58":63,"59":63,"63":63,"71":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/duration.cjsx":{"b":{"1":[216,188],"2":[152,146],"3":[0,0],"4":[216,544],"5":[144,72],"6":[216,0],"7":[36,164]},"branchMap":{"1":{"line":115,"locations":[{"end":{"column":8,"line":115},"start":{"column":8,"line":115}},{"end":{"column":8,"line":115},"start":{"column":8,"line":115}}],"type":"if"},"2":{"line":181,"locations":[{"end":{"column":49,"line":181},"start":{"column":24,"line":181}},{"end":{"column":71,"line":181},"start":{"column":54,"line":181}}],"type":"binary-expr"},"3":{"line":208,"locations":[{"end":{"column":4,"line":208},"start":{"column":4,"line":208}},{"end":{"column":4,"line":208},"start":{"column":4,"line":208}}],"type":"if"},"4":{"line":236,"locations":[{"end":{"column":10,"line":236},"start":{"column":10,"line":236}},{"end":{"column":10,"line":236},"start":{"column":10,"line":236}}],"type":"if"},"5":{"line":237,"locations":[{"end":{"column":12,"line":237},"start":{"column":12,"line":237}},{"end":{"column":12,"line":237},"start":{"column":12,"line":237}}],"type":"if"},"6":{"line":240,"locations":[{"end":{"column":12,"line":240},"start":{"column":12,"line":240}},{"end":{"column":12,"line":240},"start":{"column":12,"line":240}}],"type":"if"},"7":{"line":271,"locations":[{"end":{"column":8,"line":271},"start":{"column":8,"line":271}},{"end":{"column":8,"line":271},"start":{"column":8,"line":271}}],"type":"if"}},"code":["var CourseDuration, CoursePlan, PlanHelper, React, TimeHelper, TimeStore, _, camelCase, moment, twix;","","moment = require('moment-timezone');","","twix = require('twix');","","_ = require('underscore');","","camelCase = require('camelcase');","","React = require('react/addons');","","CoursePlan = require('./plan');","","PlanHelper = require('../../helpers/plan');","","TimeHelper = require('../../helpers/time');","","TimeStore = require('../../flux/time').TimeStore;","","CourseDuration = React.createClass({","  displayName: 'CourseDuration',","  propTypes: {","    durations: React.PropTypes.array.isRequired,","    courseId: React.PropTypes.string.isRequired,","    viewingDuration: React.PropTypes.instanceOf(twix).isRequired,","    groupingDurations: React.PropTypes.arrayOf(React.PropTypes.instanceOf(twix)).isRequired,","    referenceDate: TimeHelper.PropTypes.moment,","    children: React.PropTypes.element,","    recentTolerance: React.PropTypes.number","  },","  getInitialState: function() {","    return {","      ranges: [],","      durationsByStartDate: []","    };","  },","  getDefaultProps: function() {","    return {","      recentTolerance: 3600000","    };","  },","  updateGroupedDurations: function(props) {","    var durations, durationsByStartDate, groupedDurations, groupingDurations, viewingDuration;","    durations = props.durations, viewingDuration = props.viewingDuration, groupingDurations = props.groupingDurations;","    groupedDurations = this.groupDurations(durations, viewingDuration, groupingDurations);","    durationsByStartDate = _.chain(groupedDurations).pluck('plansInRange').flatten().groupBy(function(rangedPlan) {","      return rangedPlan.plan.id;","    }).map(function(groupedPlans) {","      var displays, plan;","      plan = _.first(groupedPlans).plan;","      displays = _.map(groupedPlans, function(groupedPlan) {","        return _.omit(groupedPlan, 'plan');","      });","      return {","        plan: plan,","        displays: displays","      };","    }).value();","    return this.setState({","      ranges: groupedDurations,","      durationsByStartDate: durationsByStartDate","    });","  },","  componentWillMount: function() {","    return this.updateGroupedDurations(this.props);","  },","  componentWillReceiveProps: function(nextProps) {","    return this.updateGroupedDurations(nextProps);","  },","  groupDurations: function(durations, viewingDuration, groupingDurations) {","    var durationsInView, groupedDurations;","    durationsInView = _.chain(durations).clone().each(this.setDuration(viewingDuration)).filter(this.isInDuration(viewingDuration)).sortBy(function(plan) {","      return moment(plan.published_at).valueOf();","    }).sortBy(function(plan) {","      return plan.duration.end.valueOf();","    }).sortBy(function(plan) {","      return plan.duration.start.valueOf();","    }).value();","    return groupedDurations = _.chain(groupingDurations).map(this.groupByRanges(durationsInView)).tap(this.calcTopOffset).value();","  },","  calcTopOffset: function(ranges) {","    var dayHeights;","    dayHeights = _.pluck(ranges, 'dayHeight');","    return _.each(ranges, (function(_this) {","      return function(range, index) {","        var maxPlansOnDay, plansByDays, weekTopOffset;","        weekTopOffset = _.chain(dayHeights).first(index + 1).reduce(function(memo, current) {","          return memo + current;","        }).value();","        maxPlansOnDay = range.maxPlansOnDay, plansByDays = range.plansByDays;","        return _.each(plansByDays, function(plans) {","          var current, existingOrdered;","          current = {","            adder: 0","          };","          existingOrdered = _.chain(plans).pluck('order').compact().value();","          return _.chain(plans).sortBy(function(plan) {","            return -1 * plan.rangeDuration.start.valueOf();","          }).each(_this.setPlanOrder({","            current: current,","            existingOrdered: existingOrdered,","            weekTopOffset: weekTopOffset,","            maxPlansOnDay: maxPlansOnDay","          })).value();","        });","      };","    })(this));","  },","  setPlanOrder: function(arg) {","    var current, existingOrdered, maxPlansOnDay, weekTopOffset;","    current = arg.current, existingOrdered = arg.existingOrdered, weekTopOffset = arg.weekTopOffset, maxPlansOnDay = arg.maxPlansOnDay;","    return (function(_this) {","      return function(plan, order) {","        if (plan.order == null) {","          current.order = order;","          _this._calcOrder({","            existingOrdered: existingOrdered,","            current: current,","            maxPlansOnDay: maxPlansOnDay","          });","          plan.order = current.order;","          return plan.weekTopOffset = weekTopOffset;","        }","      };","    })(this);","  },","  _calcOrder: function(arg) {","    var current, existingOrdered, maxPlansOnDay;","    existingOrdered = arg.existingOrdered, current = arg.current, maxPlansOnDay = arg.maxPlansOnDay;","    while (existingOrdered.indexOf(maxPlansOnDay - (current.order + current.adder)) > -1) {","      current.adder = current.adder + 1;","    }","    return current.order = maxPlansOnDay - (current.order + current.adder);","  },","  _getDay: function(oneMoment) {","    return moment(oneMoment).startOf('day').twix(moment(oneMoment).endOf('day'), {","      allDay: true","    });","  },","  _getDurationFromMoments: function(listOfMoments) {","    return _.reduce(listOfMoments, (function(_this) {","      return function(current, next) {","        var nextDay;","        nextDay = _this._getDay(next);","        return current.union(nextDay);","      };","    })(this), this._getDay(listOfMoments[0]));","  },","  _getDurationRange: function(plan) {","    var dueDates, openDates, rangeDates;","    openDates = _.pluck(plan.tasking_plans, 'opens_at');","    dueDates = _.pluck(plan.tasking_plans, 'due_at');","    rangeDates = _.union(openDates, dueDates);","    return this._getDurationFromMoments(rangeDates);","  },","  _getEarliestOpensAt: function(plan) {","    var openDates, openRange, rangeDates;","    openDates = _.pluck(plan.tasking_plans, 'opens_at');","    rangeDates = _.union(openDates);","    openRange = this._getDurationFromMoments(rangeDates);","    return openRange.start;","  },","  setDurationRange: function(plan) {","    return plan.duration = this._getDurationRange(plan);","  },","  isPlanPublishing: function(plan) {","    return PlanHelper.isPublishing(plan, this.props.recentTolerance);","  },","  setDurationDay: function(plan) {","    var dueDates, referenceDate;","    referenceDate = this.props.referenceDate;","    dueDates = _.pluck(plan.tasking_plans, 'due_at');","    return plan.duration = this._getDurationFromMoments(dueDates);","  },","  setPlanStatus: function(plan) {","    var openRange, referenceDate;","    referenceDate = this.props.referenceDate;","    openRange = this._getDurationRange(plan);","    plan.isOpen = openRange.start.isBefore(referenceDate);","    plan.isPublished = (plan.published_at != null) && plan.published_at;","    plan.isPublishing = this.isPlanPublishing(plan);","    plan.isTrouble = plan.is_trouble;","    return plan.isEditable = plan.duration.start.isAfter(referenceDate);","  },","  setDuration: function(duration) {","    return (function(_this) {","      return function(plan) {","        var durationMethod;","        plan.mode = 'day';","        durationMethod = camelCase(\"set-duration-\" + plan.mode);","        _this[durationMethod](plan);","        return _this.setPlanStatus(plan);","      };","    })(this);","  },","  isInDuration: function(duration) {","    return function(plan) {","      return plan.duration.length('hours') > 0;","    };","  },","  _calcDayHeight: function(plans) {","    return plans * 3.6 + 1;","  },","  _setDayHeightToMaxOverlaps: function(currentOverlap, rangeData) {","    var calcedHeight;","    calcedHeight = this._calcDayHeight(currentOverlap.length);","    if (calcedHeight > rangeData.dayHeight) {","      return rangeData.dayHeight = calcedHeight;","    }","  },","  _getSimplePlan: function(plan) {","    var earliestOpensAt, simplePlan;","    simplePlan = _.omit(plan, 'duration', 'tasking_plans');","    earliestOpensAt = this._getEarliestOpensAt(plan);","    simplePlan.opensAt = moment(earliestOpensAt).format('M/D');","    simplePlan.durationLength = plan.duration.length('days');","    return simplePlan;","  },","  groupByRanges: function(durationsInView) {","    var counter;","    counter = {};","    return (function(_this) {","      return function(range, nthRange) {","        var dayDuration, dayHeight, dayIter, dayOfWeek, dayPlans, plansOnDay, rangeData, simplePlans;","        rangeData = {","          nthRange: nthRange,","          dayHeight: 10,","          maxPlansOnDay: 0,","          plansByDays: [],","          plansInRange: []","        };","        simplePlans = {};","        _.each(durationsInView, function(plan) {","          var name, name1, planForRange;","          if (plan.duration.overlaps(range)) {","            if (counter[name = plan.id] == null) {","              counter[name] = 0;","            }","            if (simplePlans[name1 = plan.id] == null) {","              simplePlans[name1] = _this._getSimplePlan(plan);","            }","            planForRange = {","              rangeDuration: plan.duration.intersection(range),","              offset: moment(range.start).twix(plan.duration.start).length('days'),","              plan: simplePlans[plan.id],","              index: counter[plan.id]","            };","            planForRange.offsetFromPlanStart = planForRange.rangeDuration.start.diff(plan.duration.start, 'days');","            rangeData.plansInRange.push(planForRange);","            return counter[plan.id] = counter[plan.id] + 1;","          }","        });","        dayIter = range.iterateInner('days');","        while (dayIter.hasNext()) {","          dayOfWeek = dayIter.next();","          dayPlans = {","            dayOfWeek: dayOfWeek.day(),","            planSlots: {}","          };","          dayDuration = dayOfWeek.twix(dayOfWeek.endOf('day'));","          plansOnDay = _.filter(rangeData.plansInRange, function(plan) {","            return plan.rangeDuration.engulfs(dayDuration);","          });","          rangeData.plansByDays.push(plansOnDay);","        }","        rangeData.maxPlansOnDay = _.max(rangeData.plansByDays, function(plansOnDay) {","          return plansOnDay.length;","        }).length;","        dayHeight = _this._calcDayHeight(rangeData.maxPlansOnDay);","        if (dayHeight > rangeData.dayHeight) {","          rangeData.dayHeight = dayHeight;","        }","        return rangeData;","      };","    })(this);","  },","  renderChildren: function(item) {","    var courseId;","    courseId = this.props.courseId;","    return React.Children.map(this.props.children, function(child) {","      return React.addons.cloneWithProps(child, {","        item: item,","        courseId: courseId","      });","    });","  },","  renderDurations: function() {","    var renderedDurations;","    return renderedDurations = _.map(this.state.durationsByStartDate, this.renderChildren);","  },","  render: function() {","    var renderedDurations;","    renderedDurations = this.renderDurations();","    return React.createElement(\"div\", null, renderedDurations);","  }","});","","module.exports = CourseDuration;",""],"f":{"1":22,"2":21,"3":40,"4":216,"5":144,"6":216,"7":22,"8":18,"9":40,"10":152,"11":152,"12":152,"13":40,"14":40,"15":200,"16":400,"17":1400,"18":404,"19":1400,"20":1400,"21":404,"22":216,"23":1544,"24":520,"25":520,"26":1024,"27":152,"28":216,"29":0,"30":152,"31":152,"32":152,"33":40,"34":40,"35":152,"36":40,"37":152,"38":200,"39":0,"40":216,"41":40,"42":40,"43":200,"44":760,"45":1512,"46":1400,"47":144,"48":144,"49":40,"50":40},"fnMap":{"1":{"line":32,"loc":{"end":{"column":30,"line":32},"start":{"column":19,"line":32}},"name":"(anonymous_1)"},"2":{"line":38,"loc":{"end":{"column":30,"line":38},"start":{"column":19,"line":38}},"name":"(anonymous_2)"},"3":{"line":43,"loc":{"end":{"column":42,"line":43},"start":{"column":26,"line":43}},"name":"(anonymous_3)"},"4":{"line":47,"loc":{"end":{"column":114,"line":47},"start":{"column":93,"line":47}},"name":"(anonymous_4)"},"5":{"line":49,"loc":{"end":{"column":34,"line":49},"start":{"column":11,"line":49}},"name":"(anonymous_5)"},"6":{"line":52,"loc":{"end":{"column":59,"line":52},"start":{"column":37,"line":52}},"name":"(anonymous_6)"},"7":{"line":65,"loc":{"end":{"column":33,"line":65},"start":{"column":22,"line":65}},"name":"(anonymous_7)"},"8":{"line":68,"loc":{"end":{"column":49,"line":68},"start":{"column":29,"line":68}},"name":"(anonymous_8)"},"9":{"line":71,"loc":{"end":{"column":74,"line":71},"start":{"column":18,"line":71}},"name":"(anonymous_9)"},"10":{"line":73,"loc":{"end":{"column":154,"line":73},"start":{"column":139,"line":73}},"name":"(anonymous_10)"},"11":{"line":75,"loc":{"end":{"column":29,"line":75},"start":{"column":14,"line":75}},"name":"(anonymous_11)"},"12":{"line":77,"loc":{"end":{"column":29,"line":77},"start":{"column":14,"line":77}},"name":"(anonymous_12)"},"13":{"line":82,"loc":{"end":{"column":34,"line":82},"start":{"column":17,"line":82}},"name":"(anonymous_13)"},"14":{"line":85,"loc":{"end":{"column":43,"line":85},"start":{"column":27,"line":85}},"name":"(anonymous_14)"},"15":{"line":86,"loc":{"end":{"column":36,"line":86},"start":{"column":13,"line":86}},"name":"(anonymous_15)"},"16":{"line":88,"loc":{"end":{"column":92,"line":88},"start":{"column":68,"line":88}},"name":"(anonymous_16)"},"17":{"line":92,"loc":{"end":{"column":51,"line":92},"start":{"column":35,"line":92}},"name":"(anonymous_17)"},"18":{"line":98,"loc":{"end":{"column":54,"line":98},"start":{"column":39,"line":98}},"name":"(anonymous_18)"},"19":{"line":110,"loc":{"end":{"column":30,"line":110},"start":{"column":16,"line":110}},"name":"(anonymous_19)"},"20":{"line":113,"loc":{"end":{"column":28,"line":113},"start":{"column":12,"line":113}},"name":"(anonymous_20)"},"21":{"line":114,"loc":{"end":{"column":35,"line":114},"start":{"column":13,"line":114}},"name":"(anonymous_21)"},"22":{"line":128,"loc":{"end":{"column":28,"line":128},"start":{"column":14,"line":128}},"name":"(anonymous_22)"},"23":{"line":136,"loc":{"end":{"column":31,"line":136},"start":{"column":11,"line":136}},"name":"(anonymous_23)"},"24":{"line":141,"loc":{"end":{"column":51,"line":141},"start":{"column":27,"line":141}},"name":"(anonymous_24)"},"25":{"line":142,"loc":{"end":{"column":52,"line":142},"start":{"column":36,"line":142}},"name":"(anonymous_25)"},"26":{"line":143,"loc":{"end":{"column":37,"line":143},"start":{"column":13,"line":143}},"name":"(anonymous_26)"},"27":{"line":150,"loc":{"end":{"column":36,"line":150},"start":{"column":21,"line":150}},"name":"(anonymous_27)"},"28":{"line":157,"loc":{"end":{"column":38,"line":157},"start":{"column":23,"line":157}},"name":"(anonymous_28)"},"29":{"line":164,"loc":{"end":{"column":35,"line":164},"start":{"column":20,"line":164}},"name":"(anonymous_29)"},"30":{"line":167,"loc":{"end":{"column":35,"line":167},"start":{"column":20,"line":167}},"name":"(anonymous_30)"},"31":{"line":170,"loc":{"end":{"column":33,"line":170},"start":{"column":18,"line":170}},"name":"(anonymous_31)"},"32":{"line":176,"loc":{"end":{"column":32,"line":176},"start":{"column":17,"line":176}},"name":"(anonymous_32)"},"33":{"line":186,"loc":{"end":{"column":34,"line":186},"start":{"column":15,"line":186}},"name":"(anonymous_33)"},"34":{"line":187,"loc":{"end":{"column":28,"line":187},"start":{"column":12,"line":187}},"name":"(anonymous_34)"},"35":{"line":188,"loc":{"end":{"column":28,"line":188},"start":{"column":13,"line":188}},"name":"(anonymous_35)"},"36":{"line":197,"loc":{"end":{"column":35,"line":197},"start":{"column":16,"line":197}},"name":"(anonymous_36)"},"37":{"line":198,"loc":{"end":{"column":26,"line":198},"start":{"column":11,"line":198}},"name":"(anonymous_37)"},"38":{"line":202,"loc":{"end":{"column":34,"line":202},"start":{"column":18,"line":202}},"name":"(anonymous_38)"},"39":{"line":205,"loc":{"end":{"column":66,"line":205},"start":{"column":30,"line":205}},"name":"(anonymous_39)"},"40":{"line":212,"loc":{"end":{"column":33,"line":212},"start":{"column":18,"line":212}},"name":"(anonymous_40)"},"41":{"line":220,"loc":{"end":{"column":43,"line":220},"start":{"column":17,"line":220}},"name":"(anonymous_41)"},"42":{"line":223,"loc":{"end":{"column":28,"line":223},"start":{"column":12,"line":223}},"name":"(anonymous_42)"},"43":{"line":224,"loc":{"end":{"column":39,"line":224},"start":{"column":13,"line":224}},"name":"(anonymous_43)"},"44":{"line":234,"loc":{"end":{"column":47,"line":234},"start":{"column":32,"line":234}},"name":"(anonymous_44)"},"45":{"line":262,"loc":{"end":{"column":71,"line":262},"start":{"column":56,"line":262}},"name":"(anonymous_45)"},"46":{"line":267,"loc":{"end":{"column":84,"line":267},"start":{"column":63,"line":267}},"name":"(anonymous_46)"},"47":{"line":278,"loc":{"end":{"column":33,"line":278},"start":{"column":18,"line":278}},"name":"(anonymous_47)"},"48":{"line":281,"loc":{"end":{"column":67,"line":281},"start":{"column":51,"line":281}},"name":"(anonymous_48)"},"49":{"line":288,"loc":{"end":{"column":30,"line":288},"start":{"column":19,"line":288}},"name":"(anonymous_49)"},"50":{"line":292,"loc":{"end":{"column":21,"line":292},"start":{"column":10,"line":292}},"name":"(anonymous_50)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/duration.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":22,"13":21,"14":40,"15":40,"16":40,"17":40,"18":216,"19":144,"20":144,"21":144,"22":216,"23":144,"24":40,"25":22,"26":18,"27":40,"28":40,"29":152,"30":152,"31":152,"32":40,"33":40,"34":40,"35":40,"36":40,"37":200,"38":200,"39":400,"40":200,"41":200,"42":1400,"43":1400,"44":1400,"45":1400,"46":404,"47":1400,"48":1400,"49":1400,"50":1400,"51":404,"52":216,"53":216,"54":216,"55":216,"56":216,"57":216,"58":216,"59":72,"60":216,"61":1544,"62":520,"63":520,"64":1024,"65":1024,"66":1024,"67":152,"68":152,"69":152,"70":152,"71":152,"72":216,"73":216,"74":216,"75":216,"76":216,"77":0,"78":152,"79":152,"80":152,"81":152,"82":152,"83":152,"84":152,"85":152,"86":152,"87":152,"88":152,"89":152,"90":152,"91":40,"92":40,"93":152,"94":152,"95":152,"96":152,"97":152,"98":40,"99":152,"100":200,"101":0,"102":0,"103":0,"104":0,"105":216,"106":216,"107":216,"108":216,"109":216,"110":216,"111":40,"112":40,"113":40,"114":40,"115":200,"116":200,"117":200,"118":200,"119":760,"120":760,"121":216,"122":144,"123":216,"124":216,"125":216,"126":216,"127":216,"128":216,"129":200,"130":200,"131":1400,"132":1400,"133":1400,"134":1400,"135":1512,"136":1400,"137":200,"138":1400,"139":200,"140":200,"141":36,"142":200,"143":144,"144":144,"145":144,"146":144,"147":40,"148":40,"149":40,"150":40,"151":40,"152":21},"statementMap":{"1":{"end":{"column":101,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":36,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":23,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":32,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":31,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":43,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":43,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":49,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":3,"line":297},"start":{"column":0,"line":21}},"12":{"end":{"column":6,"line":36},"start":{"column":4,"line":33}},"13":{"end":{"column":6,"line":41},"start":{"column":4,"line":39}},"14":{"end":{"column":94,"line":44},"start":{"column":4,"line":44}},"15":{"end":{"column":118,"line":45},"start":{"column":4,"line":45}},"16":{"end":{"column":90,"line":46},"start":{"column":4,"line":46}},"17":{"end":{"column":15,"line":59},"start":{"column":4,"line":47}},"18":{"end":{"column":32,"line":48},"start":{"column":6,"line":48}},"19":{"end":{"column":25,"line":50},"start":{"column":6,"line":50}},"20":{"end":{"column":40,"line":51},"start":{"column":6,"line":51}},"21":{"end":{"column":9,"line":54},"start":{"column":6,"line":52}},"22":{"end":{"column":43,"line":53},"start":{"column":8,"line":53}},"23":{"end":{"column":8,"line":58},"start":{"column":6,"line":55}},"24":{"end":{"column":7,"line":63},"start":{"column":4,"line":60}},"25":{"end":{"column":51,"line":66},"start":{"column":4,"line":66}},"26":{"end":{"column":50,"line":69},"start":{"column":4,"line":69}},"27":{"end":{"column":42,"line":72},"start":{"column":4,"line":72}},"28":{"end":{"column":15,"line":79},"start":{"column":4,"line":73}},"29":{"end":{"column":49,"line":74},"start":{"column":6,"line":74}},"30":{"end":{"column":41,"line":76},"start":{"column":6,"line":76}},"31":{"end":{"column":43,"line":78},"start":{"column":6,"line":78}},"32":{"end":{"column":130,"line":80},"start":{"column":4,"line":80}},"33":{"end":{"column":19,"line":83},"start":{"column":4,"line":83}},"34":{"end":{"column":46,"line":84},"start":{"column":4,"line":84}},"35":{"end":{"column":14,"line":108},"start":{"column":4,"line":85}},"36":{"end":{"column":8,"line":107},"start":{"column":6,"line":86}},"37":{"end":{"column":54,"line":87},"start":{"column":8,"line":87}},"38":{"end":{"column":19,"line":90},"start":{"column":8,"line":88}},"39":{"end":{"column":32,"line":89},"start":{"column":10,"line":89}},"40":{"end":{"column":77,"line":91},"start":{"column":8,"line":91}},"41":{"end":{"column":11,"line":106},"start":{"column":8,"line":92}},"42":{"end":{"column":39,"line":93},"start":{"column":10,"line":93}},"43":{"end":{"column":12,"line":96},"start":{"column":10,"line":94}},"44":{"end":{"column":76,"line":97},"start":{"column":10,"line":97}},"45":{"end":{"column":22,"line":105},"start":{"column":10,"line":98}},"46":{"end":{"column":59,"line":99},"start":{"column":12,"line":99}},"47":{"end":{"column":63,"line":111},"start":{"column":4,"line":111}},"48":{"end":{"column":135,"line":112},"start":{"column":4,"line":112}},"49":{"end":{"column":13,"line":126},"start":{"column":4,"line":113}},"50":{"end":{"column":8,"line":125},"start":{"column":6,"line":114}},"51":{"end":{"column":9,"line":124},"start":{"column":8,"line":115}},"52":{"end":{"column":32,"line":116},"start":{"column":10,"line":116}},"53":{"end":{"column":13,"line":121},"start":{"column":10,"line":117}},"54":{"end":{"column":37,"line":122},"start":{"column":10,"line":122}},"55":{"end":{"column":52,"line":123},"start":{"column":10,"line":123}},"56":{"end":{"column":48,"line":129},"start":{"column":4,"line":129}},"57":{"end":{"column":100,"line":130},"start":{"column":4,"line":130}},"58":{"end":{"column":5,"line":133},"start":{"column":4,"line":131}},"59":{"end":{"column":40,"line":132},"start":{"column":6,"line":132}},"60":{"end":{"column":75,"line":134},"start":{"column":4,"line":134}},"61":{"end":{"column":7,"line":139},"start":{"column":4,"line":137}},"62":{"end":{"column":46,"line":148},"start":{"column":4,"line":142}},"63":{"end":{"column":8,"line":147},"start":{"column":6,"line":143}},"64":{"end":{"column":20,"line":144},"start":{"column":8,"line":144}},"65":{"end":{"column":38,"line":145},"start":{"column":8,"line":145}},"66":{"end":{"column":38,"line":146},"start":{"column":8,"line":146}},"67":{"end":{"column":40,"line":151},"start":{"column":4,"line":151}},"68":{"end":{"column":56,"line":152},"start":{"column":4,"line":152}},"69":{"end":{"column":53,"line":153},"start":{"column":4,"line":153}},"70":{"end":{"column":46,"line":154},"start":{"column":4,"line":154}},"71":{"end":{"column":52,"line":155},"start":{"column":4,"line":155}},"72":{"end":{"column":41,"line":158},"start":{"column":4,"line":158}},"73":{"end":{"column":56,"line":159},"start":{"column":4,"line":159}},"74":{"end":{"column":36,"line":160},"start":{"column":4,"line":160}},"75":{"end":{"column":57,"line":161},"start":{"column":4,"line":161}},"76":{"end":{"column":27,"line":162},"start":{"column":4,"line":162}},"77":{"end":{"column":56,"line":165},"start":{"column":4,"line":165}},"78":{"end":{"column":69,"line":168},"start":{"column":4,"line":168}},"79":{"end":{"column":32,"line":171},"start":{"column":4,"line":171}},"80":{"end":{"column":45,"line":172},"start":{"column":4,"line":172}},"81":{"end":{"column":53,"line":173},"start":{"column":4,"line":173}},"82":{"end":{"column":66,"line":174},"start":{"column":4,"line":174}},"83":{"end":{"column":33,"line":177},"start":{"column":4,"line":177}},"84":{"end":{"column":45,"line":178},"start":{"column":4,"line":178}},"85":{"end":{"column":45,"line":179},"start":{"column":4,"line":179}},"86":{"end":{"column":58,"line":180},"start":{"column":4,"line":180}},"87":{"end":{"column":72,"line":181},"start":{"column":4,"line":181}},"88":{"end":{"column":52,"line":182},"start":{"column":4,"line":182}},"89":{"end":{"column":37,"line":183},"start":{"column":4,"line":183}},"90":{"end":{"column":72,"line":184},"start":{"column":4,"line":184}},"91":{"end":{"column":13,"line":195},"start":{"column":4,"line":187}},"92":{"end":{"column":8,"line":194},"start":{"column":6,"line":188}},"93":{"end":{"column":27,"line":189},"start":{"column":8,"line":189}},"94":{"end":{"column":26,"line":190},"start":{"column":8,"line":190}},"95":{"end":{"column":64,"line":191},"start":{"column":8,"line":191}},"96":{"end":{"column":36,"line":192},"start":{"column":8,"line":192}},"97":{"end":{"column":41,"line":193},"start":{"column":8,"line":193}},"98":{"end":{"column":6,"line":200},"start":{"column":4,"line":198}},"99":{"end":{"column":47,"line":199},"start":{"column":6,"line":199}},"100":{"end":{"column":27,"line":203},"start":{"column":4,"line":203}},"101":{"end":{"column":21,"line":206},"start":{"column":4,"line":206}},"102":{"end":{"column":62,"line":207},"start":{"column":4,"line":207}},"103":{"end":{"column":5,"line":210},"start":{"column":4,"line":208}},"104":{"end":{"column":48,"line":209},"start":{"column":6,"line":209}},"105":{"end":{"column":36,"line":213},"start":{"column":4,"line":213}},"106":{"end":{"column":59,"line":214},"start":{"column":4,"line":214}},"107":{"end":{"column":53,"line":215},"start":{"column":4,"line":215}},"108":{"end":{"column":63,"line":216},"start":{"column":4,"line":216}},"109":{"end":{"column":61,"line":217},"start":{"column":4,"line":217}},"110":{"end":{"column":22,"line":218},"start":{"column":4,"line":218}},"111":{"end":{"column":16,"line":221},"start":{"column":4,"line":221}},"112":{"end":{"column":17,"line":222},"start":{"column":4,"line":222}},"113":{"end":{"column":13,"line":276},"start":{"column":4,"line":223}},"114":{"end":{"column":8,"line":275},"start":{"column":6,"line":224}},"115":{"end":{"column":101,"line":225},"start":{"column":8,"line":225}},"116":{"end":{"column":10,"line":232},"start":{"column":8,"line":226}},"117":{"end":{"column":25,"line":233},"start":{"column":8,"line":233}},"118":{"end":{"column":11,"line":253},"start":{"column":8,"line":234}},"119":{"end":{"column":40,"line":235},"start":{"column":10,"line":235}},"120":{"end":{"column":11,"line":252},"start":{"column":10,"line":236}},"121":{"end":{"column":13,"line":239},"start":{"column":12,"line":237}},"122":{"end":{"column":32,"line":238},"start":{"column":14,"line":238}},"123":{"end":{"column":13,"line":242},"start":{"column":12,"line":240}},"124":{"end":{"column":62,"line":241},"start":{"column":14,"line":241}},"125":{"end":{"column":14,"line":248},"start":{"column":12,"line":243}},"126":{"end":{"column":114,"line":249},"start":{"column":12,"line":249}},"127":{"end":{"column":54,"line":250},"start":{"column":12,"line":250}},"128":{"end":{"column":59,"line":251},"start":{"column":12,"line":251}},"129":{"end":{"column":45,"line":254},"start":{"column":8,"line":254}},"130":{"end":{"column":9,"line":266},"start":{"column":8,"line":255}},"131":{"end":{"column":37,"line":256},"start":{"column":10,"line":256}},"132":{"end":{"column":12,"line":260},"start":{"column":10,"line":257}},"133":{"end":{"column":63,"line":261},"start":{"column":10,"line":261}},"134":{"end":{"column":13,"line":264},"start":{"column":10,"line":262}},"135":{"end":{"column":59,"line":263},"start":{"column":12,"line":263}},"136":{"end":{"column":49,"line":265},"start":{"column":10,"line":265}},"137":{"end":{"column":18,"line":269},"start":{"column":8,"line":267}},"138":{"end":{"column":35,"line":268},"start":{"column":10,"line":268}},"139":{"end":{"column":66,"line":270},"start":{"column":8,"line":270}},"140":{"end":{"column":9,"line":273},"start":{"column":8,"line":271}},"141":{"end":{"column":42,"line":272},"start":{"column":10,"line":272}},"142":{"end":{"column":25,"line":274},"start":{"column":8,"line":274}},"143":{"end":{"column":17,"line":279},"start":{"column":4,"line":279}},"144":{"end":{"column":35,"line":280},"start":{"column":4,"line":280}},"145":{"end":{"column":7,"line":286},"start":{"column":4,"line":281}},"146":{"end":{"column":9,"line":285},"start":{"column":6,"line":282}},"147":{"end":{"column":26,"line":289},"start":{"column":4,"line":289}},"148":{"end":{"column":91,"line":290},"start":{"column":4,"line":290}},"149":{"end":{"column":26,"line":293},"start":{"column":4,"line":293}},"150":{"end":{"column":47,"line":294},"start":{"column":4,"line":294}},"151":{"end":{"column":63,"line":295},"start":{"column":4,"line":295}},"152":{"end":{"column":32,"line":299},"start":{"column":0,"line":299}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"33":22,"39":21,"44":40,"45":40,"46":40,"47":40,"48":216,"50":144,"51":144,"52":144,"53":216,"55":144,"60":40,"66":22,"69":18,"72":40,"73":40,"74":152,"76":152,"78":152,"80":40,"83":40,"84":40,"85":40,"86":40,"87":200,"88":200,"89":400,"91":200,"92":200,"93":1400,"94":1400,"97":1400,"98":1400,"99":404,"111":1400,"112":1400,"113":1400,"114":1400,"115":404,"116":216,"117":216,"122":216,"123":216,"129":216,"130":216,"131":216,"132":72,"134":216,"137":1544,"142":520,"143":520,"144":1024,"145":1024,"146":1024,"151":152,"152":152,"153":152,"154":152,"155":152,"158":216,"159":216,"160":216,"161":216,"162":216,"165":0,"168":152,"171":152,"172":152,"173":152,"174":152,"177":152,"178":152,"179":152,"180":152,"181":152,"182":152,"183":152,"184":152,"187":40,"188":40,"189":152,"190":152,"191":152,"192":152,"193":152,"198":40,"199":152,"203":200,"206":0,"207":0,"208":0,"209":0,"213":216,"214":216,"215":216,"216":216,"217":216,"218":216,"221":40,"222":40,"223":40,"224":40,"225":200,"226":200,"233":200,"234":200,"235":760,"236":760,"237":216,"238":144,"240":216,"241":216,"243":216,"249":216,"250":216,"251":216,"254":200,"255":200,"256":1400,"257":1400,"261":1400,"262":1400,"263":1512,"265":1400,"267":200,"268":1400,"270":200,"271":200,"272":36,"274":200,"279":144,"280":144,"281":144,"282":144,"289":40,"290":40,"293":40,"294":40,"295":40,"299":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/header.cjsx":{"b":{"1":[24,0],"2":[39,0],"3":[0,39]},"branchMap":{"1":{"line":45,"locations":[{"end":{"column":27,"line":45},"start":{"column":12,"line":45}},{"end":{"column":57,"line":45},"start":{"column":31,"line":45}}],"type":"binary-expr"},"2":{"line":51,"locations":[{"end":{"column":67,"line":51},"start":{"column":43,"line":51}},{"end":{"column":76,"line":51},"start":{"column":70,"line":51}}],"type":"cond-expr"},"3":{"line":54,"locations":[{"end":{"column":4,"line":54},"start":{"column":4,"line":54}},{"end":{"column":4,"line":54},"start":{"column":4,"line":54}}],"type":"if"}},"code":["var BS, BrowseTheBook, CourseAddMenuMixin, CourseCalendarHeader, PracticeButton, React, Router, TimeHelper, TimeStore, _, moment, twix;","","moment = require('moment');","","twix = require('twix');","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","CourseAddMenuMixin = require('./add-menu-mixin');","","PracticeButton = require('../buttons/practice-button');","","BrowseTheBook = require('../buttons/browse-the-book');","","TimeStore = require('../../flux/time').TimeStore;","","TimeHelper = require('../../helpers/time');","","CourseCalendarHeader = React.createClass({","  displayName: 'CourseCalendarHeader',","  propTypes: {","    duration: React.PropTypes.oneOf(['month', 'week', 'day']).isRequired,","    setDate: React.PropTypes.func,","    date: TimeHelper.PropTypes.moment,","    format: React.PropTypes.string.isRequired","  },","  mixins: [CourseAddMenuMixin],","  contextTypes: {","    router: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      duration: 'month',","      format: 'MMMM YYYY'","    };","  },","  getInitialState: function() {","    return {","      date: this.props.date || moment(TimeStore.getNow())","    };","  },","  componentDidUpdate: function() {","    var setDate;","    setDate = this.props.setDate;","    return typeof setDate === \"function\" ? setDate(this.state.date) : void 0;","  },","  componentWillReceiveProps: function(nextProps) {","    if (!moment(nextProps.date).isSame(this.state.date, 'month')) {","      return this.setState({","        date: nextProps.date","      });","    }","  },","  handleNavigate: function(subtractOrAdd, clickEvent) {","    var duration, ref, setDate;","    ref = this.props, duration = ref.duration, setDate = ref.setDate;","    clickEvent.preventDefault();","    return this.setState({","      date: this.state.date.clone()[subtractOrAdd](1, duration)","    });","  },","  handleNext: function(clickEvent) {","    return this.handleNavigate('add', clickEvent);","  },","  handlePrevious: function(clickEvent) {","    return this.handleNavigate('subtract', clickEvent);","  },","  render: function() {","    var courseId, date, duration, format, ref;","    date = this.state.date;","    ref = this.props, format = ref.format, duration = ref.duration;","    courseId = this.context.router.getCurrentParams().courseId;","    return React.createElement(\"div\", {","      \"className\": 'calendar-header'","    }, React.createElement(BS.Row, {","      \"className\": 'calendar-actions'","    }, React.createElement(BrowseTheBook, {","      \"bsStyle\": 'default',","      \"courseId\": courseId","    }), React.createElement(Router.Link, {","      \"className\": 'btn btn-default',","      \"to\": 'viewTeacherPerformanceForecast',","      \"params\": {","        courseId: courseId","      }","    }, \"Performance Forecast\"), React.createElement(Router.Link, {","      \"className\": 'btn btn-default',","      \"to\": 'viewScores',","      \"params\": {","        courseId: courseId","      }","    }, \"Student Scores\")), React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"xs\": 4.","    }, React.createElement(BS.DropdownButton, {","      \"className\": 'add-assignment',","      \"title\": 'Add Assignment',","      \"bsStyle\": 'primary'","    }, this.renderAddActions())), React.createElement(BS.Col, {","      \"xs\": 4.,","      \"className\": 'calendar-header-label'","    }, React.createElement(\"a\", {","      \"href\": '#',","      \"className\": 'calendar-header-control previous',","      \"onClick\": this.handlePrevious","    }, React.createElement(\"i\", {","      \"className\": 'fa fa-caret-left'","    })), date.format(format), React.createElement(\"a\", {","      \"href\": '#',","      \"className\": 'calendar-header-control next',","      \"onClick\": this.handleNext","    }, React.createElement(\"i\", {","      \"className\": 'fa fa-caret-right'","    })))));","  }","});","","module.exports = CourseCalendarHeader;",""],"f":{"1":21,"2":24,"3":39,"4":39,"5":0,"6":0,"7":0,"8":63},"fnMap":{"1":{"line":37,"loc":{"end":{"column":30,"line":37},"start":{"column":19,"line":37}},"name":"(anonymous_1)"},"2":{"line":43,"loc":{"end":{"column":30,"line":43},"start":{"column":19,"line":43}},"name":"(anonymous_2)"},"3":{"line":48,"loc":{"end":{"column":33,"line":48},"start":{"column":22,"line":48}},"name":"(anonymous_3)"},"4":{"line":53,"loc":{"end":{"column":49,"line":53},"start":{"column":29,"line":53}},"name":"(anonymous_4)"},"5":{"line":60,"loc":{"end":{"column":54,"line":60},"start":{"column":18,"line":60}},"name":"(anonymous_5)"},"6":{"line":68,"loc":{"end":{"column":35,"line":68},"start":{"column":14,"line":68}},"name":"(anonymous_6)"},"7":{"line":71,"loc":{"end":{"column":39,"line":71},"start":{"column":18,"line":71}},"name":"(anonymous_7)"},"8":{"line":74,"loc":{"end":{"column":21,"line":74},"start":{"column":10,"line":74}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/header.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":24,"16":39,"17":39,"18":39,"19":39,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":63,"28":63,"29":63,"30":63,"31":63,"32":21},"statementMap":{"1":{"end":{"column":135,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":27,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":23,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":25,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":32,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":33,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":49,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":55,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":54,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":49,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":43,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":121},"start":{"column":0,"line":25}},"14":{"end":{"column":6,"line":41},"start":{"column":4,"line":38}},"15":{"end":{"column":6,"line":46},"start":{"column":4,"line":44}},"16":{"end":{"column":16,"line":49},"start":{"column":4,"line":49}},"17":{"end":{"column":33,"line":50},"start":{"column":4,"line":50}},"18":{"end":{"column":77,"line":51},"start":{"column":4,"line":51}},"19":{"end":{"column":5,"line":58},"start":{"column":4,"line":54}},"20":{"end":{"column":9,"line":57},"start":{"column":6,"line":55}},"21":{"end":{"column":31,"line":61},"start":{"column":4,"line":61}},"22":{"end":{"column":69,"line":62},"start":{"column":4,"line":62}},"23":{"end":{"column":32,"line":63},"start":{"column":4,"line":63}},"24":{"end":{"column":7,"line":66},"start":{"column":4,"line":64}},"25":{"end":{"column":50,"line":69},"start":{"column":4,"line":69}},"26":{"end":{"column":55,"line":72},"start":{"column":4,"line":72}},"27":{"end":{"column":46,"line":75},"start":{"column":4,"line":75}},"28":{"end":{"column":27,"line":76},"start":{"column":4,"line":76}},"29":{"end":{"column":67,"line":77},"start":{"column":4,"line":77}},"30":{"end":{"column":63,"line":78},"start":{"column":4,"line":78}},"31":{"end":{"column":11,"line":119},"start":{"column":4,"line":79}},"32":{"end":{"column":38,"line":123},"start":{"column":0,"line":123}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"38":21,"44":24,"49":39,"50":39,"51":39,"54":39,"55":0,"61":0,"62":0,"63":0,"64":0,"69":0,"72":0,"75":63,"76":63,"77":63,"78":63,"79":63,"123":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/index.cjsx":{"b":{"1":[40,23]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":69,"line":27},"start":{"column":54,"line":27}},{"end":{"column":78,"line":27},"start":{"column":72,"line":27}}],"type":"cond-expr"}},"code":["var CourseCalendar, CourseMonth, React, displayAs, moment;","","moment = require('moment');","","React = require('react');","","CourseMonth = require('./month');","","displayAs = {","  month: CourseMonth","};","","CourseCalendar = React.createClass({","  displayName: 'CourseCalendar',","  propTypes: {","    loadPlansList: React.PropTypes.func","  },","  getInitialState: function() {","    return {","      displayAs: 'month'","    };","  },","  render: function() {","    var Handler, loadPlansList, plansList;","    Handler = displayAs[this.state.displayAs];","    loadPlansList = this.props.loadPlansList;","    plansList = typeof loadPlansList === \"function\" ? loadPlansList() : void 0;","    return React.createElement(Handler, React.__spread({}, this.props, {","      \"plansList\": plansList,","      \"ref\": 'calendarHandler'","    }));","  }","});","","module.exports = CourseCalendar;",""],"f":{"1":24,"2":63},"fnMap":{"1":{"line":18,"loc":{"end":{"column":30,"line":18},"start":{"column":19,"line":18}},"name":"(anonymous_1)"},"2":{"line":23,"loc":{"end":{"column":21,"line":23},"start":{"column":10,"line":23}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":24,"8":63,"9":63,"10":63,"11":63,"12":63,"13":21},"statementMap":{"1":{"end":{"column":58,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":27,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":11},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":33},"start":{"column":0,"line":13}},"7":{"end":{"column":6,"line":21},"start":{"column":4,"line":19}},"8":{"end":{"column":42,"line":24},"start":{"column":4,"line":24}},"9":{"end":{"column":46,"line":25},"start":{"column":4,"line":25}},"10":{"end":{"column":45,"line":26},"start":{"column":4,"line":26}},"11":{"end":{"column":79,"line":27},"start":{"column":4,"line":27}},"12":{"end":{"column":8,"line":31},"start":{"column":4,"line":28}},"13":{"end":{"column":32,"line":35},"start":{"column":0,"line":35}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"13":21,"19":24,"24":63,"25":63,"26":63,"27":63,"28":63,"35":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/month.cjsx":{"b":{"1":[0,39],"2":[28,11],"3":[0,0],"4":[0,0],"5":[0,0],"6":[63,0],"7":[1071,1134],"8":[63,1071],"9":[0,2205],"10":[0,0],"11":[40,23]},"branchMap":{"1":{"line":69,"locations":[{"end":{"column":4,"line":69},"start":{"column":4,"line":69}},{"end":{"column":4,"line":69},"start":{"column":4,"line":69}}],"type":"if"},"2":{"line":75,"locations":[{"end":{"column":4,"line":75},"start":{"column":4,"line":75}},{"end":{"column":4,"line":75},"start":{"column":4,"line":75}}],"type":"if"},"3":{"line":109,"locations":[{"end":{"column":4,"line":109},"start":{"column":4,"line":109}},{"end":{"column":4,"line":109},"start":{"column":4,"line":109}}],"type":"if"},"4":{"line":114,"locations":[{"end":{"column":4,"line":114},"start":{"column":4,"line":114}},{"end":{"column":4,"line":114},"start":{"column":4,"line":114}}],"type":"if"},"5":{"line":114,"locations":[{"end":{"column":28,"line":114},"start":{"column":11,"line":114}},{"end":{"column":90,"line":114},"start":{"column":33,"line":114}}],"type":"binary-expr"},"6":{"line":126,"locations":[{"end":{"column":4,"line":126},"start":{"column":4,"line":126}},{"end":{"column":4,"line":126},"start":{"column":4,"line":126}}],"type":"if"},"7":{"line":135,"locations":[{"end":{"column":6,"line":135},"start":{"column":6,"line":135}},{"end":{"column":6,"line":135},"start":{"column":6,"line":135}}],"type":"if"},"8":{"line":137,"locations":[{"end":{"column":13,"line":137},"start":{"column":13,"line":137}},{"end":{"column":13,"line":137},"start":{"column":13,"line":137}}],"type":"if"},"9":{"line":145,"locations":[{"end":{"column":6,"line":145},"start":{"column":6,"line":145}},{"end":{"column":6,"line":145},"start":{"column":6,"line":145}}],"type":"if"},"10":{"line":148,"locations":[{"end":{"column":8,"line":148},"start":{"column":8,"line":148}},{"end":{"column":8,"line":148},"start":{"column":8,"line":148}}],"type":"if"},"11":{"line":170,"locations":[{"end":{"column":4,"line":170},"start":{"column":4,"line":170}},{"end":{"column":4,"line":170},"start":{"column":4,"line":170}}],"type":"if"}},"code":["var BS, Calendar, CourseAdd, CourseAddMenuMixin, CourseCalendarHeader, CourseDuration, CourseMonth, CoursePlan, Day, Month, React, TeacherTaskPlanActions, TimeHelper, TimeStore, Week, _, classnames, moment, ref, twix;","","moment = require('moment-timezone');","","twix = require('twix');","","_ = require('underscore');","","classnames = require('classnames');","","React = require('react');","","BS = require('react-bootstrap');","","ref = require('react-calendar'), Calendar = ref.Calendar, Month = ref.Month, Week = ref.Week, Day = ref.Day;","","TimeStore = require('../../flux/time').TimeStore;","","TeacherTaskPlanActions = require('../../flux/teacher-task-plan').TeacherTaskPlanActions;","","TimeHelper = require('../../helpers/time');","","CourseCalendarHeader = require('./header');","","CourseDuration = require('./duration');","","CoursePlan = require('./plan');","","CourseAdd = require('./add');","","CourseAddMenuMixin = require('./add-menu-mixin');","","CourseMonth = React.createClass({","  displayName: 'CourseMonth',","  mixins: [CourseAddMenuMixin],","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    plansList: React.PropTypes.array,","    date: TimeHelper.PropTypes.moment","  },","  childContextTypes: {","    date: TimeHelper.PropTypes.moment","  },","  getChildContext: function() {","    return {","      date: this.props.date","    };","  },","  getInitialState: function() {","    return {","      isCourseTimezone: TimeHelper.isCourseTimezone(),","      activeAddDate: null","    };","  },","  getDefaultProps: function() {","    return {","      date: moment(TimeStore.getNow())","    };","  },","  setDateParams: function(date) {","    var params;","    params = this.context.router.getCurrentParams();","    params.date = date.format(this.props.dateFormat);","    return this.context.router.transitionTo('calendarByDate', params);","  },","  setDate: function(date) {","    if (!moment(date).isSame(this.props.date, 'month')) {","      this.setDateParams(date);","      return TeacherTaskPlanActions.load(this.props.courseId);","    }","  },","  componentDidUpdate: function() {","    if (this.refs.courseDurations != null) {","      return this.setDayHeight(this.refs.courseDurations.state.ranges);","    }","  },","  setDayHeight: function(ranges) {","    var calendar, nodesWithHeights;","    calendar = React.findDOMNode(this.refs.calendar);","    nodesWithHeights = calendar.querySelectorAll('.rc-Week');","    return Array.prototype.forEach.call(nodesWithHeights, function(node, nthRange) {","      var range;","      range = _.findWhere(ranges, {","        nthRange: nthRange","      });","      return node.style.height = range.dayHeight + 'rem';","    });","  },","  getDurationInfo: function(date) {","    var calendarDuration, calendarWeeks, endMonthBlock, startMonthBlock;","    startMonthBlock = date.clone().startOf('month').startOf('week');","    endMonthBlock = date.clone().endOf('month').endOf('week').add(1, 'millisecond');","    calendarDuration = moment(startMonthBlock).twix(endMonthBlock);","    calendarWeeks = calendarDuration.split(moment.duration(1, 'week'));","    return {","      calendarDuration: calendarDuration,","      calendarWeeks: calendarWeeks","    };","  },","  handleClick: function(componentName, dayMoment, mouseEvent) {","    this.refs.addOnDay.updateState(dayMoment, mouseEvent.pageX, mouseEvent.pageY);","    return this.setState({","      activeAddDate: dayMoment","    });","  },","  checkAddOnDay: function(componentName, dayMoment, mouseEvent) {","    if (mouseEvent.relatedTarget !== React.findDOMNode(this.refs.addOnDay)) {","      return this.hideAddOnDay(componentName, dayMoment, mouseEvent);","    }","  },","  undoActives: function(componentName, dayMoment, mouseEvent) {","    if (!((dayMoment != null) && dayMoment.isSame(this.refs.addOnDay.state.addDate, 'day'))) {","      return this.hideAddOnDay(componentName, dayMoment, mouseEvent);","    }","  },","  hideAddOnDay: function(componentName, dayMoment, mouseEvent) {","    this.refs.addOnDay.close();","    return this.setState({","      activeAddDate: null","    });","  },","  renderDays: function(calendarDuration, referenceDate) {","    var day, dayIter, days, durationDays, hasActiveAddDate, key, modifiers, otherProps;","    if (referenceDate == null) {","      referenceDate = moment(TimeStore.getNow());","    }","    durationDays = calendarDuration.iterateInner('days');","    days = [];","    hasActiveAddDate = this.state.activeAddDate != null;","    while (durationDays.hasNext()) {","      dayIter = durationDays.next();","      modifiers = {};","      if (dayIter.isBefore(referenceDate, 'day')) {","        modifiers.past = true;","      } else if (dayIter.isSame(referenceDate, 'day')) {","        modifiers.current = true;","      } else {","        modifiers.upcoming = true;","      }","      otherProps = {","        onClick: this.handleClick","      };","      if (hasActiveAddDate) {","        otherProps.onMouseLeave = this.checkAddOnDay;","        otherProps.onMouseEnter = this.undoActives;","        if (this.state.activeAddDate.isSame(dayIter, 'day')) {","          otherProps.classes = {","            active: true","          };","        }","      }","      key = \"day-\" + (dayIter.format(this.props.dateFormat));","      day = React.createElement(Day, React.__spread({","        \"date\": dayIter,","        \"modifiers\": modifiers,","        \"key\": key","      }, otherProps));","      days.push(day);","    }","    return days;","  },","  render: function() {","    var calendarClassName, calendarDuration, calendarWeeks, className, courseId, date, days, plans, plansList, ref1, ref2;","    ref1 = this.props, plansList = ref1.plansList, courseId = ref1.courseId, className = ref1.className, date = ref1.date;","    ref2 = this.getDurationInfo(date), calendarDuration = ref2.calendarDuration, calendarWeeks = ref2.calendarWeeks;","    days = this.renderDays(calendarDuration);","    calendarClassName = classnames('calendar-container', className);","    if (plansList != null) {","      plans = React.createElement(CourseDuration, {","        \"referenceDate\": moment(TimeStore.getNow()),","        \"durations\": plansList,","        \"viewingDuration\": calendarDuration,","        \"groupingDurations\": calendarWeeks,","        \"courseId\": courseId,","        \"ref\": 'courseDurations'","      }, React.createElement(CoursePlan, {","        \"courseId\": courseId","      }));","    }","    return React.createElement(BS.Grid, {","      \"className\": calendarClassName,","      \"fluid\": true","    }, React.createElement(CourseAdd, {","      \"ref\": 'addOnDay'","    }), React.createElement(CourseCalendarHeader, {","      \"duration\": 'month',","      \"date\": date,","      \"setDate\": this.setDate,","      \"ref\": 'calendarHeader'","    }), React.createElement(BS.Row, {","      \"className\": 'calendar-body'","    }, React.createElement(BS.Col, {","      \"xs\": 12.","    }, React.createElement(Month, {","      \"date\": date,","      \"monthNames\": false,","      \"weekdayFormat\": 'ddd',","      \"ref\": 'calendar'","    }, days), plans)));","  }","});","","module.exports = CourseMonth;",""],"f":{"1":126,"2":24,"3":21,"4":0,"5":39,"6":39,"7":28,"8":140,"9":63,"10":0,"11":0,"12":0,"13":0,"14":63,"15":63},"fnMap":{"1":{"line":46,"loc":{"end":{"column":30,"line":46},"start":{"column":19,"line":46}},"name":"(anonymous_1)"},"2":{"line":51,"loc":{"end":{"column":30,"line":51},"start":{"column":19,"line":51}},"name":"(anonymous_2)"},"3":{"line":57,"loc":{"end":{"column":30,"line":57},"start":{"column":19,"line":57}},"name":"(anonymous_3)"},"4":{"line":62,"loc":{"end":{"column":32,"line":62},"start":{"column":17,"line":62}},"name":"(anonymous_4)"},"5":{"line":68,"loc":{"end":{"column":26,"line":68},"start":{"column":11,"line":68}},"name":"(anonymous_5)"},"6":{"line":74,"loc":{"end":{"column":33,"line":74},"start":{"column":22,"line":74}},"name":"(anonymous_6)"},"7":{"line":79,"loc":{"end":{"column":33,"line":79},"start":{"column":16,"line":79}},"name":"(anonymous_7)"},"8":{"line":83,"loc":{"end":{"column":83,"line":83},"start":{"column":58,"line":83}},"name":"(anonymous_8)"},"9":{"line":91,"loc":{"end":{"column":34,"line":91},"start":{"column":19,"line":91}},"name":"(anonymous_9)"},"10":{"line":102,"loc":{"end":{"column":62,"line":102},"start":{"column":15,"line":102}},"name":"(anonymous_10)"},"11":{"line":108,"loc":{"end":{"column":64,"line":108},"start":{"column":17,"line":108}},"name":"(anonymous_11)"},"12":{"line":113,"loc":{"end":{"column":62,"line":113},"start":{"column":15,"line":113}},"name":"(anonymous_12)"},"13":{"line":118,"loc":{"end":{"column":63,"line":118},"start":{"column":16,"line":118}},"name":"(anonymous_13)"},"14":{"line":124,"loc":{"end":{"column":56,"line":124},"start":{"column":14,"line":124}},"name":"(anonymous_14)"},"15":{"line":164,"loc":{"end":{"column":21,"line":164},"start":{"column":10,"line":164}},"name":"(anonymous_15)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/month.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":126,"19":24,"20":21,"21":0,"22":0,"23":0,"24":0,"25":39,"26":0,"27":0,"28":39,"29":28,"30":28,"31":28,"32":28,"33":28,"34":140,"35":140,"36":140,"37":63,"38":63,"39":63,"40":63,"41":63,"42":63,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":63,"52":63,"53":63,"54":63,"55":63,"56":63,"57":63,"58":2205,"59":2205,"60":2205,"61":1071,"62":1134,"63":63,"64":1071,"65":2205,"66":2205,"67":0,"68":0,"69":0,"70":0,"71":2205,"72":2205,"73":2205,"74":63,"75":63,"76":63,"77":63,"78":63,"79":63,"80":63,"81":40,"82":63,"83":21},"statementMap":{"1":{"end":{"column":217,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":36,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":23,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":35,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":25,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":32,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":108,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":49,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":88,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":43,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":43,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":39,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":31,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":29,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":49,"line":31},"start":{"column":0,"line":31}},"17":{"end":{"column":3,"line":203},"start":{"column":0,"line":33}},"18":{"end":{"column":6,"line":49},"start":{"column":4,"line":47}},"19":{"end":{"column":6,"line":55},"start":{"column":4,"line":52}},"20":{"end":{"column":6,"line":60},"start":{"column":4,"line":58}},"21":{"end":{"column":15,"line":63},"start":{"column":4,"line":63}},"22":{"end":{"column":52,"line":64},"start":{"column":4,"line":64}},"23":{"end":{"column":53,"line":65},"start":{"column":4,"line":65}},"24":{"end":{"column":70,"line":66},"start":{"column":4,"line":66}},"25":{"end":{"column":5,"line":72},"start":{"column":4,"line":69}},"26":{"end":{"column":31,"line":70},"start":{"column":6,"line":70}},"27":{"end":{"column":62,"line":71},"start":{"column":6,"line":71}},"28":{"end":{"column":5,"line":77},"start":{"column":4,"line":75}},"29":{"end":{"column":71,"line":76},"start":{"column":6,"line":76}},"30":{"end":{"column":35,"line":80},"start":{"column":4,"line":80}},"31":{"end":{"column":53,"line":81},"start":{"column":4,"line":81}},"32":{"end":{"column":61,"line":82},"start":{"column":4,"line":82}},"33":{"end":{"column":7,"line":89},"start":{"column":4,"line":83}},"34":{"end":{"column":16,"line":84},"start":{"column":6,"line":84}},"35":{"end":{"column":9,"line":87},"start":{"column":6,"line":85}},"36":{"end":{"column":57,"line":88},"start":{"column":6,"line":88}},"37":{"end":{"column":72,"line":92},"start":{"column":4,"line":92}},"38":{"end":{"column":68,"line":93},"start":{"column":4,"line":93}},"39":{"end":{"column":84,"line":94},"start":{"column":4,"line":94}},"40":{"end":{"column":67,"line":95},"start":{"column":4,"line":95}},"41":{"end":{"column":71,"line":96},"start":{"column":4,"line":96}},"42":{"end":{"column":6,"line":100},"start":{"column":4,"line":97}},"43":{"end":{"column":82,"line":103},"start":{"column":4,"line":103}},"44":{"end":{"column":7,"line":106},"start":{"column":4,"line":104}},"45":{"end":{"column":5,"line":111},"start":{"column":4,"line":109}},"46":{"end":{"column":69,"line":110},"start":{"column":6,"line":110}},"47":{"end":{"column":5,"line":116},"start":{"column":4,"line":114}},"48":{"end":{"column":69,"line":115},"start":{"column":6,"line":115}},"49":{"end":{"column":31,"line":119},"start":{"column":4,"line":119}},"50":{"end":{"column":7,"line":122},"start":{"column":4,"line":120}},"51":{"end":{"column":87,"line":125},"start":{"column":4,"line":125}},"52":{"end":{"column":5,"line":128},"start":{"column":4,"line":126}},"53":{"end":{"column":49,"line":127},"start":{"column":6,"line":127}},"54":{"end":{"column":57,"line":129},"start":{"column":4,"line":129}},"55":{"end":{"column":14,"line":130},"start":{"column":4,"line":130}},"56":{"end":{"column":56,"line":131},"start":{"column":4,"line":131}},"57":{"end":{"column":5,"line":161},"start":{"column":4,"line":132}},"58":{"end":{"column":36,"line":133},"start":{"column":6,"line":133}},"59":{"end":{"column":21,"line":134},"start":{"column":6,"line":134}},"60":{"end":{"column":7,"line":141},"start":{"column":6,"line":135}},"61":{"end":{"column":30,"line":136},"start":{"column":8,"line":136}},"62":{"end":{"column":7,"line":141},"start":{"column":13,"line":137}},"63":{"end":{"column":33,"line":138},"start":{"column":8,"line":138}},"64":{"end":{"column":34,"line":140},"start":{"column":8,"line":140}},"65":{"end":{"column":8,"line":144},"start":{"column":6,"line":142}},"66":{"end":{"column":7,"line":153},"start":{"column":6,"line":145}},"67":{"end":{"column":53,"line":146},"start":{"column":8,"line":146}},"68":{"end":{"column":51,"line":147},"start":{"column":8,"line":147}},"69":{"end":{"column":9,"line":152},"start":{"column":8,"line":148}},"70":{"end":{"column":12,"line":151},"start":{"column":10,"line":149}},"71":{"end":{"column":61,"line":154},"start":{"column":6,"line":154}},"72":{"end":{"column":22,"line":159},"start":{"column":6,"line":155}},"73":{"end":{"column":21,"line":160},"start":{"column":6,"line":160}},"74":{"end":{"column":16,"line":162},"start":{"column":4,"line":162}},"75":{"end":{"column":122,"line":165},"start":{"column":4,"line":165}},"76":{"end":{"column":122,"line":166},"start":{"column":4,"line":166}},"77":{"end":{"column":116,"line":167},"start":{"column":4,"line":167}},"78":{"end":{"column":45,"line":168},"start":{"column":4,"line":168}},"79":{"end":{"column":68,"line":169},"start":{"column":4,"line":169}},"80":{"end":{"column":5,"line":181},"start":{"column":4,"line":170}},"81":{"end":{"column":10,"line":180},"start":{"column":6,"line":171}},"82":{"end":{"column":23,"line":201},"start":{"column":4,"line":182}},"83":{"end":{"column":29,"line":205},"start":{"column":0,"line":205}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"33":21,"47":126,"52":24,"58":21,"63":0,"64":0,"65":0,"66":0,"69":39,"70":0,"71":0,"75":39,"76":28,"80":28,"81":28,"82":28,"83":28,"84":140,"85":140,"88":140,"92":63,"93":63,"94":63,"95":63,"96":63,"97":63,"103":0,"104":0,"109":0,"110":0,"114":0,"115":0,"119":0,"120":0,"125":63,"126":63,"127":63,"129":63,"130":63,"131":63,"132":63,"133":2205,"134":2205,"135":2205,"136":1071,"137":1134,"138":63,"140":1071,"142":2205,"145":2205,"146":0,"147":0,"148":0,"149":0,"154":2205,"155":2205,"160":2205,"162":63,"165":63,"166":63,"167":63,"168":63,"169":63,"170":63,"171":40,"182":63,"205":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/plan-details.cjsx":{"b":{"1":[0,0],"2":[0,2],"3":[2,2],"4":[0,2],"5":[2,0],"6":[0,2],"7":[2,0],"8":[0,2],"9":[0,0]},"branchMap":{"1":{"line":54,"locations":[{"end":{"column":4,"line":54},"start":{"column":4,"line":54}},{"end":{"column":4,"line":54},"start":{"column":4,"line":54}}],"type":"if"},"2":{"line":77,"locations":[{"end":{"column":4,"line":77},"start":{"column":4,"line":77}},{"end":{"column":4,"line":77},"start":{"column":4,"line":77}}],"type":"if"},"3":{"line":77,"locations":[{"end":{"column":22,"line":77},"start":{"column":10,"line":77}},{"end":{"column":37,"line":77},"start":{"column":26,"line":77}}],"type":"binary-expr"},"4":{"line":80,"locations":[{"end":{"column":4,"line":80},"start":{"column":4,"line":80}},{"end":{"column":4,"line":80},"start":{"column":4,"line":80}}],"type":"if"},"5":{"line":84,"locations":[{"end":{"column":41,"line":84},"start":{"column":35,"line":84}},{"end":{"column":50,"line":84},"start":{"column":44,"line":84}}],"type":"cond-expr"},"6":{"line":85,"locations":[{"end":{"column":50,"line":85},"start":{"column":43,"line":85}},{"end":{"column":65,"line":85},"start":{"column":53,"line":85}}],"type":"cond-expr"},"7":{"line":91,"locations":[{"end":{"column":6,"line":99},"start":{"column":26,"line":91}},{"end":{"column":92,"line":99},"start":{"column":10,"line":99}}],"type":"cond-expr"},"8":{"line":93,"locations":[{"end":{"column":6,"line":96},"start":{"column":53,"line":93}},{"end":{"column":6,"line":99},"start":{"column":9,"line":96}}],"type":"cond-expr"},"9":{"line":99,"locations":[{"end":{"column":83,"line":99},"start":{"column":25,"line":99}},{"end":{"column":92,"line":99},"start":{"column":86,"line":99}}],"type":"cond-expr"}},"code":["var BS, CoursePlanDetails, EventModalShell, LoadableItem, React, Router, StatsModalShell, camelCase, classnames;","","camelCase = require('camelcase');","","classnames = require('classnames');","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","StatsModalShell = require('../plan-stats').StatsModalShell;","","EventModalShell = require('../plan-stats/event').EventModalShell;","","LoadableItem = require('../loadable-item');","","CoursePlanDetails = React.createClass({","  displayName: 'CoursePlanDetails',","  getInitialState: function() {","    return {","      keepVisible: false","    };","  },","  getDefaultProps: function() {","    return {","      hasReview: false","    };","  },","  propTypes: {","    plan: React.PropTypes.shape({","      id: React.PropTypes.string.isRequired,","      title: React.PropTypes.string.isRequired,","      type: React.PropTypes.string.isRequired","    }).isRequired,","    courseId: React.PropTypes.string.isRequired,","    onRequestHide: React.PropTypes.func.isRequired,","    hasReview: React.PropTypes.bool","  },","  renderReviewButton: function() {","    var courseId, id, linkParams, plan, ref, reviewButton, type;","    ref = this.props, plan = ref.plan, courseId = ref.courseId;","    type = plan.type, id = plan.id;","    linkParams = {","      courseId: courseId,","      id: id","    };","    reviewButton = React.createElement(Router.Link, {","      \"className\": 'btn btn-default',","      \"to\": 'reviewTask',","      \"params\": linkParams","    }, \"Review Metrics\");","    if (type === 'external') {","      reviewButton = React.createElement(Router.Link, {","        \"className\": 'btn btn-default -view-scores',","        \"to\": 'viewScores',","        \"params\": linkParams","      }, \"View Scores\");","    }","    return reviewButton;","  },","  componentWillReceiveProps: function(nextProps) {","    return this.setState({","      keepVisible: true","    });","  },","  render: function() {","    var assignmentOrEvent, body, className, classes, courseId, editButton, editLinkName, footer, hasReview, id, isPublished, isPublishing, keepVisible, linkParams, plan, ref, reviewButton, title, type, viewOrEdit;","    ref = this.props, plan = ref.plan, courseId = ref.courseId, className = ref.className, isPublishing = ref.isPublishing, isPublished = ref.isPublished, hasReview = ref.hasReview;","    title = plan.title, type = plan.type, id = plan.id;","    linkParams = {","      courseId: courseId,","      id: id","    };","    keepVisible = this.state.keepVisible;","    if (!(isPublishing || isPublished)) {","      return null;","    }","    if (hasReview) {","      reviewButton = this.renderReviewButton();","    }","    editLinkName = camelCase(\"edit-\" + type);","    viewOrEdit = plan.isEditable ? 'Edit' : 'View';","    assignmentOrEvent = type === 'event' ? 'Event' : 'Assignment';","    editButton = React.createElement(Router.Link, {","      \"className\": 'btn btn-default -edit-assignment',","      \"to\": editLinkName,","      \"params\": linkParams","    }, viewOrEdit, \" \", assignmentOrEvent);","    body = isPublished ? (footer = React.createElement(\"div\", {","      \"className\": 'modal-footer'","    }, reviewButton, editButton), type === 'event' ? React.createElement(EventModalShell, {","      \"id\": id,","      \"courseId\": courseId","    }) : React.createElement(StatsModalShell, {","      \"id\": id,","      \"courseId\": courseId","    })) : isPublishing ? React.createElement(\"p\", null, \"This plan is publishing.\") : void 0;","    classes = classnames('plan-modal', className, {","      'in': keepVisible","    });","    return React.createElement(BS.Modal, React.__spread({}, this.props, {","      \"title\": title,","      \"data-assignment-type\": type,","      \"className\": classes","    }), React.createElement(\"div\", {","      \"className\": 'modal-body'","    }, body), footer);","  }","});","","module.exports = CoursePlanDetails;",""],"f":{"1":1,"2":21,"3":0,"4":1,"5":2},"fnMap":{"1":{"line":21,"loc":{"end":{"column":30,"line":21},"start":{"column":19,"line":21}},"name":"(anonymous_1)"},"2":{"line":26,"loc":{"end":{"column":30,"line":26},"start":{"column":19,"line":26}},"name":"(anonymous_2)"},"3":{"line":41,"loc":{"end":{"column":33,"line":41},"start":{"column":22,"line":41}},"name":"(anonymous_3)"},"4":{"line":63,"loc":{"end":{"column":49,"line":63},"start":{"column":29,"line":63}},"name":"(anonymous_4)"},"5":{"line":68,"loc":{"end":{"column":21,"line":68},"start":{"column":10,"line":68}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/plan-details.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":1,"12":21,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":2,"23":2,"24":2,"25":2,"26":2,"27":2,"28":0,"29":2,"30":0,"31":2,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":21},"statementMap":{"1":{"end":{"column":112,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":33,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":35,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":25,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":32,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":59,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":65,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":43,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":111},"start":{"column":0,"line":19}},"11":{"end":{"column":6,"line":24},"start":{"column":4,"line":22}},"12":{"end":{"column":6,"line":29},"start":{"column":4,"line":27}},"13":{"end":{"column":64,"line":42},"start":{"column":4,"line":42}},"14":{"end":{"column":63,"line":43},"start":{"column":4,"line":43}},"15":{"end":{"column":35,"line":44},"start":{"column":4,"line":44}},"16":{"end":{"column":6,"line":48},"start":{"column":4,"line":45}},"17":{"end":{"column":25,"line":53},"start":{"column":4,"line":49}},"18":{"end":{"column":5,"line":60},"start":{"column":4,"line":54}},"19":{"end":{"column":24,"line":59},"start":{"column":6,"line":55}},"20":{"end":{"column":24,"line":61},"start":{"column":4,"line":61}},"21":{"end":{"column":7,"line":66},"start":{"column":4,"line":64}},"22":{"end":{"column":213,"line":69},"start":{"column":4,"line":69}},"23":{"end":{"column":181,"line":70},"start":{"column":4,"line":70}},"24":{"end":{"column":55,"line":71},"start":{"column":4,"line":71}},"25":{"end":{"column":6,"line":75},"start":{"column":4,"line":72}},"26":{"end":{"column":41,"line":76},"start":{"column":4,"line":76}},"27":{"end":{"column":5,"line":79},"start":{"column":4,"line":77}},"28":{"end":{"column":18,"line":78},"start":{"column":6,"line":78}},"29":{"end":{"column":5,"line":82},"start":{"column":4,"line":80}},"30":{"end":{"column":47,"line":81},"start":{"column":6,"line":81}},"31":{"end":{"column":45,"line":83},"start":{"column":4,"line":83}},"32":{"end":{"column":51,"line":84},"start":{"column":4,"line":84}},"33":{"end":{"column":66,"line":85},"start":{"column":4,"line":85}},"34":{"end":{"column":43,"line":90},"start":{"column":4,"line":86}},"35":{"end":{"column":93,"line":99},"start":{"column":4,"line":91}},"36":{"end":{"column":7,"line":102},"start":{"column":4,"line":100}},"37":{"end":{"column":22,"line":109},"start":{"column":4,"line":103}},"38":{"end":{"column":35,"line":113},"start":{"column":0,"line":113}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"22":1,"27":21,"42":0,"43":0,"44":0,"45":0,"49":0,"54":0,"55":0,"61":0,"64":1,"69":2,"70":2,"71":2,"72":2,"76":2,"77":2,"78":0,"80":2,"81":0,"83":2,"84":2,"85":2,"86":2,"91":2,"100":2,"103":2,"113":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/plan-display.cjsx":{"b":{"1":[221,0],"2":[221,72],"3":[149,72],"4":[0,221],"5":[221,72]},"branchMap":{"1":{"line":52,"locations":[{"end":{"column":4,"line":52},"start":{"column":4,"line":52}},{"end":{"column":4,"line":52},"start":{"column":4,"line":52}}],"type":"if"},"2":{"line":52,"locations":[{"end":{"column":15,"line":52},"start":{"column":8,"line":52}},{"end":{"column":25,"line":52},"start":{"column":19,"line":52}}],"type":"binary-expr"},"3":{"line":55,"locations":[{"end":{"column":4,"line":55},"start":{"column":4,"line":55}},{"end":{"column":4,"line":55},"start":{"column":4,"line":55}}],"type":"if"},"4":{"line":58,"locations":[{"end":{"column":4,"line":58},"start":{"column":4,"line":58}},{"end":{"column":4,"line":58},"start":{"column":4,"line":58}}],"type":"if"},"5":{"line":58,"locations":[{"end":{"column":17,"line":58},"start":{"column":10,"line":58}},{"end":{"column":27,"line":58},"start":{"column":21,"line":58}}],"type":"binary-expr"}},"code":["var BS, CoursePlanDisplayEdit, CoursePlanDisplayMixin, CoursePlanDisplayQuickLook, DisplayProperties, React, Router, _, camelCase;","","React = require('react');","","Router = require('react-router');","","camelCase = require('camelcase');","","BS = require('react-bootstrap');","","_ = require('underscore');","","DisplayProperties = {","  plan: React.PropTypes.shape({","    id: React.PropTypes.string.isRequired,","    durationLength: React.PropTypes.number.isRequired","  }).isRequired,","  display: React.PropTypes.shape({","    offset: React.PropTypes.number.isRequired,","    order: React.PropTypes.number.isRequired,","    weekTopOffset: React.PropTypes.number.isRequired","  }).isRequired,","  label: React.PropTypes.node.isRequired,","  courseId: React.PropTypes.string.isRequired,","  planClasses: React.PropTypes.string.isRequired,","  setHover: React.PropTypes.func.isRequired,","  hasReview: React.PropTypes.bool,","  isFirst: React.PropTypes.bool,","  isLast: React.PropTypes.bool,","  setIsViewing: React.PropTypes.func,","  spacingMargin: React.PropTypes.number","};","","CoursePlanDisplayMixin = {","  propTypes: DisplayProperties,","  getDefaultProps: function() {","    return {","      hasReview: false,","      isFirst: false,","      isLast: false,","      spacingMargin: 2,","      rangeLength: 7,","      defaultPlansCount: 3","    };","  },","  calcPercentOfRangeLength: function(partLength) {","    return partLength / this.props.rangeLength * 100 + '%';","  },","  adjustPlanSpacing: function(planStyle) {","    var isFirst, isLast, ref, spacingMargin;","    ref = this.props, isFirst = ref.isFirst, isLast = ref.isLast, spacingMargin = ref.spacingMargin;","    if (isFirst || isLast) {","      planStyle.width = \"calc(\" + planStyle.width + \" - \" + (spacingMargin * 3) + \"px)\";","    }","    if (isFirst) {","      planStyle.marginLeft = spacingMargin + 'px';","    }","    if (!(isFirst || isLast)) {","      planStyle.marginLeft = -1 * spacingMargin + 'px';","    }","    return planStyle;","  },","  buildPlanStyles: function() {","    var defaultPlansCount, display, durationLength, offset, order, plan, planStyle, ref, spacingMargin, weekTopOffset;","    ref = this.props, display = ref.display, plan = ref.plan, spacingMargin = ref.spacingMargin, defaultPlansCount = ref.defaultPlansCount;","    offset = display.offset, weekTopOffset = display.weekTopOffset, order = display.order;","    durationLength = plan.durationLength;","    planStyle = {","      width: this.calcPercentOfRangeLength(durationLength),","      left: this.calcPercentOfRangeLength(offset),","      top: (weekTopOffset + (spacingMargin * 2) - order * defaultPlansCount) + 'rem'","    };","    return this.adjustPlanSpacing(planStyle);","  }","};","","CoursePlanDisplayEdit = React.createClass({","  displayName: 'CoursePlanDisplayEdit',","  mixins: [CoursePlanDisplayMixin],","  render: function() {","    var courseId, label, linkTo, params, plan, planClasses, planStyle, ref, setHover;","    ref = this.props, plan = ref.plan, planClasses = ref.planClasses, label = ref.label, courseId = ref.courseId, setHover = ref.setHover;","    linkTo = camelCase(\"edit-\" + plan.type);","    params = {","      id: plan.id,","      courseId: courseId","    };","    planStyle = this.buildPlanStyles();","    return React.createElement(\"div\", {","      \"style\": planStyle,","      \"className\": planClasses,","      \"data-assignment-type\": plan.type,","      \"onMouseEnter\": _.partial(setHover, true),","      \"onMouseLeave\": _.partial(setHover, false),","      \"ref\": 'plan'","    }, React.createElement(Router.Link, {","      \"to\": linkTo,","      \"params\": params","    }, label));","  }","});","","CoursePlanDisplayQuickLook = React.createClass({","  displayName: 'CoursePlanDisplayQuickLook',","  mixins: [CoursePlanDisplayMixin],","  render: function() {","    var hasReview, label, plan, planClasses, planModal, planStyle, ref, setHover, setIsViewing;","    ref = this.props, planClasses = ref.planClasses, planModal = ref.planModal, label = ref.label, setHover = ref.setHover, setIsViewing = ref.setIsViewing, plan = ref.plan, hasReview = ref.hasReview;","    planStyle = this.buildPlanStyles();","    return React.createElement(\"div\", {","      \"style\": planStyle,","      \"className\": planClasses,","      \"data-assignment-type\": plan.type,","      \"data-has-review\": hasReview,","      \"onMouseEnter\": _.partial(setHover, true),","      \"onMouseLeave\": _.partial(setHover, false),","      \"onClick\": _.partial(setIsViewing, true),","      \"ref\": 'plan'","    }, label);","  }","});","","module.exports = {","  CoursePlanDisplayEdit: CoursePlanDisplayEdit,","  CoursePlanDisplayQuickLook: CoursePlanDisplayQuickLook","};",""],"f":{"1":42,"2":442,"3":221,"4":221,"5":8,"6":213},"fnMap":{"1":{"line":36,"loc":{"end":{"column":30,"line":36},"start":{"column":19,"line":36}},"name":"(anonymous_1)"},"2":{"line":46,"loc":{"end":{"column":49,"line":46},"start":{"column":28,"line":46}},"name":"(anonymous_2)"},"3":{"line":49,"loc":{"end":{"column":41,"line":49},"start":{"column":21,"line":49}},"name":"(anonymous_3)"},"4":{"line":63,"loc":{"end":{"column":30,"line":63},"start":{"column":19,"line":63}},"name":"(anonymous_4)"},"5":{"line":80,"loc":{"end":{"column":21,"line":80},"start":{"column":10,"line":80}},"name":"(anonymous_5)"},"6":{"line":106,"loc":{"end":{"column":21,"line":106},"start":{"column":10,"line":106}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/plan-display.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":42,"10":442,"11":221,"12":221,"13":221,"14":221,"15":221,"16":149,"17":221,"18":0,"19":221,"20":221,"21":221,"22":221,"23":221,"24":221,"25":221,"26":21,"27":8,"28":8,"29":8,"30":8,"31":8,"32":8,"33":21,"34":213,"35":213,"36":213,"37":213,"38":21},"statementMap":{"1":{"end":{"column":130,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":32,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":2,"line":32},"start":{"column":0,"line":13}},"8":{"end":{"column":2,"line":75},"start":{"column":0,"line":34}},"9":{"end":{"column":6,"line":44},"start":{"column":4,"line":37}},"10":{"end":{"column":59,"line":47},"start":{"column":4,"line":47}},"11":{"end":{"column":44,"line":50},"start":{"column":4,"line":50}},"12":{"end":{"column":100,"line":51},"start":{"column":4,"line":51}},"13":{"end":{"column":5,"line":54},"start":{"column":4,"line":52}},"14":{"end":{"column":88,"line":53},"start":{"column":6,"line":53}},"15":{"end":{"column":5,"line":57},"start":{"column":4,"line":55}},"16":{"end":{"column":50,"line":56},"start":{"column":6,"line":56}},"17":{"end":{"column":5,"line":60},"start":{"column":4,"line":58}},"18":{"end":{"column":55,"line":59},"start":{"column":6,"line":59}},"19":{"end":{"column":21,"line":61},"start":{"column":4,"line":61}},"20":{"end":{"column":118,"line":64},"start":{"column":4,"line":64}},"21":{"end":{"column":139,"line":65},"start":{"column":4,"line":65}},"22":{"end":{"column":90,"line":66},"start":{"column":4,"line":66}},"23":{"end":{"column":41,"line":67},"start":{"column":4,"line":67}},"24":{"end":{"column":6,"line":72},"start":{"column":4,"line":68}},"25":{"end":{"column":45,"line":73},"start":{"column":4,"line":73}},"26":{"end":{"column":3,"line":101},"start":{"column":0,"line":77}},"27":{"end":{"column":85,"line":81},"start":{"column":4,"line":81}},"28":{"end":{"column":138,"line":82},"start":{"column":4,"line":82}},"29":{"end":{"column":44,"line":83},"start":{"column":4,"line":83}},"30":{"end":{"column":6,"line":87},"start":{"column":4,"line":84}},"31":{"end":{"column":39,"line":88},"start":{"column":4,"line":88}},"32":{"end":{"column":15,"line":99},"start":{"column":4,"line":89}},"33":{"end":{"column":3,"line":121},"start":{"column":0,"line":103}},"34":{"end":{"column":95,"line":107},"start":{"column":4,"line":107}},"35":{"end":{"column":200,"line":108},"start":{"column":4,"line":108}},"36":{"end":{"column":39,"line":109},"start":{"column":4,"line":109}},"37":{"end":{"column":14,"line":119},"start":{"column":4,"line":110}},"38":{"end":{"column":2,"line":126},"start":{"column":0,"line":123}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"34":21,"37":42,"47":442,"50":221,"51":221,"52":221,"53":221,"55":221,"56":149,"58":221,"59":0,"61":221,"64":221,"65":221,"66":221,"67":221,"68":221,"73":221,"77":21,"81":8,"82":8,"83":8,"84":8,"88":8,"89":8,"103":21,"107":213,"108":213,"109":213,"110":213,"123":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/plan-label.cjsx":{"b":{"1":[72,149]},"branchMap":{"1":{"line":32,"locations":[{"end":{"column":4,"line":32},"start":{"column":4,"line":32}},{"end":{"column":4,"line":32},"start":{"column":4,"line":32}}],"type":"if"}},"code":["var CoursePlanLabel, React, twix;","","React = require('react');","","twix = require('twix');","","CoursePlanLabel = React.createClass({","  displayName: 'CoursePlanLabel',","  propTypes: {","    rangeDuration: React.PropTypes.instanceOf(twix).isRequired,","    plan: React.PropTypes.shape({","      title: React.PropTypes.string.isRequired,","      durationLength: React.PropTypes.number.isRequired,","      opensAt: React.PropTypes.string","    }).isRequired,","    offsetFromPlanStart: React.PropTypes.number.isRequired,","    index: React.PropTypes.number.isRequired,","    offset: React.PropTypes.number.isRequired","  },","  calcPercentOfPlanLength: function(partLength) {","    return partLength / this.props.plan.durationLength * 100 + '%';","  },","  render: function() {","    var index, label, labelClass, offset, offsetFromPlanStart, opensAt, plan, planLabelStyle, planRangeLength, rangeDuration, ref, title;","    ref = this.props, rangeDuration = ref.rangeDuration, plan = ref.plan, index = ref.index, offset = ref.offset, offsetFromPlanStart = ref.offsetFromPlanStart;","    opensAt = plan.opensAt, title = plan.title;","    planRangeLength = rangeDuration.length('days');","    planLabelStyle = {","      width: this.calcPercentOfPlanLength(planRangeLength),","      marginLeft: this.calcPercentOfPlanLength(offsetFromPlanStart)","    };","    if (index !== 0) {","      labelClass = 'continued';","    }","    return label = React.createElement(\"label\", {","      \"data-opens-at\": opensAt,","      \"data-title\": title,","      \"style\": planLabelStyle,","      \"className\": labelClass","    }, title);","  }","});","","module.exports = CoursePlanLabel;",""],"f":{"1":442,"2":221},"fnMap":{"1":{"line":20,"loc":{"end":{"column":48,"line":20},"start":{"column":27,"line":20}},"name":"(anonymous_1)"},"2":{"line":23,"loc":{"end":{"column":21,"line":23},"start":{"column":10,"line":23}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/plan-label.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":442,"6":221,"7":221,"8":221,"9":221,"10":221,"11":221,"12":72,"13":221,"14":21},"statementMap":{"1":{"end":{"column":33,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":23,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":42},"start":{"column":0,"line":7}},"5":{"end":{"column":67,"line":21},"start":{"column":4,"line":21}},"6":{"end":{"column":137,"line":24},"start":{"column":4,"line":24}},"7":{"end":{"column":160,"line":25},"start":{"column":4,"line":25}},"8":{"end":{"column":47,"line":26},"start":{"column":4,"line":26}},"9":{"end":{"column":51,"line":27},"start":{"column":4,"line":27}},"10":{"end":{"column":6,"line":31},"start":{"column":4,"line":28}},"11":{"end":{"column":5,"line":34},"start":{"column":4,"line":32}},"12":{"end":{"column":31,"line":33},"start":{"column":6,"line":33}},"13":{"end":{"column":14,"line":40},"start":{"column":4,"line":35}},"14":{"end":{"column":33,"line":44},"start":{"column":0,"line":44}}},"l":{"1":21,"3":21,"5":21,"7":21,"21":442,"24":221,"25":221,"26":221,"27":221,"28":221,"32":221,"33":72,"35":221,"44":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/plan.cjsx":{"b":{"1":[1,0],"2":[1,0],"3":[1,0],"4":[85,5],"5":[1,0],"6":[1,0],"7":[0,60],"8":[0,60],"9":[60,0],"10":[0,66],"11":[1,0],"12":[4,0],"13":[149,8],"14":[149,141,136],"15":[213,8],"16":[149,145],"17":[2,147]},"branchMap":{"1":{"line":85,"locations":[{"end":{"column":4,"line":85},"start":{"column":4,"line":85}},{"end":{"column":4,"line":85},"start":{"column":4,"line":85}}],"type":"if"},"2":{"line":99,"locations":[{"end":{"column":4,"line":99},"start":{"column":4,"line":99}},{"end":{"column":4,"line":99},"start":{"column":4,"line":99}}],"type":"if"},"3":{"line":110,"locations":[{"end":{"column":4,"line":110},"start":{"column":4,"line":110}},{"end":{"column":4,"line":110},"start":{"column":4,"line":110}}],"type":"if"},"4":{"line":128,"locations":[{"end":{"column":19,"line":128},"start":{"column":11,"line":128}},{"end":{"column":45,"line":128},"start":{"column":23,"line":128}}],"type":"binary-expr"},"5":{"line":133,"locations":[{"end":{"column":4,"line":133},"start":{"column":4,"line":133}},{"end":{"column":4,"line":133},"start":{"column":4,"line":133}}],"type":"if"},"6":{"line":140,"locations":[{"end":{"column":6,"line":140},"start":{"column":6,"line":140}},{"end":{"column":6,"line":140},"start":{"column":6,"line":140}}],"type":"if"},"7":{"line":158,"locations":[{"end":{"column":4,"line":158},"start":{"column":4,"line":158}},{"end":{"column":4,"line":158},"start":{"column":4,"line":158}}],"type":"if"},"8":{"line":161,"locations":[{"end":{"column":11,"line":161},"start":{"column":11,"line":161}},{"end":{"column":11,"line":161},"start":{"column":11,"line":161}}],"type":"if"},"9":{"line":161,"locations":[{"end":{"column":47,"line":161},"start":{"column":15,"line":161}},{"end":{"column":85,"line":161},"start":{"column":51,"line":161}}],"type":"binary-expr"},"10":{"line":172,"locations":[{"end":{"column":4,"line":172},"start":{"column":4,"line":172}},{"end":{"column":4,"line":172},"start":{"column":4,"line":172}}],"type":"if"},"11":{"line":178,"locations":[{"end":{"column":4,"line":178},"start":{"column":4,"line":178}},{"end":{"column":4,"line":178},"start":{"column":4,"line":178}}],"type":"if"},"12":{"line":183,"locations":[{"end":{"column":4,"line":183},"start":{"column":4,"line":183}},{"end":{"column":4,"line":183},"start":{"column":4,"line":183}}],"type":"if"},"13":{"line":192,"locations":[{"end":{"column":22,"line":192},"start":{"column":11,"line":192}},{"end":{"column":38,"line":192},"start":{"column":26,"line":192}}],"type":"binary-expr"},"14":{"line":199,"locations":[{"end":{"column":22,"line":199},"start":{"column":11,"line":199}},{"end":{"column":37,"line":199},"start":{"column":26,"line":199}},{"end":{"column":62,"line":199},"start":{"column":41,"line":199}}],"type":"binary-expr"},"15":{"line":227,"locations":[{"end":{"column":4,"line":227},"start":{"column":4,"line":227}},{"end":{"column":4,"line":227},"start":{"column":4,"line":227}}],"type":"if"},"16":{"line":254,"locations":[{"end":{"column":97,"line":254},"start":{"column":88,"line":254}},{"end":{"column":115,"line":254},"start":{"column":101,"line":254}}],"type":"binary-expr"},"17":{"line":255,"locations":[{"end":{"column":4,"line":255},"start":{"column":4,"line":255}},{"end":{"column":4,"line":255},"start":{"column":4,"line":255}}],"type":"if"}},"code":["var BS, CoursePlan, CoursePlanDetails, CoursePlanDisplayEdit, CoursePlanDisplayQuickLook, CoursePlanLabel, PlanHelper, PlanPublishActions, PlanPublishStore, React, Router, _, camelCase, classnames, ref, ref1, twix;","","_ = require('underscore');","","twix = require('twix');","","React = require('react');","","Router = require('react-router');","","camelCase = require('camelcase');","","BS = require('react-bootstrap');","","classnames = require('classnames');","","CoursePlanDetails = require('./plan-details');","","CoursePlanLabel = require('./plan-label');","","ref = require('./plan-display'), CoursePlanDisplayEdit = ref.CoursePlanDisplayEdit, CoursePlanDisplayQuickLook = ref.CoursePlanDisplayQuickLook;","","ref1 = require('../../flux/plan-publish'), PlanPublishStore = ref1.PlanPublishStore, PlanPublishActions = ref1.PlanPublishActions;","","PlanHelper = require('../../helpers/plan');","","CoursePlan = React.createClass({","  displayName: 'CoursePlan',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    item: React.PropTypes.shape({","      plan: React.PropTypes.shape({","        id: React.PropTypes.string.isRequired,","        title: React.PropTypes.string.isRequired,","        type: React.PropTypes.string.isRequired,","        durationLength: React.PropTypes.number.isRequired,","        opensAt: React.PropTypes.string.isRequired,","        isOpen: React.PropTypes.bool,","        isPublished: React.PropTypes.bool,","        isPublishing: React.PropTypes.bool,","        isTrouble: React.PropTypes.bool,","        isEditable: React.PropTypes.bool","      }).isRequired,","      displays: React.PropTypes.arrayOf(React.PropTypes.shape({","        rangeDuration: React.PropTypes.instanceOf(twix).isRequired,","        offset: React.PropTypes.number.isRequired,","        index: React.PropTypes.number.isRequired,","        offsetFromPlanStart: React.PropTypes.number.isRequired,","        order: React.PropTypes.number.isRequired,","        weekTopOffset: React.PropTypes.number.isRequired","      }).isRequired).isRequired","    }),","    activeHeight: React.PropTypes.number","  },","  getDefaultProps: function() {","    return {","      activeHeight: 35","    };","  },","  getInitialState: function() {","    var item, plan, publishStatus;","    item = this.props.item;","    plan = item.plan;","    publishStatus = PlanPublishStore.getAsyncStatus(plan.id);","    return {","      isViewingStats: this._doesPlanMatchesRoute(),","      publishStatus: PlanPublishStore.getAsyncStatus(plan.id),","      isPublishing: PlanPublishStore.isPublishing(plan.id),","      isHovered: false,","      isPublished: this._isPublished(plan.isPublished, publishStatus)","    };","  },","  _doesPlanMatchesRoute: function() {","    var planId;","    planId = this.context.router.getCurrentParams().planId;","    return planId === this.props.item.plan.id;","  },","  _getExpectedRoute: function(isViewingStats) {","    var closedRouteName, openedRouteName;","    closedRouteName = 'calendarByDate';","    openedRouteName = 'calendarViewPlanStats';","    if (isViewingStats) {","      return openedRouteName;","    } else {","      return closedRouteName;","    }","  },","  _getExpectedParams: function(isViewingStats) {","    var closedParams, openedParams, params, planId;","    planId = this.props.item.plan.id;","    params = this.context.router.getCurrentParams();","    closedParams = _.omit(params, 'planId');","    openedParams = _.extend({}, params, {","      planId: planId","    });","    if (isViewingStats) {","      return openedParams;","    } else {","      return closedParams;","    }","  },","  _updateRoute: function(isViewingStats) {","    var currentParams, expectedParams, expectedRoute;","    expectedRoute = this._getExpectedRoute(isViewingStats);","    expectedParams = this._getExpectedParams(isViewingStats);","    currentParams = this.context.router.getCurrentParams();","    if (!_.isEqual(currentParams, expectedParams)) {","      return this.context.router.transitionTo(expectedRoute, expectedParams);","    }","  },","  syncRoute: function() {","    var isViewingStats;","    isViewingStats = this._doesPlanMatchesRoute();","    return this.setState({","      isViewingStats: isViewingStats","    });","  },","  syncIsViewingStats: function(isViewingStats) {","    this._updateRoute(isViewingStats);","    return this.setState({","      isViewingStats: isViewingStats","    });","  },","  _isPublished: function(previous, status) {","    return previous || status === 'succeeded';","  },","  checkPublishingStatus: function(published) {","    var planId, planStatus;","    planId = this.props.item.plan.id;","    if (published[\"for\"] === planId) {","      planStatus = {","        publishStatus: published.status,","        isPublishing: PlanPublishStore.isPublishing(planId),","        isPublished: this._isPublished(this.state.isPublished, published.status)","      };","      this.setState(planStatus);","      if (PlanPublishStore.isDone(planId)) {","        return PlanPublishStore.removeAllListeners(\"progress.\" + planId + \".*\", this.checkPublishingStatus);","      }","    }","  },","  subscribeToPublishing: function(plan) {","    var publishState;","    publishState = PlanHelper.subscribeToPublishing(plan, this.checkPublishingStatus);","    return this.setState(publishState);","  },","  componentWillMount: function() {","    var location;","    this.subscribeToPublishing(this.props.item.plan);","    this.syncRoute();","    location = this.context.router.getLocation();","    return location.addChangeListener(this.syncRoute);","  },","  componentWillReceiveProps: function(nextProps) {","    if (this.props.item.plan.id !== nextProps.item.plan.id) {","      this.subscribeToPublishing(nextProps.item.plan);","      return this.stopCheckingPlan(this.props.item.plan);","    } else if (nextProps.item.plan.isPublishing && !this.props.item.plan.isPublishing) {","      return this.subscribeToPublishing(nextProps.item.plan);","    }","  },","  componentWillUnmount: function() {","    var location;","    this.stopCheckingPlan(this.props.item.plan);","    location = this.context.router.getLocation();","    return location.removeChangeListener(this.syncRoute);","  },","  stopCheckingPlan: function(plan) {","    if (this.state.isPublishing) {","      PlanPublishActions.stopChecking(plan.id);","    }","    return PlanPublishStore.removeAllListeners(\"progress.\" + plan.id + \".*\");","  },","  setIsViewing: function(isViewingStats) {","    if (this.state.isViewingStats !== isViewingStats) {","      return this.syncIsViewingStats(isViewingStats);","    }","  },","  setHover: function(isHovered) {","    if (this.state.isHovered !== isHovered) {","      return this.setState({","        isHovered: isHovered","      });","    }","  },","  canQuickLook: function() {","    var isPublished, isPublishing, ref2;","    ref2 = this.state, isPublished = ref2.isPublished, isPublishing = ref2.isPublishing;","    return isPublished || isPublishing;","  },","  hasReview: function() {","    var isPublished, item, plan;","    isPublished = this.state.isPublished;","    item = this.props.item;","    plan = item.plan;","    return isPublished && plan.isOpen && plan.type !== 'event';","  },","  buildPlanClasses: function(plan, publishStatus, isPublishing, isPublished, isActive) {","    var planClasses;","    return planClasses = classnames('plan-label-long', \"course-plan-\" + plan.id, \"is-\" + publishStatus, {","      'is-published': isPublished,","      'is-publishing': isPublishing,","      'is-open': plan.isOpen,","      'is-trouble': plan.isTrouble,","      'active': isActive","    });","  },","  renderDisplay: function(hasQuickLook, hasReview, planClasses, display) {","    var DisplayComponent, courseId, displayComponentProps, displays, index, item, label, labelProps, offset, offsetFromPlanStart, plan, rangeDuration, ref2;","    rangeDuration = display.rangeDuration, offset = display.offset, offsetFromPlanStart = display.offsetFromPlanStart, index = display.index;","    ref2 = this.props, item = ref2.item, courseId = ref2.courseId;","    plan = item.plan, displays = item.displays;","    labelProps = {","      rangeDuration: rangeDuration,","      plan: plan,","      index: index,","      offset: offset,","      offsetFromPlanStart: offsetFromPlanStart","    };","    label = React.createElement(CoursePlanLabel, React.__spread({}, labelProps, {","      \"ref\": \"label\" + index","    }));","    DisplayComponent = CoursePlanDisplayEdit;","    if (hasQuickLook) {","      DisplayComponent = CoursePlanDisplayQuickLook;","    }","    displayComponentProps = {","      plan: plan,","      display: display,","      label: label,","      courseId: courseId,","      planClasses: planClasses,","      hasReview: hasReview,","      isFirst: index === 0,","      isLast: index === displays.length - 1,","      setHover: this.setHover,","      setIsViewing: this.setIsViewing","    };","    return React.createElement(DisplayComponent, React.__spread({}, displayComponentProps, {","      \"ref\": \"display\" + index,","      \"key\": \"display\" + index","    }));","  },","  render: function() {","    var courseId, displays, durationLength, hasReview, isHovered, isPublished, isPublishing, isViewingStats, item, modalProps, plan, planClasses, planDisplays, planModal, publishStatus, ref2, ref3, renderDisplay;","    ref2 = this.props, item = ref2.item, courseId = ref2.courseId;","    ref3 = this.state, publishStatus = ref3.publishStatus, isPublishing = ref3.isPublishing, isPublished = ref3.isPublished, isHovered = ref3.isHovered, isViewingStats = ref3.isViewingStats;","    plan = item.plan, displays = item.displays;","    durationLength = plan.durationLength;","    hasReview = this.hasReview();","    planClasses = this.buildPlanClasses(plan, publishStatus, isPublishing, isPublished, isHovered || isViewingStats);","    if (isViewingStats) {","      modalProps = {","        plan: plan,","        courseId: courseId,","        className: planClasses,","        onRequestHide: _.partial(this.syncIsViewingStats, false),","        ref: 'details',","        isPublished: isPublished,","        isPublishing: isPublishing,","        hasReview: hasReview","      };","      planModal = React.createElement(CoursePlanDetails, React.__spread({}, modalProps));","    }","    planClasses = \"plan \" + planClasses;","    renderDisplay = _.partial(this.renderDisplay, this.canQuickLook(), hasReview, planClasses);","    planDisplays = _.map(displays, renderDisplay);","    return React.createElement(\"div\", null, planDisplays, planModal);","  }","});","","module.exports = CoursePlan;",""],"f":{"1":21,"2":84,"3":238,"4":1,"5":1,"6":1,"7":154,"8":1,"9":85,"10":1,"11":84,"12":84,"13":60,"14":66,"15":66,"16":1,"17":4,"18":149,"19":149,"20":149,"21":221,"22":149},"fnMap":{"1":{"line":58,"loc":{"end":{"column":30,"line":58},"start":{"column":19,"line":58}},"name":"(anonymous_1)"},"2":{"line":63,"loc":{"end":{"column":30,"line":63},"start":{"column":19,"line":63}},"name":"(anonymous_2)"},"3":{"line":76,"loc":{"end":{"column":36,"line":76},"start":{"column":25,"line":76}},"name":"(anonymous_3)"},"4":{"line":81,"loc":{"end":{"column":46,"line":81},"start":{"column":21,"line":81}},"name":"(anonymous_4)"},"5":{"line":91,"loc":{"end":{"column":47,"line":91},"start":{"column":22,"line":91}},"name":"(anonymous_5)"},"6":{"line":105,"loc":{"end":{"column":41,"line":105},"start":{"column":16,"line":105}},"name":"(anonymous_6)"},"7":{"line":114,"loc":{"end":{"column":24,"line":114},"start":{"column":13,"line":114}},"name":"(anonymous_7)"},"8":{"line":121,"loc":{"end":{"column":47,"line":121},"start":{"column":22,"line":121}},"name":"(anonymous_8)"},"9":{"line":127,"loc":{"end":{"column":43,"line":127},"start":{"column":16,"line":127}},"name":"(anonymous_9)"},"10":{"line":130,"loc":{"end":{"column":45,"line":130},"start":{"column":25,"line":130}},"name":"(anonymous_10)"},"11":{"line":145,"loc":{"end":{"column":40,"line":145},"start":{"column":25,"line":145}},"name":"(anonymous_11)"},"12":{"line":150,"loc":{"end":{"column":33,"line":150},"start":{"column":22,"line":150}},"name":"(anonymous_12)"},"13":{"line":157,"loc":{"end":{"column":49,"line":157},"start":{"column":29,"line":157}},"name":"(anonymous_13)"},"14":{"line":165,"loc":{"end":{"column":35,"line":165},"start":{"column":24,"line":165}},"name":"(anonymous_14)"},"15":{"line":171,"loc":{"end":{"column":35,"line":171},"start":{"column":20,"line":171}},"name":"(anonymous_15)"},"16":{"line":177,"loc":{"end":{"column":41,"line":177},"start":{"column":16,"line":177}},"name":"(anonymous_16)"},"17":{"line":182,"loc":{"end":{"column":32,"line":182},"start":{"column":12,"line":182}},"name":"(anonymous_17)"},"18":{"line":189,"loc":{"end":{"column":27,"line":189},"start":{"column":16,"line":189}},"name":"(anonymous_18)"},"19":{"line":194,"loc":{"end":{"column":24,"line":194},"start":{"column":13,"line":194}},"name":"(anonymous_19)"},"20":{"line":201,"loc":{"end":{"column":87,"line":201},"start":{"column":20,"line":201}},"name":"(anonymous_20)"},"21":{"line":211,"loc":{"end":{"column":73,"line":211},"start":{"column":17,"line":211}},"name":"(anonymous_21)"},"22":{"line":247,"loc":{"end":{"column":21,"line":247},"start":{"column":10,"line":247}},"name":"(anonymous_22)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-calendar/plan.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":84,"17":84,"18":84,"19":84,"20":84,"21":238,"22":238,"23":238,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":0,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":154,"45":154,"46":154,"47":1,"48":1,"49":85,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":84,"58":84,"59":84,"60":84,"61":84,"62":84,"63":84,"64":84,"65":60,"66":0,"67":0,"68":60,"69":0,"70":66,"71":66,"72":66,"73":66,"74":66,"75":0,"76":66,"77":1,"78":1,"79":4,"80":4,"81":149,"82":149,"83":149,"84":149,"85":149,"86":149,"87":149,"88":149,"89":149,"90":149,"91":221,"92":221,"93":221,"94":221,"95":221,"96":221,"97":221,"98":221,"99":213,"100":221,"101":221,"102":149,"103":149,"104":149,"105":149,"106":149,"107":149,"108":149,"109":149,"110":2,"111":2,"112":149,"113":149,"114":149,"115":149,"116":21},"statementMap":{"1":{"end":{"column":214,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":23,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":25,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":32,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":35,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":46,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":42,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":144,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":130,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":43,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":3,"line":273},"start":{"column":0,"line":27}},"15":{"end":{"column":6,"line":61},"start":{"column":4,"line":59}},"16":{"end":{"column":34,"line":64},"start":{"column":4,"line":64}},"17":{"end":{"column":27,"line":65},"start":{"column":4,"line":65}},"18":{"end":{"column":21,"line":66},"start":{"column":4,"line":66}},"19":{"end":{"column":61,"line":67},"start":{"column":4,"line":67}},"20":{"end":{"column":6,"line":74},"start":{"column":4,"line":68}},"21":{"end":{"column":15,"line":77},"start":{"column":4,"line":77}},"22":{"end":{"column":59,"line":78},"start":{"column":4,"line":78}},"23":{"end":{"column":46,"line":79},"start":{"column":4,"line":79}},"24":{"end":{"column":41,"line":82},"start":{"column":4,"line":82}},"25":{"end":{"column":39,"line":83},"start":{"column":4,"line":83}},"26":{"end":{"column":46,"line":84},"start":{"column":4,"line":84}},"27":{"end":{"column":5,"line":89},"start":{"column":4,"line":85}},"28":{"end":{"column":29,"line":86},"start":{"column":6,"line":86}},"29":{"end":{"column":29,"line":88},"start":{"column":6,"line":88}},"30":{"end":{"column":51,"line":92},"start":{"column":4,"line":92}},"31":{"end":{"column":37,"line":93},"start":{"column":4,"line":93}},"32":{"end":{"column":52,"line":94},"start":{"column":4,"line":94}},"33":{"end":{"column":44,"line":95},"start":{"column":4,"line":95}},"34":{"end":{"column":7,"line":98},"start":{"column":4,"line":96}},"35":{"end":{"column":5,"line":103},"start":{"column":4,"line":99}},"36":{"end":{"column":26,"line":100},"start":{"column":6,"line":100}},"37":{"end":{"column":26,"line":102},"start":{"column":6,"line":102}},"38":{"end":{"column":53,"line":106},"start":{"column":4,"line":106}},"39":{"end":{"column":59,"line":107},"start":{"column":4,"line":107}},"40":{"end":{"column":61,"line":108},"start":{"column":4,"line":108}},"41":{"end":{"column":59,"line":109},"start":{"column":4,"line":109}},"42":{"end":{"column":5,"line":112},"start":{"column":4,"line":110}},"43":{"end":{"column":77,"line":111},"start":{"column":6,"line":111}},"44":{"end":{"column":23,"line":115},"start":{"column":4,"line":115}},"45":{"end":{"column":50,"line":116},"start":{"column":4,"line":116}},"46":{"end":{"column":7,"line":119},"start":{"column":4,"line":117}},"47":{"end":{"column":38,"line":122},"start":{"column":4,"line":122}},"48":{"end":{"column":7,"line":125},"start":{"column":4,"line":123}},"49":{"end":{"column":46,"line":128},"start":{"column":4,"line":128}},"50":{"end":{"column":27,"line":131},"start":{"column":4,"line":131}},"51":{"end":{"column":37,"line":132},"start":{"column":4,"line":132}},"52":{"end":{"column":5,"line":143},"start":{"column":4,"line":133}},"53":{"end":{"column":8,"line":138},"start":{"column":6,"line":134}},"54":{"end":{"column":32,"line":139},"start":{"column":6,"line":139}},"55":{"end":{"column":7,"line":142},"start":{"column":6,"line":140}},"56":{"end":{"column":108,"line":141},"start":{"column":8,"line":141}},"57":{"end":{"column":21,"line":146},"start":{"column":4,"line":146}},"58":{"end":{"column":86,"line":147},"start":{"column":4,"line":147}},"59":{"end":{"column":39,"line":148},"start":{"column":4,"line":148}},"60":{"end":{"column":17,"line":151},"start":{"column":4,"line":151}},"61":{"end":{"column":53,"line":152},"start":{"column":4,"line":152}},"62":{"end":{"column":21,"line":153},"start":{"column":4,"line":153}},"63":{"end":{"column":49,"line":154},"start":{"column":4,"line":154}},"64":{"end":{"column":54,"line":155},"start":{"column":4,"line":155}},"65":{"end":{"column":5,"line":163},"start":{"column":4,"line":158}},"66":{"end":{"column":54,"line":159},"start":{"column":6,"line":159}},"67":{"end":{"column":57,"line":160},"start":{"column":6,"line":160}},"68":{"end":{"column":5,"line":163},"start":{"column":11,"line":161}},"69":{"end":{"column":61,"line":162},"start":{"column":6,"line":162}},"70":{"end":{"column":17,"line":166},"start":{"column":4,"line":166}},"71":{"end":{"column":48,"line":167},"start":{"column":4,"line":167}},"72":{"end":{"column":49,"line":168},"start":{"column":4,"line":168}},"73":{"end":{"column":57,"line":169},"start":{"column":4,"line":169}},"74":{"end":{"column":5,"line":174},"start":{"column":4,"line":172}},"75":{"end":{"column":47,"line":173},"start":{"column":6,"line":173}},"76":{"end":{"column":77,"line":175},"start":{"column":4,"line":175}},"77":{"end":{"column":5,"line":180},"start":{"column":4,"line":178}},"78":{"end":{"column":53,"line":179},"start":{"column":6,"line":179}},"79":{"end":{"column":5,"line":187},"start":{"column":4,"line":183}},"80":{"end":{"column":9,"line":186},"start":{"column":6,"line":184}},"81":{"end":{"column":40,"line":190},"start":{"column":4,"line":190}},"82":{"end":{"column":88,"line":191},"start":{"column":4,"line":191}},"83":{"end":{"column":39,"line":192},"start":{"column":4,"line":192}},"84":{"end":{"column":32,"line":195},"start":{"column":4,"line":195}},"85":{"end":{"column":41,"line":196},"start":{"column":4,"line":196}},"86":{"end":{"column":27,"line":197},"start":{"column":4,"line":197}},"87":{"end":{"column":21,"line":198},"start":{"column":4,"line":198}},"88":{"end":{"column":63,"line":199},"start":{"column":4,"line":199}},"89":{"end":{"column":20,"line":202},"start":{"column":4,"line":202}},"90":{"end":{"column":7,"line":209},"start":{"column":4,"line":203}},"91":{"end":{"column":156,"line":212},"start":{"column":4,"line":212}},"92":{"end":{"column":141,"line":213},"start":{"column":4,"line":213}},"93":{"end":{"column":66,"line":214},"start":{"column":4,"line":214}},"94":{"end":{"column":47,"line":215},"start":{"column":4,"line":215}},"95":{"end":{"column":6,"line":222},"start":{"column":4,"line":216}},"96":{"end":{"column":8,"line":225},"start":{"column":4,"line":223}},"97":{"end":{"column":45,"line":226},"start":{"column":4,"line":226}},"98":{"end":{"column":5,"line":229},"start":{"column":4,"line":227}},"99":{"end":{"column":52,"line":228},"start":{"column":6,"line":228}},"100":{"end":{"column":6,"line":241},"start":{"column":4,"line":230}},"101":{"end":{"column":8,"line":245},"start":{"column":4,"line":242}},"102":{"end":{"column":212,"line":248},"start":{"column":4,"line":248}},"103":{"end":{"column":66,"line":249},"start":{"column":4,"line":249}},"104":{"end":{"column":190,"line":250},"start":{"column":4,"line":250}},"105":{"end":{"column":47,"line":251},"start":{"column":4,"line":251}},"106":{"end":{"column":41,"line":252},"start":{"column":4,"line":252}},"107":{"end":{"column":33,"line":253},"start":{"column":4,"line":253}},"108":{"end":{"column":117,"line":254},"start":{"column":4,"line":254}},"109":{"end":{"column":5,"line":267},"start":{"column":4,"line":255}},"110":{"end":{"column":8,"line":265},"start":{"column":6,"line":256}},"111":{"end":{"column":89,"line":266},"start":{"column":6,"line":266}},"112":{"end":{"column":40,"line":268},"start":{"column":4,"line":268}},"113":{"end":{"column":95,"line":269},"start":{"column":4,"line":269}},"114":{"end":{"column":50,"line":270},"start":{"column":4,"line":270}},"115":{"end":{"column":69,"line":271},"start":{"column":4,"line":271}},"116":{"end":{"column":28,"line":275},"start":{"column":0,"line":275}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"59":21,"64":84,"65":84,"66":84,"67":84,"68":84,"77":238,"78":238,"79":238,"82":1,"83":1,"84":1,"85":1,"86":1,"88":0,"92":1,"93":1,"94":1,"95":1,"96":1,"99":1,"100":1,"102":0,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"115":154,"116":154,"117":154,"122":1,"123":1,"128":85,"131":1,"132":1,"133":1,"134":1,"139":1,"140":1,"141":1,"146":84,"147":84,"148":84,"151":84,"152":84,"153":84,"154":84,"155":84,"158":60,"159":0,"160":0,"161":60,"162":0,"166":66,"167":66,"168":66,"169":66,"172":66,"173":0,"175":66,"178":1,"179":1,"183":4,"184":4,"190":149,"191":149,"192":149,"195":149,"196":149,"197":149,"198":149,"199":149,"202":149,"203":149,"212":221,"213":221,"214":221,"215":221,"216":221,"223":221,"226":221,"227":221,"228":213,"230":221,"242":221,"248":149,"249":149,"250":149,"251":149,"252":149,"253":149,"254":149,"255":149,"256":2,"266":2,"268":149,"269":149,"270":149,"271":149,"275":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-data-mixin.cjsx":{"b":{"1":[3,122]},"branchMap":{"1":{"line":8,"locations":[{"end":{"column":4,"line":8},"start":{"column":4,"line":8}},{"end":{"column":4,"line":8},"start":{"column":4,"line":8}}],"type":"if"}},"code":["var CourseStore;","","CourseStore = require('../flux/course').CourseStore;","","module.exports = {","  getCourseDataProps: function(courseId) {","    var dataProps;","    if (courseId == null) {","      courseId = this.context.router.getCurrentParams().courseId;","    }","    return dataProps = {","      'data-title': CourseStore.getName(courseId),","      'data-appearance': CourseStore.getAppearanceCode(courseId)","    };","  }","};",""],"f":{"1":125},"fnMap":{"1":{"line":6,"loc":{"end":{"column":41,"line":6},"start":{"column":22,"line":6}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-data-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":125,"5":125,"6":3,"7":125},"statementMap":{"1":{"end":{"column":16,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":52,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":2,"line":16},"start":{"column":0,"line":5}},"4":{"end":{"column":18,"line":7},"start":{"column":4,"line":7}},"5":{"end":{"column":5,"line":10},"start":{"column":4,"line":8}},"6":{"end":{"column":65,"line":9},"start":{"column":6,"line":9}},"7":{"end":{"column":6,"line":14},"start":{"column":4,"line":11}}},"l":{"1":21,"3":21,"5":21,"7":125,"8":125,"9":3,"11":125}},
"/Users/phil/github/openstax/tutor-js/src/components/course-grouping-label.cjsx":{"b":{"1":[40,0],"2":[10,101],"3":[40,111],"4":[109,42]},"branchMap":{"1":{"line":14,"locations":[{"end":{"column":4,"line":14},"start":{"column":4,"line":14}},{"end":{"column":4,"line":14},"start":{"column":4,"line":14}}],"type":"if"},"2":{"line":21,"locations":[{"end":{"column":4,"line":21},"start":{"column":4,"line":21}},{"end":{"column":4,"line":21},"start":{"column":4,"line":21}}],"type":"if"},"3":{"line":30,"locations":[{"end":{"column":44,"line":30},"start":{"column":30,"line":30}},{"end":{"column":60,"line":30},"start":{"column":47,"line":30}}],"type":"cond-expr"},"4":{"line":31,"locations":[{"end":{"column":4,"line":31},"start":{"column":4,"line":31}},{"end":{"column":4,"line":31},"start":{"column":4,"line":31}}],"type":"if"}},"code":["var CourseGroupingLabel, CourseStore, React;","","React = require('react');","","CourseStore = require('../flux/course').CourseStore;","","CourseGroupingLabel = React.createClass({displayName: \"CourseGroupingLabel\",","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    plural: React.PropTypes.bool,","    lowercase: React.PropTypes.bool","  },","  section: function() {","    if (this.props.lowercase) {","      return 'section';","    } else {","      return 'Section';","    }","  },","  period: function() {","    if (this.props.lowercase) {","      return 'period';","    } else {","      return 'Period';","    }","  },","  render: function() {","    var is_concept_coach, name;","    is_concept_coach = CourseStore.get(this.props.courseId).is_concept_coach;","    name = is_concept_coach ? this.section() : this.period();","    if (this.props.plural) {","      name += 's';","    }","    return React.createElement(\"span\", null, name);","  }","});","","module.exports = CourseGroupingLabel;",""],"f":{"1":40,"2":111,"3":151},"fnMap":{"1":{"line":13,"loc":{"end":{"column":22,"line":13},"start":{"column":11,"line":13}},"name":"(anonymous_1)"},"2":{"line":20,"loc":{"end":{"column":21,"line":20},"start":{"column":10,"line":20}},"name":"(anonymous_2)"},"3":{"line":27,"loc":{"end":{"column":21,"line":27},"start":{"column":10,"line":27}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-grouping-label.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":40,"6":40,"7":0,"8":111,"9":10,"10":101,"11":151,"12":151,"13":151,"14":151,"15":109,"16":151,"17":21},"statementMap":{"1":{"end":{"column":44,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":52,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":36},"start":{"column":0,"line":7}},"5":{"end":{"column":5,"line":18},"start":{"column":4,"line":14}},"6":{"end":{"column":23,"line":15},"start":{"column":6,"line":15}},"7":{"end":{"column":23,"line":17},"start":{"column":6,"line":17}},"8":{"end":{"column":5,"line":25},"start":{"column":4,"line":21}},"9":{"end":{"column":22,"line":22},"start":{"column":6,"line":22}},"10":{"end":{"column":22,"line":24},"start":{"column":6,"line":24}},"11":{"end":{"column":31,"line":28},"start":{"column":4,"line":28}},"12":{"end":{"column":77,"line":29},"start":{"column":4,"line":29}},"13":{"end":{"column":61,"line":30},"start":{"column":4,"line":30}},"14":{"end":{"column":5,"line":33},"start":{"column":4,"line":31}},"15":{"end":{"column":18,"line":32},"start":{"column":6,"line":32}},"16":{"end":{"column":51,"line":34},"start":{"column":4,"line":34}},"17":{"end":{"column":37,"line":38},"start":{"column":0,"line":38}}},"l":{"1":21,"3":21,"5":21,"7":21,"14":40,"15":40,"17":0,"21":111,"22":10,"24":101,"28":151,"29":151,"30":151,"31":151,"32":109,"34":151,"38":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-listing.cjsx":{"b":{"1":[29,0],"2":[0,29],"3":[29,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,29],"12":[0,29],"13":[0,0],"14":[81,6],"15":[0,81],"16":[81,0],"17":[27,54],"18":[6,0],"19":[2,4],"20":[0,0],"21":[29,0],"22":[29,0],"23":[0,29]},"branchMap":{"1":{"line":21,"locations":[{"end":{"column":43,"line":21},"start":{"column":12,"line":21}},{"end":{"column":49,"line":21},"start":{"column":47,"line":21}}],"type":"binary-expr"},"2":{"line":23,"locations":[{"end":{"column":2,"line":23},"start":{"column":2,"line":23}},{"end":{"column":2,"line":23},"start":{"column":2,"line":23}}],"type":"if"},"3":{"line":23,"locations":[{"end":{"column":26,"line":23},"start":{"column":6,"line":23}},{"end":{"column":90,"line":23},"start":{"column":30,"line":23}}],"type":"binary-expr"},"4":{"line":23,"locations":[{"end":{"column":74,"line":23},"start":{"column":63,"line":23}},{"end":{"column":83,"line":23},"start":{"column":77,"line":23}}],"type":"cond-expr"},"5":{"line":26,"locations":[{"end":{"column":4,"line":26},"start":{"column":4,"line":26}},{"end":{"column":4,"line":26},"start":{"column":4,"line":26}}],"type":"if"},"6":{"line":27,"locations":[{"end":{"column":6,"line":27},"start":{"column":6,"line":27}},{"end":{"column":6,"line":27},"start":{"column":6,"line":27}}],"type":"if"},"7":{"line":27,"locations":[{"end":{"column":22,"line":27},"start":{"column":10,"line":27}},{"end":{"column":44,"line":27},"start":{"column":26,"line":27}}],"type":"binary-expr"},"8":{"line":32,"locations":[{"end":{"column":11,"line":32},"start":{"column":11,"line":32}},{"end":{"column":11,"line":32},"start":{"column":11,"line":32}}],"type":"if"},"9":{"line":33,"locations":[{"end":{"column":42,"line":33},"start":{"column":28,"line":33}},{"end":{"column":56,"line":33},"start":{"column":45,"line":33}}],"type":"cond-expr"},"10":{"line":37,"locations":[{"end":{"column":4,"line":37},"start":{"column":4,"line":37}},{"end":{"column":4,"line":37},"start":{"column":4,"line":37}}],"type":"if"},"11":{"line":54,"locations":[{"end":{"column":6,"line":54},"start":{"column":6,"line":54}},{"end":{"column":6,"line":54},"start":{"column":6,"line":54}}],"type":"if"},"12":{"line":56,"locations":[{"end":{"column":13,"line":56},"start":{"column":13,"line":56}},{"end":{"column":13,"line":56},"start":{"column":13,"line":56}}],"type":"if"},"13":{"line":57,"locations":[{"end":{"column":8,"line":57},"start":{"column":8,"line":57}},{"end":{"column":8,"line":57},"start":{"column":8,"line":57}}],"type":"if"},"14":{"line":80,"locations":[{"end":{"column":8,"line":80},"start":{"column":8,"line":80}},{"end":{"column":8,"line":80},"start":{"column":8,"line":80}}],"type":"if"},"15":{"line":81,"locations":[{"end":{"column":10,"line":81},"start":{"column":10,"line":81}},{"end":{"column":10,"line":81},"start":{"column":10,"line":81}}],"type":"if"},"16":{"line":81,"locations":[{"end":{"column":47,"line":81},"start":{"column":14,"line":81}},{"end":{"column":70,"line":81},"start":{"column":51,"line":81}}],"type":"binary-expr"},"17":{"line":90,"locations":[{"end":{"column":48,"line":90},"start":{"column":34,"line":90}},{"end":{"column":62,"line":90},"start":{"column":51,"line":90}}],"type":"cond-expr"},"18":{"line":99,"locations":[{"end":{"column":15,"line":99},"start":{"column":15,"line":99}},{"end":{"column":15,"line":99},"start":{"column":15,"line":99}}],"type":"if"},"19":{"line":100,"locations":[{"end":{"column":10,"line":100},"start":{"column":10,"line":100}},{"end":{"column":10,"line":100},"start":{"column":10,"line":100}}],"type":"if"},"20":{"line":115,"locations":[{"end":{"column":10,"line":115},"start":{"column":10,"line":115}},{"end":{"column":10,"line":115},"start":{"column":10,"line":115}}],"type":"if"},"21":{"line":132,"locations":[{"end":{"column":45,"line":132},"start":{"column":14,"line":132}},{"end":{"column":51,"line":132},"start":{"column":49,"line":132}}],"type":"binary-expr"},"22":{"line":133,"locations":[{"end":{"column":35,"line":135},"start":{"column":28,"line":133}},{"end":{"column":20,"line":137},"start":{"column":38,"line":135}}],"type":"cond-expr"},"23":{"line":138,"locations":[{"end":{"column":4,"line":138},"start":{"column":4,"line":138}},{"end":{"column":4,"line":138},"start":{"column":4,"line":138}}],"type":"if"}},"code":["var BS, CourseDataMixin, CourseListing, CourseListingActions, CourseListingStore, DisplayOrRedirect, React, RefreshButton, Router, WindowHelpers, _, ref;","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","WindowHelpers = require('../helpers/window');","","ref = require('../flux/course-listing'), CourseListingActions = ref.CourseListingActions, CourseListingStore = ref.CourseListingStore;","","RefreshButton = require('openstax-react-components').RefreshButton;","","CourseDataMixin = require('./course-data-mixin');","","DisplayOrRedirect = function(transition, callback) {","  var conceptCoach, course, courses, ref1, roleType, view;","  courses = CourseListingStore.allCourses() || [];","  course = courses[0];","  if (courses.length === 1 && ((ref1 = course.roles) != null ? ref1.length : void 0) === 1) {","    roleType = courses[0].roles[0].type;","    conceptCoach = courses[0].is_concept_coach;","    if (roleType === 'student') {","      if (conceptCoach && course.webview_url) {","        WindowHelpers.replaceBrowserLocation(course.webview_url);","      } else {","        view = 'viewStudentDashboard';","      }","    } else if (roleType === 'teacher') {","      view = conceptCoach ? 'cc-dashboard' : 'taskplans';","    } else {","      throw new Error(\"BUG: Unrecognized role type \" + roleType);","    }","    if (view) {","      transition.redirect(view, {","        courseId: _.first(courses).id","      });","    }","  }","  return callback();","};","","CourseListing = React.createClass({","  displayName: 'CourseListing',","  contextTypes: {","    router: React.PropTypes.func","  },","  mixins: [CourseDataMixin],","  statics: {","    willTransitionTo: function(transition, params, query, callback) {","      if (CourseListingStore.isFailed()) {","        return callback();","      } else if (!CourseListingStore.isLoaded()) {","        if (!CourseListingStore.isLoading()) {","          CourseListingActions.load();","        }","        CourseListingStore.once('failed', callback);","        return CourseListingStore.once('loaded', function() {","          return DisplayOrRedirect(transition, callback);","        });","      } else {","        return DisplayOrRedirect(transition, callback);","      }","    }","  },","  renderCourses: function(courses) {","    return _.map(courses, (function(_this) {","      return function(course) {","        var altLink, courseDataProps, courseId, courseLink, isConceptCoach, isStudent, isTeacher, name, roles, to;","        courseId = course.id, name = course.name, roles = course.roles, isConceptCoach = course.is_concept_coach;","        isStudent = _.find(roles, function(role) {","          return role.type === 'student';","        });","        isTeacher = _.find(roles, function(role) {","          return role.type === 'teacher';","        });","        if (isTeacher) {","          if (typeof courseLink !== \"undefined\" && courseLink !== null) {","            altLink = React.createElement(Router.Link, {","              \"className\": 'tutor-course-alt-link',","              \"to\": 'taskplans',","              \"params\": {","                courseId: courseId","              }","            }, \"View as Teacher\");","          } else {","            to = isConceptCoach ? 'cc-dashboard' : 'taskplans';","            courseLink = React.createElement(Router.Link, {","              \"className\": 'tutor-course-item',","              \"to\": to,","              \"params\": {","                courseId: courseId","              }","            }, course.name);","          }","        } else if (isStudent) {","          if (isConceptCoach) {","            courseLink = React.createElement(\"a\", {","              \"className\": 'tutor-course-item',","              \"href\": course.webview_url","            }, course.name);","          } else {","            courseLink = React.createElement(Router.Link, {","              \"className\": 'tutor-course-item',","              \"to\": 'viewStudentDashboard',","              \"params\": {","                courseId: courseId","              }","            }, course.name);","          }","        } else {","          if (typeof console.warn === \"function\") {","            console.warn(\"BUG: User is not a teacher or a student on course id: \" + course.id);","          }","          return null;","        }","        courseDataProps = _this.getCourseDataProps(courseId);","        return React.createElement(BS.Row, {","          \"key\": \"course-\" + courseId","        }, React.createElement(BS.Col, React.__spread({}, courseDataProps, {","          \"className\": 'tutor-booksplash-course-item',","          \"xs\": 12.","        }), courseLink, altLink));","      };","    })(this));","  },","  render: function() {","    var body, courses, refreshBtn;","    courses = CourseListingStore.allCourses() || [];","    body = courses.length ? React.createElement(\"div\", {","      \"className\": '-course-list'","    }, this.renderCourses(courses)) : React.createElement(\"div\", {","      \"className\": '-course-list-empty'","    }, \"No Courses\");","    if (!CourseListingStore.isLoaded()) {","      refreshBtn = React.createElement(RefreshButton, null);","    }","    return React.createElement(\"div\", {","      \"className\": 'course-listing '","    }, body, refreshBtn);","  }","});","","module.exports = {","  CourseListing: CourseListing","};",""],"f":{"1":29,"2":29,"3":0,"4":29,"5":29,"6":87,"7":87,"8":87,"9":29},"fnMap":{"1":{"line":19,"loc":{"end":{"column":51,"line":19},"start":{"column":20,"line":19}},"name":"(anonymous_1)"},"2":{"line":53,"loc":{"end":{"column":68,"line":53},"start":{"column":22,"line":53}},"name":"(anonymous_2)"},"3":{"line":61,"loc":{"end":{"column":60,"line":61},"start":{"column":49,"line":61}},"name":"(anonymous_3)"},"4":{"line":69,"loc":{"end":{"column":35,"line":69},"start":{"column":17,"line":69}},"name":"(anonymous_4)"},"5":{"line":70,"loc":{"end":{"column":43,"line":70},"start":{"column":27,"line":70}},"name":"(anonymous_5)"},"6":{"line":71,"loc":{"end":{"column":30,"line":71},"start":{"column":13,"line":71}},"name":"(anonymous_6)"},"7":{"line":74,"loc":{"end":{"column":49,"line":74},"start":{"column":34,"line":74}},"name":"(anonymous_7)"},"8":{"line":77,"loc":{"end":{"column":49,"line":77},"start":{"column":34,"line":77}},"name":"(anonymous_8)"},"9":{"line":130,"loc":{"end":{"column":21,"line":130},"start":{"column":10,"line":130}},"name":"(anonymous_9)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-listing.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":29,"12":29,"13":29,"14":29,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":29,"27":21,"28":29,"29":0,"30":29,"31":0,"32":0,"33":0,"34":0,"35":0,"36":29,"37":29,"38":29,"39":87,"40":87,"41":87,"42":87,"43":87,"44":87,"45":87,"46":81,"47":0,"48":81,"49":81,"50":6,"51":6,"52":2,"53":4,"54":0,"55":0,"56":0,"57":87,"58":87,"59":29,"60":29,"61":29,"62":29,"63":0,"64":29,"65":21},"statementMap":{"1":{"end":{"column":153,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":45,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":134,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":67,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":49,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":2,"line":44},"start":{"column":0,"line":19}},"11":{"end":{"column":58,"line":20},"start":{"column":2,"line":20}},"12":{"end":{"column":50,"line":21},"start":{"column":2,"line":21}},"13":{"end":{"column":22,"line":22},"start":{"column":2,"line":22}},"14":{"end":{"column":3,"line":42},"start":{"column":2,"line":23}},"15":{"end":{"column":40,"line":24},"start":{"column":4,"line":24}},"16":{"end":{"column":47,"line":25},"start":{"column":4,"line":25}},"17":{"end":{"column":5,"line":36},"start":{"column":4,"line":26}},"18":{"end":{"column":7,"line":31},"start":{"column":6,"line":27}},"19":{"end":{"column":65,"line":28},"start":{"column":8,"line":28}},"20":{"end":{"column":38,"line":30},"start":{"column":8,"line":30}},"21":{"end":{"column":5,"line":36},"start":{"column":11,"line":32}},"22":{"end":{"column":57,"line":33},"start":{"column":6,"line":33}},"23":{"end":{"column":65,"line":35},"start":{"column":6,"line":35}},"24":{"end":{"column":5,"line":41},"start":{"column":4,"line":37}},"25":{"end":{"column":9,"line":40},"start":{"column":6,"line":38}},"26":{"end":{"column":20,"line":43},"start":{"column":2,"line":43}},"27":{"end":{"column":3,"line":145},"start":{"column":0,"line":46}},"28":{"end":{"column":7,"line":66},"start":{"column":6,"line":54}},"29":{"end":{"column":26,"line":55},"start":{"column":8,"line":55}},"30":{"end":{"column":7,"line":66},"start":{"column":13,"line":56}},"31":{"end":{"column":9,"line":59},"start":{"column":8,"line":57}},"32":{"end":{"column":38,"line":58},"start":{"column":10,"line":58}},"33":{"end":{"column":52,"line":60},"start":{"column":8,"line":60}},"34":{"end":{"column":11,"line":63},"start":{"column":8,"line":61}},"35":{"end":{"column":57,"line":62},"start":{"column":10,"line":62}},"36":{"end":{"column":55,"line":65},"start":{"column":8,"line":65}},"37":{"end":{"column":14,"line":128},"start":{"column":4,"line":70}},"38":{"end":{"column":8,"line":127},"start":{"column":6,"line":71}},"39":{"end":{"column":114,"line":72},"start":{"column":8,"line":72}},"40":{"end":{"column":113,"line":73},"start":{"column":8,"line":73}},"41":{"end":{"column":11,"line":76},"start":{"column":8,"line":74}},"42":{"end":{"column":41,"line":75},"start":{"column":10,"line":75}},"43":{"end":{"column":11,"line":79},"start":{"column":8,"line":77}},"44":{"end":{"column":41,"line":78},"start":{"column":10,"line":78}},"45":{"end":{"column":9,"line":119},"start":{"column":8,"line":80}},"46":{"end":{"column":11,"line":98},"start":{"column":10,"line":81}},"47":{"end":{"column":34,"line":88},"start":{"column":12,"line":82}},"48":{"end":{"column":63,"line":90},"start":{"column":12,"line":90}},"49":{"end":{"column":28,"line":97},"start":{"column":12,"line":91}},"50":{"end":{"column":9,"line":119},"start":{"column":15,"line":99}},"51":{"end":{"column":11,"line":113},"start":{"column":10,"line":100}},"52":{"end":{"column":28,"line":104},"start":{"column":12,"line":101}},"53":{"end":{"column":28,"line":112},"start":{"column":12,"line":106}},"54":{"end":{"column":11,"line":117},"start":{"column":10,"line":115}},"55":{"end":{"column":95,"line":116},"start":{"column":12,"line":116}},"56":{"end":{"column":22,"line":118},"start":{"column":10,"line":118}},"57":{"end":{"column":61,"line":120},"start":{"column":8,"line":120}},"58":{"end":{"column":34,"line":126},"start":{"column":8,"line":121}},"59":{"end":{"column":34,"line":131},"start":{"column":4,"line":131}},"60":{"end":{"column":52,"line":132},"start":{"column":4,"line":132}},"61":{"end":{"column":21,"line":137},"start":{"column":4,"line":133}},"62":{"end":{"column":5,"line":140},"start":{"column":4,"line":138}},"63":{"end":{"column":60,"line":139},"start":{"column":6,"line":139}},"64":{"end":{"column":25,"line":143},"start":{"column":4,"line":141}},"65":{"end":{"column":2,"line":149},"start":{"column":0,"line":147}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"20":29,"21":29,"22":29,"23":29,"24":0,"25":0,"26":0,"27":0,"28":0,"30":0,"32":0,"33":0,"35":0,"37":0,"38":0,"43":29,"46":21,"54":29,"55":0,"56":29,"57":0,"58":0,"60":0,"61":0,"62":0,"65":29,"70":29,"71":29,"72":87,"73":87,"74":87,"75":87,"77":87,"78":87,"80":87,"81":81,"82":0,"90":81,"91":81,"99":6,"100":6,"101":2,"106":4,"115":0,"116":0,"118":0,"120":87,"121":87,"131":29,"132":29,"133":29,"138":29,"139":0,"141":29,"147":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-periods-nav.cjsx":{"b":{"1":[3,0],"2":[12,0],"3":[0,12],"4":[12,0],"5":[3,9],"6":[0,278],"7":[68,36],"8":[0,147]},"branchMap":{"1":{"line":56,"locations":[{"end":{"column":4,"line":56},"start":{"column":4,"line":56}},{"end":{"column":4,"line":56},"start":{"column":4,"line":56}}],"type":"if"},"2":{"line":64,"locations":[{"end":{"column":55,"line":64},"start":{"column":37,"line":64}},{"end":{"column":64,"line":64},"start":{"column":58,"line":64}}],"type":"cond-expr"},"3":{"line":65,"locations":[{"end":{"column":4,"line":65},"start":{"column":4,"line":65}},{"end":{"column":4,"line":65},"start":{"column":4,"line":65}}],"type":"if"},"4":{"line":69,"locations":[{"end":{"column":4,"line":69},"start":{"column":4,"line":69}},{"end":{"column":4,"line":69},"start":{"column":4,"line":69}}],"type":"if"},"5":{"line":72,"locations":[{"end":{"column":4,"line":72},"start":{"column":4,"line":72}},{"end":{"column":4,"line":72},"start":{"column":4,"line":72}}],"type":"if"},"6":{"line":81,"locations":[{"end":{"column":52,"line":81},"start":{"column":40,"line":81}},{"end":{"column":61,"line":81},"start":{"column":55,"line":81}}],"type":"cond-expr"},"7":{"line":95,"locations":[{"end":{"column":74,"line":95},"start":{"column":59,"line":95}},{"end":{"column":83,"line":95},"start":{"column":77,"line":95}}],"type":"cond-expr"},"8":{"line":109,"locations":[{"end":{"column":4,"line":109},"start":{"column":4,"line":109}},{"end":{"column":4,"line":109},"start":{"column":4,"line":109}}],"type":"if"}},"code":["var BS, CourseActions, CoursePeriodsNav, CoursePeriodsNavShell, CourseStore, LoadableItem, PeriodHelper, React, _, camelCase, ref;","","React = require('react');","","BS = require('react-bootstrap');","","LoadableItem = require('./loadable-item');","","_ = require('underscore');","","camelCase = require('camelcase');","","ref = require('../flux/course'), CourseActions = ref.CourseActions, CourseStore = ref.CourseStore;","","PeriodHelper = require('../helpers/period');","","CoursePeriodsNav = React.createClass({","  displayName: 'CoursePeriodsNav',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    handleSelect: React.PropTypes.func,","    handleKeyUpdate: React.PropTypes.func,","    initialActive: React.PropTypes.number.isRequired,","    periods: React.PropTypes.array.isRequired,","    afterTabsItem: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      initialActive: 0,","      sortedPeriods: []","    };","  },","  getInitialState: function() {","    return {","      active: this.props.initialActive","    };","  },","  componentWillMount: function() {","    this.setSortedPeriods(this.props.periods);","    return CourseStore.on('course.loaded', this.selectPeriod);","  },","  componentWillUnmount: function() {","    return CourseStore.off('course.loaded', this.selectPeriod);","  },","  componentWillReceiveProps: function(nextProps) {","    return this.setSortedPeriods(nextProps.periods);","  },","  setSortedPeriods: function(periods) {","    var sortedPeriods;","    sortedPeriods = PeriodHelper.sort(periods);","    return this.setState({","      sortedPeriods: sortedPeriods","    });","  },","  selectPeriod: function(courseId) {","    if (courseId === this.props.courseId) {","      return this.onSelect(this.state.active);","    }","  },","  onSelect: function(key) {","    var courseId, handleKeyUpdate, handleSelect, period, ref1, sortedPeriods;","    ref1 = this.props, courseId = ref1.courseId, handleSelect = ref1.handleSelect, handleKeyUpdate = ref1.handleKeyUpdate;","    sortedPeriods = this.state.sortedPeriods;","    period = sortedPeriods != null ? sortedPeriods[key] : void 0;","    if (period == null) {","      throw new Error(\"BUG: \" + key + \" period does not exist for course \" + courseId + \". There are only \" + periods.length + \".\");","      return;","    }","    if (typeof handleSelect === \"function\") {","      handleSelect(period);","    }","    if (typeof handleKeyUpdate === \"function\") {","      handleKeyUpdate(key);","    }","    return this.setState({","      active: key","    });","  },","  renderPeriod: function(period, key) {","    return React.createElement(BS.NavItem, {","      \"className\": (period.is_trouble ? 'is-trouble' : void 0),","      \"eventKey\": key,","      \"key\": \"period-nav-\" + period.id","    }, period.name);","  },","  render: function() {","    var active, afterTabsItem, periodsItems, ref1, sortedPeriods;","    ref1 = this.state, active = ref1.active, sortedPeriods = ref1.sortedPeriods;","    afterTabsItem = this.props.afterTabsItem;","    periodsItems = _.map(sortedPeriods, this.renderPeriod);","    return React.createElement(BS.Nav, {","      \"bsStyle\": 'tabs',","      \"activeKey\": active,","      \"onSelect\": this.onSelect","    }, periodsItems, typeof afterTabsItem === \"function\" ? afterTabsItem() : void 0);","  }","});","","CoursePeriodsNavShell = React.createClass({displayName: \"CoursePeriodsNavShell\",","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string","  },","  getCourseId: function() {","    var courseId;","    courseId = this.props.courseId;","    if (courseId == null) {","      courseId = this.context.router.getCurrentParams().courseId;","    }","    return courseId;","  },","  renderCoursePeriodNav: function() {","    var courseId, periods;","    courseId = this.getCourseId();","    periods = CourseStore.getPeriods(courseId);","    return React.createElement(CoursePeriodsNav, React.__spread({}, this.props, {","      \"courseId\": courseId,","      \"periods\": periods","    }));","  },","  render: function() {","    var courseId;","    courseId = this.getCourseId();","    return React.createElement(LoadableItem, {","      \"id\": courseId,","      \"store\": CourseStore,","      \"actions\": CourseActions,","      \"renderItem\": this.renderCoursePeriodNav","    });","  }","});","","module.exports = {","  CoursePeriodsNav: CoursePeriodsNav,","  CoursePeriodsNavShell: CoursePeriodsNavShell","};",""],"f":{"1":21,"2":26,"3":26,"4":21,"5":75,"6":101,"7":3,"8":12,"9":278,"10":104,"11":147,"12":81,"13":66},"fnMap":{"1":{"line":27,"loc":{"end":{"column":30,"line":27},"start":{"column":19,"line":27}},"name":"(anonymous_1)"},"2":{"line":33,"loc":{"end":{"column":30,"line":33},"start":{"column":19,"line":33}},"name":"(anonymous_2)"},"3":{"line":38,"loc":{"end":{"column":33,"line":38},"start":{"column":22,"line":38}},"name":"(anonymous_3)"},"4":{"line":42,"loc":{"end":{"column":35,"line":42},"start":{"column":24,"line":42}},"name":"(anonymous_4)"},"5":{"line":45,"loc":{"end":{"column":49,"line":45},"start":{"column":29,"line":45}},"name":"(anonymous_5)"},"6":{"line":48,"loc":{"end":{"column":38,"line":48},"start":{"column":20,"line":48}},"name":"(anonymous_6)"},"7":{"line":55,"loc":{"end":{"column":35,"line":55},"start":{"column":16,"line":55}},"name":"(anonymous_7)"},"8":{"line":60,"loc":{"end":{"column":26,"line":60},"start":{"column":12,"line":60}},"name":"(anonymous_8)"},"9":{"line":79,"loc":{"end":{"column":38,"line":79},"start":{"column":16,"line":79}},"name":"(anonymous_9)"},"10":{"line":86,"loc":{"end":{"column":21,"line":86},"start":{"column":10,"line":86}},"name":"(anonymous_10)"},"11":{"line":106,"loc":{"end":{"column":26,"line":106},"start":{"column":15,"line":106}},"name":"(anonymous_11)"},"12":{"line":114,"loc":{"end":{"column":36,"line":114},"start":{"column":25,"line":114}},"name":"(anonymous_12)"},"13":{"line":123,"loc":{"end":{"column":21,"line":123},"start":{"column":10,"line":123}},"name":"(anonymous_13)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-periods-nav.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":26,"12":26,"13":26,"14":21,"15":75,"16":101,"17":101,"18":101,"19":3,"20":3,"21":12,"22":12,"23":12,"24":12,"25":12,"26":0,"27":0,"28":12,"29":12,"30":12,"31":3,"32":12,"33":278,"34":104,"35":104,"36":104,"37":104,"38":104,"39":21,"40":147,"41":147,"42":147,"43":0,"44":147,"45":81,"46":81,"47":81,"48":81,"49":66,"50":66,"51":66,"52":21},"statementMap":{"1":{"end":{"column":130,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":42,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":98,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":44,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":97},"start":{"column":0,"line":17}},"10":{"end":{"column":6,"line":31},"start":{"column":4,"line":28}},"11":{"end":{"column":6,"line":36},"start":{"column":4,"line":34}},"12":{"end":{"column":46,"line":39},"start":{"column":4,"line":39}},"13":{"end":{"column":62,"line":40},"start":{"column":4,"line":40}},"14":{"end":{"column":63,"line":43},"start":{"column":4,"line":43}},"15":{"end":{"column":52,"line":46},"start":{"column":4,"line":46}},"16":{"end":{"column":22,"line":49},"start":{"column":4,"line":49}},"17":{"end":{"column":47,"line":50},"start":{"column":4,"line":50}},"18":{"end":{"column":7,"line":53},"start":{"column":4,"line":51}},"19":{"end":{"column":5,"line":58},"start":{"column":4,"line":56}},"20":{"end":{"column":46,"line":57},"start":{"column":6,"line":57}},"21":{"end":{"column":77,"line":61},"start":{"column":4,"line":61}},"22":{"end":{"column":122,"line":62},"start":{"column":4,"line":62}},"23":{"end":{"column":45,"line":63},"start":{"column":4,"line":63}},"24":{"end":{"column":65,"line":64},"start":{"column":4,"line":64}},"25":{"end":{"column":5,"line":68},"start":{"column":4,"line":65}},"26":{"end":{"column":132,"line":66},"start":{"column":6,"line":66}},"27":{"end":{"column":13,"line":67},"start":{"column":6,"line":67}},"28":{"end":{"column":5,"line":71},"start":{"column":4,"line":69}},"29":{"end":{"column":27,"line":70},"start":{"column":6,"line":70}},"30":{"end":{"column":5,"line":74},"start":{"column":4,"line":72}},"31":{"end":{"column":27,"line":73},"start":{"column":6,"line":73}},"32":{"end":{"column":7,"line":77},"start":{"column":4,"line":75}},"33":{"end":{"column":20,"line":84},"start":{"column":4,"line":80}},"34":{"end":{"column":65,"line":87},"start":{"column":4,"line":87}},"35":{"end":{"column":80,"line":88},"start":{"column":4,"line":88}},"36":{"end":{"column":45,"line":89},"start":{"column":4,"line":89}},"37":{"end":{"column":59,"line":90},"start":{"column":4,"line":90}},"38":{"end":{"column":85,"line":95},"start":{"column":4,"line":91}},"39":{"end":{"column":3,"line":133},"start":{"column":0,"line":99}},"40":{"end":{"column":17,"line":107},"start":{"column":4,"line":107}},"41":{"end":{"column":35,"line":108},"start":{"column":4,"line":108}},"42":{"end":{"column":5,"line":111},"start":{"column":4,"line":109}},"43":{"end":{"column":65,"line":110},"start":{"column":6,"line":110}},"44":{"end":{"column":20,"line":112},"start":{"column":4,"line":112}},"45":{"end":{"column":26,"line":115},"start":{"column":4,"line":115}},"46":{"end":{"column":34,"line":116},"start":{"column":4,"line":116}},"47":{"end":{"column":47,"line":117},"start":{"column":4,"line":117}},"48":{"end":{"column":8,"line":121},"start":{"column":4,"line":118}},"49":{"end":{"column":17,"line":124},"start":{"column":4,"line":124}},"50":{"end":{"column":34,"line":125},"start":{"column":4,"line":125}},"51":{"end":{"column":7,"line":131},"start":{"column":4,"line":126}},"52":{"end":{"column":2,"line":138},"start":{"column":0,"line":135}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"28":21,"34":26,"39":26,"40":26,"43":21,"46":75,"49":101,"50":101,"51":101,"56":3,"57":3,"61":12,"62":12,"63":12,"64":12,"65":12,"66":0,"67":0,"69":12,"70":12,"72":12,"73":3,"75":12,"80":278,"87":104,"88":104,"89":104,"90":104,"91":104,"99":21,"107":147,"108":147,"109":147,"110":0,"112":147,"115":81,"116":81,"117":81,"118":81,"124":66,"125":66,"126":66,"135":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/add-period.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":4,"line":27},"start":{"column":4,"line":27}},{"end":{"column":4,"line":27},"start":{"column":4,"line":27}}],"type":"if"},"2":{"line":66,"locations":[{"end":{"column":4,"line":66},"start":{"column":4,"line":66}},{"end":{"column":4,"line":66},"start":{"column":4,"line":66}}],"type":"if"},"3":{"line":78,"locations":[{"end":{"column":4,"line":78},"start":{"column":4,"line":78}},{"end":{"column":4,"line":78},"start":{"column":4,"line":78}}],"type":"if"},"4":{"line":78,"locations":[{"end":{"column":50,"line":78},"start":{"column":38,"line":78}},{"end":{"column":59,"line":78},"start":{"column":53,"line":78}}],"type":"cond-expr"}},"code":["var AddPeriodField, BS, CourseGroupingLabel, PeriodActions, PeriodStore, React, TutorInput, _, ref;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ref = require('../../flux/period'), PeriodActions = ref.PeriodActions, PeriodStore = ref.PeriodStore;","","TutorInput = require('../tutor-input').TutorInput;","","CourseGroupingLabel = require('../course-grouping-label');","","AddPeriodField = React.createClass({","  displayName: 'AddPeriodField',","  propTypes: {","    courseId: React.PropTypes.string,","    label: React.PropTypes.string.isRequired,","    name: React.PropTypes.string.isRequired,","    \"default\": React.PropTypes.string,","    onChange: React.PropTypes.func.isRequired,","    autofocus: React.PropTypes.bool,","    validate: React.PropTypes.func.isRequired","  },","  componentDidMount: function() {","    if (this.props.autofocus) {","      return this.refs.input.focus();","    }","  },","  onChange: function(value) {","    return this.props.onChange(value);","  },","  render: function() {","    return React.createElement(TutorInput, {","      \"ref\": \"input\",","      \"label\": this.props.label,","      \"default\": this.props[\"default\"],","      \"required\": true,","      \"onChange\": this.onChange,","      \"validate\": this.props.validate","    });","  }","});","","module.exports = React.createClass({","  displayName: 'AddPeriodLink',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    periods: React.PropTypes.array.isRequired","  },","  getInitialState: function() {","    return {","      period_name: ''","    };","  },","  validate: function(name) {","    var error;","    error = PeriodStore.validatePeriodName(name, this.props.periods);","    this.setState({","      invalid: error != null","    });","    return error;","  },","  performUpdate: function() {","    if (!this.state.invalid) {","      PeriodActions.create(this.props.courseId, {","        period: {","          name: this.state.period_name","        }","      });","      return this.refs.overlay.hide();","    }","  },","  renderForm: function() {","    var disabled, formClasses, label, ref1, title;","    formClasses = ['modal-body', 'teacher-edit-period-form'];","    if ((ref1 = this.state) != null ? ref1.invalid : void 0) {","      formClasses.push('is-invalid-form');","      disabled = true;","    }","    title = React.createElement(\"h4\", null, \"Add \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    }));","    label = React.createElement(\"span\", null, React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    }), \" Name\");","    return React.createElement(BS.Modal, React.__spread({}, this.props, {","      \"title\": title,","      \"className\": 'teacher-edit-period-modal'","    }), React.createElement(\"div\", {","      \"className\": formClasses.join(' ')","    }, React.createElement(AddPeriodField, {","      \"label\": label,","      \"name\": 'period-name',","      \"onChange\": ((function(_this) {","        return function(val) {","          return _this.setState({","            period_name: val","          });","        };","      })(this)),","      \"validate\": this.validate,","      \"autofocus\": true","    })), React.createElement(\"div\", {","      \"className\": 'modal-footer'","    }, React.createElement(BS.Button, {","      \"className\": '-edit-period-confirm',","      \"onClick\": this.performUpdate,","      \"disabled\": disabled","    }, \"Add\")));","  },","  render: function() {","    return React.createElement(BS.OverlayTrigger, {","      \"ref\": 'overlay',","      \"rootClose\": true,","      \"trigger\": 'click',","      \"overlay\": this.renderForm()","    }, React.createElement(BS.Button, {","      \"bsStyle\": 'link',","      \"className\": 'edit-period'","    }, React.createElement(\"i\", {","      \"className\": 'fa fa-plus'","    }), \"Add \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    })));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"line":26,"loc":{"end":{"column":32,"line":26},"start":{"column":21,"line":26}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":28,"line":31},"start":{"column":12,"line":31}},"name":"(anonymous_2)"},"3":{"line":34,"loc":{"end":{"column":21,"line":34},"start":{"column":10,"line":34}},"name":"(anonymous_3)"},"4":{"line":52,"loc":{"end":{"column":30,"line":52},"start":{"column":19,"line":52}},"name":"(anonymous_4)"},"5":{"line":57,"loc":{"end":{"column":27,"line":57},"start":{"column":12,"line":57}},"name":"(anonymous_5)"},"6":{"line":65,"loc":{"end":{"column":28,"line":65},"start":{"column":17,"line":65}},"name":"(anonymous_6)"},"7":{"line":75,"loc":{"end":{"column":25,"line":75},"start":{"column":14,"line":75}},"name":"(anonymous_7)"},"8":{"line":96,"loc":{"end":{"column":36,"line":96},"start":{"column":20,"line":96}},"name":"(anonymous_8)"},"9":{"line":97,"loc":{"end":{"column":29,"line":97},"start":{"column":15,"line":97}},"name":"(anonymous_9)"},"10":{"line":113,"loc":{"end":{"column":21,"line":113},"start":{"column":10,"line":113}},"name":"(anonymous_10)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/add-period.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":21,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"statementMap":{"1":{"end":{"column":99,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":101,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":50,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":58,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":44},"start":{"column":0,"line":15}},"9":{"end":{"column":5,"line":29},"start":{"column":4,"line":27}},"10":{"end":{"column":37,"line":28},"start":{"column":6,"line":28}},"11":{"end":{"column":38,"line":32},"start":{"column":4,"line":32}},"12":{"end":{"column":7,"line":42},"start":{"column":4,"line":35}},"13":{"end":{"column":3,"line":128},"start":{"column":0,"line":46}},"14":{"end":{"column":6,"line":55},"start":{"column":4,"line":53}},"15":{"end":{"column":14,"line":58},"start":{"column":4,"line":58}},"16":{"end":{"column":69,"line":59},"start":{"column":4,"line":59}},"17":{"end":{"column":7,"line":62},"start":{"column":4,"line":60}},"18":{"end":{"column":17,"line":63},"start":{"column":4,"line":63}},"19":{"end":{"column":5,"line":73},"start":{"column":4,"line":66}},"20":{"end":{"column":9,"line":71},"start":{"column":6,"line":67}},"21":{"end":{"column":38,"line":72},"start":{"column":6,"line":72}},"22":{"end":{"column":50,"line":76},"start":{"column":4,"line":76}},"23":{"end":{"column":61,"line":77},"start":{"column":4,"line":77}},"24":{"end":{"column":5,"line":81},"start":{"column":4,"line":78}},"25":{"end":{"column":42,"line":79},"start":{"column":6,"line":79}},"26":{"end":{"column":22,"line":80},"start":{"column":6,"line":80}},"27":{"end":{"column":8,"line":84},"start":{"column":4,"line":82}},"28":{"end":{"column":17,"line":87},"start":{"column":4,"line":85}},"29":{"end":{"column":16,"line":111},"start":{"column":4,"line":88}},"30":{"end":{"column":10,"line":101},"start":{"column":8,"line":97}},"31":{"end":{"column":13,"line":100},"start":{"column":10,"line":98}},"32":{"end":{"column":9,"line":126},"start":{"column":4,"line":114}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"27":0,"28":0,"32":0,"35":0,"46":21,"53":0,"58":0,"59":0,"60":0,"63":0,"66":0,"67":0,"72":0,"76":0,"77":0,"78":0,"79":0,"80":0,"82":0,"85":0,"88":0,"97":0,"98":0,"114":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/change-period.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"branchMap":{"1":{"line":20,"locations":[{"end":{"column":4,"line":20},"start":{"column":4,"line":20}},{"end":{"column":4,"line":20},"start":{"column":4,"line":20}}],"type":"if"},"2":{"line":38,"locations":[{"end":{"column":21,"line":40},"start":{"column":30,"line":38}},{"end":{"column":12,"line":43},"start":{"column":24,"line":40}}],"type":"cond-expr"},"3":{"line":57,"locations":[{"end":{"column":8,"line":57},"start":{"column":8,"line":57}},{"end":{"column":8,"line":57},"start":{"column":8,"line":57}}],"type":"if"},"4":{"line":69,"locations":[{"end":{"column":4,"line":69},"start":{"column":4,"line":69}},{"end":{"column":4,"line":69},"start":{"column":4,"line":69}}],"type":"if"}},"code":["var BS, CourseGroupingLabel, CourseStore, React, RosterActions, RosterStore, ref;","","React = require('react');","","BS = require('react-bootstrap');","","CourseGroupingLabel = require('../course-grouping-label');","","ref = require('../../flux/roster'), RosterActions = ref.RosterActions, RosterStore = ref.RosterStore;","","CourseStore = require('../../flux/course').CourseStore;","","module.exports = React.createClass({","  displayName: 'ChangePeriodLink',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    student: React.PropTypes.object.isRequired","  },","  updatePeriod: function(periodId) {","    if (!this.isSaving()) {","      return RosterActions.save(this.props.student.id, {","        period_id: periodId","      });","    }","  },","  isSaving: function() {","    return RosterStore.isSaving(this.props.student.id);","  },","  renderPeriod: function(period) {","    return React.createElement(BS.NavItem, {","      \"key\": period.id,","      \"eventKey\": period.id","    }, period.name);","  },","  selectNewPeriod: function() {","    var course, period, title;","    course = CourseStore.get(this.props.courseId);","    title = this.isSaving() ? React.createElement(\"span\", null, React.createElement(\"i\", {","      \"className\": 'fa fa-spinner fa-spin'","    }), \" Saving...\") : React.createElement(\"span\", null, \"Move to \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId,","      \"lowercase\": true","    }), \":\");","    return React.createElement(BS.Popover, React.__spread({","      \"className\": 'change-period',","      \"title\": title","    }, this.props), React.createElement(BS.Nav, {","      \"stacked\": true,","      \"bsStyle\": 'pills',","      \"onSelect\": this.updatePeriod","    }, (function() {","      var i, len, ref1, results;","      ref1 = course.periods;","      results = [];","      for (i = 0, len = ref1.length; i < len; i++) {","        period = ref1[i];","        if (period.id !== this.props.student.period_id) {","          results.push(this.renderPeriod(period));","        } else {","          results.push(void 0);","        }","      }","      return results;","    }).call(this)));","  },","  render: function() {","    var course;","    course = CourseStore.get(this.props.courseId);","    if (course.periods.length === 1) {","      return null;","    }","    return React.createElement(BS.OverlayTrigger, {","      \"rootClose\": true,","      \"trigger\": 'click',","      \"placement\": 'left',","      \"overlay\": this.selectNewPeriod()","    }, React.createElement(\"a\", null, React.createElement(\"i\", {","      \"className\": 'fa fa-clock-o'","    }), \" Change \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    })));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"line":19,"loc":{"end":{"column":35,"line":19},"start":{"column":16,"line":19}},"name":"(anonymous_1)"},"2":{"line":26,"loc":{"end":{"column":23,"line":26},"start":{"column":12,"line":26}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":33,"line":29},"start":{"column":16,"line":29}},"name":"(anonymous_3)"},"4":{"line":35,"loc":{"end":{"column":30,"line":35},"start":{"column":19,"line":35}},"name":"(anonymous_4)"},"5":{"line":51,"loc":{"end":{"column":19,"line":51},"start":{"column":8,"line":51}},"name":"(anonymous_5)"},"6":{"line":66,"loc":{"end":{"column":21,"line":66},"start":{"column":10,"line":66}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/change-period.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"statementMap":{"1":{"end":{"column":81,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":58,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":101,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":83},"start":{"column":0,"line":13}},"8":{"end":{"column":5,"line":24},"start":{"column":4,"line":20}},"9":{"end":{"column":9,"line":23},"start":{"column":6,"line":21}},"10":{"end":{"column":55,"line":27},"start":{"column":4,"line":27}},"11":{"end":{"column":20,"line":33},"start":{"column":4,"line":30}},"12":{"end":{"column":30,"line":36},"start":{"column":4,"line":36}},"13":{"end":{"column":50,"line":37},"start":{"column":4,"line":37}},"14":{"end":{"column":13,"line":43},"start":{"column":4,"line":38}},"15":{"end":{"column":20,"line":64},"start":{"column":4,"line":44}},"16":{"end":{"column":32,"line":52},"start":{"column":6,"line":52}},"17":{"end":{"column":28,"line":53},"start":{"column":6,"line":53}},"18":{"end":{"column":19,"line":54},"start":{"column":6,"line":54}},"19":{"end":{"column":7,"line":62},"start":{"column":6,"line":55}},"20":{"end":{"column":25,"line":56},"start":{"column":8,"line":56}},"21":{"end":{"column":9,"line":61},"start":{"column":8,"line":57}},"22":{"end":{"column":50,"line":58},"start":{"column":10,"line":58}},"23":{"end":{"column":31,"line":60},"start":{"column":10,"line":60}},"24":{"end":{"column":21,"line":63},"start":{"column":6,"line":63}},"25":{"end":{"column":15,"line":67},"start":{"column":4,"line":67}},"26":{"end":{"column":50,"line":68},"start":{"column":4,"line":68}},"27":{"end":{"column":5,"line":71},"start":{"column":4,"line":69}},"28":{"end":{"column":18,"line":70},"start":{"column":6,"line":70}},"29":{"end":{"column":9,"line":81},"start":{"column":4,"line":72}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"20":0,"21":0,"27":0,"30":0,"36":0,"37":0,"38":0,"44":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"60":0,"63":0,"67":0,"68":0,"69":0,"70":0,"72":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/delete-period.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":34,"locations":[{"end":{"column":4,"line":34},"start":{"column":4,"line":34}},{"end":{"column":4,"line":34},"start":{"column":4,"line":34}}],"type":"if"},"2":{"line":53,"locations":[{"end":{"column":4,"line":53},"start":{"column":4,"line":53}},{"end":{"column":4,"line":53},"start":{"column":4,"line":53}}],"type":"if"},"3":{"line":63,"locations":[{"end":{"column":55,"line":66},"start":{"column":53,"line":63}},{"end":{"column":64,"line":66},"start":{"column":58,"line":66}}],"type":"cond-expr"},"4":{"line":77,"locations":[{"end":{"column":45,"line":77},"start":{"column":31,"line":77}},{"end":{"column":54,"line":77},"start":{"column":48,"line":77}}],"type":"cond-expr"},"5":{"line":81,"locations":[{"end":{"column":43,"line":81},"start":{"column":31,"line":81}},{"end":{"column":52,"line":81},"start":{"column":46,"line":81}}],"type":"cond-expr"}},"code":["var BS, CourseGroupingLabel, EMPTY_WARNING, PeriodActions, PeriodStore, React, RosterActions, RosterStore, TutorInput, _, ref, ref1;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ref = require('../../flux/period'), PeriodActions = ref.PeriodActions, PeriodStore = ref.PeriodStore;","","ref1 = require('../../flux/roster'), RosterActions = ref1.RosterActions, RosterStore = ref1.RosterStore;","","TutorInput = require('../tutor-input').TutorInput;","","CourseGroupingLabel = require('../course-grouping-label');","","EMPTY_WARNING = 'EMPTY';","","module.exports = React.createClass({","  displayName: 'DeletePeriodLink',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    periods: React.PropTypes.array.isRequired,","    activeTab: React.PropTypes.object.isRequired,","    selectPreviousTab: React.PropTypes.func.isRequired","  },","  getInitialState: function() {","    return {","      warning: ''","    };","  },","  performUpdate: function() {","    var id;","    if (this.isPeriodEmpty()) {","      this.refs.overlay.hide();","      this.props.selectPreviousTab();","      id = this.props.activeTab.id;","      return PeriodActions[\"delete\"](id, this.props.courseId);","    } else {","      return this.setState({","        warning: EMPTY_WARNING","      });","    }","  },","  isPeriodEmpty: function() {","    var id, students;","    id = this.props.activeTab.id;","    students = RosterStore.getActiveStudentsForPeriod(this.props.courseId, id);","    return students.length === 0;","  },","  renderForm: function() {","    var deleteButton, deleteQuestion, title, warning;","    if (!this.isPeriodEmpty()) {","      this.state.warning = EMPTY_WARNING;","    } else {","      this.state.warning = '';","    }","    deleteQuestion = \"Delete '\" + this.props.activeTab.name + \"'?\";","    deleteButton = React.createElement(BS.Button, {","      \"className\": '-edit-period-confirm',","      \"onClick\": this.performUpdate","    }, \"Delete\");","    warning = this.state.warning === EMPTY_WARNING ? React.createElement(\"span\", null, \"Only \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId,","      \"lowercase\": true","    }), \"s without\\nstudents enrolled can be deleted.\") : void 0;","    title = React.createElement(\"h4\", null, \"Delete \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    }));","    return React.createElement(BS.Modal, React.__spread({}, this.props, {","      \"title\": title,","      \"className\": \"teacher-edit-period-modal\"","    }), React.createElement(\"div\", {","      \"className\": 'modal-body teacher-edit-period-form'","    }, React.createElement(\"div\", {","      \"className\": '-delete-question'","    }, (this.isPeriodEmpty() ? deleteQuestion : void 0)), React.createElement(\"div\", {","      \"className\": 'warning'","    }, warning)), React.createElement(\"div\", {","      \"className\": 'modal-footer'","    }, (this.isPeriodEmpty() ? deleteButton : void 0)));","  },","  render: function() {","    return React.createElement(BS.OverlayTrigger, {","      \"ref\": 'overlay',","      \"rootClose\": true,","      \"trigger\": 'click',","      \"overlay\": this.renderForm()","    }, React.createElement(BS.Button, {","      \"bsStyle\": 'link',","      \"className\": 'edit-period'","    }, React.createElement(\"i\", {","      \"className\": 'fa fa-trash-o'","    }), \"Delete \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    })));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"line":27,"loc":{"end":{"column":30,"line":27},"start":{"column":19,"line":27}},"name":"(anonymous_1)"},"2":{"line":32,"loc":{"end":{"column":28,"line":32},"start":{"column":17,"line":32}},"name":"(anonymous_2)"},"3":{"line":45,"loc":{"end":{"column":28,"line":45},"start":{"column":17,"line":45}},"name":"(anonymous_3)"},"4":{"line":51,"loc":{"end":{"column":25,"line":51},"start":{"column":14,"line":51}},"name":"(anonymous_4)"},"5":{"line":83,"loc":{"end":{"column":21,"line":83},"start":{"column":10,"line":83}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/delete-period.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"statementMap":{"1":{"end":{"column":132,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":101,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":104,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":50,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":58,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":24,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":98},"start":{"column":0,"line":19}},"11":{"end":{"column":6,"line":30},"start":{"column":4,"line":28}},"12":{"end":{"column":11,"line":33},"start":{"column":4,"line":33}},"13":{"end":{"column":5,"line":43},"start":{"column":4,"line":34}},"14":{"end":{"column":31,"line":35},"start":{"column":6,"line":35}},"15":{"end":{"column":37,"line":36},"start":{"column":6,"line":36}},"16":{"end":{"column":35,"line":37},"start":{"column":6,"line":37}},"17":{"end":{"column":62,"line":38},"start":{"column":6,"line":38}},"18":{"end":{"column":9,"line":42},"start":{"column":6,"line":40}},"19":{"end":{"column":21,"line":46},"start":{"column":4,"line":46}},"20":{"end":{"column":33,"line":47},"start":{"column":4,"line":47}},"21":{"end":{"column":79,"line":48},"start":{"column":4,"line":48}},"22":{"end":{"column":33,"line":49},"start":{"column":4,"line":49}},"23":{"end":{"column":53,"line":52},"start":{"column":4,"line":52}},"24":{"end":{"column":5,"line":57},"start":{"column":4,"line":53}},"25":{"end":{"column":41,"line":54},"start":{"column":6,"line":54}},"26":{"end":{"column":30,"line":56},"start":{"column":6,"line":56}},"27":{"end":{"column":67,"line":58},"start":{"column":4,"line":58}},"28":{"end":{"column":17,"line":62},"start":{"column":4,"line":59}},"29":{"end":{"column":65,"line":66},"start":{"column":4,"line":63}},"30":{"end":{"column":8,"line":69},"start":{"column":4,"line":67}},"31":{"end":{"column":56,"line":81},"start":{"column":4,"line":70}},"32":{"end":{"column":9,"line":96},"start":{"column":4,"line":84}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"28":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"40":0,"46":0,"47":0,"48":0,"49":0,"52":0,"53":0,"54":0,"56":0,"58":0,"59":0,"63":0,"67":0,"70":0,"84":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/drop-student.cjsx":{"b":{},"branchMap":{},"code":["var BS, Icon, Name, React, RosterActions;","","React = require('react');","","BS = require('react-bootstrap');","","RosterActions = require('../../flux/roster').RosterActions;","","Icon = require('../icon');","","Name = require('../name');","","module.exports = React.createClass({","  displayName: 'DropStudentLink',","  propTypes: {","    student: React.PropTypes.object.isRequired","  },","  performDeletion: function() {","    return RosterActions[\"delete\"](this.props.student.id);","  },","  confirmPopOver: function() {","    var title;","    title = React.createElement(\"span\", null, \"Drop \", React.createElement(Name, React.__spread({}, this.props.student)), \"?\");","    return React.createElement(BS.Popover, React.__spread({","      \"title\": title","    }, this.props), React.createElement(BS.Button, {","      \"onClick\": this.performDeletion,","      \"bsStyle\": \"danger\"","    }, React.createElement(Icon, {","      \"type\": 'ban'","    }), \" Drop\"));","  },","  render: function() {","    return React.createElement(BS.OverlayTrigger, {","      \"rootClose\": true,","      \"trigger\": 'click',","      \"placement\": 'left',","      \"overlay\": this.confirmPopOver()","    }, React.createElement(\"a\", null, React.createElement(Icon, {","      \"type\": 'ban'","    }), \" Drop\"));","  }","});",""],"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"line":18,"loc":{"end":{"column":30,"line":18},"start":{"column":19,"line":18}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":29,"line":21},"start":{"column":18,"line":21}},"name":"(anonymous_2)"},"3":{"line":33,"loc":{"end":{"column":21,"line":33},"start":{"column":10,"line":33}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/drop-student.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0},"statementMap":{"1":{"end":{"column":41,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":59,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":43},"start":{"column":0,"line":13}},"8":{"end":{"column":58,"line":19},"start":{"column":4,"line":19}},"9":{"end":{"column":14,"line":22},"start":{"column":4,"line":22}},"10":{"end":{"column":127,"line":23},"start":{"column":4,"line":23}},"11":{"end":{"column":18,"line":31},"start":{"column":4,"line":24}},"12":{"end":{"column":18,"line":41},"start":{"column":4,"line":34}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"19":0,"22":0,"23":0,"24":0,"34":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/index.cjsx":{"b":{},"branchMap":{},"code":["var BS, CourseActions, CourseStore, LoadableItem, React, Settings, ref;","","React = require('react');","","BS = require('react-bootstrap');","","ref = require('../../flux/course'), CourseStore = ref.CourseStore, CourseActions = ref.CourseActions;","","Settings = require('./settings');","","LoadableItem = require('../loadable-item');","","module.exports = React.createClass({","  displayName: 'CourseSettingsShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return React.createElement(LoadableItem, {","      \"id\": courseId,","      \"store\": CourseStore,","      \"actions\": CourseActions,","      \"renderItem\": (function() {","        return React.createElement(Settings, {","          \"courseId\": courseId","        });","      })","    });","  }","});",""],"f":{"1":0,"2":0},"fnMap":{"1":{"line":18,"loc":{"end":{"column":21,"line":18},"start":{"column":10,"line":18}},"name":"(anonymous_1)"},"2":{"line":25,"loc":{"end":{"column":32,"line":25},"start":{"column":21,"line":25}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0},"statementMap":{"1":{"end":{"column":71,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":101,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":43,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":32},"start":{"column":0,"line":13}},"8":{"end":{"column":17,"line":19},"start":{"column":4,"line":19}},"9":{"end":{"column":63,"line":20},"start":{"column":4,"line":20}},"10":{"end":{"column":7,"line":30},"start":{"column":4,"line":21}},"11":{"end":{"column":11,"line":28},"start":{"column":8,"line":26}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"19":0,"20":0,"21":0,"26":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/period-enrollment-code.cjsx":{"b":{},"branchMap":{},"code":["var BS, CourseGroupingLabel, React, TITLE, TutorInput, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","TutorInput = require('../tutor-input').TutorInput;","","CourseGroupingLabel = require('../course-grouping-label');","","TITLE = 'Get Student Enrollment Code';","","module.exports = React.createClass({","  displayName: 'PeriodEnrollmentCode',","  propTypes: {","    activeTab: React.PropTypes.object.isRequired,","    periods: React.PropTypes.array.isRequired,","    bookUrl: React.PropTypes.string.isRequired,","    bookName: React.PropTypes.string.isRequired","  },","  getEnrollmentCode: function(name, periods) {","    var period;","    period = _.findWhere(periods, {","      name: name","    });","    return period.enrollment_code;","  },","  getInstructions: function(code) {","    var bookName, bookUrl, msg, ref, url;","    ref = this.props, bookUrl = ref.bookUrl, bookName = ref.bookName;","    url = bookUrl + ':3';","    msg = \"As you read your OpenStax textbook online, you will come across embedded Concept Coach question sets to help you understand and retain what you’ve read.\\n\\nFollow the steps below to register for Concept Coach:\\n\\n1. Paste this link in your web browser to visit the class textbook:\\n\" + url + \"\\n\\n2. Click on section 1.1 in the book. Scroll to the bottom of the section and click on the Concept Coach button.\\n\\n3. On the right side of the screen, enter your two-word enrollment code:\\n\" + code + \"\\n\\n4. On the next screen, click “Click to begin login.” Then click “Sign up” and follow the prompts to create your free account.\\n\\n5. Continue to your Concept Coach questions!\";","    return React.createElement(\"div\", null, React.createElement(\"div\", {","      \"className\": 'summary'","    }, React.createElement(\"p\", null, \"The two-word enrollment code for this section is:\"), React.createElement(\"p\", {","      \"className\": 'code'","    }, code), React.createElement(\"p\", null, \"Each section of your course will have a\\ndifferent two-word enrollment code.\")), React.createElement(\"div\", {","      \"className\": 'callout'","    }, React.createElement(\"p\", null, React.createElement(\"span\", {","      \"className\": 'emphasis'","    }, \"Copy the example message below \"), \"to post in your Learning Management System or to email your students:\")), React.createElement(\"textarea\", {","      \"readOnly\": true,","      \"onClick\": this.selectText,","      \"value\": msg","    }));","  },","  selectText: function(ev) {","    return ev.target.select();","  },","  renderForm: function() {","    var activeTab, codeInstructions, enrollmentCode, periods, ref;","    ref = this.props, activeTab = ref.activeTab, periods = ref.periods;","    enrollmentCode = this.getEnrollmentCode(activeTab.name, periods);","    codeInstructions = this.getInstructions(enrollmentCode);","    return React.createElement(BS.Modal, React.__spread({}, this.props, {","      \"title\": TITLE,","      \"className\": \"teacher-edit-period-modal\"","    }), React.createElement(\"div\", {","      \"className\": 'modal-body teacher-enrollment-code-modal'","    }, React.createElement(\"div\", {","      \"className\": 'enrollment-code'","    }, codeInstructions)));","  },","  render: function() {","    return React.createElement(BS.OverlayTrigger, {","      \"ref\": 'overlay',","      \"rootClose\": true,","      \"trigger\": 'click',","      \"overlay\": this.renderForm()","    }, React.createElement(BS.Button, {","      \"bsStyle\": 'link',","      \"className\": 'show-enrollment-code'","    }, React.createElement(\"i\", {","      \"className\": 'fa fa-qrcode'","    }), \" \", TITLE));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"line":23,"loc":{"end":{"column":45,"line":23},"start":{"column":21,"line":23}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":34,"line":30},"start":{"column":19,"line":30}},"name":"(anonymous_2)"},"3":{"line":49,"loc":{"end":{"column":27,"line":49},"start":{"column":14,"line":49}},"name":"(anonymous_3)"},"4":{"line":52,"loc":{"end":{"column":25,"line":52},"start":{"column":14,"line":52}},"name":"(anonymous_4)"},"5":{"line":66,"loc":{"end":{"column":21,"line":66},"start":{"column":10,"line":66}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/period-enrollment-code.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"statementMap":{"1":{"end":{"column":57,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":50,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":58,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":38,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":79},"start":{"column":0,"line":15}},"9":{"end":{"column":15,"line":24},"start":{"column":4,"line":24}},"10":{"end":{"column":7,"line":27},"start":{"column":4,"line":25}},"11":{"end":{"column":34,"line":28},"start":{"column":4,"line":28}},"12":{"end":{"column":41,"line":31},"start":{"column":4,"line":31}},"13":{"end":{"column":69,"line":32},"start":{"column":4,"line":32}},"14":{"end":{"column":25,"line":33},"start":{"column":4,"line":33}},"15":{"end":{"column":688,"line":34},"start":{"column":4,"line":34}},"16":{"end":{"column":8,"line":47},"start":{"column":4,"line":35}},"17":{"end":{"column":30,"line":50},"start":{"column":4,"line":50}},"18":{"end":{"column":66,"line":53},"start":{"column":4,"line":53}},"19":{"end":{"column":71,"line":54},"start":{"column":4,"line":54}},"20":{"end":{"column":69,"line":55},"start":{"column":4,"line":55}},"21":{"end":{"column":60,"line":56},"start":{"column":4,"line":56}},"22":{"end":{"column":27,"line":64},"start":{"column":4,"line":57}},"23":{"end":{"column":21,"line":77},"start":{"column":4,"line":67}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"24":0,"25":0,"28":0,"31":0,"32":0,"33":0,"34":0,"35":0,"50":0,"53":0,"54":0,"55":0,"56":0,"57":0,"67":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/period-roster.cjsx":{"b":{"1":[0,0],"2":[0,0]},"branchMap":{"1":{"line":66,"locations":[{"end":{"column":69,"line":66},"start":{"column":60,"line":66}},{"end":{"column":85,"line":66},"start":{"column":72,"line":66}}],"type":"cond-expr"},"2":{"line":66,"locations":[{"end":{"column":28,"line":66},"start":{"column":8,"line":66}},{"end":{"column":57,"line":66},"start":{"column":32,"line":66}}],"type":"binary-expr"}},"code":["var BS, ChangePeriodLink, DropStudentLink, Icon, React, RosterActions, RosterStore, _, ref;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","Icon = require('../icon');","","ref = require('../../flux/roster'), RosterStore = ref.RosterStore, RosterActions = ref.RosterActions;","","ChangePeriodLink = require('./change-period');","","DropStudentLink = require('./drop-student');","","module.exports = React.createClass({","  displayName: 'PeriodRoster',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    period: React.PropTypes.object.isRequired,","    isConceptCoach: React.PropTypes.bool.isRequired","  },","  renderStudentRow: function(student) {","    return React.createElement(\"tr\", {","      \"key\": student.id","    }, React.createElement(\"td\", null, student.first_name), React.createElement(\"td\", null, student.last_name), React.createElement(\"td\", {","      \"className\": \"actions\"","    }, React.createElement(ChangePeriodLink, {","      \"courseId\": this.props.courseId,","      \"student\": student","    }), React.createElement(DropStudentLink, {","      \"student\": student","    })));","  },","  isPeriodEmpty: function() {","    var id, students;","    id = this.props.activeTab.id;","    students = RosterStore.getActiveStudentsForPeriod(this.props.courseId, id);","    return students.length === 0;","  },","  render: function() {","    var emptyInfo, student, students, studentsTable;","    students = RosterStore.getActiveStudentsForPeriod(this.props.courseId, this.props.period.id);","    studentsTable = React.createElement(BS.Table, {","      \"striped\": true,","      \"bordered\": true,","      \"condensed\": true,","      \"hover\": true,","      \"className\": \"roster\"","    }, React.createElement(\"thead\", null, React.createElement(\"tr\", null, React.createElement(\"th\", null, \"First Name\"), React.createElement(\"th\", null, \"Last Name\"), React.createElement(\"th\", null, \"Actions\"))), React.createElement(\"tbody\", null, (function() {","      var i, len, ref1, results;","      ref1 = _.sortBy(students, 'last_name');","      results = [];","      for (i = 0, len = ref1.length; i < len; i++) {","        student = ref1[i];","        results.push(this.renderStudentRow(student));","      }","      return results;","    }).call(this)));","    emptyInfo = React.createElement(\"div\", {","      \"className\": 'roster-empty-info'","    }, \"Use the \\\"Get Student Enrollment Code\\\" link above to get the code for this section of your course.\\nAs your students login to Concept Coach, they will start appearing here.\\nYou will be able to drop students or change their sections from this page.\");","    return React.createElement(\"div\", {","      \"className\": \"period\"","    }, (this.isPeriodEmpty() && this.props.isConceptCoach ? emptyInfo : studentsTable));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"line":24,"loc":{"end":{"column":38,"line":24},"start":{"column":20,"line":24}},"name":"(anonymous_1)"},"2":{"line":36,"loc":{"end":{"column":28,"line":36},"start":{"column":17,"line":36}},"name":"(anonymous_2)"},"3":{"line":42,"loc":{"end":{"column":21,"line":42},"start":{"column":10,"line":42}},"name":"(anonymous_3)"},"4":{"line":51,"loc":{"end":{"column":260,"line":51},"start":{"column":249,"line":51}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/period-roster.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},"statementMap":{"1":{"end":{"column":91,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":101,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":46,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":44,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":68},"start":{"column":0,"line":17}},"10":{"end":{"column":9,"line":34},"start":{"column":4,"line":25}},"11":{"end":{"column":21,"line":37},"start":{"column":4,"line":37}},"12":{"end":{"column":33,"line":38},"start":{"column":4,"line":38}},"13":{"end":{"column":79,"line":39},"start":{"column":4,"line":39}},"14":{"end":{"column":33,"line":40},"start":{"column":4,"line":40}},"15":{"end":{"column":52,"line":43},"start":{"column":4,"line":43}},"16":{"end":{"column":97,"line":44},"start":{"column":4,"line":44}},"17":{"end":{"column":20,"line":60},"start":{"column":4,"line":45}},"18":{"end":{"column":32,"line":52},"start":{"column":6,"line":52}},"19":{"end":{"column":45,"line":53},"start":{"column":6,"line":53}},"20":{"end":{"column":19,"line":54},"start":{"column":6,"line":54}},"21":{"end":{"column":7,"line":58},"start":{"column":6,"line":55}},"22":{"end":{"column":26,"line":56},"start":{"column":8,"line":56}},"23":{"end":{"column":53,"line":57},"start":{"column":8,"line":57}},"24":{"end":{"column":21,"line":59},"start":{"column":6,"line":59}},"25":{"end":{"column":260,"line":63},"start":{"column":4,"line":61}},"26":{"end":{"column":88,"line":66},"start":{"column":4,"line":64}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"25":0,"37":0,"38":0,"39":0,"40":0,"43":0,"44":0,"45":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"59":0,"61":0,"64":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/remove-teacher.cjsx":{"b":{"1":[0,0],"2":[0,0]},"branchMap":{"1":{"line":46,"locations":[{"end":{"column":4,"line":46},"start":{"column":4,"line":46}},{"end":{"column":4,"line":46},"start":{"column":4,"line":46}}],"type":"if"},"2":{"line":68,"locations":[{"end":{"column":60,"line":68},"start":{"column":41,"line":68}},{"end":{"column":69,"line":68},"start":{"column":63,"line":68}}],"type":"cond-expr"}},"code":["var AsyncButton, BS, CourseActions, CourseStore, Icon, Name, React, TeacherRosterActions, TeacherRosterStore, WARN_REMOVE_CURRENT, _, ref, ref1;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ref = require('../../flux/teacher-roster'), TeacherRosterStore = ref.TeacherRosterStore, TeacherRosterActions = ref.TeacherRosterActions;","","ref1 = require('../../flux/course'), CourseStore = ref1.CourseStore, CourseActions = ref1.CourseActions;","","Icon = require('../icon');","","Name = require('../name');","","AsyncButton = require('openstax-react-components').AsyncButton;","","WARN_REMOVE_CURRENT = 'If you remove yourself from the course you will be redirected to the dashboard.';","","module.exports = React.createClass({","  displayName: 'RemoveTeacherLink',","  propTypes: {","    teacher: React.PropTypes.object.isRequired,","    courseRoles: React.PropTypes.array.isRequired,","    courseId: React.PropTypes.string.isRequired","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  isRemovalCurrentTeacher: function() {","    var role;","    return role = _.chain(this.props.courseRoles).pluck('id').contains(this.props.teacher.role_id).value();","  },","  goToDashboard: function() {","    return TeacherRosterStore.once('deleted', (function(_this) {","      return function() {","        return _this.context.router.transitionTo('dashboard');","      };","    })(this));","  },","  performDeletion: function() {","    var courseId;","    courseId = this.props.courseId;","    TeacherRosterActions[\"delete\"](this.props.teacher.id, courseId);","    if (this.isRemovalCurrentTeacher()) {","      return this.goToDashboard();","    } else {","      return CourseActions.load(courseId);","    }","  },","  confirmPopOver: function() {","    var removeButton, title;","    removeButton = React.createElement(AsyncButton, {","      \"bsStyle\": 'danger',","      \"onClick\": this.performDeletion,","      \"isWaiting\": TeacherRosterStore.isDeleting(this.props.courseId),","      \"waitingText\": 'Removing Instructor…'","    }, React.createElement(Icon, {","      \"type\": 'ban'","    }), \" Remove\");","    title = React.createElement(\"span\", null, \"Remove \", React.createElement(Name, React.__spread({}, this.props.teacher)), \"?\");","    return React.createElement(BS.Popover, React.__spread({","      \"className\": 'teacher-remove',","      \"title\": title","    }, this.props), removeButton, React.createElement(\"div\", {","      \"className\": 'warning'","    }, (this.isRemovalCurrentTeacher() ? WARN_REMOVE_CURRENT : void 0)));","  },","  render: function() {","    return React.createElement(BS.OverlayTrigger, {","      \"rootClose\": true,","      \"trigger\": 'click',","      \"placement\": 'left',","      \"overlay\": this.confirmPopOver()","    }, React.createElement(\"a\", null, React.createElement(Icon, {","      \"type\": 'ban'","    }), \" Remove\"));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"line":31,"loc":{"end":{"column":38,"line":31},"start":{"column":27,"line":31}},"name":"(anonymous_1)"},"2":{"line":35,"loc":{"end":{"column":28,"line":35},"start":{"column":17,"line":35}},"name":"(anonymous_2)"},"3":{"line":36,"loc":{"end":{"column":63,"line":36},"start":{"column":47,"line":36}},"name":"(anonymous_3)"},"4":{"line":37,"loc":{"end":{"column":24,"line":37},"start":{"column":13,"line":37}},"name":"(anonymous_4)"},"5":{"line":42,"loc":{"end":{"column":30,"line":42},"start":{"column":19,"line":42}},"name":"(anonymous_5)"},"6":{"line":52,"loc":{"end":{"column":29,"line":52},"start":{"column":18,"line":52}},"name":"(anonymous_6)"},"7":{"line":70,"loc":{"end":{"column":21,"line":70},"start":{"column":10,"line":70}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/remove-teacher.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"statementMap":{"1":{"end":{"column":144,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":137,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":104,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":26,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":26,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":63,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":104,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":3,"line":80},"start":{"column":0,"line":21}},"12":{"end":{"column":13,"line":32},"start":{"column":4,"line":32}},"13":{"end":{"column":107,"line":33},"start":{"column":4,"line":33}},"14":{"end":{"column":14,"line":40},"start":{"column":4,"line":36}},"15":{"end":{"column":8,"line":39},"start":{"column":6,"line":37}},"16":{"end":{"column":62,"line":38},"start":{"column":8,"line":38}},"17":{"end":{"column":17,"line":43},"start":{"column":4,"line":43}},"18":{"end":{"column":35,"line":44},"start":{"column":4,"line":44}},"19":{"end":{"column":68,"line":45},"start":{"column":4,"line":45}},"20":{"end":{"column":5,"line":50},"start":{"column":4,"line":46}},"21":{"end":{"column":34,"line":47},"start":{"column":6,"line":47}},"22":{"end":{"column":42,"line":49},"start":{"column":6,"line":49}},"23":{"end":{"column":28,"line":53},"start":{"column":4,"line":53}},"24":{"end":{"column":19,"line":61},"start":{"column":4,"line":54}},"25":{"end":{"column":129,"line":62},"start":{"column":4,"line":62}},"26":{"end":{"column":73,"line":68},"start":{"column":4,"line":63}},"27":{"end":{"column":20,"line":78},"start":{"column":4,"line":71}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"32":0,"33":0,"36":0,"37":0,"38":0,"43":0,"44":0,"45":0,"46":0,"47":0,"49":0,"53":0,"54":0,"62":0,"63":0,"71":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/rename-course.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"branchMap":{"1":{"line":29,"locations":[{"end":{"column":4,"line":29},"start":{"column":4,"line":29}},{"end":{"column":4,"line":29},"start":{"column":4,"line":29}}],"type":"if"},"2":{"line":32,"locations":[{"end":{"column":4,"line":32},"start":{"column":4,"line":32}},{"end":{"column":4,"line":32},"start":{"column":4,"line":32}}],"type":"if"},"3":{"line":69,"locations":[{"end":{"column":4,"line":69},"start":{"column":4,"line":69}},{"end":{"column":4,"line":69},"start":{"column":4,"line":69}}],"type":"if"},"4":{"line":83,"locations":[{"end":{"column":67,"line":83},"start":{"column":55,"line":83}},{"end":{"column":76,"line":83},"start":{"column":70,"line":83}}],"type":"cond-expr"},"5":{"line":85,"locations":[{"end":{"column":4,"line":85},"start":{"column":4,"line":85}},{"end":{"column":4,"line":85},"start":{"column":4,"line":85}}],"type":"if"},"6":{"line":85,"locations":[{"end":{"column":50,"line":85},"start":{"column":38,"line":85}},{"end":{"column":59,"line":85},"start":{"column":53,"line":85}}],"type":"cond-expr"}},"code":["var AsyncButton, BS, CourseActions, CourseStore, React, RenameCourse, RenameCourseField, TutorInput, _, classnames, ref;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ref = require('../../flux/course'), CourseStore = ref.CourseStore, CourseActions = ref.CourseActions;","","AsyncButton = require('openstax-react-components').AsyncButton;","","TutorInput = require('../tutor-input').TutorInput;","","classnames = require('classnames');","","RenameCourseField = React.createClass({","  displayName: 'RenameCourseField',","  propTypes: {","    courseId: React.PropTypes.string,","    label: React.PropTypes.string.isRequired,","    name: React.PropTypes.string.isRequired,","    \"default\": React.PropTypes.string.isRequired,","    onChange: React.PropTypes.func.isRequired,","    autofocus: React.PropTypes.bool,","    validate: React.PropTypes.func.isRequired","  },","  componentDidMount: function() {","    if (this.props.autofocus) {","      this.refs.input.focus();","    }","    if (this.props.autofocus) {","      return this.refs.input.cursorToEnd();","    }","  },","  onChange: function(value) {","    return this.props.onChange(value);","  },","  render: function() {","    return React.createElement(TutorInput, {","      \"ref\": 'input',","      \"label\": this.props.label,","      \"default\": this.props[\"default\"],","      \"required\": true,","      \"onChange\": this.onChange,","      \"validate\": this.props.validate","    });","  }","});","","RenameCourse = React.createClass({displayName: \"RenameCourse\",","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  getInitialState: function() {","    return {","      course_name: this.props.course.name","    };","  },","  validate: function(name) {","    var error;","    error = CourseStore.validateCourseName(name, this.props.course.name);","    this.setState({","      invalid: error != null","    });","    return error;","  },","  performUpdate: function() {","    if (!this.state.invalid) {","      CourseActions.save(this.props.courseId, {","        course: {","          name: this.state.course_name","        }","      });","      return CourseStore.once('saved', function() {","        return this.refs.overlay.hide();","      });","    }","  },","  renderForm: function() {","    var disabled, formClasses, ref1, ref2;","    formClasses = classnames('modal-body', 'teacher-edit-course-form', {","      'is-invalid-form': (ref1 = this.state) != null ? ref1.invalid : void 0","    });","    if ((ref2 = this.state) != null ? ref2.invalid : void 0) {","      disabled = true;","    }","    return React.createElement(BS.Modal, React.__spread({}, this.props, {","      \"title\": 'Rename Course',","      \"className\": 'teacher-edit-course-modal'","    }), React.createElement(\"div\", {","      \"className\": formClasses","    }, React.createElement(RenameCourseField, {","      \"label\": 'Course Name',","      \"name\": 'course-name',","      \"default\": this.props.course.name,","      \"onChange\": ((function(_this) {","        return function(val) {","          return _this.setState({","            course_name: val","          });","        };","      })(this)),","      \"validate\": this.validate,","      \"autofocus\": true","    })), React.createElement(\"div\", {","      \"className\": 'modal-footer'","    }, React.createElement(AsyncButton, {","      \"className\": '-edit-course-confirm',","      \"onClick\": this.performUpdate,","      \"isWaiting\": CourseStore.isSaving(this.props.courseId),","      \"waitingText\": \"Saving...\",","      \"disabled\": disabled","    }, \"Rename\")));","  },","  render: function() {","    return React.createElement(BS.OverlayTrigger, {","      \"rootClose\": true,","      \"trigger\": 'click',","      \"ref\": 'overlay',","      \"overlay\": this.renderForm()","    }, React.createElement(BS.Button, {","      \"bsStyle\": 'link',","      \"className\": 'edit-course'","    }, React.createElement(\"i\", {","      \"className\": 'fa fa-pencil'","    }), \" Rename Course\"));","  }","});","","module.exports = RenameCourse;",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"line":28,"loc":{"end":{"column":32,"line":28},"start":{"column":21,"line":28}},"name":"(anonymous_1)"},"2":{"line":36,"loc":{"end":{"column":28,"line":36},"start":{"column":12,"line":36}},"name":"(anonymous_2)"},"3":{"line":39,"loc":{"end":{"column":21,"line":39},"start":{"column":10,"line":39}},"name":"(anonymous_3)"},"4":{"line":55,"loc":{"end":{"column":30,"line":55},"start":{"column":19,"line":55}},"name":"(anonymous_4)"},"5":{"line":60,"loc":{"end":{"column":27,"line":60},"start":{"column":12,"line":60}},"name":"(anonymous_5)"},"6":{"line":68,"loc":{"end":{"column":28,"line":68},"start":{"column":17,"line":68}},"name":"(anonymous_6)"},"7":{"line":75,"loc":{"end":{"column":50,"line":75},"start":{"column":39,"line":75}},"name":"(anonymous_7)"},"8":{"line":80,"loc":{"end":{"column":25,"line":80},"start":{"column":14,"line":80}},"name":"(anonymous_8)"},"9":{"line":97,"loc":{"end":{"column":36,"line":97},"start":{"column":20,"line":97}},"name":"(anonymous_9)"},"10":{"line":98,"loc":{"end":{"column":29,"line":98},"start":{"column":15,"line":98}},"name":"(anonymous_10)"},"11":{"line":116,"loc":{"end":{"column":21,"line":116},"start":{"column":10,"line":116}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/rename-course.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":21,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":21},"statementMap":{"1":{"end":{"column":120,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":101,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":63,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":50,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":35,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":49},"start":{"column":0,"line":17}},"10":{"end":{"column":5,"line":31},"start":{"column":4,"line":29}},"11":{"end":{"column":30,"line":30},"start":{"column":6,"line":30}},"12":{"end":{"column":5,"line":34},"start":{"column":4,"line":32}},"13":{"end":{"column":43,"line":33},"start":{"column":6,"line":33}},"14":{"end":{"column":38,"line":37},"start":{"column":4,"line":37}},"15":{"end":{"column":7,"line":47},"start":{"column":4,"line":40}},"16":{"end":{"column":3,"line":129},"start":{"column":0,"line":51}},"17":{"end":{"column":6,"line":58},"start":{"column":4,"line":56}},"18":{"end":{"column":14,"line":61},"start":{"column":4,"line":61}},"19":{"end":{"column":73,"line":62},"start":{"column":4,"line":62}},"20":{"end":{"column":7,"line":65},"start":{"column":4,"line":63}},"21":{"end":{"column":17,"line":66},"start":{"column":4,"line":66}},"22":{"end":{"column":5,"line":78},"start":{"column":4,"line":69}},"23":{"end":{"column":9,"line":74},"start":{"column":6,"line":70}},"24":{"end":{"column":9,"line":77},"start":{"column":6,"line":75}},"25":{"end":{"column":40,"line":76},"start":{"column":8,"line":76}},"26":{"end":{"column":42,"line":81},"start":{"column":4,"line":81}},"27":{"end":{"column":7,"line":84},"start":{"column":4,"line":82}},"28":{"end":{"column":5,"line":87},"start":{"column":4,"line":85}},"29":{"end":{"column":22,"line":86},"start":{"column":6,"line":86}},"30":{"end":{"column":19,"line":114},"start":{"column":4,"line":88}},"31":{"end":{"column":10,"line":102},"start":{"column":8,"line":98}},"32":{"end":{"column":13,"line":101},"start":{"column":10,"line":99}},"33":{"end":{"column":27,"line":127},"start":{"column":4,"line":117}},"34":{"end":{"column":30,"line":131},"start":{"column":0,"line":131}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"29":0,"30":0,"32":0,"33":0,"37":0,"40":0,"51":21,"56":0,"61":0,"62":0,"63":0,"66":0,"69":0,"70":0,"75":0,"76":0,"81":0,"82":0,"85":0,"86":0,"88":0,"98":0,"99":0,"117":0,"131":21}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/rename-period.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":4,"line":27},"start":{"column":4,"line":27}},{"end":{"column":4,"line":27},"start":{"column":4,"line":27}}],"type":"if"},"2":{"line":30,"locations":[{"end":{"column":4,"line":30},"start":{"column":4,"line":30}},{"end":{"column":4,"line":30},"start":{"column":4,"line":30}}],"type":"if"},"3":{"line":71,"locations":[{"end":{"column":4,"line":71},"start":{"column":4,"line":71}},{"end":{"column":4,"line":71},"start":{"column":4,"line":71}}],"type":"if"},"4":{"line":84,"locations":[{"end":{"column":4,"line":84},"start":{"column":4,"line":84}},{"end":{"column":4,"line":84},"start":{"column":4,"line":84}}],"type":"if"},"5":{"line":84,"locations":[{"end":{"column":50,"line":84},"start":{"column":38,"line":84}},{"end":{"column":59,"line":84},"start":{"column":53,"line":84}}],"type":"cond-expr"}},"code":["var BS, CourseGroupingLabel, PeriodActions, PeriodStore, React, RenamePeriodField, TutorInput, _, ref;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ref = require('../../flux/period'), PeriodActions = ref.PeriodActions, PeriodStore = ref.PeriodStore;","","TutorInput = require('../tutor-input').TutorInput;","","CourseGroupingLabel = require('../course-grouping-label');","","RenamePeriodField = React.createClass({","  displayName: 'RenamePeriodField',","  propTypes: {","    courseId: React.PropTypes.string,","    label: React.PropTypes.string.isRequired,","    name: React.PropTypes.string.isRequired,","    \"default\": React.PropTypes.string.isRequired,","    onChange: React.PropTypes.func.isRequired,","    autofocus: React.PropTypes.bool,","    validate: React.PropTypes.func.isRequired","  },","  componentDidMount: function() {","    if (this.props.autofocus) {","      this.refs.input.focus();","    }","    if (this.props.autofocus) {","      return this.refs.input.cursorToEnd();","    }","  },","  onChange: function(value) {","    return this.props.onChange(value);","  },","  render: function() {","    return React.createElement(TutorInput, {","      \"ref\": \"input\",","      \"label\": this.props.label,","      \"default\": this.props[\"default\"],","      \"required\": true,","      \"onChange\": this.onChange,","      \"validate\": this.props.validate","    });","  }","});","","module.exports = React.createClass({","  displayName: 'RenamePeriodLink',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    periods: React.PropTypes.array.isRequired,","    activeTab: React.PropTypes.object.isRequired","  },","  getInitialState: function() {","    return {","      period_name: this.props.activeTab.name","    };","  },","  validate: function(name) {","    var error;","    error = PeriodStore.validatePeriodName(name, this.props.periods, this.props.activeTab.name);","    this.setState({","      invalid: error != null","    });","    return error;","  },","  performUpdate: function() {","    var id;","    if (!this.state.invalid) {","      id = this.props.activeTab.id;","      PeriodActions.save(this.props.courseId, id, {","        period: {","          name: this.state.period_name","        }","      });","      return this.refs.overlay.hide();","    }","  },","  renderForm: function() {","    var disabled, formClasses, label, ref1, title;","    formClasses = ['modal-body', 'teacher-edit-period-form'];","    if ((ref1 = this.state) != null ? ref1.invalid : void 0) {","      formClasses.push('is-invalid-form');","      disabled = true;","    }","    title = React.createElement(\"h4\", null, \"Rename \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    }));","    label = React.createElement(\"span\", null, React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    }), \" Name\");","    return React.createElement(BS.Modal, React.__spread({}, this.props, {","      \"title\": title,","      \"className\": 'teacher-edit-period-modal'","    }), React.createElement(\"div\", {","      \"className\": formClasses.join(' ')","    }, React.createElement(RenamePeriodField, {","      \"label\": label,","      \"name\": 'period-name',","      \"default\": this.props.activeTab.name,","      \"onChange\": ((function(_this) {","        return function(val) {","          return _this.setState({","            period_name: val","          });","        };","      })(this)),","      \"validate\": this.validate,","      \"autofocus\": true","    })), React.createElement(\"div\", {","      \"className\": 'modal-footer'","    }, React.createElement(BS.Button, {","      \"className\": '-edit-period-confirm',","      \"onClick\": this.performUpdate,","      \"disabled\": disabled","    }, \"Rename\")));","  },","  render: function() {","    return React.createElement(BS.OverlayTrigger, {","      \"ref\": 'overlay',","      \"rootClose\": true,","      \"trigger\": 'click',","      \"overlay\": this.renderForm()","    }, React.createElement(BS.Button, {","      \"bsStyle\": 'link',","      \"className\": 'edit-period'","    }, React.createElement(\"i\", {","      \"className\": 'fa fa-pencil'","    }), \"Rename \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId","    })));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"line":26,"loc":{"end":{"column":32,"line":26},"start":{"column":21,"line":26}},"name":"(anonymous_1)"},"2":{"line":34,"loc":{"end":{"column":28,"line":34},"start":{"column":12,"line":34}},"name":"(anonymous_2)"},"3":{"line":37,"loc":{"end":{"column":21,"line":37},"start":{"column":10,"line":37}},"name":"(anonymous_3)"},"4":{"line":56,"loc":{"end":{"column":30,"line":56},"start":{"column":19,"line":56}},"name":"(anonymous_4)"},"5":{"line":61,"loc":{"end":{"column":27,"line":61},"start":{"column":12,"line":61}},"name":"(anonymous_5)"},"6":{"line":69,"loc":{"end":{"column":28,"line":69},"start":{"column":17,"line":69}},"name":"(anonymous_6)"},"7":{"line":81,"loc":{"end":{"column":25,"line":81},"start":{"column":14,"line":81}},"name":"(anonymous_7)"},"8":{"line":103,"loc":{"end":{"column":36,"line":103},"start":{"column":20,"line":103}},"name":"(anonymous_8)"},"9":{"line":104,"loc":{"end":{"column":29,"line":104},"start":{"column":15,"line":104}},"name":"(anonymous_9)"},"10":{"line":120,"loc":{"end":{"column":21,"line":120},"start":{"column":10,"line":120}},"name":"(anonymous_10)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/rename-period.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":21,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"statementMap":{"1":{"end":{"column":102,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":101,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":50,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":58,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":47},"start":{"column":0,"line":15}},"9":{"end":{"column":5,"line":29},"start":{"column":4,"line":27}},"10":{"end":{"column":30,"line":28},"start":{"column":6,"line":28}},"11":{"end":{"column":5,"line":32},"start":{"column":4,"line":30}},"12":{"end":{"column":43,"line":31},"start":{"column":6,"line":31}},"13":{"end":{"column":38,"line":35},"start":{"column":4,"line":35}},"14":{"end":{"column":7,"line":45},"start":{"column":4,"line":38}},"15":{"end":{"column":3,"line":135},"start":{"column":0,"line":49}},"16":{"end":{"column":6,"line":59},"start":{"column":4,"line":57}},"17":{"end":{"column":14,"line":62},"start":{"column":4,"line":62}},"18":{"end":{"column":96,"line":63},"start":{"column":4,"line":63}},"19":{"end":{"column":7,"line":66},"start":{"column":4,"line":64}},"20":{"end":{"column":17,"line":67},"start":{"column":4,"line":67}},"21":{"end":{"column":11,"line":70},"start":{"column":4,"line":70}},"22":{"end":{"column":5,"line":79},"start":{"column":4,"line":71}},"23":{"end":{"column":35,"line":72},"start":{"column":6,"line":72}},"24":{"end":{"column":9,"line":77},"start":{"column":6,"line":73}},"25":{"end":{"column":38,"line":78},"start":{"column":6,"line":78}},"26":{"end":{"column":50,"line":82},"start":{"column":4,"line":82}},"27":{"end":{"column":61,"line":83},"start":{"column":4,"line":83}},"28":{"end":{"column":5,"line":87},"start":{"column":4,"line":84}},"29":{"end":{"column":42,"line":85},"start":{"column":6,"line":85}},"30":{"end":{"column":22,"line":86},"start":{"column":6,"line":86}},"31":{"end":{"column":8,"line":90},"start":{"column":4,"line":88}},"32":{"end":{"column":17,"line":93},"start":{"column":4,"line":91}},"33":{"end":{"column":19,"line":118},"start":{"column":4,"line":94}},"34":{"end":{"column":10,"line":108},"start":{"column":8,"line":104}},"35":{"end":{"column":13,"line":107},"start":{"column":10,"line":105}},"36":{"end":{"column":9,"line":133},"start":{"column":4,"line":121}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"27":0,"28":0,"30":0,"31":0,"35":0,"38":0,"49":21,"57":0,"62":0,"63":0,"64":0,"67":0,"70":0,"71":0,"72":0,"73":0,"78":0,"82":0,"83":0,"84":0,"85":0,"86":0,"88":0,"91":0,"94":0,"104":0,"105":0,"121":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/roster.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"branchMap":{"1":{"line":48,"locations":[{"end":{"column":6,"line":48},"start":{"column":6,"line":48}},{"end":{"column":6,"line":48},"start":{"column":6,"line":48}}],"type":"if"},"2":{"line":60,"locations":[{"end":{"column":4,"line":60},"start":{"column":4,"line":60}},{"end":{"column":4,"line":60},"start":{"column":4,"line":60}}],"type":"if"},"3":{"line":114,"locations":[{"end":{"column":31,"line":114},"start":{"column":19,"line":114}},{"end":{"column":40,"line":114},"start":{"column":34,"line":114}}],"type":"cond-expr"},"4":{"line":114,"locations":[{"end":{"column":66,"line":114},"start":{"column":54,"line":114}},{"end":{"column":75,"line":114},"start":{"column":69,"line":114}}],"type":"cond-expr"},"5":{"line":114,"locations":[{"end":{"column":126,"line":114},"start":{"column":110,"line":114}},{"end":{"column":135,"line":114},"start":{"column":129,"line":114}}],"type":"cond-expr"},"6":{"line":114,"locations":[{"end":{"column":87,"line":114},"start":{"column":80,"line":114}},{"end":{"column":107,"line":114},"start":{"column":91,"line":114}}],"type":"binary-expr"},"7":{"line":116,"locations":[{"end":{"column":46,"line":116},"start":{"column":31,"line":116}},{"end":{"column":55,"line":116},"start":{"column":49,"line":116}}],"type":"cond-expr"}},"code":["var AddPeriodLink, BS, BindStoreMixin, CourseActions, CourseStore, DeletePeriodLink, NoPeriods, PeriodEnrollmentCode, PeriodRoster, React, RenamePeriodLink, RosterActions, RosterStore, _, ref, ref1;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","BindStoreMixin = require('../bind-store-mixin');","","NoPeriods = require('../no-periods');","","ref = require('../../flux/course'), CourseStore = ref.CourseStore, CourseActions = ref.CourseActions;","","ref1 = require('../../flux/roster'), RosterStore = ref1.RosterStore, RosterActions = ref1.RosterActions;","","PeriodRoster = require('./period-roster');","","PeriodEnrollmentCode = require('./period-enrollment-code');","","AddPeriodLink = require('./add-period');","","RenamePeriodLink = require('./rename-period');","","DeletePeriodLink = require('./delete-period');","","module.exports = React.createClass({","  displayName: 'PeriodRoster',","  mixins: [BindStoreMixin],","  bindStore: RosterStore,","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  getInitialState: function() {","    return {","      key: 0","    };","  },","  handleSelect: function(key) {","    return this.setState({","      key: key","    });","  },","  getActivePeriod: function(active, periods) {","    var i, id, j, len, name, period;","    for (i = j = 0, len = periods.length; j < len; i = ++j) {","      period = periods[i];","      if (i === active) {","        name = period.name;","        id = period.id;","      }","    }","    return {","      name: name,","      id: id","    };","  },","  selectPreviousTab: function() {","    var previous;","    if (this.state.key > 0) {","      previous = this.state.key - 1;","    } else {","      previous = 0;","    }","    return this.handleSelect(previous);","  },","  render: function() {","    var course, deleteButton, enrollmentButton, is_concept_coach, noPeriodMessage, periods, renameButton, tabs;","    course = CourseStore.get(this.props.courseId);","    is_concept_coach = course.is_concept_coach;","    periods = course.periods.length > 0;","    tabs = _.map(course.periods, (function(_this) {","      return function(period, index) {","        return React.createElement(BS.TabPane, {","          \"key\": period.id,","          \"eventKey\": index,","          \"tab\": period.name","        }, React.createElement(PeriodRoster, {","          \"period\": period,","          \"courseId\": _this.props.courseId,","          \"activeTab\": _this.getActivePeriod(_this.state.key, course.periods),","          \"isConceptCoach\": is_concept_coach","        }));","      };","    })(this));","    enrollmentButton = React.createElement(PeriodEnrollmentCode, {","      \"activeTab\": this.getActivePeriod(this.state.key, course.periods),","      \"periods\": course.periods,","      \"bookUrl\": course.webview_url,","      \"bookName\": course.salesforce_book_name","    });","    renameButton = React.createElement(RenamePeriodLink, {","      \"courseId\": this.props.courseId,","      \"periods\": course.periods,","      \"activeTab\": this.getActivePeriod(this.state.key, course.periods)","    });","    deleteButton = React.createElement(DeletePeriodLink, {","      \"courseId\": this.props.courseId,","      \"periods\": course.periods,","      \"activeTab\": this.getActivePeriod(this.state.key, course.periods),","      \"selectPreviousTab\": this.selectPreviousTab","    });","    noPeriodMessage = React.createElement(NoPeriods, {","      \"noPanel\": true","    });","    return React.createElement(BS.TabbedArea, {","      \"activeKey\": this.state.key,","      \"onSelect\": this.handleSelect","    }, React.createElement(\"div\", {","      \"className\": 'period-edit-ui'","    }, React.createElement(AddPeriodLink, {","      \"courseId\": this.props.courseId,","      \"periods\": course.periods","    }), (periods ? renameButton : void 0), (periods ? deleteButton : void 0)), (periods && is_concept_coach ? enrollmentButton : void 0), React.createElement(\"div\", null, React.createElement(\"span\", {","      \"className\": 'course-settings-subtitle tabbed'","    }, \"Roster\")), (!periods ? noPeriodMessage : void 0), tabs);","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"line":34,"loc":{"end":{"column":30,"line":34},"start":{"column":19,"line":34}},"name":"(anonymous_1)"},"2":{"line":39,"loc":{"end":{"column":30,"line":39},"start":{"column":16,"line":39}},"name":"(anonymous_2)"},"3":{"line":44,"loc":{"end":{"column":45,"line":44},"start":{"column":19,"line":44}},"name":"(anonymous_3)"},"4":{"line":58,"loc":{"end":{"column":32,"line":58},"start":{"column":21,"line":58}},"name":"(anonymous_4)"},"5":{"line":67,"loc":{"end":{"column":21,"line":67},"start":{"column":10,"line":67}},"name":"(anonymous_5)"},"6":{"line":72,"loc":{"end":{"column":50,"line":72},"start":{"column":34,"line":72}},"name":"(anonymous_6)"},"7":{"line":73,"loc":{"end":{"column":37,"line":73},"start":{"column":13,"line":73}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/roster.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},"statementMap":{"1":{"end":{"column":198,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":48,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":37,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":101,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":104,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":42,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":59,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":40,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":46,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":46,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":3,"line":118},"start":{"column":0,"line":27}},"15":{"end":{"column":6,"line":37},"start":{"column":4,"line":35}},"16":{"end":{"column":7,"line":42},"start":{"column":4,"line":40}},"17":{"end":{"column":36,"line":45},"start":{"column":4,"line":45}},"18":{"end":{"column":5,"line":52},"start":{"column":4,"line":46}},"19":{"end":{"column":26,"line":47},"start":{"column":6,"line":47}},"20":{"end":{"column":7,"line":51},"start":{"column":6,"line":48}},"21":{"end":{"column":27,"line":49},"start":{"column":8,"line":49}},"22":{"end":{"column":23,"line":50},"start":{"column":8,"line":50}},"23":{"end":{"column":6,"line":56},"start":{"column":4,"line":53}},"24":{"end":{"column":17,"line":59},"start":{"column":4,"line":59}},"25":{"end":{"column":5,"line":64},"start":{"column":4,"line":60}},"26":{"end":{"column":36,"line":61},"start":{"column":6,"line":61}},"27":{"end":{"column":19,"line":63},"start":{"column":6,"line":63}},"28":{"end":{"column":39,"line":65},"start":{"column":4,"line":65}},"29":{"end":{"column":111,"line":68},"start":{"column":4,"line":68}},"30":{"end":{"column":50,"line":69},"start":{"column":4,"line":69}},"31":{"end":{"column":47,"line":70},"start":{"column":4,"line":70}},"32":{"end":{"column":40,"line":71},"start":{"column":4,"line":71}},"33":{"end":{"column":14,"line":85},"start":{"column":4,"line":72}},"34":{"end":{"column":8,"line":84},"start":{"column":6,"line":73}},"35":{"end":{"column":12,"line":83},"start":{"column":8,"line":74}},"36":{"end":{"column":7,"line":91},"start":{"column":4,"line":86}},"37":{"end":{"column":7,"line":96},"start":{"column":4,"line":92}},"38":{"end":{"column":7,"line":102},"start":{"column":4,"line":97}},"39":{"end":{"column":7,"line":105},"start":{"column":4,"line":103}},"40":{"end":{"column":64,"line":116},"start":{"column":4,"line":106}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"35":0,"40":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"53":0,"59":0,"60":0,"61":0,"63":0,"65":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"86":0,"92":0,"97":0,"103":0,"106":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/settings.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":33,"locations":[{"end":{"column":4,"line":33},"start":{"column":4,"line":33}},{"end":{"column":4,"line":33},"start":{"column":4,"line":33}}],"type":"if"}},"code":["var BS, CCDashboardActions, CCDashboardStore, CourseStore, LoadableItem, React, RenameCourse, Roster, RosterActions, RosterStore, StudentDashboardActions, StudentDashboardStore, TeacherRoster, _, ref, ref1, ref2;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","LoadableItem = require('../loadable-item');","","CourseStore = require('../../flux/course').CourseStore;","","ref = require('../../flux/roster'), RosterStore = ref.RosterStore, RosterActions = ref.RosterActions;","","ref1 = require('../../flux/student-dashboard'), StudentDashboardStore = ref1.StudentDashboardStore, StudentDashboardActions = ref1.StudentDashboardActions;","","ref2 = require('../../flux/cc-dashboard'), CCDashboardStore = ref2.CCDashboardStore, CCDashboardActions = ref2.CCDashboardActions;","","Roster = require('./roster');","","TeacherRoster = require('./teacher-roster');","","RenameCourse = require('./rename-course');","","module.exports = React.createClass({","  displayName: 'CourseSettings',","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  render: function() {","    var actions, course, store;","    course = CourseStore.get(this.props.courseId);","    if (course.is_concept_coach) {","      store = CCDashboardStore;","      actions = CCDashboardActions;","    } else {","      store = StudentDashboardStore;","      actions = StudentDashboardActions;","    }","    return React.createElement(BS.Panel, {","      \"className\": 'course-settings'","    }, React.createElement(\"span\", {","      \"className\": 'course-settings-title'","    }, course.name, React.createElement(RenameCourse, {","      \"courseId\": this.props.courseId,","      \"course\": course","    })), React.createElement(\"div\", {","      \"className\": \"settings-section teachers\"","    }, React.createElement(LoadableItem, {","      \"id\": this.props.courseId,","      \"store\": store,","      \"actions\": actions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(TeacherRoster, {","            \"store\": store,","            \"courseRoles\": course.roles,","            \"courseId\": _this.props.courseId","          });","        };","      })(this))","    })), React.createElement(\"div\", {","      \"className\": \"settings-section periods\"","    }, React.createElement(LoadableItem, {","      \"id\": this.props.courseId,","      \"store\": RosterStore,","      \"actions\": RosterActions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(Roster, {","            \"courseId\": _this.props.courseId","          });","        };","      })(this))","    })));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"line":30,"loc":{"end":{"column":21,"line":30},"start":{"column":10,"line":30}},"name":"(anonymous_1)"},"2":{"line":53,"loc":{"end":{"column":38,"line":53},"start":{"column":22,"line":53}},"name":"(anonymous_2)"},"3":{"line":54,"loc":{"end":{"column":26,"line":54},"start":{"column":15,"line":54}},"name":"(anonymous_3)"},"4":{"line":68,"loc":{"end":{"column":38,"line":68},"start":{"column":22,"line":68}},"name":"(anonymous_4)"},"5":{"line":69,"loc":{"end":{"column":26,"line":69},"start":{"column":15,"line":69}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/settings.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"statementMap":{"1":{"end":{"column":212,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":43,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":101,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":155,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":130,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":29,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":44,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":42,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":77},"start":{"column":0,"line":25}},"14":{"end":{"column":31,"line":31},"start":{"column":4,"line":31}},"15":{"end":{"column":50,"line":32},"start":{"column":4,"line":32}},"16":{"end":{"column":5,"line":39},"start":{"column":4,"line":33}},"17":{"end":{"column":31,"line":34},"start":{"column":6,"line":34}},"18":{"end":{"column":35,"line":35},"start":{"column":6,"line":35}},"19":{"end":{"column":36,"line":37},"start":{"column":6,"line":37}},"20":{"end":{"column":40,"line":38},"start":{"column":6,"line":38}},"21":{"end":{"column":9,"line":75},"start":{"column":4,"line":40}},"22":{"end":{"column":10,"line":60},"start":{"column":8,"line":54}},"23":{"end":{"column":13,"line":59},"start":{"column":10,"line":55}},"24":{"end":{"column":10,"line":73},"start":{"column":8,"line":69}},"25":{"end":{"column":13,"line":72},"start":{"column":10,"line":70}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"31":0,"32":0,"33":0,"34":0,"35":0,"37":0,"38":0,"40":0,"54":0,"55":0,"69":0,"70":0}},
"/Users/phil/github/openstax/tutor-js/src/components/course-settings/teacher-roster.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":36,"locations":[{"end":{"column":50,"line":36},"start":{"column":15,"line":36}},{"end":{"column":56,"line":36},"start":{"column":54,"line":36}}],"type":"binary-expr"}},"code":["var BS, Icon, React, RemoveTeacherLink, TeacherRosterActions, TeacherRosterStore, _, ref;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","Icon = require('../icon');","","ref = require('../../flux/teacher-roster'), TeacherRosterStore = ref.TeacherRosterStore, TeacherRosterActions = ref.TeacherRosterActions;","","RemoveTeacherLink = require('./remove-teacher');","","module.exports = React.createClass({","  displayName: 'TeacherRoster',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    courseRoles: React.PropTypes.array.isRequired,","    store: React.PropTypes.object.isRequired","  },","  renderTeacherRow: function(teacher) {","    return React.createElement(\"tr\", {","      \"key\": teacher.id","    }, React.createElement(\"td\", null, teacher.first_name), React.createElement(\"td\", null, teacher.last_name), React.createElement(\"td\", {","      \"className\": \"actions\"","    }, React.createElement(RemoveTeacherLink, {","      \"courseId\": this.props.courseId,","      \"courseRoles\": this.props.courseRoles,","      \"teacher\": teacher","    })));","  },","  render: function() {","    var courseId, ref1, store, teacher, teachers;","    ref1 = this.props, courseId = ref1.courseId, store = ref1.store;","    teachers = store.get(courseId).course.teachers || [];","    return React.createElement(\"div\", {","      \"className\": \"teachers-table\"","    }, React.createElement(\"div\", null, React.createElement(\"span\", {","      \"className\": 'course-settings-subtitle'","    }, \"Instructors\")), React.createElement(BS.Table, {","      \"striped\": true,","      \"bordered\": true,","      \"condensed\": true,","      \"hover\": true,","      \"className\": \"roster\"","    }, React.createElement(\"thead\", null, React.createElement(\"tr\", null, React.createElement(\"th\", null, \"First Name\"), React.createElement(\"th\", null, \"Last Name\"), React.createElement(\"th\", null, \"Actions\"))), React.createElement(\"tbody\", null, (function() {","      var i, len, ref2, results;","      ref2 = _.sortBy(teachers, 'last_name');","      results = [];","      for (i = 0, len = ref2.length; i < len; i++) {","        teacher = ref2[i];","        results.push(this.renderTeacherRow(teacher));","      }","      return results;","    }).call(this))));","  }","});",""],"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"line":22,"loc":{"end":{"column":38,"line":22},"start":{"column":20,"line":22}},"name":"(anonymous_1)"},"2":{"line":33,"loc":{"end":{"column":21,"line":33},"start":{"column":10,"line":33}},"name":"(anonymous_2)"},"3":{"line":47,"loc":{"end":{"column":260,"line":47},"start":{"column":249,"line":47}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/course-settings/teacher-roster.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"statementMap":{"1":{"end":{"column":89,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":137,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":48,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":58},"start":{"column":0,"line":15}},"9":{"end":{"column":9,"line":31},"start":{"column":4,"line":23}},"10":{"end":{"column":49,"line":34},"start":{"column":4,"line":34}},"11":{"end":{"column":68,"line":35},"start":{"column":4,"line":35}},"12":{"end":{"column":57,"line":36},"start":{"column":4,"line":36}},"13":{"end":{"column":21,"line":56},"start":{"column":4,"line":37}},"14":{"end":{"column":32,"line":48},"start":{"column":6,"line":48}},"15":{"end":{"column":45,"line":49},"start":{"column":6,"line":49}},"16":{"end":{"column":19,"line":50},"start":{"column":6,"line":50}},"17":{"end":{"column":7,"line":54},"start":{"column":6,"line":51}},"18":{"end":{"column":26,"line":52},"start":{"column":8,"line":52}},"19":{"end":{"column":53,"line":53},"start":{"column":8,"line":53}},"20":{"end":{"column":21,"line":55},"start":{"column":6,"line":55}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"23":0,"34":0,"35":0,"36":0,"37":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"55":0}},
"/Users/phil/github/openstax/tutor-js/src/components/dialog.cjsx":{"b":{"1":[1,0],"2":[1,1],"3":[1,0],"4":[39,0],"5":[39,0],"6":[39,39,0],"7":[31,8],"8":[39,0],"9":[39,0]},"branchMap":{"1":{"line":39,"locations":[{"end":{"column":4,"line":39},"start":{"column":4,"line":39}},{"end":{"column":4,"line":39},"start":{"column":4,"line":39}}],"type":"if"},"2":{"line":39,"locations":[{"end":{"column":63,"line":39},"start":{"column":9,"line":39}},{"end":{"column":78,"line":39},"start":{"column":68,"line":39}}],"type":"binary-expr"},"3":{"line":39,"locations":[{"end":{"column":54,"line":39},"start":{"column":43,"line":39}},{"end":{"column":63,"line":39},"start":{"column":57,"line":39}}],"type":"cond-expr"},"4":{"line":53,"locations":[{"end":{"column":4,"line":53},"start":{"column":4,"line":53}},{"end":{"column":4,"line":53},"start":{"column":4,"line":53}}],"type":"if"},"5":{"line":63,"locations":[{"end":{"column":4,"line":63},"start":{"column":4,"line":63}},{"end":{"column":4,"line":63},"start":{"column":4,"line":63}}],"type":"if"},"6":{"line":63,"locations":[{"end":{"column":14,"line":63},"start":{"column":8,"line":63}},{"end":{"column":25,"line":63},"start":{"column":18,"line":63}},{"end":{"column":38,"line":63},"start":{"column":29,"line":63}}],"type":"binary-expr"},"7":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"8":{"line":67,"locations":[{"end":{"column":53,"line":67},"start":{"column":42,"line":67}},{"end":{"column":62,"line":67},"start":{"column":56,"line":67}}],"type":"cond-expr"},"9":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"}},"code":["var BS, CloseButton, React, TutorDialog;","","React = require('react');","","BS = require('react-bootstrap');","","TutorDialog = require('./tutor-dialog');","","CloseButton = require('openstax-react-components').CloseButton;","","","/*","<Dialog","  className='my-dialog-class'","  header='Dialog Title'","  confirmMsg='Are you sure you want to close?'","  isChanged={-> true}","  onCancel={-> alert 'Cancelling'}","  >","  body text","</Dialog>"," */","","module.exports = React.createClass({","  displayName: 'Dialog',","  propTypes: {","    header: React.PropTypes.node.isRequired,","    onCancel: React.PropTypes.func.isRequired,","    isChanged: React.PropTypes.func,","    confirmMsg: React.PropTypes.string,","    footer: React.PropTypes.node,","    cancel: React.PropTypes.any,","    primary: React.PropTypes.node,","    onPrimary: React.PropTypes.func","  },","  onCancel: function() {","    var confirmMsg, isChanged, onCancel, ref;","    ref = this.props, isChanged = ref.isChanged, confirmMsg = ref.confirmMsg, onCancel = ref.onCancel;","    if ((typeof isChanged === \"function\" ? isChanged() : void 0) && confirmMsg) {","      return TutorDialog.show({","        title: 'Unsaved Changes',","        body: confirmMsg","      }).then(function() {","        return onCancel();","      });","    } else {","      return onCancel();","    }","  },","  render: function() {","    var cancel, cancelBtn, className, classes, closeBtn, footer, header, isChanged, primary, ref;","    ref = this.props, className = ref.className, header = ref.header, footer = ref.footer, primary = ref.primary, cancel = ref.cancel, isChanged = ref.isChanged;","    if (cancel) {","      cancelBtn = React.createElement(BS.Button, {","        \"aria-role\": 'close',","        \"onClick\": this.onCancel","      }, cancel);","    }","    closeBtn = React.createElement(CloseButton, {","      \"onClick\": this.onCancel","    });","    header = [header, closeBtn];","    if (footer || primary || cancelBtn) {","      footer = [primary, cancelBtn, footer];","    }","    classes = ['dialog default-dialog'];","    if (typeof isChanged === \"function\" ? isChanged() : void 0) {","      classes.push('is-changed');","    }","    if (className) {","      classes.push(className);","    }","    className = classes.join(' ');","    return React.createElement(BS.Panel, {","      \"className\": className,","      \"header\": header,","      \"footer\": footer","    }, this.props.children);","  }","});",""],"f":{"1":1,"2":1,"3":39},"fnMap":{"1":{"line":36,"loc":{"end":{"column":23,"line":36},"start":{"column":12,"line":36}},"name":"(anonymous_1)"},"2":{"line":43,"loc":{"end":{"column":25,"line":43},"start":{"column":14,"line":43}},"name":"(anonymous_2)"},"3":{"line":50,"loc":{"end":{"column":21,"line":50},"start":{"column":10,"line":50}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/dialog.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":39,"14":39,"15":39,"16":39,"17":39,"18":39,"19":39,"20":39,"21":39,"22":39,"23":31,"24":39,"25":39,"26":39,"27":39},"statementMap":{"1":{"end":{"column":40,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":40,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":63,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":80},"start":{"column":0,"line":24}},"7":{"end":{"column":45,"line":37},"start":{"column":4,"line":37}},"8":{"end":{"column":102,"line":38},"start":{"column":4,"line":38}},"9":{"end":{"column":5,"line":48},"start":{"column":4,"line":39}},"10":{"end":{"column":9,"line":45},"start":{"column":6,"line":40}},"11":{"end":{"column":26,"line":44},"start":{"column":8,"line":44}},"12":{"end":{"column":24,"line":47},"start":{"column":6,"line":47}},"13":{"end":{"column":97,"line":51},"start":{"column":4,"line":51}},"14":{"end":{"column":161,"line":52},"start":{"column":4,"line":52}},"15":{"end":{"column":5,"line":58},"start":{"column":4,"line":53}},"16":{"end":{"column":17,"line":57},"start":{"column":6,"line":54}},"17":{"end":{"column":7,"line":61},"start":{"column":4,"line":59}},"18":{"end":{"column":32,"line":62},"start":{"column":4,"line":62}},"19":{"end":{"column":5,"line":65},"start":{"column":4,"line":63}},"20":{"end":{"column":44,"line":64},"start":{"column":6,"line":64}},"21":{"end":{"column":40,"line":66},"start":{"column":4,"line":66}},"22":{"end":{"column":5,"line":69},"start":{"column":4,"line":67}},"23":{"end":{"column":33,"line":68},"start":{"column":6,"line":68}},"24":{"end":{"column":5,"line":72},"start":{"column":4,"line":70}},"25":{"end":{"column":30,"line":71},"start":{"column":6,"line":71}},"26":{"end":{"column":34,"line":73},"start":{"column":4,"line":73}},"27":{"end":{"column":28,"line":78},"start":{"column":4,"line":74}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"24":21,"37":1,"38":1,"39":1,"40":1,"44":1,"47":0,"51":39,"52":39,"53":39,"54":39,"59":39,"62":39,"63":39,"64":39,"66":39,"67":39,"68":31,"70":39,"71":39,"73":39,"74":39}},
"/Users/phil/github/openstax/tutor-js/src/components/exercise-card.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":55,"locations":[{"end":{"column":74,"line":55},"start":{"column":22,"line":55}},{"end":{"column":92,"line":55},"start":{"column":78,"line":55}}],"type":"cond-expr"},"2":{"line":55,"locations":[{"end":{"column":55,"line":55},"start":{"column":29,"line":55}},{"end":{"column":64,"line":55},"start":{"column":58,"line":55}}],"type":"cond-expr"},"3":{"line":57,"locations":[{"end":{"column":19,"line":57},"start":{"column":13,"line":57}},{"end":{"column":31,"line":57},"start":{"column":23,"line":57}}],"type":"binary-expr"},"4":{"line":62,"locations":[{"end":{"column":4,"line":62},"start":{"column":4,"line":62}},{"end":{"column":4,"line":62},"start":{"column":4,"line":62}}],"type":"if"},"5":{"line":101,"locations":[{"end":{"column":79,"line":101},"start":{"column":62,"line":101}},{"end":{"column":88,"line":101},"start":{"column":82,"line":101}}],"type":"cond-expr"}},"code":["var ArbitraryHtmlAndMath, BS, ExerciseCard, ExerciseIdentifierLink, ExerciseStore, React, _, classnames, ref;","","React = require('react');","","_ = require('underscore');","","classnames = require('classnames');","","BS = require('react-bootstrap');","","ref = require('openstax-react-components'), ArbitraryHtmlAndMath = ref.ArbitraryHtmlAndMath, ExerciseIdentifierLink = ref.ExerciseIdentifierLink;","","ExerciseStore = require('../flux/exercise').ExerciseStore;","","ExerciseCard = React.createClass({displayName: \"ExerciseCard\",","  PropTypes: {","    displayFeedback: React.PropTypes.bool,","    panelStyle: React.PropTypes.string,","    header: React.PropTypes.element,","    exercise: React.PropTypes.shape({","      content: React.PropTypes.object,","      tags: React.PropTypes.array","    }).isRequired","  },","  getDefaultProps: function() {","    return {","      panelStyle: 'default'","    };","  },","  renderAnswer: function(answer) {","    var classes;","    classes = classnames('answers-answer', {","      correct: answer.correctness === '1.0'","    });","    return React.createElement(\"div\", {","      \"key\": answer.id,","      \"className\": classes","    }, React.createElement(\"div\", {","      \"className\": \"answer-letter\"","    }), React.createElement(\"div\", {","      \"className\": \"answer\"","    }, React.createElement(ArbitraryHtmlAndMath, {","      \"className\": \"choice\",","      \"block\": false,","      \"html\": answer.content_html","    }), React.createElement(ArbitraryHtmlAndMath, {","      \"className\": \"feedback\",","      \"block\": false,","      \"html\": answer.feedback_html","    })));","  },","  renderTag: function(tag) {","    var classes, content, isLO, ref1;","    ref1 = ExerciseStore.getTagContent(tag), content = ref1.content, isLO = ref1.isLO;","    classes = isLO ? (isLO ? content = \"LO: \" + content : void 0, 'lo-tag') : 'exercise-tag';","    return React.createElement(\"span\", {","      \"key\": tag.id || tag.name,","      \"className\": classes","    }, content);","  },","  onClick: function(ev) {","    if (ev.target.tagName !== 'A') {","      return this.props.toggleExercise();","    }","  },","  render: function() {","    var classes, content, question, ref1, renderedAnswers, renderedTags, tags;","    content = this.props.exercise.content;","    question = content.questions[0];","    renderedAnswers = _(question.answers).chain().sortBy('id').map(this.renderAnswer).value();","    tags = _.clone(this.props.exercise.tags);","    renderedTags = _.map(_.sortBy(tags, 'name'), this.renderTag);","    renderedTags.push(React.createElement(ExerciseIdentifierLink, {","      \"exerciseId\": this.props.exercise.content.uid","    }));","    classes = classnames('card', 'exercise', {","      'is-displaying-feedback': this.props.displayFeedback","    });","    return React.createElement(BS.Panel, {","      \"className\": classes,","      \"bsStyle\": this.props.panelStyle,","      \"header\": this.props.header,","      \"onClick\": this.onClick","    }, React.createElement(ArbitraryHtmlAndMath, {","      \"className\": '-stimulus',","      \"block\": true,","      \"html\": content.stimulus_html","    }), React.createElement(ArbitraryHtmlAndMath, {","      \"className\": 'stem',","      \"block\": true,","      \"html\": question.stem_html","    }), React.createElement(\"div\", {","      \"className\": 'answers-table'","    }, renderedAnswers), React.createElement(\"div\", {","      \"className\": 'detailed-solution'","    }, React.createElement(\"div\", {","      \"className\": 'header'","    }, \"Detailed solution\"), React.createElement(ArbitraryHtmlAndMath, {","      \"className\": \"solution\",","      \"block\": true,","      \"html\": ((ref1 = _.first(question.solutions)) != null ? ref1.content_html : void 0)","    })), React.createElement(\"div\", {","      \"className\": 'exercise-tags'","    }, renderedTags), this.props.children);","  }","});","","module.exports = ExerciseCard;",""],"f":{"1":21,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"line":25,"loc":{"end":{"column":30,"line":25},"start":{"column":19,"line":25}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":33,"line":30},"start":{"column":16,"line":30}},"name":"(anonymous_2)"},"3":{"line":52,"loc":{"end":{"column":27,"line":52},"start":{"column":13,"line":52}},"name":"(anonymous_3)"},"4":{"line":61,"loc":{"end":{"column":24,"line":61},"start":{"column":11,"line":61}},"name":"(anonymous_4)"},"5":{"line":66,"loc":{"end":{"column":21,"line":66},"start":{"column":10,"line":66}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/exercise-card.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":21},"statementMap":{"1":{"end":{"column":109,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":32,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":145,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":58,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":106},"start":{"column":0,"line":15}},"9":{"end":{"column":6,"line":28},"start":{"column":4,"line":26}},"10":{"end":{"column":16,"line":31},"start":{"column":4,"line":31}},"11":{"end":{"column":7,"line":34},"start":{"column":4,"line":32}},"12":{"end":{"column":9,"line":50},"start":{"column":4,"line":35}},"13":{"end":{"column":37,"line":53},"start":{"column":4,"line":53}},"14":{"end":{"column":86,"line":54},"start":{"column":4,"line":54}},"15":{"end":{"column":93,"line":55},"start":{"column":4,"line":55}},"16":{"end":{"column":16,"line":59},"start":{"column":4,"line":56}},"17":{"end":{"column":5,"line":64},"start":{"column":4,"line":62}},"18":{"end":{"column":41,"line":63},"start":{"column":6,"line":63}},"19":{"end":{"column":78,"line":67},"start":{"column":4,"line":67}},"20":{"end":{"column":42,"line":68},"start":{"column":4,"line":68}},"21":{"end":{"column":36,"line":69},"start":{"column":4,"line":69}},"22":{"end":{"column":94,"line":70},"start":{"column":4,"line":70}},"23":{"end":{"column":45,"line":71},"start":{"column":4,"line":71}},"24":{"end":{"column":65,"line":72},"start":{"column":4,"line":72}},"25":{"end":{"column":8,"line":75},"start":{"column":4,"line":73}},"26":{"end":{"column":7,"line":78},"start":{"column":4,"line":76}},"27":{"end":{"column":43,"line":104},"start":{"column":4,"line":79}},"28":{"end":{"column":30,"line":108},"start":{"column":0,"line":108}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"26":21,"31":0,"32":0,"35":0,"53":0,"54":0,"55":0,"56":0,"62":0,"63":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"76":0,"79":0,"108":21}},
"/Users/phil/github/openstax/tutor-js/src/components/icon.cjsx":{"b":{"1":[0,8],"2":[0,8]},"branchMap":{"1":{"line":25,"locations":[{"end":{"column":4,"line":25},"start":{"column":4,"line":25}},{"end":{"column":4,"line":25},"start":{"column":4,"line":25}}],"type":"if"},"2":{"line":31,"locations":[{"end":{"column":4,"line":31},"start":{"column":4,"line":31}},{"end":{"column":4,"line":31},"start":{"column":4,"line":31}}],"type":"if"}},"code":["var BS, React;","","React = require('react');","","BS = require('react-bootstrap');","","module.exports = React.createClass({","  displayName: 'Icon',","  propTypes: {","    type: React.PropTypes.string,","    className: React.PropTypes.string,","    tooltip: React.PropTypes.string,","    tooltipProps: React.PropTypes.object","  },","  getDefaultProps: function() {","    return {","      tooltipProps: {","        placement: 'bottom'","      }","    };","  },","  render: function() {","    var classes, icon, tooltip;","    classes = ['tutor-icon', 'fa', \"fa-\" + this.props.type];","    if (this.props.className) {","      classes.push(this.props.className);","    }","    icon = React.createElement(\"i\", {","      \"className\": classes.join(' ')","    });","    if (this.props.tooltip) {","      tooltip = React.createElement(BS.Tooltip, null, this.props.tooltip);","      return React.createElement(BS.OverlayTrigger, React.__spread({}, this.props.tooltipProps, {","        \"overlay\": tooltip","      }), icon);","    } else {","      return icon;","    }","  }","});",""],"f":{"1":21,"2":8},"fnMap":{"1":{"line":15,"loc":{"end":{"column":30,"line":15},"start":{"column":19,"line":15}},"name":"(anonymous_1)"},"2":{"line":22,"loc":{"end":{"column":21,"line":22},"start":{"column":10,"line":22}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/icon.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":8,"7":8,"8":8,"9":0,"10":8,"11":8,"12":0,"13":0,"14":8},"statementMap":{"1":{"end":{"column":14,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":40},"start":{"column":0,"line":7}},"5":{"end":{"column":6,"line":20},"start":{"column":4,"line":16}},"6":{"end":{"column":31,"line":23},"start":{"column":4,"line":23}},"7":{"end":{"column":60,"line":24},"start":{"column":4,"line":24}},"8":{"end":{"column":5,"line":27},"start":{"column":4,"line":25}},"9":{"end":{"column":41,"line":26},"start":{"column":6,"line":26}},"10":{"end":{"column":7,"line":30},"start":{"column":4,"line":28}},"11":{"end":{"column":5,"line":38},"start":{"column":4,"line":31}},"12":{"end":{"column":74,"line":32},"start":{"column":6,"line":32}},"13":{"end":{"column":16,"line":35},"start":{"column":6,"line":33}},"14":{"end":{"column":18,"line":37},"start":{"column":6,"line":37}}},"l":{"1":21,"3":21,"5":21,"7":21,"16":21,"23":8,"24":8,"25":8,"26":0,"28":8,"31":8,"32":0,"33":0,"37":8}},
"/Users/phil/github/openstax/tutor-js/src/components/index.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":28,"locations":[{"end":{"column":57,"line":28},"start":{"column":33,"line":28}},{"end":{"column":62,"line":28},"start":{"column":60,"line":28}}],"type":"cond-expr"},"2":{"line":69,"locations":[{"end":{"column":106,"line":69},"start":{"column":44,"line":69}},{"end":{"column":115,"line":69},"start":{"column":109,"line":69}}],"type":"cond-expr"},"3":{"line":69,"locations":[{"end":{"column":97,"line":69},"start":{"column":75,"line":69}},{"end":{"column":106,"line":69},"start":{"column":100,"line":69}}],"type":"cond-expr"},"4":{"line":119,"locations":[{"end":{"column":22,"line":119},"start":{"column":12,"line":119}},{"end":{"column":58,"line":119},"start":{"column":26,"line":119}}],"type":"binary-expr"},"5":{"line":120,"locations":[{"end":{"column":4,"line":120},"start":{"column":4,"line":120}},{"end":{"column":4,"line":120},"start":{"column":4,"line":120}}],"type":"if"}},"code":["var App, BS, CourseActions, CourseStore, CurrentUserActions, CurrentUserStore, Invalid, LoadableItem, React, Root, Router, SinglePractice, SingleTask, Task, TaskActions, TaskResult, TaskStore, _, err, ref, ref1, ref2,","  slice = [].slice;","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","Root = require('./root');","","App = require('./app');","","Task = require('./task');","","LoadableItem = require('./loadable-item');","","ref = require('../flux/task'), TaskActions = ref.TaskActions, TaskStore = ref.TaskStore;","","ref1 = require('../flux/course'), CourseActions = ref1.CourseActions, CourseStore = ref1.CourseStore;","","ref2 = require('../flux/current-user'), CurrentUserActions = ref2.CurrentUserActions, CurrentUserStore = ref2.CurrentUserStore;","","err = function() {","  var msgs;","  msgs = 1 <= arguments.length ? slice.call(arguments, 0) : [];","  console.error.apply(console, msgs);","  throw new Error(JSON.stringify.apply(JSON, msgs));","};","","SingleTask = React.createClass({","  displayName: 'SingleTask',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var id;","    id = this.context.router.getCurrentParams().id;","    return React.createElement(LoadableItem, {","      \"id\": id,","      \"store\": TaskStore,","      \"actions\": TaskActions,","      \"renderItem\": (function() {","        return React.createElement(Task, {","          \"key\": id,","          \"id\": id","        });","      })","    });","  }","});","","SinglePractice = React.createClass({","  displayName: 'SinglePractice',","  contextTypes: {","    router: React.PropTypes.func","  },","  componentWillMount: function() {","    this.createPractice(this.getId());","    return CourseStore.on('practice.loaded', this.update);","  },","  componentWillUnmount: function() {","    return CourseStore.off('practice.loaded', this.update);","  },","  createPractice: function(courseId) {","    var query, ref3, ref4;","    query = (ref3 = this.context) != null ? (ref4 = ref3.router) != null ? ref4.getCurrentQuery() : void 0 : void 0;","    return CourseActions.createPractice(courseId, query);","  },","  getInitialState: function() {","    return {","      taskId: null","    };","  },","  getId: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return courseId;","  },","  update: function() {","    return this.setState({","      taskId: CourseStore.getPracticeId(this.getId())","    });","  },","  render: function() {","    return React.createElement(LoadableItem, {","      \"id\": this.state.taskId,","      \"store\": TaskStore,","      \"actions\": TaskActions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(Task, {","            \"key\": _this.state.taskId,","            \"id\": _this.state.taskId","          });","        };","      })(this))","    });","  }","});","","TaskResult = React.createClass({","  displayName: 'TaskResult',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    id: React.PropTypes.string.isRequired","  },","  render: function() {","    var actionTitle, courseId, id, mainType, ref3, steps, stepsInfo, task, title;","    ref3 = this.props, courseId = ref3.courseId, id = ref3.id;","    task = TaskStore.get(id);","    steps = TaskStore.getSteps(id);","    actionTitle = 'Work Now';","    title = task.title || err('BUG: Task without a title');","    if (steps.length === 1) {","      mainType = steps[0].type;","    } else {","      mainType = '';","      stepsInfo = React.createElement(\"small\", {","        \"className\": 'details'","      }, \"(\", steps.length, \" steps)\");","    }","    return React.createElement(BS.Panel, {","      \"bsStyle\": 'default',","      \"onClick\": this.onClick","    }, React.createElement(Router.Link, {","      \"to\": 'viewTask',","      \"params\": {","        courseId: courseId,","        id: id","      }","    }, React.createElement(\"i\", {","      \"className\": \"fa fa-fw \" + mainType","    }), title), stepsInfo, React.createElement(\"span\", {","      \"className\": 'pull-right'","    }, React.createElement(Router.Link, {","      \"to\": 'viewTask',","      \"params\": {","        courseId: courseId,","        id: id","      },","      \"className\": 'ui-action btn btn-primary btn-sm'","    }, actionTitle)));","  },","  onClick: function() {","    var courseId, id, ref3;","    ref3 = this.props, courseId = ref3.courseId, id = ref3.id;","    return this.context.router.transitionTo('viewTask', {","      courseId: courseId,","      id: id","    });","  }","});","","Invalid = React.createClass({displayName: \"Invalid\",","  render: function() {","    return React.createElement(\"div\", null, React.createElement(\"h1\", null, \"Woops, this is an invalid page \", this.props.path), React.createElement(Router.Link, {","      \"to\": 'dashboard'","    }, \"Home\"));","  }","});","","module.exports = {","  App: App,","  SingleTask: SingleTask,","  SinglePractice: SinglePractice,","  Invalid: Invalid","};",""],"f":{"1":0,"2":2,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"line":26,"loc":{"end":{"column":17,"line":26},"start":{"column":6,"line":26}},"name":"(anonymous_1)"},"2":{"line":38,"loc":{"end":{"column":21,"line":38},"start":{"column":10,"line":38}},"name":"(anonymous_2)"},"3":{"line":45,"loc":{"end":{"column":32,"line":45},"start":{"column":21,"line":45}},"name":"(anonymous_3)"},"4":{"line":60,"loc":{"end":{"column":33,"line":60},"start":{"column":22,"line":60}},"name":"(anonymous_4)"},"5":{"line":64,"loc":{"end":{"column":35,"line":64},"start":{"column":24,"line":64}},"name":"(anonymous_5)"},"6":{"line":67,"loc":{"end":{"column":37,"line":67},"start":{"column":18,"line":67}},"name":"(anonymous_6)"},"7":{"line":72,"loc":{"end":{"column":30,"line":72},"start":{"column":19,"line":72}},"name":"(anonymous_7)"},"8":{"line":77,"loc":{"end":{"column":20,"line":77},"start":{"column":9,"line":77}},"name":"(anonymous_8)"},"9":{"line":82,"loc":{"end":{"column":21,"line":82},"start":{"column":10,"line":82}},"name":"(anonymous_9)"},"10":{"line":87,"loc":{"end":{"column":21,"line":87},"start":{"column":10,"line":87}},"name":"(anonymous_10)"},"11":{"line":92,"loc":{"end":{"column":38,"line":92},"start":{"column":22,"line":92}},"name":"(anonymous_11)"},"12":{"line":93,"loc":{"end":{"column":26,"line":93},"start":{"column":15,"line":93}},"name":"(anonymous_12)"},"13":{"line":113,"loc":{"end":{"column":21,"line":113},"start":{"column":10,"line":113}},"name":"(anonymous_13)"},"14":{"line":150,"loc":{"end":{"column":22,"line":150},"start":{"column":11,"line":150}},"name":"(anonymous_14)"},"15":{"line":161,"loc":{"end":{"column":21,"line":161},"start":{"column":10,"line":161}},"name":"(anonymous_15)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":0,"15":0,"16":0,"17":0,"18":21,"19":2,"20":2,"21":2,"22":2,"23":21,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":21,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":21,"54":0,"55":21},"statementMap":{"1":{"end":{"column":19,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":4},"start":{"column":0,"line":4}},"3":{"end":{"column":25,"line":6},"start":{"column":0,"line":6}},"4":{"end":{"column":32,"line":8},"start":{"column":0,"line":8}},"5":{"end":{"column":33,"line":10},"start":{"column":0,"line":10}},"6":{"end":{"column":25,"line":12},"start":{"column":0,"line":12}},"7":{"end":{"column":23,"line":14},"start":{"column":0,"line":14}},"8":{"end":{"column":25,"line":16},"start":{"column":0,"line":16}},"9":{"end":{"column":42,"line":18},"start":{"column":0,"line":18}},"10":{"end":{"column":88,"line":20},"start":{"column":0,"line":20}},"11":{"end":{"column":101,"line":22},"start":{"column":0,"line":22}},"12":{"end":{"column":127,"line":24},"start":{"column":0,"line":24}},"13":{"end":{"column":2,"line":31},"start":{"column":0,"line":26}},"14":{"end":{"column":11,"line":27},"start":{"column":2,"line":27}},"15":{"end":{"column":63,"line":28},"start":{"column":2,"line":28}},"16":{"end":{"column":37,"line":29},"start":{"column":2,"line":29}},"17":{"end":{"column":52,"line":30},"start":{"column":2,"line":30}},"18":{"end":{"column":3,"line":53},"start":{"column":0,"line":33}},"19":{"end":{"column":11,"line":39},"start":{"column":4,"line":39}},"20":{"end":{"column":51,"line":40},"start":{"column":4,"line":40}},"21":{"end":{"column":7,"line":51},"start":{"column":4,"line":41}},"22":{"end":{"column":11,"line":49},"start":{"column":8,"line":46}},"23":{"end":{"column":3,"line":102},"start":{"column":0,"line":55}},"24":{"end":{"column":38,"line":61},"start":{"column":4,"line":61}},"25":{"end":{"column":58,"line":62},"start":{"column":4,"line":62}},"26":{"end":{"column":59,"line":65},"start":{"column":4,"line":65}},"27":{"end":{"column":26,"line":68},"start":{"column":4,"line":68}},"28":{"end":{"column":116,"line":69},"start":{"column":4,"line":69}},"29":{"end":{"column":57,"line":70},"start":{"column":4,"line":70}},"30":{"end":{"column":6,"line":75},"start":{"column":4,"line":73}},"31":{"end":{"column":17,"line":78},"start":{"column":4,"line":78}},"32":{"end":{"column":63,"line":79},"start":{"column":4,"line":79}},"33":{"end":{"column":20,"line":80},"start":{"column":4,"line":80}},"34":{"end":{"column":7,"line":85},"start":{"column":4,"line":83}},"35":{"end":{"column":7,"line":100},"start":{"column":4,"line":88}},"36":{"end":{"column":10,"line":98},"start":{"column":8,"line":93}},"37":{"end":{"column":13,"line":97},"start":{"column":10,"line":94}},"38":{"end":{"column":3,"line":158},"start":{"column":0,"line":104}},"39":{"end":{"column":81,"line":114},"start":{"column":4,"line":114}},"40":{"end":{"column":62,"line":115},"start":{"column":4,"line":115}},"41":{"end":{"column":29,"line":116},"start":{"column":4,"line":116}},"42":{"end":{"column":35,"line":117},"start":{"column":4,"line":117}},"43":{"end":{"column":29,"line":118},"start":{"column":4,"line":118}},"44":{"end":{"column":59,"line":119},"start":{"column":4,"line":119}},"45":{"end":{"column":5,"line":127},"start":{"column":4,"line":120}},"46":{"end":{"column":31,"line":121},"start":{"column":6,"line":121}},"47":{"end":{"column":20,"line":123},"start":{"column":6,"line":123}},"48":{"end":{"column":39,"line":126},"start":{"column":6,"line":124}},"49":{"end":{"column":22,"line":148},"start":{"column":4,"line":128}},"50":{"end":{"column":27,"line":151},"start":{"column":4,"line":151}},"51":{"end":{"column":62,"line":152},"start":{"column":4,"line":152}},"52":{"end":{"column":7,"line":156},"start":{"column":4,"line":153}},"53":{"end":{"column":3,"line":166},"start":{"column":0,"line":160}},"54":{"end":{"column":16,"line":164},"start":{"column":4,"line":162}},"55":{"end":{"column":2,"line":173},"start":{"column":0,"line":168}}},"l":{"1":21,"4":21,"6":21,"8":21,"10":21,"12":21,"14":21,"16":21,"18":21,"20":21,"22":21,"24":21,"26":21,"27":0,"28":0,"29":0,"30":0,"33":21,"39":2,"40":2,"41":2,"46":2,"55":21,"61":0,"62":0,"65":0,"68":0,"69":0,"70":0,"73":0,"78":0,"79":0,"80":0,"83":0,"88":0,"93":0,"94":0,"104":21,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"123":0,"124":0,"128":0,"151":0,"152":0,"153":0,"160":21,"162":0,"168":21}},
"/Users/phil/github/openstax/tutor-js/src/components/late-icon.cjsx":{"b":{"1":[740,113],"2":[853,667],"3":[113,0]},"branchMap":{"1":{"line":33,"locations":[{"end":{"column":4,"line":33},"start":{"column":4,"line":33}},{"end":{"column":4,"line":33},"start":{"column":4,"line":33}}],"type":"if"},"2":{"line":33,"locations":[{"end":{"column":37,"line":33},"start":{"column":8,"line":33}},{"end":{"column":56,"line":33},"start":{"column":41,"line":33}}],"type":"binary-expr"},"3":{"line":37,"locations":[{"end":{"column":4,"line":37},"start":{"column":4,"line":37}},{"end":{"column":4,"line":37},"start":{"column":4,"line":37}}],"type":"if"}},"code":["var BS, React, S, TaskHelper;","","React = require('react');","","BS = require('react-bootstrap');","","S = require('../helpers/string');","","TaskHelper = require('../helpers/task');","","module.exports = React.createClass({","  displayName: 'LateIcon',","  propTypes: {","    task: React.PropTypes.shape({","      due_at: React.PropTypes.string,","      last_worked_at: React.PropTypes.string,","      type: React.PropTypes.string,","      status: React.PropTypes.string","    }).isRequired,","    buildLateMessage: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      buildLateMessage: function(task, status) {","        return S.capitalize(task.type) + ' was started ' + status.how_late + ' late';","      }","    };","  },","  render: function() {","    var buildLateMessage, className, classes, ref, status, task, tooltip;","    ref = this.props, task = ref.task, className = ref.className, buildLateMessage = ref.buildLateMessage;","    status = TaskHelper.getLateness(task);","    if (task.status === 'not_started' || !status.is_late) {","      return null;","    }","    classes = 'late';","    if (className != null) {","      classes += \" \" + className;","    }","    tooltip = React.createElement(BS.Tooltip, null, buildLateMessage(task, status));","    return React.createElement(BS.OverlayTrigger, {","      \"placement\": 'top',","      \"overlay\": tooltip","    }, React.createElement(\"i\", {","      \"className\": classes","    }));","  }","});",""],"f":{"1":21,"2":113,"3":853},"fnMap":{"1":{"line":22,"loc":{"end":{"column":30,"line":22},"start":{"column":19,"line":22}},"name":"(anonymous_1)"},"2":{"line":24,"loc":{"end":{"column":47,"line":24},"start":{"column":24,"line":24}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":21,"line":29},"start":{"column":10,"line":29}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/late-icon.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":113,"9":853,"10":853,"11":853,"12":853,"13":740,"14":113,"15":113,"16":113,"17":113,"18":113},"statementMap":{"1":{"end":{"column":29,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":40,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":48},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":27},"start":{"column":4,"line":23}},"8":{"end":{"column":85,"line":25},"start":{"column":8,"line":25}},"9":{"end":{"column":73,"line":30},"start":{"column":4,"line":30}},"10":{"end":{"column":106,"line":31},"start":{"column":4,"line":31}},"11":{"end":{"column":42,"line":32},"start":{"column":4,"line":32}},"12":{"end":{"column":5,"line":35},"start":{"column":4,"line":33}},"13":{"end":{"column":18,"line":34},"start":{"column":6,"line":34}},"14":{"end":{"column":21,"line":36},"start":{"column":4,"line":36}},"15":{"end":{"column":5,"line":39},"start":{"column":4,"line":37}},"16":{"end":{"column":33,"line":38},"start":{"column":6,"line":38}},"17":{"end":{"column":84,"line":40},"start":{"column":4,"line":40}},"18":{"end":{"column":8,"line":46},"start":{"column":4,"line":41}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"23":21,"25":113,"30":853,"31":853,"32":853,"33":853,"34":740,"36":113,"37":113,"38":113,"40":113,"41":113}},
"/Users/phil/github/openstax/tutor-js/src/components/loadable-item.cjsx":{"b":{"1":[0,285],"2":[183,102],"3":[285,183,183,183,183],"4":[102,0],"5":[95,7],"6":[285,0],"7":[285,0],"8":[285,0],"9":[0,520],"10":[417,103],"11":[57,46],"12":[0,46],"13":[46,0],"14":[46,0],"15":[0,0],"16":[0,0,0]},"branchMap":{"1":{"line":40,"locations":[{"end":{"column":4,"line":40},"start":{"column":4,"line":40}},{"end":{"column":4,"line":40},"start":{"column":4,"line":40}}],"type":"if"},"2":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"3":{"line":43,"locations":[{"end":{"column":26,"line":43},"start":{"column":8,"line":43}},{"end":{"column":54,"line":43},"start":{"column":30,"line":43}},{"end":{"column":86,"line":43},"start":{"column":58,"line":43}},{"end":{"column":112,"line":43},"start":{"column":90,"line":43}},{"end":{"column":152,"line":43},"start":{"column":116,"line":43}}],"type":"binary-expr"},"4":{"line":46,"locations":[{"end":{"column":4,"line":46},"start":{"column":4,"line":46}},{"end":{"column":4,"line":46},"start":{"column":4,"line":46}}],"type":"if"},"5":{"line":49,"locations":[{"end":{"column":4,"line":49},"start":{"column":4,"line":49}},{"end":{"column":4,"line":49},"start":{"column":4,"line":49}}],"type":"if"},"6":{"line":56,"locations":[{"end":{"column":4,"line":56},"start":{"column":4,"line":56}},{"end":{"column":4,"line":56},"start":{"column":4,"line":56}}],"type":"if"},"7":{"line":59,"locations":[{"end":{"column":4,"line":59},"start":{"column":4,"line":59}},{"end":{"column":4,"line":59},"start":{"column":4,"line":59}}],"type":"if"},"8":{"line":62,"locations":[{"end":{"column":4,"line":62},"start":{"column":4,"line":62}},{"end":{"column":4,"line":62},"start":{"column":4,"line":62}}],"type":"if"},"9":{"line":66,"locations":[{"end":{"column":6,"line":66},"start":{"column":6,"line":66}},{"end":{"column":6,"line":66},"start":{"column":6,"line":66}}],"type":"if"},"10":{"line":69,"locations":[{"end":{"column":6,"line":69},"start":{"column":6,"line":69}},{"end":{"column":6,"line":69},"start":{"column":6,"line":69}}],"type":"if"},"11":{"line":71,"locations":[{"end":{"column":13,"line":71},"start":{"column":13,"line":71}},{"end":{"column":13,"line":71},"start":{"column":13,"line":71}}],"type":"if"},"12":{"line":73,"locations":[{"end":{"column":13,"line":73},"start":{"column":13,"line":73}},{"end":{"column":13,"line":73},"start":{"column":13,"line":73}}],"type":"if"},"13":{"line":75,"locations":[{"end":{"column":13,"line":75},"start":{"column":13,"line":75}},{"end":{"column":13,"line":75},"start":{"column":13,"line":75}}],"type":"if"},"14":{"line":75,"locations":[{"end":{"column":45,"line":75},"start":{"column":17,"line":75}},{"end":{"column":74,"line":75},"start":{"column":49,"line":75}}],"type":"binary-expr"},"15":{"line":77,"locations":[{"end":{"column":13,"line":77},"start":{"column":13,"line":77}},{"end":{"column":13,"line":77},"start":{"column":13,"line":77}}],"type":"if"},"16":{"line":77,"locations":[{"end":{"column":41,"line":77},"start":{"column":17,"line":77}},{"end":{"column":70,"line":77},"start":{"column":45,"line":77}},{"end":{"column":79,"line":77},"start":{"column":74,"line":77}}],"type":"binary-expr"}},"code":["var Loadable, React, _;","","React = require('react');","","Loadable = require('./loadable');","","_ = require('underscore');","","module.exports = React.createClass({","  displayName: 'LoadableItem',","  propTypes: {","    id: React.PropTypes.string.isRequired,","    options: React.PropTypes.object,","    store: React.PropTypes.object.isRequired,","    actions: React.PropTypes.object.isRequired,","    renderItem: React.PropTypes.func.isRequired,","    saved: React.PropTypes.func,","    load: React.PropTypes.func,","    renderLoading: React.PropTypes.func,","    renderError: React.PropTypes.func,","    update: React.PropTypes.func,","    bindEvent: React.PropTypes.string,","    isLong: React.PropTypes.bool","  },","  getDefaultProps: function() {","    return {","      bindEvent: 'change',","      isLong: false","    };","  },","  componentDidMount: function() {","    return this.reload({});","  },","  componentDidUpdate: function(oldProps) {","    return this.reload(oldProps);","  },","  reload: function(oldProps) {","    var actions, id, load, options, ref, store;","    ref = this.props, id = ref.id, store = ref.store, load = ref.load, actions = ref.actions, options = ref.options;","    if (id == null) {","      return;","    }","    if (oldProps.id === id && oldProps.store === store && oldProps.actions === actions && oldProps.load === load && _.isEqual(oldProps.options, options)) {","      return;","    }","    if (load == null) {","      load = actions.load;","    }","    if (!store.isNew(id, options)) {","      return load(id, options);","    }","  },","  render: function() {","    var actions, bindEvent, id, isLoaded, isLoading, isLoadingOrLoad, isLong, load, options, ref, renderBug, renderError, renderItem, renderLoading, renderModes, saved, store, update;","    ref = this.props, id = ref.id, store = ref.store, actions = ref.actions, load = ref.load, isLoaded = ref.isLoaded, isLoading = ref.isLoading, renderItem = ref.renderItem, saved = ref.saved, renderLoading = ref.renderLoading, renderError = ref.renderError, renderBug = ref.renderBug, update = ref.update, options = ref.options, bindEvent = ref.bindEvent, isLong = ref.isLong;","    if (load == null) {","      load = actions.load;","    }","    if (isLoaded == null) {","      isLoaded = store.isLoaded;","    }","    if (isLoading == null) {","      isLoading = store.isLoading;","    }","    isLoadingOrLoad = function() {","      if (id == null) {","        return true;","      }","      if (store.get(id, options)) {","        return false;","      } else if (isLoading(id, options)) {","        return true;","      } else if (isLoaded(id, options)) {","        return false;","      } else if (store.isUnknown(id, options) || store.reload(id, options)) {","        return true;","      } else if (store.isNew(id, options) && store.get(id, options).id && saved) {","        return saved();","      } else {","        return false;","      }","    };","    renderModes = {","      renderLoading: renderLoading,","      renderError: renderError,","      renderBug: renderBug","    };","    return React.createElement(Loadable, {","      \"store\": store,","      \"isLoading\": isLoadingOrLoad,","      \"isLoaded\": (function() {","        return isLoaded(id);","      }),","      \"isFailed\": (function() {","        return store.isFailed(id);","      }),","      \"render\": renderItem,","      \"renderLoading\": renderLoading,","      \"update\": update,","      \"bindEvent\": bindEvent,","      \"isLong\": isLong,","      \"renderModes\": true,","      \"s\": true","    });","  }","});",""],"f":{"1":21,"2":102,"3":183,"4":285,"5":285,"6":520,"7":417,"8":186},"fnMap":{"1":{"line":25,"loc":{"end":{"column":30,"line":25},"start":{"column":19,"line":25}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":32,"line":31},"start":{"column":21,"line":31}},"name":"(anonymous_2)"},"3":{"line":34,"loc":{"end":{"column":41,"line":34},"start":{"column":22,"line":34}},"name":"(anonymous_3)"},"4":{"line":37,"loc":{"end":{"column":29,"line":37},"start":{"column":10,"line":37}},"name":"(anonymous_4)"},"5":{"line":53,"loc":{"end":{"column":21,"line":53},"start":{"column":10,"line":53}},"name":"(anonymous_5)"},"6":{"line":65,"loc":{"end":{"column":33,"line":65},"start":{"column":22,"line":65}},"name":"(anonymous_6)"},"7":{"line":91,"loc":{"end":{"column":30,"line":91},"start":{"column":19,"line":91}},"name":"(anonymous_7)"},"8":{"line":94,"loc":{"end":{"column":30,"line":94},"start":{"column":19,"line":94}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/loadable-item.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":102,"8":183,"9":285,"10":285,"11":285,"12":0,"13":285,"14":183,"15":102,"16":102,"17":102,"18":95,"19":285,"20":285,"21":285,"22":285,"23":285,"24":285,"25":285,"26":285,"27":285,"28":520,"29":0,"30":520,"31":417,"32":103,"33":57,"34":46,"35":0,"36":46,"37":46,"38":0,"39":0,"40":0,"41":285,"42":285,"43":417,"44":186},"statementMap":{"1":{"end":{"column":23,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":106},"start":{"column":0,"line":9}},"6":{"end":{"column":6,"line":29},"start":{"column":4,"line":26}},"7":{"end":{"column":27,"line":32},"start":{"column":4,"line":32}},"8":{"end":{"column":33,"line":35},"start":{"column":4,"line":35}},"9":{"end":{"column":47,"line":38},"start":{"column":4,"line":38}},"10":{"end":{"column":116,"line":39},"start":{"column":4,"line":39}},"11":{"end":{"column":5,"line":42},"start":{"column":4,"line":40}},"12":{"end":{"column":13,"line":41},"start":{"column":6,"line":41}},"13":{"end":{"column":5,"line":45},"start":{"column":4,"line":43}},"14":{"end":{"column":13,"line":44},"start":{"column":6,"line":44}},"15":{"end":{"column":5,"line":48},"start":{"column":4,"line":46}},"16":{"end":{"column":26,"line":47},"start":{"column":6,"line":47}},"17":{"end":{"column":5,"line":51},"start":{"column":4,"line":49}},"18":{"end":{"column":31,"line":50},"start":{"column":6,"line":50}},"19":{"end":{"column":183,"line":54},"start":{"column":4,"line":54}},"20":{"end":{"column":378,"line":55},"start":{"column":4,"line":55}},"21":{"end":{"column":5,"line":58},"start":{"column":4,"line":56}},"22":{"end":{"column":26,"line":57},"start":{"column":6,"line":57}},"23":{"end":{"column":5,"line":61},"start":{"column":4,"line":59}},"24":{"end":{"column":32,"line":60},"start":{"column":6,"line":60}},"25":{"end":{"column":5,"line":64},"start":{"column":4,"line":62}},"26":{"end":{"column":34,"line":63},"start":{"column":6,"line":63}},"27":{"end":{"column":6,"line":82},"start":{"column":4,"line":65}},"28":{"end":{"column":7,"line":68},"start":{"column":6,"line":66}},"29":{"end":{"column":20,"line":67},"start":{"column":8,"line":67}},"30":{"end":{"column":7,"line":81},"start":{"column":6,"line":69}},"31":{"end":{"column":21,"line":70},"start":{"column":8,"line":70}},"32":{"end":{"column":7,"line":81},"start":{"column":13,"line":71}},"33":{"end":{"column":20,"line":72},"start":{"column":8,"line":72}},"34":{"end":{"column":7,"line":81},"start":{"column":13,"line":73}},"35":{"end":{"column":21,"line":74},"start":{"column":8,"line":74}},"36":{"end":{"column":7,"line":81},"start":{"column":13,"line":75}},"37":{"end":{"column":20,"line":76},"start":{"column":8,"line":76}},"38":{"end":{"column":7,"line":81},"start":{"column":13,"line":77}},"39":{"end":{"column":23,"line":78},"start":{"column":8,"line":78}},"40":{"end":{"column":21,"line":80},"start":{"column":8,"line":80}},"41":{"end":{"column":6,"line":87},"start":{"column":4,"line":83}},"42":{"end":{"column":7,"line":104},"start":{"column":4,"line":88}},"43":{"end":{"column":28,"line":92},"start":{"column":8,"line":92}},"44":{"end":{"column":34,"line":95},"start":{"column":8,"line":95}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"26":21,"32":102,"35":183,"38":285,"39":285,"40":285,"41":0,"43":285,"44":183,"46":102,"47":102,"49":102,"50":95,"54":285,"55":285,"56":285,"57":285,"59":285,"60":285,"62":285,"63":285,"65":285,"66":520,"67":0,"69":520,"70":417,"71":103,"72":57,"73":46,"74":0,"75":46,"76":46,"77":0,"78":0,"80":0,"83":285,"88":285,"92":417,"95":186}},
"/Users/phil/github/openstax/tutor-js/src/components/loadable.cjsx":{"b":{"1":[0,76],"2":[4,72],"3":[0,0],"4":[0,0],"5":[235,235],"6":[0,235],"7":[103,417],"8":[231,186],"9":[0,186]},"branchMap":{"1":{"line":28,"locations":[{"end":{"column":8,"line":28},"start":{"column":8,"line":28}},{"end":{"column":8,"line":28},"start":{"column":8,"line":28}}],"type":"if"},"2":{"line":32,"locations":[{"end":{"column":8,"line":32},"start":{"column":8,"line":32}},{"end":{"column":8,"line":32},"start":{"column":8,"line":32}}],"type":"if"},"3":{"line":41,"locations":[{"end":{"column":8,"line":41},"start":{"column":8,"line":41}},{"end":{"column":8,"line":41},"start":{"column":8,"line":41}}],"type":"if"},"4":{"line":45,"locations":[{"end":{"column":8,"line":45},"start":{"column":8,"line":45}},{"end":{"column":8,"line":45},"start":{"column":8,"line":45}}],"type":"if"},"5":{"line":61,"locations":[{"end":{"column":85,"line":61},"start":{"column":12,"line":61}},{"end":{"column":107,"line":61},"start":{"column":90,"line":61}}],"type":"binary-expr"},"6":{"line":61,"locations":[{"end":{"column":76,"line":61},"start":{"column":63,"line":61}},{"end":{"column":85,"line":61},"start":{"column":79,"line":61}}],"type":"cond-expr"},"7":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"8":{"line":69,"locations":[{"end":{"column":11,"line":69},"start":{"column":11,"line":69}},{"end":{"column":11,"line":69},"start":{"column":11,"line":69}}],"type":"if"},"9":{"line":71,"locations":[{"end":{"column":11,"line":71},"start":{"column":11,"line":71}},{"end":{"column":11,"line":71},"start":{"column":11,"line":71}}],"type":"if"}},"code":["var BS, BindStoreMixin, React, RefreshButton;","","React = require('react');","","BS = require('react-bootstrap');","","BindStoreMixin = require('./bind-store-mixin');","","RefreshButton = require('openstax-react-components').RefreshButton;","","module.exports = React.createClass({","  displayName: 'Loadable',","  propTypes: {","    render: React.PropTypes.func.isRequired,","    saved: React.PropTypes.func,","    store: React.PropTypes.object.isRequired,","    isLoading: React.PropTypes.func.isRequired,","    isLoaded: React.PropTypes.func.isRequired,","    isFailed: React.PropTypes.func.isRequired,","    renderLoading: React.PropTypes.func.isRequired,","    renderError: React.PropTypes.func.isRequired,","    isLong: React.PropTypes.bool","  },","  getDefaultProps: function() {","    return {","      renderLoading: function(refreshButton, isLong) {","        var loadableClasses;","        if (isLong == null) {","          isLong = false;","        }","        loadableClasses = 'loadable is-loading';","        if (isLong) {","          loadableClasses += ' is-long';","        }","        return React.createElement(\"div\", {","          \"className\": loadableClasses","        }, \"Loading... \", refreshButton);","      },","      renderError: function(refreshButton, isLong) {","        var loadableClasses;","        if (isLong == null) {","          isLong = false;","        }","        loadableClasses = 'loadable is-error';","        if (isLong) {","          loadableClasses += ' is-long';","        }","        return React.createElement(\"div\", {","          \"className\": loadableClasses","        }, \"Error Loading. \", refreshButton);","      },","      isLong: false","    };","  },","  mixins: [BindStoreMixin],","  bindStore: function() {","    return this.props.store;","  },","  bindUpdate: function() {","    var base;","    return (typeof (base = this.props).update === \"function\" ? base.update() : void 0) || this.setState({});","  },","  render: function() {","    var isFailed, isLoaded, isLoading, isLong, ref, refreshButton, render, renderError, renderLoading;","    ref = this.props, isLoading = ref.isLoading, isLoaded = ref.isLoaded, isFailed = ref.isFailed, render = ref.render, renderLoading = ref.renderLoading, renderError = ref.renderError, isLong = ref.isLong;","    refreshButton = React.createElement(RefreshButton, null);","    if (isLoading()) {","      return renderLoading(refreshButton, isLong);","    } else if (isLoaded()) {","      return render();","    } else if (isFailed()) {","      return renderError(refreshButton, isLong);","    } else {","      return render();","    }","  }","});",""],"f":{"1":21,"2":76,"3":0,"4":186,"5":235,"6":520},"fnMap":{"1":{"line":24,"loc":{"end":{"column":30,"line":24},"start":{"column":19,"line":24}},"name":"(anonymous_1)"},"2":{"line":26,"loc":{"end":{"column":53,"line":26},"start":{"column":21,"line":26}},"name":"(anonymous_2)"},"3":{"line":39,"loc":{"end":{"column":51,"line":39},"start":{"column":19,"line":39}},"name":"(anonymous_3)"},"4":{"line":56,"loc":{"end":{"column":24,"line":56},"start":{"column":13,"line":56}},"name":"(anonymous_4)"},"5":{"line":59,"loc":{"end":{"column":25,"line":59},"start":{"column":14,"line":59}},"name":"(anonymous_5)"},"6":{"line":63,"loc":{"end":{"column":21,"line":63},"start":{"column":10,"line":63}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/loadable.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":76,"9":76,"10":0,"11":76,"12":76,"13":4,"14":76,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":186,"23":235,"24":235,"25":520,"26":520,"27":520,"28":520,"29":103,"30":417,"31":231,"32":186,"33":0,"34":186},"statementMap":{"1":{"end":{"column":45,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":47,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":67,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":77},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":53},"start":{"column":4,"line":25}},"8":{"end":{"column":28,"line":27},"start":{"column":8,"line":27}},"9":{"end":{"column":9,"line":30},"start":{"column":8,"line":28}},"10":{"end":{"column":25,"line":29},"start":{"column":10,"line":29}},"11":{"end":{"column":48,"line":31},"start":{"column":8,"line":31}},"12":{"end":{"column":9,"line":34},"start":{"column":8,"line":32}},"13":{"end":{"column":40,"line":33},"start":{"column":10,"line":33}},"14":{"end":{"column":41,"line":37},"start":{"column":8,"line":35}},"15":{"end":{"column":28,"line":40},"start":{"column":8,"line":40}},"16":{"end":{"column":9,"line":43},"start":{"column":8,"line":41}},"17":{"end":{"column":25,"line":42},"start":{"column":10,"line":42}},"18":{"end":{"column":46,"line":44},"start":{"column":8,"line":44}},"19":{"end":{"column":9,"line":47},"start":{"column":8,"line":45}},"20":{"end":{"column":40,"line":46},"start":{"column":10,"line":46}},"21":{"end":{"column":45,"line":50},"start":{"column":8,"line":48}},"22":{"end":{"column":28,"line":57},"start":{"column":4,"line":57}},"23":{"end":{"column":13,"line":60},"start":{"column":4,"line":60}},"24":{"end":{"column":108,"line":61},"start":{"column":4,"line":61}},"25":{"end":{"column":102,"line":64},"start":{"column":4,"line":64}},"26":{"end":{"column":206,"line":65},"start":{"column":4,"line":65}},"27":{"end":{"column":61,"line":66},"start":{"column":4,"line":66}},"28":{"end":{"column":5,"line":75},"start":{"column":4,"line":67}},"29":{"end":{"column":50,"line":68},"start":{"column":6,"line":68}},"30":{"end":{"column":5,"line":75},"start":{"column":11,"line":69}},"31":{"end":{"column":22,"line":70},"start":{"column":6,"line":70}},"32":{"end":{"column":5,"line":75},"start":{"column":11,"line":71}},"33":{"end":{"column":48,"line":72},"start":{"column":6,"line":72}},"34":{"end":{"column":22,"line":74},"start":{"column":6,"line":74}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"25":21,"27":76,"28":76,"29":0,"31":76,"32":76,"33":4,"35":76,"40":0,"41":0,"42":0,"44":0,"45":0,"46":0,"48":0,"57":186,"60":235,"61":235,"64":520,"65":520,"66":520,"67":520,"68":103,"69":417,"70":231,"71":186,"72":0,"74":186}},
"/Users/phil/github/openstax/tutor-js/src/components/markdown.cjsx":{"b":{},"branchMap":{},"code":["var ArbitraryHtmlAndMath, Markdown, React, _, md;","","React = require('react');","","Markdown = require('markdown-it');","","ArbitraryHtmlAndMath = require('openstax-react-components').ArbitraryHtmlAndMath;","","_ = require('underscore');","","md = new Markdown();","","module.exports = React.createClass({displayName: \"exports\",","  render: function() {","    var html, htmlProps, text;","    text = this.props.text;","    htmlProps = _.pick(this.props, 'block', 'className');","    html = md.render(text);","    htmlProps.html = html;","    return React.createElement(ArbitraryHtmlAndMath, React.__spread({}, htmlProps));","  }","});",""],"f":{"1":0},"fnMap":{"1":{"line":14,"loc":{"end":{"column":21,"line":14},"start":{"column":10,"line":14}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/markdown.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"statementMap":{"1":{"end":{"column":49,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":34,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":81,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":20,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":22},"start":{"column":0,"line":13}},"8":{"end":{"column":30,"line":15},"start":{"column":4,"line":15}},"9":{"end":{"column":27,"line":16},"start":{"column":4,"line":16}},"10":{"end":{"column":57,"line":17},"start":{"column":4,"line":17}},"11":{"end":{"column":27,"line":18},"start":{"column":4,"line":18}},"12":{"end":{"column":26,"line":19},"start":{"column":4,"line":19}},"13":{"end":{"column":84,"line":20},"start":{"column":4,"line":20}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0}},
"/Users/phil/github/openstax/tutor-js/src/components/media-preview.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0]},"branchMap":{"1":{"line":49,"locations":[{"end":{"column":4,"line":49},"start":{"column":4,"line":49}},{"end":{"column":4,"line":49},"start":{"column":4,"line":49}}],"type":"if"},"2":{"line":52,"locations":[{"end":{"column":4,"line":52},"start":{"column":4,"line":52}},{"end":{"column":4,"line":52},"start":{"column":4,"line":52}}],"type":"if"},"3":{"line":52,"locations":[{"end":{"column":24,"line":52},"start":{"column":11,"line":52}},{"end":{"column":68,"line":52},"start":{"column":29,"line":52}},{"end":{"column":110,"line":52},"start":{"column":72,"line":52}}],"type":"binary-expr"},"4":{"line":68,"locations":[{"end":{"column":4,"line":68},"start":{"column":4,"line":68}},{"end":{"column":4,"line":68},"start":{"column":4,"line":68}}],"type":"if"},"5":{"line":77,"locations":[{"end":{"column":48,"line":77},"start":{"column":12,"line":77}},{"end":{"column":82,"line":77},"start":{"column":52,"line":77}}],"type":"binary-expr"},"6":{"line":93,"locations":[{"end":{"column":4,"line":93},"start":{"column":4,"line":93}},{"end":{"column":4,"line":93},"start":{"column":4,"line":93}}],"type":"if"},"7":{"line":102,"locations":[{"end":{"column":4,"line":102},"start":{"column":4,"line":102}},{"end":{"column":4,"line":102},"start":{"column":4,"line":102}}],"type":"if"},"8":{"line":106,"locations":[{"end":{"column":4,"line":106},"start":{"column":4,"line":106}},{"end":{"column":4,"line":106},"start":{"column":4,"line":106}}],"type":"if"},"9":{"line":107,"locations":[{"end":{"column":6,"line":107},"start":{"column":6,"line":107}},{"end":{"column":6,"line":107},"start":{"column":6,"line":107}}],"type":"if"},"10":{"line":118,"locations":[{"end":{"column":4,"line":118},"start":{"column":4,"line":118}},{"end":{"column":4,"line":118},"start":{"column":4,"line":118}}],"type":"if"},"11":{"line":119,"locations":[{"end":{"column":6,"line":119},"start":{"column":6,"line":119}},{"end":{"column":6,"line":119},"start":{"column":6,"line":119}}],"type":"if"},"12":{"line":135,"locations":[{"end":{"column":4,"line":135},"start":{"column":4,"line":135}},{"end":{"column":4,"line":135},"start":{"column":4,"line":135}}],"type":"if"},"13":{"line":141,"locations":[{"end":{"column":4,"line":141},"start":{"column":4,"line":141}},{"end":{"column":4,"line":141},"start":{"column":4,"line":141}}],"type":"if"},"14":{"line":141,"locations":[{"end":{"column":87,"line":141},"start":{"column":11,"line":141}},{"end":{"column":131,"line":141},"start":{"column":93,"line":141}}],"type":"binary-expr"},"15":{"line":141,"locations":[{"end":{"column":69,"line":141},"start":{"column":56,"line":141}},{"end":{"column":78,"line":141},"start":{"column":72,"line":141}}],"type":"cond-expr"},"16":{"line":146,"locations":[{"end":{"column":58,"line":146},"start":{"column":13,"line":146}},{"end":{"column":107,"line":146},"start":{"column":62,"line":146}}],"type":"binary-expr"},"17":{"line":158,"locations":[{"end":{"column":4,"line":158},"start":{"column":4,"line":158}},{"end":{"column":4,"line":158},"start":{"column":4,"line":158}}],"type":"if"},"18":{"line":160,"locations":[{"end":{"column":11,"line":160},"start":{"column":11,"line":160}},{"end":{"column":11,"line":160},"start":{"column":11,"line":160}}],"type":"if"},"19":{"line":160,"locations":[{"end":{"column":20,"line":160},"start":{"column":15,"line":160}},{"end":{"column":37,"line":160},"start":{"column":24,"line":160}}],"type":"binary-expr"},"20":{"line":162,"locations":[{"end":{"column":6,"line":162},"start":{"column":6,"line":162}},{"end":{"column":6,"line":162},"start":{"column":6,"line":162}}],"type":"if"},"21":{"line":166,"locations":[{"end":{"column":11,"line":166},"start":{"column":11,"line":166}},{"end":{"column":11,"line":166},"start":{"column":11,"line":166}}],"type":"if"},"22":{"line":173,"locations":[{"end":{"column":4,"line":173},"start":{"column":4,"line":173}},{"end":{"column":4,"line":173},"start":{"column":4,"line":173}}],"type":"if"},"23":{"line":176,"locations":[{"end":{"column":4,"line":176},"start":{"column":4,"line":176}},{"end":{"column":4,"line":176},"start":{"column":4,"line":176}}],"type":"if"},"24":{"line":187,"locations":[{"end":{"column":4,"line":187},"start":{"column":4,"line":187}},{"end":{"column":4,"line":187},"start":{"column":4,"line":187}}],"type":"if"},"25":{"line":207,"locations":[{"end":{"column":6,"line":207},"start":{"column":6,"line":207}},{"end":{"column":6,"line":207},"start":{"column":6,"line":207}}],"type":"if"},"26":{"line":210,"locations":[{"end":{"column":6,"line":210},"start":{"column":6,"line":210}},{"end":{"column":6,"line":210},"start":{"column":6,"line":210}}],"type":"if"}},"code":["var ArbitraryHtmlAndMath, LoadableItem, MediaPreview, MediaStore, React, ReferenceBookPageActions, ReferenceBookPageStore, S, TutorPopover, _, ref;","","React = require('react');","","LoadableItem = require('./loadable-item');","","TutorPopover = require('./tutor-popover');","","ArbitraryHtmlAndMath = require('openstax-react-components').ArbitraryHtmlAndMath;","","_ = require('underscore');","","S = require('../helpers/string');","","MediaStore = require('../flux/media').MediaStore;","","ref = require('../flux/reference-book-page'), ReferenceBookPageStore = ref.ReferenceBookPageStore, ReferenceBookPageActions = ref.ReferenceBookPageActions;","","MediaPreview = React.createClass({","  displayName: 'MediaPreview',","  getInitialState: function() {","    return {","      popped: false,","      stick: false,","      media: null","    };","  },","  propTypes: {","    mediaId: React.PropTypes.string.isRequired,","    bookHref: React.PropTypes.string.isRequired,","    cnxId: React.PropTypes.string.isRequired,","    mediaDOMOnParent: React.PropTypes.object,","    windowImpl: React.PropTypes.object,","    buffer: React.PropTypes.number,","    shouldLinkOut: React.PropTypes.bool,","    originalHref: React.PropTypes.string","  },","  getDefaultProps: function() {","    return {","      buffer: 160,","      shouldLinkOut: false,","      windowImpl: window","    };","  },","  componentWillMount: function() {","    var cnxId, media, mediaId, ref1;","    ref1 = this.props, mediaId = ref1.mediaId, cnxId = ref1.cnxId;","    media = MediaStore.get(mediaId);","    if (media != null) {","      this.updateMedia(media);","    }","    if (!((media != null) || ReferenceBookPageStore.isLoading(cnxId) || ReferenceBookPageStore.isLoaded(cnxId))) {","      ReferenceBookPageActions.loadSilent(cnxId);","      return MediaStore.once(\"loaded.\" + mediaId, this.updateMedia);","    }","  },","  componentWillUnmount: function() {","    var mediaId;","    mediaId = this.props.mediaId;","    return MediaStore.off(\"loaded.\" + mediaId, this.updateMedia);","  },","  updateMedia: function(media) {","    return this.setState({","      media: media","    });","  },","  checkShouldPop: function() {","    if (!this.props.mediaDOMOnParent) {","      return true;","    }","    return !this.isMediaInViewport();","  },","  isMediaInViewport: function() {","    var buffer, mediaDOMOnParent, mediaRect, ref1, ref2, windowImpl;","    ref1 = this.props, mediaDOMOnParent = ref1.mediaDOMOnParent, buffer = ref1.buffer, windowImpl = ref1.windowImpl;","    mediaRect = mediaDOMOnParent.getBoundingClientRect();","    return (0 <= (ref2 = mediaRect.top + buffer) && ref2 <= windowImpl.innerHeight);","  },","  highlightMedia: function() {","    var mediaDOMOnParent;","    mediaDOMOnParent = this.props.mediaDOMOnParent;","    return mediaDOMOnParent.classList.add('link-target');","  },","  unhighlightMedia: function() {","    var mediaDOMOnParent;","    mediaDOMOnParent = this.props.mediaDOMOnParent;","    return mediaDOMOnParent.classList.remove('link-target');","  },","  stickMedia: function() {","    this.setState({","      stick: true","    });","    if (!this.state.popped) {","      this.setState({","        popped: true","      });","      return this.refs.overlay.show();","    }","  },","  showMedia: function() {","    var shouldPop;","    if (this.state.stick) {","      return;","    }","    shouldPop = this.checkShouldPop();","    if (shouldPop) {","      if (!this.state.popped) {","        this.setState({","          popped: true","        });","        return this.refs.overlay.show();","      }","    } else {","      return this.highlightMedia();","    }","  },","  hideMedia: function() {","    if (this.state.popped) {","      if (!this.state.stick) {","        this.setState({","          popped: false","        });","        return this.refs.overlay.hide();","      }","    } else {","      return this.unhighlightMedia();","    }","  },","  onMouseEnter: function(mouseEvent) {","    mouseEvent.preventDefault();","    return this.showMedia();","  },","  onMouseLeave: function(mouseEvent) {","    mouseEvent.preventDefault();","    if (this.isMouseExited(mouseEvent)) {","      return this.hideMedia();","    }","  },","  isMouseExited: function(mouseEvent) {","    var linkDOM, popoverDOM, ref1;","    if (!((((ref1 = mouseEvent.relatedTarget) != null ? ref1.nodeType : void 0) != null) && (this.refs.overlay.refs.popover != null))) {","      return true;","    }","    linkDOM = this.refs.overlay.refs.popper.getDOMNode();","    popoverDOM = this.refs.overlay.refs.popover.getDOMNode();","    return !(popoverDOM.contains(mouseEvent.relatedTarget) || linkDOM.isEqualNode(mouseEvent.relatedTarget));","  },","  getOverlayProps: function() {","    return _.pick(this.props, 'containerPadding');","  },","  getLinkProps: function(otherProps) {","    var bookHref, defaultClassName, linkProps, media, mediaDOMOnParent, mediaId, originalHref, otherPropTypes, ref1, shouldLinkOut;","    ref1 = this.props, mediaId = ref1.mediaId, mediaDOMOnParent = ref1.mediaDOMOnParent, bookHref = ref1.bookHref, shouldLinkOut = ref1.shouldLinkOut, originalHref = ref1.originalHref;","    media = this.state.media;","    otherPropTypes = _.chain(otherProps).keys().union(['mediaId', 'children', 'mediaDOMOnParent', 'buffer']).value();","    linkProps = _.omit(this.props, otherPropTypes);","    linkProps['data-targeted'] = 'media';","    if (mediaDOMOnParent != null) {","      linkProps.href = \"#\" + mediaId;","    } else if (media && shouldLinkOut) {","      linkProps.href = bookHref;","      if (mediaId) {","        linkProps.href += \"#\" + mediaId;","      }","      linkProps.target = '_blank';","    } else if (!media) {","      linkProps.href = originalHref;","      linkProps.target = '_blank';","    }","    linkProps.onMouseEnter = this.onMouseEnter;","    linkProps.onMouseLeave = this.onMouseLeave;","    defaultClassName = 'media-preview-link';","    if (linkProps.className != null) {","      linkProps.className += \" \" + defaultClassName;","    }","    if (linkProps.className == null) {","      linkProps.className = defaultClassName;","    }","    return linkProps;","  },","  render: function() {","    var allProps, bookHref, children, content, contentHtml, contentProps, linkProps, linkText, media, mediaId, overlayProps, popoverProps, ref1, windowImpl;","    ref1 = this.props, mediaId = ref1.mediaId, children = ref1.children, bookHref = ref1.bookHref, windowImpl = ref1.windowImpl;","    media = this.state.media;","    overlayProps = this.getOverlayProps();","    linkProps = this.getLinkProps(overlayProps);","    if (media != null) {","      contentHtml = media.html;","      contentProps = {","        className: 'media-preview-content'","      };","      popoverProps = {","        'data-content-type': media.name,","        className: 'media-preview',","        ref: 'popover',","        onMouseLeave: this.onMouseLeave","      };","      content = React.createElement(ArbitraryHtmlAndMath, React.__spread({}, contentProps, {","        \"html\": contentHtml","      }));","      allProps = {","        content: content,","        overlayProps: overlayProps,","        popoverProps: popoverProps,","        windowImpl: windowImpl","      };","      if (children !== '[link]') {","        linkText = children;","      }","      if (linkText == null) {","        linkText = S.capitalize(media.name);","      }","      return React.createElement(TutorPopover, React.__spread({}, allProps, {","        \"ref\": 'overlay'","      }), React.createElement(\"a\", React.__spread({}, linkProps), linkText));","    } else {","      linkProps = _.omit(linkProps, 'onMouseEnter', 'onMouseLeave');","      return React.createElement(\"a\", React.__spread({}, linkProps), children);","    }","  }","});","","module.exports = {","  MediaPreview: MediaPreview","};",""],"f":{"1":0,"2":21,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"line":21,"loc":{"end":{"column":30,"line":21},"start":{"column":19,"line":21}},"name":"(anonymous_1)"},"2":{"line":38,"loc":{"end":{"column":30,"line":38},"start":{"column":19,"line":38}},"name":"(anonymous_2)"},"3":{"line":45,"loc":{"end":{"column":33,"line":45},"start":{"column":22,"line":45}},"name":"(anonymous_3)"},"4":{"line":57,"loc":{"end":{"column":35,"line":57},"start":{"column":24,"line":57}},"name":"(anonymous_4)"},"5":{"line":62,"loc":{"end":{"column":31,"line":62},"start":{"column":15,"line":62}},"name":"(anonymous_5)"},"6":{"line":67,"loc":{"end":{"column":29,"line":67},"start":{"column":18,"line":67}},"name":"(anonymous_6)"},"7":{"line":73,"loc":{"end":{"column":32,"line":73},"start":{"column":21,"line":73}},"name":"(anonymous_7)"},"8":{"line":79,"loc":{"end":{"column":29,"line":79},"start":{"column":18,"line":79}},"name":"(anonymous_8)"},"9":{"line":84,"loc":{"end":{"column":31,"line":84},"start":{"column":20,"line":84}},"name":"(anonymous_9)"},"10":{"line":89,"loc":{"end":{"column":25,"line":89},"start":{"column":14,"line":89}},"name":"(anonymous_10)"},"11":{"line":100,"loc":{"end":{"column":24,"line":100},"start":{"column":13,"line":100}},"name":"(anonymous_11)"},"12":{"line":117,"loc":{"end":{"column":24,"line":117},"start":{"column":13,"line":117}},"name":"(anonymous_12)"},"13":{"line":129,"loc":{"end":{"column":37,"line":129},"start":{"column":16,"line":129}},"name":"(anonymous_13)"},"14":{"line":133,"loc":{"end":{"column":37,"line":133},"start":{"column":16,"line":133}},"name":"(anonymous_14)"},"15":{"line":139,"loc":{"end":{"column":38,"line":139},"start":{"column":17,"line":139}},"name":"(anonymous_15)"},"16":{"line":148,"loc":{"end":{"column":30,"line":148},"start":{"column":19,"line":148}},"name":"(anonymous_16)"},"17":{"line":151,"loc":{"end":{"column":37,"line":151},"start":{"column":16,"line":151}},"name":"(anonymous_17)"},"18":{"line":181,"loc":{"end":{"column":21,"line":181},"start":{"column":10,"line":181}},"name":"(anonymous_18)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/media-preview.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":0,"12":21,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":21},"statementMap":{"1":{"end":{"column":147,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":42,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":42,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":81,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":33,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":49,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":155,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":221},"start":{"column":0,"line":19}},"11":{"end":{"column":6,"line":26},"start":{"column":4,"line":22}},"12":{"end":{"column":6,"line":43},"start":{"column":4,"line":39}},"13":{"end":{"column":36,"line":46},"start":{"column":4,"line":46}},"14":{"end":{"column":66,"line":47},"start":{"column":4,"line":47}},"15":{"end":{"column":36,"line":48},"start":{"column":4,"line":48}},"16":{"end":{"column":5,"line":51},"start":{"column":4,"line":49}},"17":{"end":{"column":30,"line":50},"start":{"column":6,"line":50}},"18":{"end":{"column":5,"line":55},"start":{"column":4,"line":52}},"19":{"end":{"column":49,"line":53},"start":{"column":6,"line":53}},"20":{"end":{"column":68,"line":54},"start":{"column":6,"line":54}},"21":{"end":{"column":16,"line":58},"start":{"column":4,"line":58}},"22":{"end":{"column":33,"line":59},"start":{"column":4,"line":59}},"23":{"end":{"column":65,"line":60},"start":{"column":4,"line":60}},"24":{"end":{"column":7,"line":65},"start":{"column":4,"line":63}},"25":{"end":{"column":5,"line":70},"start":{"column":4,"line":68}},"26":{"end":{"column":18,"line":69},"start":{"column":6,"line":69}},"27":{"end":{"column":37,"line":71},"start":{"column":4,"line":71}},"28":{"end":{"column":68,"line":74},"start":{"column":4,"line":74}},"29":{"end":{"column":116,"line":75},"start":{"column":4,"line":75}},"30":{"end":{"column":57,"line":76},"start":{"column":4,"line":76}},"31":{"end":{"column":84,"line":77},"start":{"column":4,"line":77}},"32":{"end":{"column":25,"line":80},"start":{"column":4,"line":80}},"33":{"end":{"column":51,"line":81},"start":{"column":4,"line":81}},"34":{"end":{"column":57,"line":82},"start":{"column":4,"line":82}},"35":{"end":{"column":25,"line":85},"start":{"column":4,"line":85}},"36":{"end":{"column":51,"line":86},"start":{"column":4,"line":86}},"37":{"end":{"column":60,"line":87},"start":{"column":4,"line":87}},"38":{"end":{"column":7,"line":92},"start":{"column":4,"line":90}},"39":{"end":{"column":5,"line":98},"start":{"column":4,"line":93}},"40":{"end":{"column":9,"line":96},"start":{"column":6,"line":94}},"41":{"end":{"column":38,"line":97},"start":{"column":6,"line":97}},"42":{"end":{"column":18,"line":101},"start":{"column":4,"line":101}},"43":{"end":{"column":5,"line":104},"start":{"column":4,"line":102}},"44":{"end":{"column":13,"line":103},"start":{"column":6,"line":103}},"45":{"end":{"column":38,"line":105},"start":{"column":4,"line":105}},"46":{"end":{"column":5,"line":115},"start":{"column":4,"line":106}},"47":{"end":{"column":7,"line":112},"start":{"column":6,"line":107}},"48":{"end":{"column":11,"line":110},"start":{"column":8,"line":108}},"49":{"end":{"column":40,"line":111},"start":{"column":8,"line":111}},"50":{"end":{"column":35,"line":114},"start":{"column":6,"line":114}},"51":{"end":{"column":5,"line":127},"start":{"column":4,"line":118}},"52":{"end":{"column":7,"line":124},"start":{"column":6,"line":119}},"53":{"end":{"column":11,"line":122},"start":{"column":8,"line":120}},"54":{"end":{"column":40,"line":123},"start":{"column":8,"line":123}},"55":{"end":{"column":37,"line":126},"start":{"column":6,"line":126}},"56":{"end":{"column":32,"line":130},"start":{"column":4,"line":130}},"57":{"end":{"column":28,"line":131},"start":{"column":4,"line":131}},"58":{"end":{"column":32,"line":134},"start":{"column":4,"line":134}},"59":{"end":{"column":5,"line":137},"start":{"column":4,"line":135}},"60":{"end":{"column":30,"line":136},"start":{"column":6,"line":136}},"61":{"end":{"column":34,"line":140},"start":{"column":4,"line":140}},"62":{"end":{"column":5,"line":143},"start":{"column":4,"line":141}},"63":{"end":{"column":18,"line":142},"start":{"column":6,"line":142}},"64":{"end":{"column":57,"line":144},"start":{"column":4,"line":144}},"65":{"end":{"column":61,"line":145},"start":{"column":4,"line":145}},"66":{"end":{"column":109,"line":146},"start":{"column":4,"line":146}},"67":{"end":{"column":50,"line":149},"start":{"column":4,"line":149}},"68":{"end":{"column":131,"line":152},"start":{"column":4,"line":152}},"69":{"end":{"column":184,"line":153},"start":{"column":4,"line":153}},"70":{"end":{"column":29,"line":154},"start":{"column":4,"line":154}},"71":{"end":{"column":117,"line":155},"start":{"column":4,"line":155}},"72":{"end":{"column":51,"line":156},"start":{"column":4,"line":156}},"73":{"end":{"column":41,"line":157},"start":{"column":4,"line":157}},"74":{"end":{"column":5,"line":169},"start":{"column":4,"line":158}},"75":{"end":{"column":37,"line":159},"start":{"column":6,"line":159}},"76":{"end":{"column":5,"line":169},"start":{"column":11,"line":160}},"77":{"end":{"column":32,"line":161},"start":{"column":6,"line":161}},"78":{"end":{"column":7,"line":164},"start":{"column":6,"line":162}},"79":{"end":{"column":40,"line":163},"start":{"column":8,"line":163}},"80":{"end":{"column":34,"line":165},"start":{"column":6,"line":165}},"81":{"end":{"column":5,"line":169},"start":{"column":11,"line":166}},"82":{"end":{"column":36,"line":167},"start":{"column":6,"line":167}},"83":{"end":{"column":34,"line":168},"start":{"column":6,"line":168}},"84":{"end":{"column":47,"line":170},"start":{"column":4,"line":170}},"85":{"end":{"column":47,"line":171},"start":{"column":4,"line":171}},"86":{"end":{"column":44,"line":172},"start":{"column":4,"line":172}},"87":{"end":{"column":5,"line":175},"start":{"column":4,"line":173}},"88":{"end":{"column":52,"line":174},"start":{"column":6,"line":174}},"89":{"end":{"column":5,"line":178},"start":{"column":4,"line":176}},"90":{"end":{"column":45,"line":177},"start":{"column":6,"line":177}},"91":{"end":{"column":21,"line":179},"start":{"column":4,"line":179}},"92":{"end":{"column":156,"line":182},"start":{"column":4,"line":182}},"93":{"end":{"column":128,"line":183},"start":{"column":4,"line":183}},"94":{"end":{"column":29,"line":184},"start":{"column":4,"line":184}},"95":{"end":{"column":42,"line":185},"start":{"column":4,"line":185}},"96":{"end":{"column":48,"line":186},"start":{"column":4,"line":186}},"97":{"end":{"column":5,"line":219},"start":{"column":4,"line":187}},"98":{"end":{"column":31,"line":188},"start":{"column":6,"line":188}},"99":{"end":{"column":8,"line":191},"start":{"column":6,"line":189}},"100":{"end":{"column":8,"line":197},"start":{"column":6,"line":192}},"101":{"end":{"column":10,"line":200},"start":{"column":6,"line":198}},"102":{"end":{"column":8,"line":206},"start":{"column":6,"line":201}},"103":{"end":{"column":7,"line":209},"start":{"column":6,"line":207}},"104":{"end":{"column":28,"line":208},"start":{"column":8,"line":208}},"105":{"end":{"column":7,"line":212},"start":{"column":6,"line":210}},"106":{"end":{"column":44,"line":211},"start":{"column":8,"line":211}},"107":{"end":{"column":77,"line":215},"start":{"column":6,"line":213}},"108":{"end":{"column":68,"line":217},"start":{"column":6,"line":217}},"109":{"end":{"column":79,"line":218},"start":{"column":6,"line":218}},"110":{"end":{"column":2,"line":225},"start":{"column":0,"line":223}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"22":0,"39":21,"46":0,"47":0,"48":0,"49":0,"50":0,"52":0,"53":0,"54":0,"58":0,"59":0,"60":0,"63":0,"68":0,"69":0,"71":0,"74":0,"75":0,"76":0,"77":0,"80":0,"81":0,"82":0,"85":0,"86":0,"87":0,"90":0,"93":0,"94":0,"97":0,"101":0,"102":0,"103":0,"105":0,"106":0,"107":0,"108":0,"111":0,"114":0,"118":0,"119":0,"120":0,"123":0,"126":0,"130":0,"131":0,"134":0,"135":0,"136":0,"140":0,"141":0,"142":0,"144":0,"145":0,"146":0,"149":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"165":0,"166":0,"167":0,"168":0,"170":0,"171":0,"172":0,"173":0,"174":0,"176":0,"177":0,"179":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"192":0,"198":0,"201":0,"207":0,"208":0,"210":0,"211":0,"213":0,"217":0,"218":0,"223":21}},
"/Users/phil/github/openstax/tutor-js/src/components/name.cjsx":{"b":{"1":[0,610],"2":[610,538],"3":[299,311],"4":[299,311]},"branchMap":{"1":{"line":19,"locations":[{"end":{"column":90,"line":19},"start":{"column":40,"line":19}},{"end":{"column":108,"line":19},"start":{"column":93,"line":19}}],"type":"cond-expr"},"2":{"line":21,"locations":[{"end":{"column":39,"line":21},"start":{"column":19,"line":21}},{"end":{"column":50,"line":21},"start":{"column":43,"line":21}}],"type":"binary-expr"},"3":{"line":23,"locations":[{"end":{"column":4,"line":23},"start":{"column":4,"line":23}},{"end":{"column":4,"line":23},"start":{"column":4,"line":23}}],"type":"if"},"4":{"line":23,"locations":[{"end":{"column":55,"line":23},"start":{"column":45,"line":23}},{"end":{"column":64,"line":23},"start":{"column":58,"line":23}}],"type":"cond-expr"}},"code":["var BS, Name, React, _;","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","Name = React.createClass({displayName: \"Name\",","  propTypes: {","    className: React.PropTypes.string,","    first_name: React.PropTypes.string,","    last_name: React.PropTypes.string,","    name: React.PropTypes.string,","    tooltip: React.PropTypes.object","  },","  render: function() {","    var name, ref, span, tooltip;","    name = _.isEmpty(this.props.name) ? this.props.first_name + \" \" + this.props.last_name : this.props.name;","    span = React.createElement(\"span\", {","      \"className\": this.props.className || \"-name\"","    }, name);","    if ((ref = this.props.tooltip) != null ? ref.enable : void 0) {","      tooltip = React.createElement(BS.Tooltip, null, name);","      return React.createElement(BS.OverlayTrigger, {","        \"placement\": this.props.tooltip.placement,","        \"delayShow\": this.props.tooltip.delayShow,","        \"delayHide\": this.props.tooltip.delayHide,","        \"overlay\": tooltip","      }, span);","    } else {","      return span;","    }","  }","});","","module.exports = Name;",""],"f":{"1":610},"fnMap":{"1":{"line":17,"loc":{"end":{"column":21,"line":17},"start":{"column":10,"line":17}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/name.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":610,"7":610,"8":610,"9":610,"10":299,"11":299,"12":311,"13":21},"statementMap":{"1":{"end":{"column":23,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":35},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":18},"start":{"column":4,"line":18}},"7":{"end":{"column":109,"line":19},"start":{"column":4,"line":19}},"8":{"end":{"column":13,"line":22},"start":{"column":4,"line":20}},"9":{"end":{"column":5,"line":33},"start":{"column":4,"line":23}},"10":{"end":{"column":60,"line":24},"start":{"column":6,"line":24}},"11":{"end":{"column":15,"line":30},"start":{"column":6,"line":25}},"12":{"end":{"column":18,"line":32},"start":{"column":6,"line":32}},"13":{"end":{"column":22,"line":37},"start":{"column":0,"line":37}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"18":610,"19":610,"20":610,"23":610,"24":299,"25":299,"32":311,"37":21}},
"/Users/phil/github/openstax/tutor-js/src/components/navbar/account-link.cjsx":{"b":{"1":[0,174]},"branchMap":{"1":{"line":12,"locations":[{"end":{"column":4,"line":12},"start":{"column":4,"line":12}},{"end":{"column":4,"line":12},"start":{"column":4,"line":12}}],"type":"if"}},"code":["var BS, CurrentUserStore, React;","","React = require('react');","","BS = require('react-bootstrap');","","CurrentUserStore = require('../../flux/current-user').CurrentUserStore;","","module.exports = React.createClass({","  displayName: 'Navigation',","  render: function() {","    if (!CurrentUserStore.getProfileUrl()) {","      return null;","    }","    return React.createElement(\"li\", null, React.createElement(\"a\", {","      \"href\": CurrentUserStore.getProfileUrl(),","      \"target\": '_blank'","    }, \"My Account\"));","  }","});",""],"f":{"1":174},"fnMap":{"1":{"line":11,"loc":{"end":{"column":21,"line":11},"start":{"column":10,"line":11}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/navbar/account-link.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":174,"7":0,"8":174},"statementMap":{"1":{"end":{"column":32,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":71,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":20},"start":{"column":0,"line":9}},"6":{"end":{"column":5,"line":14},"start":{"column":4,"line":12}},"7":{"end":{"column":18,"line":13},"start":{"column":6,"line":13}},"8":{"end":{"column":22,"line":18},"start":{"column":4,"line":15}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"12":174,"13":0,"15":174}},
"/Users/phil/github/openstax/tutor-js/src/components/navbar/book-links.cjsx":{"b":{"1":[112,20],"2":[95,37],"3":[20,0],"4":[20,0]},"branchMap":{"1":{"line":16,"locations":[{"end":{"column":4,"line":16},"start":{"column":4,"line":16}},{"end":{"column":4,"line":16},"start":{"column":4,"line":16}}],"type":"if"},"2":{"line":16,"locations":[{"end":{"column":50,"line":16},"start":{"column":27,"line":16}},{"end":{"column":59,"line":16},"start":{"column":53,"line":16}}],"type":"cond-expr"},"3":{"line":20,"locations":[{"end":{"column":4,"line":20},"start":{"column":4,"line":20}},{"end":{"column":4,"line":20},"start":{"column":4,"line":20}}],"type":"if"},"4":{"line":27,"locations":[{"end":{"column":4,"line":27},"start":{"column":4,"line":27}},{"end":{"column":4,"line":27},"start":{"column":4,"line":27}}],"type":"if"}},"code":["var BS, BookLinks, CourseStore, React;","","React = require('react');","","BS = require('react-bootstrap');","","CourseStore = require('../../flux/course').CourseStore;","","BookLinks = React.createClass({displayName: \"BookLinks\",","  PropTypes: {","    courseId: React.PropTypes.string","  },","  render: function() {","    var course, links;","    course = CourseStore.get(this.props.courseId);","    if (!(course != null ? course.is_concept_coach : void 0)) {","      return null;","    }","    links = [];","    if (course.book_pdf_url) {","      links.push(React.createElement(\"a\", {","        \"key\": 'pdf',","        \"target\": '_blank',","        \"href\": course.book_pdf_url","      }, \"Homework PDF\"));","    }","    if (course.webview_url) {","      links.push(React.createElement(\"a\", {","        \"key\": 'webview',","        \"target\": '_blank',","        \"href\": course.webview_url","      }, \"Online Book \", React.createElement(\"i\", {","        \"className\": 'fa fa-external-link'","      })));","    }","    return React.createElement(\"li\", {","      \"className\": 'book-links'","    }, links);","  }","});","","module.exports = BookLinks;",""],"f":{"1":132},"fnMap":{"1":{"line":13,"loc":{"end":{"column":21,"line":13},"start":{"column":10,"line":13}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/navbar/book-links.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":132,"7":132,"8":132,"9":112,"10":20,"11":20,"12":20,"13":20,"14":20,"15":20,"16":21},"statementMap":{"1":{"end":{"column":38,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":55,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":40},"start":{"column":0,"line":9}},"6":{"end":{"column":22,"line":14},"start":{"column":4,"line":14}},"7":{"end":{"column":50,"line":15},"start":{"column":4,"line":15}},"8":{"end":{"column":5,"line":18},"start":{"column":4,"line":16}},"9":{"end":{"column":18,"line":17},"start":{"column":6,"line":17}},"10":{"end":{"column":15,"line":19},"start":{"column":4,"line":19}},"11":{"end":{"column":5,"line":26},"start":{"column":4,"line":20}},"12":{"end":{"column":26,"line":25},"start":{"column":6,"line":21}},"13":{"end":{"column":5,"line":35},"start":{"column":4,"line":27}},"14":{"end":{"column":11,"line":34},"start":{"column":6,"line":28}},"15":{"end":{"column":14,"line":38},"start":{"column":4,"line":36}},"16":{"end":{"column":27,"line":42},"start":{"column":0,"line":42}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"14":132,"15":132,"16":132,"17":112,"19":20,"20":20,"21":20,"27":20,"28":20,"36":20,"42":21}},
"/Users/phil/github/openstax/tutor-js/src/components/navbar/course-name.cjsx":{"b":{"1":[112,107],"2":[112,107],"3":[112,107]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":55,"line":27},"start":{"column":46,"line":27}},{"end":{"column":64,"line":27},"start":{"column":58,"line":27}}],"type":"cond-expr"},"2":{"line":29,"locations":[{"end":{"column":77,"line":29},"start":{"column":68,"line":29}},{"end":{"column":86,"line":29},"start":{"column":80,"line":29}}],"type":"cond-expr"},"3":{"line":30,"locations":[{"end":{"column":4,"line":30},"start":{"column":4,"line":30}},{"end":{"column":4,"line":30},"start":{"column":4,"line":30}}],"type":"if"}},"code":["var BS, BindStoreMixin, CourseName, CourseStore, CurrentUserActions, CurrentUserStore, React, Router, _, ref;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","BindStoreMixin = require('../bind-store-mixin');","","ref = require('../../flux/current-user'), CurrentUserActions = ref.CurrentUserActions, CurrentUserStore = ref.CurrentUserStore;","","CourseStore = require('../../flux/course').CourseStore;","","CourseName = React.createClass({","  displayName: 'CourseName',","  propTypes: {","    course: React.PropTypes.object","  },","  mixins: [BindStoreMixin],","  bindStore: CourseStore,","  render: function() {","    var course, coursenameComponent, routeName;","    course = this.props.course;","    course = CourseStore.get(course != null ? course.id : void 0);","    coursenameComponent = null;","    routeName = CurrentUserStore.getDashboardRoute(course != null ? course.id : void 0);","    if (course) {","      coursenameComponent = React.createElement(Router.Link, {","        \"to\": routeName,","        \"params\": {","          courseId: course.id","        },","        \"className\": 'navbar-brand'","      }, course.name);","    }","    return coursenameComponent;","  }","});","","module.exports = CourseName;",""],"f":{"1":219},"fnMap":{"1":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/navbar/course-name.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":219,"11":219,"12":219,"13":219,"14":219,"15":219,"16":112,"17":219,"18":21},"statementMap":{"1":{"end":{"column":109,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":48,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":127,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":55,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":41},"start":{"column":0,"line":17}},"10":{"end":{"column":47,"line":25},"start":{"column":4,"line":25}},"11":{"end":{"column":31,"line":26},"start":{"column":4,"line":26}},"12":{"end":{"column":66,"line":27},"start":{"column":4,"line":27}},"13":{"end":{"column":31,"line":28},"start":{"column":4,"line":28}},"14":{"end":{"column":88,"line":29},"start":{"column":4,"line":29}},"15":{"end":{"column":5,"line":38},"start":{"column":4,"line":30}},"16":{"end":{"column":22,"line":37},"start":{"column":6,"line":31}},"17":{"end":{"column":31,"line":39},"start":{"column":4,"line":39}},"18":{"end":{"column":28,"line":43},"start":{"column":0,"line":43}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"25":219,"26":219,"27":219,"28":219,"29":219,"30":219,"31":112,"39":219,"43":21}},
"/Users/phil/github/openstax/tutor-js/src/components/navbar/index.cjsx":{"b":{"1":[208,128],"2":[183,0],"3":[34,149]},"branchMap":{"1":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"2":{"line":49,"locations":[{"end":{"column":4,"line":49},"start":{"column":4,"line":49}},{"end":{"column":4,"line":49},"start":{"column":4,"line":49}}],"type":"if"},"3":{"line":51,"locations":[{"end":{"column":6,"line":51},"start":{"column":6,"line":51}},{"end":{"column":6,"line":51},"start":{"column":6,"line":51}}],"type":"if"}},"code":["var BS, BookLinks, CourseListingStore, CourseName, CourseStore, CurrentUserActions, React, Router, ServerErrorMonitoring, UserActionsMenu, _;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","CourseName = require('./course-name');","","ServerErrorMonitoring = require('./server-error-monitoring');","","UserActionsMenu = require('./user-actions-menu');","","BookLinks = require('./book-links');","","CurrentUserActions = require('../../flux/current-user').CurrentUserActions;","","CourseStore = require('../../flux/course').CourseStore;","","CourseListingStore = require('../../flux/course-listing').CourseListingStore;","","module.exports = React.createClass({","  displayName: 'Navigation',","  contextTypes: {","    router: React.PropTypes.func","  },","  componentWillMount: function() {","    return CourseListingStore.ensureLoaded();","  },","  getInitialState: function() {","    var course;","    course = this.getCourseFromParams();","    return {","      course: course","    };","  },","  getCourseFromParams: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    if (courseId != null) {","      return CourseStore.get(courseId);","    }","  },","  handleCourseChanges: function() {","    var course;","    if (this.isMounted()) {","      course = this.getCourseFromParams();","      if (!_.isEqual(course, this.state.course)) {","        return this.setState({","          course: course","        });","      }","    }","  },","  componentDidUpdate: function() {","    return this.handleCourseChanges();","  },","  componentDidMount: function() {","    return CourseStore.on('course.loaded', this.handleCourseChanges);","  },","  componentWillUnmount: function() {","    return CourseStore.off('course.loaded', this.handleCourseChanges);","  },","  render: function() {","    var brand, course, courseId;","    course = this.state.course;","    courseId = this.context.router.getCurrentParams().courseId;","    brand = React.createElement(Router.Link, {","      \"to\": 'dashboard',","      \"className\": 'navbar-brand'","    }, React.createElement(\"i\", {","      \"className\": 'ui-brand-logo'","    }));","    return React.createElement(BS.Navbar, {","      \"brand\": brand,","      \"toggleNavKey\": 0.,","      \"fixedTop\": true,","      \"fluid\": true","    }, React.createElement(BS.CollapsibleNav, {","      \"eventKey\": 0.","    }, React.createElement(BS.Nav, {","      \"navbar\": true","    }, React.createElement(CourseName, {","      \"course\": course","    }), React.createElement(BookLinks, {","      \"courseId\": courseId","    })), React.createElement(BS.Nav, {","      \"right\": true,","      \"navbar\": true","    }, React.createElement(UserActionsMenu, {","      \"courseId\": courseId,","      \"course\": this.getCourseFromParams()","    }))), React.createElement(ServerErrorMonitoring, null));","  }","});",""],"f":{"1":21,"2":21,"3":336,"4":183,"5":111,"6":21,"7":0,"8":132},"fnMap":{"1":{"line":30,"loc":{"end":{"column":33,"line":30},"start":{"column":22,"line":30}},"name":"(anonymous_1)"},"2":{"line":33,"loc":{"end":{"column":30,"line":33},"start":{"column":19,"line":33}},"name":"(anonymous_2)"},"3":{"line":40,"loc":{"end":{"column":34,"line":40},"start":{"column":23,"line":40}},"name":"(anonymous_3)"},"4":{"line":47,"loc":{"end":{"column":34,"line":47},"start":{"column":23,"line":47}},"name":"(anonymous_4)"},"5":{"line":58,"loc":{"end":{"column":33,"line":58},"start":{"column":22,"line":58}},"name":"(anonymous_5)"},"6":{"line":61,"loc":{"end":{"column":32,"line":61},"start":{"column":21,"line":61}},"name":"(anonymous_6)"},"7":{"line":64,"loc":{"end":{"column":35,"line":64},"start":{"column":24,"line":64}},"name":"(anonymous_7)"},"8":{"line":67,"loc":{"end":{"column":21,"line":67},"start":{"column":10,"line":67}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/navbar/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":336,"19":336,"20":336,"21":208,"22":183,"23":183,"24":183,"25":183,"26":34,"27":111,"28":21,"29":0,"30":132,"31":132,"32":132,"33":132,"34":132},"statementMap":{"1":{"end":{"column":141,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":38,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":61,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":49,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":36,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":75,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":55,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":77,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":98},"start":{"column":0,"line":25}},"14":{"end":{"column":45,"line":31},"start":{"column":4,"line":31}},"15":{"end":{"column":15,"line":34},"start":{"column":4,"line":34}},"16":{"end":{"column":40,"line":35},"start":{"column":4,"line":35}},"17":{"end":{"column":6,"line":38},"start":{"column":4,"line":36}},"18":{"end":{"column":17,"line":41},"start":{"column":4,"line":41}},"19":{"end":{"column":63,"line":42},"start":{"column":4,"line":42}},"20":{"end":{"column":5,"line":45},"start":{"column":4,"line":43}},"21":{"end":{"column":39,"line":44},"start":{"column":6,"line":44}},"22":{"end":{"column":15,"line":48},"start":{"column":4,"line":48}},"23":{"end":{"column":5,"line":56},"start":{"column":4,"line":49}},"24":{"end":{"column":42,"line":50},"start":{"column":6,"line":50}},"25":{"end":{"column":7,"line":55},"start":{"column":6,"line":51}},"26":{"end":{"column":11,"line":54},"start":{"column":8,"line":52}},"27":{"end":{"column":38,"line":59},"start":{"column":4,"line":59}},"28":{"end":{"column":69,"line":62},"start":{"column":4,"line":62}},"29":{"end":{"column":70,"line":65},"start":{"column":4,"line":65}},"30":{"end":{"column":32,"line":68},"start":{"column":4,"line":68}},"31":{"end":{"column":31,"line":69},"start":{"column":4,"line":69}},"32":{"end":{"column":63,"line":70},"start":{"column":4,"line":70}},"33":{"end":{"column":8,"line":76},"start":{"column":4,"line":71}},"34":{"end":{"column":60,"line":96},"start":{"column":4,"line":77}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"31":21,"34":21,"35":21,"36":21,"41":336,"42":336,"43":336,"44":208,"48":183,"49":183,"50":183,"51":183,"52":34,"59":111,"62":21,"65":0,"68":132,"69":132,"70":132,"71":132,"77":132}},
"/Users/phil/github/openstax/tutor-js/src/components/navbar/logout.cjsx":{"b":{"1":[153,0],"2":[22,131]},"branchMap":{"1":{"line":18,"locations":[{"end":{"column":4,"line":18},"start":{"column":4,"line":18}},{"end":{"column":4,"line":18},"start":{"column":4,"line":18}}],"type":"if"},"2":{"line":24,"locations":[{"end":{"column":47,"line":24},"start":{"column":34,"line":24}},{"end":{"column":60,"line":24},"start":{"column":50,"line":24}}],"type":"cond-expr"}},"code":["var CSRF_Token, CurrentUserStore, LOGOUT_URL, LOGOUT_URL_CC, React;","","React = require('react');","","CurrentUserStore = require('../../flux/current-user').CurrentUserStore;","","LOGOUT_URL = '/accounts/logout';","","LOGOUT_URL_CC = '/accounts/logout?cc=true';","","CSRF_Token = CurrentUserStore.getCSRFToken();","","module.exports = React.createClass({displayName: \"exports\",","  render: function() {","    var children, className, classes, isConceptCoach, ref;","    ref = this.props, className = ref.className, children = ref.children, isConceptCoach = ref.isConceptCoach;","    classes = [];","    if (className) {","      classes.push(className);","    }","    classes = classes.join(' ');","    return React.createElement(\"form\", {","      \"acceptCharset\": 'UTF-8',","      \"action\": (isConceptCoach ? LOGOUT_URL_CC : LOGOUT_URL),","      \"className\": '-logout-form',","      \"method\": 'post'","    }, React.createElement(\"input\", {","      \"type\": 'hidden',","      \"name\": '_method',","      \"value\": 'delete'","    }), React.createElement(\"input\", {","      \"type\": 'hidden',","      \"name\": 'authenticity_token',","      \"value\": CSRF_Token","    }), React.createElement(\"button\", {","      \"className\": classes,","      \"aria-label\": \"Sign out\"","    }, children));","  }","});",""],"f":{"1":153},"fnMap":{"1":{"line":14,"loc":{"end":{"column":21,"line":14},"start":{"column":10,"line":14}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/navbar/logout.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":153,"9":153,"10":153,"11":153,"12":153,"13":153,"14":153},"statementMap":{"1":{"end":{"column":67,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":71,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":43,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":45,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":40},"start":{"column":0,"line":13}},"8":{"end":{"column":58,"line":15},"start":{"column":4,"line":15}},"9":{"end":{"column":110,"line":16},"start":{"column":4,"line":16}},"10":{"end":{"column":17,"line":17},"start":{"column":4,"line":17}},"11":{"end":{"column":5,"line":20},"start":{"column":4,"line":18}},"12":{"end":{"column":30,"line":19},"start":{"column":6,"line":19}},"13":{"end":{"column":32,"line":21},"start":{"column":4,"line":21}},"14":{"end":{"column":18,"line":38},"start":{"column":4,"line":22}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":153,"16":153,"17":153,"18":153,"19":153,"21":153,"22":153}},
"/Users/phil/github/openstax/tutor-js/src/components/navbar/server-error-monitoring.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"branchMap":{"1":{"line":33,"locations":[{"end":{"column":4,"line":33},"start":{"column":4,"line":33}},{"end":{"column":4,"line":33},"start":{"column":4,"line":33}}],"type":"if"},"2":{"line":36,"locations":[{"end":{"column":4,"line":36},"start":{"column":4,"line":36}},{"end":{"column":4,"line":36},"start":{"column":4,"line":36}}],"type":"if"},"3":{"line":40,"locations":[{"end":{"column":18,"line":40},"start":{"column":11,"line":40}},{"end":{"column":48,"line":40},"start":{"column":22,"line":40}}],"type":"binary-expr"},"4":{"line":62,"locations":[{"end":{"column":4,"line":62},"start":{"column":4,"line":62}},{"end":{"column":4,"line":62},"start":{"column":4,"line":62}}],"type":"if"},"5":{"line":62,"locations":[{"end":{"column":19,"line":62},"start":{"column":10,"line":62}},{"end":{"column":72,"line":62},"start":{"column":23,"line":62}}],"type":"binary-expr"},"6":{"line":68,"locations":[{"end":{"column":6,"line":68},"start":{"column":6,"line":68}},{"end":{"column":6,"line":68},"start":{"column":6,"line":68}}],"type":"if"},"7":{"line":71,"locations":[{"end":{"column":6,"line":71},"start":{"column":6,"line":71}},{"end":{"column":6,"line":71},"start":{"column":6,"line":71}}],"type":"if"},"8":{"line":72,"locations":[{"end":{"column":43,"line":72},"start":{"column":40,"line":72}},{"end":{"column":49,"line":72},"start":{"column":46,"line":72}}],"type":"cond-expr"},"9":{"line":74,"locations":[{"end":{"column":13,"line":74},"start":{"column":13,"line":74}},{"end":{"column":13,"line":74},"start":{"column":13,"line":74}}],"type":"if"}},"code":["var AppActions, AppStore, BS, BindStoreMixin, Dialog, React, ServerErrorMessage, _, ref;","","React = require('react');","","BindStoreMixin = require('../bind-store-mixin');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ref = require('../../flux/app'), AppStore = ref.AppStore, AppActions = ref.AppActions;","","Dialog = require('../tutor-dialog');","","ServerErrorMessage = React.createClass({","  displayName: 'ServerErrorMessage',","  propTypes: {","    statusCode: React.PropTypes.number.isRequired,","    message: React.PropTypes.string.isRequired,","    request: React.PropTypes.object.isRequired,","    supportLink: React.PropTypes.string,","    debug: React.PropTypes.bool","  },","  getDefaultProps: function() {","    return {","      supportLink: 'https://openstaxtutor.zendesk.com/hc/en-us/requests/new',","      debug: true","    };","  },","  render: function() {","    var dataMessage, debug, debugInfo, errorMessage, message, ref1, request, statusCode, supportLink;","    ref1 = this.props, statusCode = ref1.statusCode, message = ref1.message, request = ref1.request, supportLink = ref1.supportLink, debug = ref1.debug;","    if (request.opts.data != null) {","      dataMessage = React.createElement(\"span\", null, \"with \", React.createElement(\"pre\", null, request.opts.data));","    }","    if (debug) {","      debugInfo = [","        React.createElement(\"p\", null, \"Additional error messages returned from the server is:\"), React.createElement(\"pre\", {","          \"className\": 'response'","        }, message || 'No response was received'), React.createElement(\"div\", {","          \"className\": 'request'","        }, React.createElement(\"kbd\", null, request.opts.method), \" on \", request.url, \" \", dataMessage)","      ];","    }","    return errorMessage = React.createElement(\"div\", {","      \"className\": 'server-error'","    }, React.createElement(\"h3\", null, \"An error with code \", statusCode, \" has occured\"), React.createElement(\"p\", null, \"Please visit \", React.createElement(\"a\", {","      \"target\": '_blank',","      \"href\": supportLink","    }, \"our support page\"), \" to file a bug report.\"), debugInfo);","  }","});","","module.exports = React.createClass({","  displayName: 'ServerErrorMonitoring',","  mixins: [BindStoreMixin],","  bindStore: AppStore,","  bindEvent: 'server-error',","  bindUpdate: function() {","    var dismissError, serverErr;","    serverErr = AppStore.getError();","    if (!(serverErr && -1 === window.location.search.indexOf('reloaded'))) {","      return;","    }","    dismissError = function() {","      var join, navigation;","      navigation = AppStore.errorNavigation();","      if (_.isEmpty(navigation)) {","        return;","      }","      if (navigation.shouldReload) {","        join = window.location.search ? '&' : '?';","        return window.location.href = window.location.href + join + 'reloaded';","      } else if (navigation.href) {","        return window.location.href = navigation.href;","      }","    };","    return Dialog.show({","      title: 'Server Error',","      body: React.createElement(ServerErrorMessage, React.__spread({}, serverErr)),","      buttons: [","        React.createElement(BS.Button, {","          \"key\": 'ok',","          \"onClick\": (function() {","            return Dialog.hide();","          }),","          \"bsStyle\": 'primary'","        }, \"OK\")","      ]","    }).then(dismissError, dismissError);","  },","  render: function() {","    return null;","  }","});",""],"f":{"1":21,"2":0,"3":0,"4":0,"5":0,"6":132},"fnMap":{"1":{"line":24,"loc":{"end":{"column":30,"line":24},"start":{"column":19,"line":24}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":21,"line":30},"start":{"column":10,"line":30}},"name":"(anonymous_2)"},"3":{"line":59,"loc":{"end":{"column":25,"line":59},"start":{"column":14,"line":59}},"name":"(anonymous_3)"},"4":{"line":65,"loc":{"end":{"column":30,"line":65},"start":{"column":19,"line":65}},"name":"(anonymous_4)"},"5":{"line":84,"loc":{"end":{"column":33,"line":84},"start":{"column":22,"line":84}},"name":"(anonymous_5)"},"6":{"line":92,"loc":{"end":{"column":21,"line":92},"start":{"column":10,"line":92}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/navbar/server-error-monitoring.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":21,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":132},"statementMap":{"1":{"end":{"column":88,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":48,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":86,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":36,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":52},"start":{"column":0,"line":15}},"9":{"end":{"column":6,"line":28},"start":{"column":4,"line":25}},"10":{"end":{"column":101,"line":31},"start":{"column":4,"line":31}},"11":{"end":{"column":152,"line":32},"start":{"column":4,"line":32}},"12":{"end":{"column":5,"line":35},"start":{"column":4,"line":33}},"13":{"end":{"column":116,"line":34},"start":{"column":6,"line":34}},"14":{"end":{"column":5,"line":44},"start":{"column":4,"line":36}},"15":{"end":{"column":8,"line":43},"start":{"column":6,"line":37}},"16":{"end":{"column":66,"line":50},"start":{"column":4,"line":45}},"17":{"end":{"column":3,"line":95},"start":{"column":0,"line":54}},"18":{"end":{"column":32,"line":60},"start":{"column":4,"line":60}},"19":{"end":{"column":36,"line":61},"start":{"column":4,"line":61}},"20":{"end":{"column":5,"line":64},"start":{"column":4,"line":62}},"21":{"end":{"column":13,"line":63},"start":{"column":6,"line":63}},"22":{"end":{"column":6,"line":77},"start":{"column":4,"line":65}},"23":{"end":{"column":27,"line":66},"start":{"column":6,"line":66}},"24":{"end":{"column":46,"line":67},"start":{"column":6,"line":67}},"25":{"end":{"column":7,"line":70},"start":{"column":6,"line":68}},"26":{"end":{"column":15,"line":69},"start":{"column":8,"line":69}},"27":{"end":{"column":7,"line":76},"start":{"column":6,"line":71}},"28":{"end":{"column":50,"line":72},"start":{"column":8,"line":72}},"29":{"end":{"column":79,"line":73},"start":{"column":8,"line":73}},"30":{"end":{"column":7,"line":76},"start":{"column":13,"line":74}},"31":{"end":{"column":54,"line":75},"start":{"column":8,"line":75}},"32":{"end":{"column":40,"line":90},"start":{"column":4,"line":78}},"33":{"end":{"column":33,"line":85},"start":{"column":12,"line":85}},"34":{"end":{"column":16,"line":93},"start":{"column":4,"line":93}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"25":21,"31":0,"32":0,"33":0,"34":0,"36":0,"37":0,"45":0,"54":21,"60":0,"61":0,"62":0,"63":0,"65":0,"66":0,"67":0,"68":0,"69":0,"71":0,"72":0,"73":0,"74":0,"75":0,"78":0,"85":0,"93":132}},
"/Users/phil/github/openstax/tutor-js/src/components/navbar/user-actions-menu.cjsx":{"b":{"1":[117,300],"2":[0,153],"3":[0,153],"4":[0,153],"5":[98,55]},"branchMap":{"1":{"line":44,"locations":[{"end":{"column":39,"line":44},"start":{"column":31,"line":44}},{"end":{"column":48,"line":44},"start":{"column":42,"line":44}}],"type":"cond-expr"},"2":{"line":58,"locations":[{"end":{"column":4,"line":58},"start":{"column":4,"line":58}},{"end":{"column":4,"line":58},"start":{"column":4,"line":58}}],"type":"if"},"3":{"line":65,"locations":[{"end":{"column":4,"line":65},"start":{"column":4,"line":65}},{"end":{"column":4,"line":65},"start":{"column":4,"line":65}}],"type":"if"},"4":{"line":72,"locations":[{"end":{"column":4,"line":72},"start":{"column":4,"line":72}},{"end":{"column":4,"line":72},"start":{"column":4,"line":72}}],"type":"if"},"5":{"line":110,"locations":[{"end":{"column":81,"line":110},"start":{"column":61,"line":110}},{"end":{"column":90,"line":110},"start":{"column":84,"line":110}}],"type":"cond-expr"}},"code":["var AccountLink, BS, BindStoreMixin, BrowseTheBook, CurrentUserStore, LogOut, React, Router, UserActionsMenu, UserName, _;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","UserName = require('./username');","","AccountLink = require('./account-link');","","BrowseTheBook = require('../buttons/browse-the-book');","","BindStoreMixin = require('../bind-store-mixin');","","LogOut = require('./logout');","","CurrentUserStore = require('../../flux/current-user').CurrentUserStore;","","UserActionsMenu = React.createClass({displayName: \"UserActionsMenu\",","  mixins: [BindStoreMixin],","  bindStore: CurrentUserStore,","  propTypes: {","    courseId: React.PropTypes.string","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  transitionToMenuItem: function(routeName, params) {","    return this.context.router.transitionTo(routeName, params);","  },","  componentWillMount: function() {","    return CurrentUserStore.ensureLoaded();","  },","  renderMenuItem: function(route, index) {","    var isActive;","    isActive = this.context.router.isActive(route.name);","    return React.createElement(BS.MenuItem, {","      \"key\": \"dropdown-item-\" + index,","      \"onSelect\": _.partial(this.transitionToMenuItem, route.name, route.params),","      \"className\": (isActive ? 'active' : void 0),","      \"eventKey\": index + 2","    }, route.label);","  },","  renderMenuItems: function() {","    var courseId, menu;","    courseId = this.props.courseId;","    menu = _.map(CurrentUserStore.getCourseMenuRoutes(courseId), this.renderMenuItem);","    menu.push(React.createElement(\"li\", {","      \"key\": 'nav-browse-the-book'","    }, React.createElement(BrowseTheBook, {","      \"unstyled\": true,","      \"courseId\": courseId","    })));","    if (CurrentUserStore.isAdmin()) {","      menu.push(React.createElement(\"li\", {","        \"key\": 'admin'","      }, React.createElement(\"a\", {","        \"href\": '/admin'","      }, \"Admin\")));","    }","    if (CurrentUserStore.isCustomerService()) {","      menu.push(React.createElement(\"li\", {","        \"key\": 'cs'","      }, React.createElement(\"a\", {","        \"href\": '/customer_service'","      }, \"Customer Service\")));","    }","    if (CurrentUserStore.isContentAnalyst()) {","      menu.push(this.renderMenuItem({","        name: 'QADashboard',","        label: 'QA Content',","        params: {}","      }, menu.length));","      menu.push(React.createElement(\"li\", {","        \"key\": 'ca'","      }, React.createElement(\"a\", {","        \"href\": '/content_analyst'","      }, \"Content Analyst\")));","    }","    menu.push(React.createElement(BS.MenuItem, {","      \"divider\": true,","      \"key\": 'dropdown-item-divider'","    }));","    return menu;","  },","  render: function() {","    var ref;","    return React.createElement(BS.DropdownButton, {","      \"navItem\": true,","      \"eventKey\": 1.,","      \"className\": '-hamburger-menu',","      \"title\": React.createElement(UserName, null),","      \"ref\": 'navDropDown'","    }, this.renderMenuItems(), React.createElement(AccountLink, {","      \"key\": 'accounts-link'","    }), React.createElement(BS.MenuItem, {","      \"key\": 'nav-help-link',","      \"className\": '-help-link',","      \"target\": '_blank',","      \"href\": CurrentUserStore.getHelpLink(this.props.courseId)","    }, \"Get Help\"), React.createElement(BS.MenuItem, {","      \"className\": \"logout\",","      \"eventKey\": 4.,","      \"key\": 'dropdown-item-logout'","    }, React.createElement(LogOut, {","      \"isConceptCoach\": ((ref = this.props.course) != null ? ref.is_concept_coach : void 0),","      \"className\": 'btn btn-link btn-xs'","    }, \"Log Out\")));","  }","});","","module.exports = UserActionsMenu;",""],"f":{"1":0,"2":21,"3":417,"4":153,"5":153},"fnMap":{"1":{"line":32,"loc":{"end":{"column":52,"line":32},"start":{"column":24,"line":32}},"name":"(anonymous_1)"},"2":{"line":35,"loc":{"end":{"column":33,"line":35},"start":{"column":22,"line":35}},"name":"(anonymous_2)"},"3":{"line":38,"loc":{"end":{"column":41,"line":38},"start":{"column":18,"line":38}},"name":"(anonymous_3)"},"4":{"line":48,"loc":{"end":{"column":30,"line":48},"start":{"column":19,"line":48}},"name":"(anonymous_4)"},"5":{"line":90,"loc":{"end":{"column":21,"line":90},"start":{"column":10,"line":90}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/navbar/user-actions-menu.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":0,"14":21,"15":417,"16":417,"17":417,"18":153,"19":153,"20":153,"21":153,"22":153,"23":0,"24":153,"25":0,"26":153,"27":0,"28":0,"29":153,"30":153,"31":153,"32":153,"33":21},"statementMap":{"1":{"end":{"column":122,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":54,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":48,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":29,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":71,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":114},"start":{"column":0,"line":23}},"13":{"end":{"column":63,"line":33},"start":{"column":4,"line":33}},"14":{"end":{"column":43,"line":36},"start":{"column":4,"line":36}},"15":{"end":{"column":17,"line":39},"start":{"column":4,"line":39}},"16":{"end":{"column":56,"line":40},"start":{"column":4,"line":40}},"17":{"end":{"column":20,"line":46},"start":{"column":4,"line":41}},"18":{"end":{"column":23,"line":49},"start":{"column":4,"line":49}},"19":{"end":{"column":35,"line":50},"start":{"column":4,"line":50}},"20":{"end":{"column":86,"line":51},"start":{"column":4,"line":51}},"21":{"end":{"column":9,"line":57},"start":{"column":4,"line":52}},"22":{"end":{"column":5,"line":64},"start":{"column":4,"line":58}},"23":{"end":{"column":20,"line":63},"start":{"column":6,"line":59}},"24":{"end":{"column":5,"line":71},"start":{"column":4,"line":65}},"25":{"end":{"column":31,"line":70},"start":{"column":6,"line":66}},"26":{"end":{"column":5,"line":83},"start":{"column":4,"line":72}},"27":{"end":{"column":23,"line":77},"start":{"column":6,"line":73}},"28":{"end":{"column":30,"line":82},"start":{"column":6,"line":78}},"29":{"end":{"column":8,"line":87},"start":{"column":4,"line":84}},"30":{"end":{"column":16,"line":88},"start":{"column":4,"line":88}},"31":{"end":{"column":12,"line":91},"start":{"column":4,"line":91}},"32":{"end":{"column":20,"line":112},"start":{"column":4,"line":92}},"33":{"end":{"column":33,"line":116},"start":{"column":0,"line":116}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"33":0,"36":21,"39":417,"40":417,"41":417,"49":153,"50":153,"51":153,"52":153,"58":153,"59":0,"65":153,"66":0,"72":153,"73":0,"78":0,"84":153,"88":153,"91":153,"92":153,"116":21}},
"/Users/phil/github/openstax/tutor-js/src/components/navbar/username.cjsx":{"b":{},"branchMap":{},"code":["var BindStoreMixin, CurrentUserStore, React, UserName;","","React = require('react');","","BindStoreMixin = require('../bind-store-mixin');","","CurrentUserStore = require('../../flux/current-user').CurrentUserStore;","","UserName = React.createClass({","  displayName: 'UserName',","  render: function() {","    return React.createElement(\"span\", React.__spread({}, this.props), CurrentUserStore.getName());","  }","});","","module.exports = UserName;",""],"f":{"1":153},"fnMap":{"1":{"line":11,"loc":{"end":{"column":21,"line":11},"start":{"column":10,"line":11}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/navbar/username.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":153,"7":21},"statementMap":{"1":{"end":{"column":54,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":48,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":71,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":14},"start":{"column":0,"line":9}},"6":{"end":{"column":99,"line":12},"start":{"column":4,"line":12}},"7":{"end":{"column":26,"line":16},"start":{"column":0,"line":16}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"12":153,"16":21}},
"/Users/phil/github/openstax/tutor-js/src/components/new-tab-link.cjsx":{"b":{},"branchMap":{},"code":["var NewTabLink, React, _;","","React = require('react');","","_ = require('underscore');","","NewTabLink = React.createClass({","  displayName: 'NewTabLink',","  contextTypes: {","    router: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      target: '_blank'","    };","  },","  propTypes: {","    to: React.PropTypes.string.isRequired,","    children: React.PropTypes.node.isRequired,","    params: React.PropTypes.object,","    query: React.PropTypes.object,","    target: React.PropTypes.string","  },","  getLinkProps: function(link) {","    var linkProps, transferProps;","    linkProps = {","      href: link","    };","    transferProps = _.omit(this.props, ['to', 'params', 'query', 'children']);","    return _.extend({}, transferProps, linkProps);","  },","  render: function() {","    var children, link, linkProps, params, query, ref, to;","    ref = this.props, to = ref.to, params = ref.params, query = ref.query, children = ref.children;","    link = this.context.router.makeHref(to, params, query);","    linkProps = this.getLinkProps(link);","    return React.createElement(\"a\", React.__spread({}, linkProps), children);","  }","});","","module.exports = NewTabLink;",""],"f":{"1":21,"2":930,"3":930},"fnMap":{"1":{"line":12,"loc":{"end":{"column":30,"line":12},"start":{"column":19,"line":12}},"name":"(anonymous_1)"},"2":{"line":24,"loc":{"end":{"column":31,"line":24},"start":{"column":16,"line":24}},"name":"(anonymous_2)"},"3":{"line":32,"loc":{"end":{"column":21,"line":32},"start":{"column":10,"line":32}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/new-tab-link.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":930,"7":930,"8":930,"9":930,"10":930,"11":930,"12":930,"13":930,"14":930,"15":21},"statementMap":{"1":{"end":{"column":25,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":39},"start":{"column":0,"line":7}},"5":{"end":{"column":6,"line":15},"start":{"column":4,"line":13}},"6":{"end":{"column":33,"line":25},"start":{"column":4,"line":25}},"7":{"end":{"column":6,"line":28},"start":{"column":4,"line":26}},"8":{"end":{"column":78,"line":29},"start":{"column":4,"line":29}},"9":{"end":{"column":50,"line":30},"start":{"column":4,"line":30}},"10":{"end":{"column":58,"line":33},"start":{"column":4,"line":33}},"11":{"end":{"column":99,"line":34},"start":{"column":4,"line":34}},"12":{"end":{"column":59,"line":35},"start":{"column":4,"line":35}},"13":{"end":{"column":40,"line":36},"start":{"column":4,"line":36}},"14":{"end":{"column":77,"line":37},"start":{"column":4,"line":37}},"15":{"end":{"column":28,"line":41},"start":{"column":0,"line":41}}},"l":{"1":21,"3":21,"5":21,"7":21,"13":21,"25":930,"26":930,"29":930,"30":930,"33":930,"34":930,"35":930,"36":930,"37":930,"41":21}},
"/Users/phil/github/openstax/tutor-js/src/components/no-periods.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":20,"locations":[{"end":{"column":4,"line":20},"start":{"column":4,"line":20}},{"end":{"column":4,"line":20},"start":{"column":4,"line":20}}],"type":"if"}},"code":["var BS, NO_PERIODS_TEXT, NoPeriods, React, _;","","_ = require('underscore');","","React = require('react');","","BS = require('react-bootstrap');","","NO_PERIODS_TEXT = 'Please add at least one period to the course.';","","NoPeriods = React.createClass({displayName: \"NoPeriods\",","  propTypes: {","    noPanel: React.PropTypes.bool","  },","  render: function() {","    var text;","    text = React.createElement(\"span\", {","      \"className\": '-no-periods-text'","    }, NO_PERIODS_TEXT);","    if (this.props.noPanel) {","      return text;","    } else {","      return React.createElement(BS.Panel, null, text);","    }","  }","});","","module.exports = NoPeriods;",""],"f":{"1":0},"fnMap":{"1":{"line":15,"loc":{"end":{"column":21,"line":15},"start":{"column":10,"line":15}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/no-periods.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":0,"9":0,"10":0,"11":0,"12":21},"statementMap":{"1":{"end":{"column":45,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":66,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":26},"start":{"column":0,"line":11}},"7":{"end":{"column":13,"line":16},"start":{"column":4,"line":16}},"8":{"end":{"column":24,"line":19},"start":{"column":4,"line":17}},"9":{"end":{"column":5,"line":24},"start":{"column":4,"line":20}},"10":{"end":{"column":18,"line":21},"start":{"column":6,"line":21}},"11":{"end":{"column":55,"line":23},"start":{"column":6,"line":23}},"12":{"end":{"column":27,"line":28},"start":{"column":0,"line":28}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"16":0,"17":0,"20":0,"21":0,"23":0,"28":21}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/chapter-section-type.coffee":{"b":{},"branchMap":{},"code":["var React;","","React = require('react');","","module.exports = React.PropTypes.shape({","  title: React.PropTypes.string,","  children: React.PropTypes.array,","  chapter_section: React.PropTypes.array,","  clue: React.PropTypes.object,","  questions_answered_count: React.PropTypes.number","});",""],"f":{},"fnMap":{},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/chapter-section-type.coffee","s":{"1":21,"2":21,"3":21},"statementMap":{"1":{"end":{"column":10,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":11},"start":{"column":0,"line":5}}},"l":{"1":21,"3":21,"5":21}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/chapter.cjsx":{"b":{},"branchMap":{},"code":["var BS, ChapterSectionMixin, ChapterSectionType, ProgressBar, React, Router, Section, Statistics;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","ChapterSectionType = require('./chapter-section-type');","","ProgressBar = require('./progress-bar');","","Section = require('./section');","","Statistics = require('./statistics');","","module.exports = React.createClass({","  displayName: 'PerformanceForecastChapter',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    roleId: React.PropTypes.string,","    chapter: ChapterSectionType.isRequired,","    onPractice: React.PropTypes.func,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  render: function() {","    var chapter, courseId, i, ref, section;","    ref = this.props, chapter = ref.chapter, courseId = ref.courseId;","    return React.createElement(\"div\", {","      \"className\": 'chapter-panel'","    }, React.createElement(\"div\", {","      \"className\": 'chapter'","    }, React.createElement(\"div\", {","      \"className\": 'heading'","    }, React.createElement(\"span\", {","      \"className\": 'number'","    }, chapter.chapter_section[0]), React.createElement(\"div\", {","      \"className\": 'title',","      \"title\": chapter.title","    }, chapter.title)), React.createElement(ProgressBar, React.__spread({}, this.props, {","      \"section\": chapter","    })), React.createElement(Statistics, {","      \"courseId\": this.props.courseId,","      \"roleId\": this.props.roleId,","      \"section\": chapter,","      \"displaying\": \"chapter\"","    })), React.createElement(\"div\", {","      \"ref\": 'sections',","      \"className\": 'sections'","    }, (function() {","      var j, len, ref1, results;","      ref1 = chapter.children;","      results = [];","      for (i = j = 0, len = ref1.length; j < len; i = ++j) {","        section = ref1[i];","        results.push(React.createElement(Section, React.__spread({","          \"key\": i,","          \"section\": section","        }, this.props)));","      }","      return results;","    }).call(this)));","  }","});",""],"f":{"1":26,"2":26},"fnMap":{"1":{"line":28,"loc":{"end":{"column":21,"line":28},"start":{"column":10,"line":28}},"name":"(anonymous_1)"},"2":{"line":52,"loc":{"end":{"column":19,"line":52},"start":{"column":8,"line":52}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/chapter.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":26,"12":26,"13":26,"14":26,"15":26,"16":26,"17":26,"18":67,"19":67,"20":26},"statementMap":{"1":{"end":{"column":97,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":79,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":31,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":37,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":66},"start":{"column":0,"line":19}},"11":{"end":{"column":43,"line":29},"start":{"column":4,"line":29}},"12":{"end":{"column":69,"line":30},"start":{"column":4,"line":30}},"13":{"end":{"column":20,"line":64},"start":{"column":4,"line":31}},"14":{"end":{"column":32,"line":53},"start":{"column":6,"line":53}},"15":{"end":{"column":30,"line":54},"start":{"column":6,"line":54}},"16":{"end":{"column":19,"line":55},"start":{"column":6,"line":55}},"17":{"end":{"column":7,"line":62},"start":{"column":6,"line":56}},"18":{"end":{"column":26,"line":57},"start":{"column":8,"line":57}},"19":{"end":{"column":25,"line":61},"start":{"column":8,"line":58}},"20":{"end":{"column":21,"line":63},"start":{"column":6,"line":63}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"29":26,"30":26,"31":26,"53":26,"54":26,"55":26,"56":26,"57":67,"58":67,"63":26}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/color-key.cjsx":{"b":{},"branchMap":{},"code":["var React;","","React = require('react');","","module.exports = React.createClass({","  displayName: 'PerformanceForecastColorKey',","  render: function() {","    return React.createElement(\"div\", {","      \"className\": 'guide-key'","    }, React.createElement(\"div\", {","      \"className\": 'item'","    }, React.createElement(\"div\", {","      \"className\": 'box high'","    }), React.createElement(\"span\", {","      \"className\": 'title'","    }, \"looking good\")), React.createElement(\"div\", {","      \"className\": 'item'","    }, React.createElement(\"div\", {","      \"className\": 'box medium'","    }), React.createElement(\"span\", {","      \"className\": 'title'","    }, \"almost there\")), React.createElement(\"div\", {","      \"className\": 'item'","    }, React.createElement(\"div\", {","      \"className\": 'box low'","    }), React.createElement(\"span\", {","      \"className\": 'title'","    }, \"keep trying\")));","  }","});",""],"f":{"1":12},"fnMap":{"1":{"line":7,"loc":{"end":{"column":21,"line":7},"start":{"column":10,"line":7}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/color-key.cjsx","s":{"1":21,"2":21,"3":21,"4":12},"statementMap":{"1":{"end":{"column":10,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":30},"start":{"column":0,"line":5}},"4":{"end":{"column":24,"line":28},"start":{"column":4,"line":8}}},"l":{"1":21,"3":21,"5":21,"8":12}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/guide.cjsx":{"b":{"1":[12,0],"2":[8,12],"3":[10,10],"4":[0,12]},"branchMap":{"1":{"line":48,"locations":[{"end":{"column":31,"line":48},"start":{"column":12,"line":48}},{"end":{"column":37,"line":48},"start":{"column":35,"line":48}}],"type":"binary-expr"},"2":{"line":63,"locations":[{"end":{"column":4,"line":63},"start":{"column":4,"line":63}},{"end":{"column":4,"line":63},"start":{"column":4,"line":63}}],"type":"if"},"3":{"line":63,"locations":[{"end":{"column":78,"line":63},"start":{"column":62,"line":63}},{"end":{"column":87,"line":63},"start":{"column":81,"line":63}}],"type":"cond-expr"},"4":{"line":65,"locations":[{"end":{"column":11,"line":65},"start":{"column":11,"line":65}},{"end":{"column":11,"line":65},"start":{"column":11,"line":65}}],"type":"if"}},"code":["var BS, Chapter, ChapterSectionType, ColorKey, ProgressBar, React, Router, Section, WeakerPanel, _;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","Chapter = require('./chapter');","","Section = require('./section');","","ColorKey = require('./color-key');","","ProgressBar = require('./progress-bar');","","WeakerPanel = require('./weaker-panel');","","ChapterSectionType = require('./chapter-section-type');","","module.exports = React.createClass({","  displayName: 'PerformanceForecast',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    roleId: React.PropTypes.string,","    allSections: React.PropTypes.array.isRequired,","    chapters: React.PropTypes.arrayOf(ChapterSectionType),","    heading: React.PropTypes.element,","    onPractice: React.PropTypes.func,","    onReturn: React.PropTypes.func.isRequired,","    weakerTitle: React.PropTypes.string.isRequired,","    weakerExplanation: React.PropTypes.element,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  renderBody: function() {","    var chapter, i;","    return React.createElement(\"div\", {","      \"className\": 'guide-group'","    }, React.createElement(WeakerPanel, React.__spread({","      \"sections\": this.props.allSections","    }, this.props)), React.createElement(BS.Row, null, React.createElement(\"h3\", null, \"Individual Chapters\")), (function() {","      var j, len, ref, results;","      ref = this.props.chapters || [];","      results = [];","      for (i = j = 0, len = ref.length; j < len; i = ++j) {","        chapter = ref[i];","        results.push(React.createElement(Chapter, React.__spread({","          \"key\": i,","          \"chapter\": chapter","        }, this.props)));","      }","      return results;","    }).call(this));","  },","  render: function() {","    var base, body, className;","    className = 'guide-container';","    if (typeof (base = this.props).isLoading === \"function\" ? base.isLoading() : void 0) {","      body = this.props.loadingMessage;","    } else if (_.isEmpty(this.props.allSections)) {","      body = this.props.emptyMessage;","    } else {","      body = this.renderBody();","    }","    return React.createElement(\"div\", {","      \"className\": 'guide-container'","    }, this.props.heading, body);","  }","});",""],"f":{"1":12,"2":12,"3":20},"fnMap":{"1":{"line":40,"loc":{"end":{"column":25,"line":40},"start":{"column":14,"line":40}},"name":"(anonymous_1)"},"2":{"line":46,"loc":{"end":{"column":124,"line":46},"start":{"column":113,"line":46}},"name":"(anonymous_2)"},"3":{"line":60,"loc":{"end":{"column":21,"line":60},"start":{"column":10,"line":60}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/guide.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":12,"14":12,"15":12,"16":12,"17":12,"18":12,"19":26,"20":26,"21":12,"22":20,"23":20,"24":20,"25":8,"26":12,"27":0,"28":12,"29":20},"statementMap":{"1":{"end":{"column":99,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":31,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":31,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":34,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":40,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":40,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":55,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":74},"start":{"column":0,"line":23}},"13":{"end":{"column":19,"line":41},"start":{"column":4,"line":41}},"14":{"end":{"column":19,"line":58},"start":{"column":4,"line":42}},"15":{"end":{"column":31,"line":47},"start":{"column":6,"line":47}},"16":{"end":{"column":38,"line":48},"start":{"column":6,"line":48}},"17":{"end":{"column":19,"line":49},"start":{"column":6,"line":49}},"18":{"end":{"column":7,"line":56},"start":{"column":6,"line":50}},"19":{"end":{"column":25,"line":51},"start":{"column":8,"line":51}},"20":{"end":{"column":25,"line":55},"start":{"column":8,"line":52}},"21":{"end":{"column":21,"line":57},"start":{"column":6,"line":57}},"22":{"end":{"column":30,"line":61},"start":{"column":4,"line":61}},"23":{"end":{"column":34,"line":62},"start":{"column":4,"line":62}},"24":{"end":{"column":5,"line":69},"start":{"column":4,"line":63}},"25":{"end":{"column":39,"line":64},"start":{"column":6,"line":64}},"26":{"end":{"column":5,"line":69},"start":{"column":11,"line":65}},"27":{"end":{"column":37,"line":66},"start":{"column":6,"line":66}},"28":{"end":{"column":31,"line":68},"start":{"column":6,"line":68}},"29":{"end":{"column":33,"line":72},"start":{"column":4,"line":70}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"41":12,"42":12,"47":12,"48":12,"49":12,"50":12,"51":26,"52":26,"57":12,"61":20,"62":20,"63":20,"64":8,"65":12,"66":0,"68":12,"70":20}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/index.cjsx":{"b":{},"branchMap":{},"code":["var LoadableItem, PerformanceForecast, React, ScoresActions, ScoresStore, Student, StudentComponent, Teacher, TeacherComponent, TeacherStudent, TeacherStudentComponent, ref;","","React = require('react');","","PerformanceForecast = require('../../flux/performance-forecast');","","LoadableItem = require('../loadable-item');","","TeacherComponent = require('./teacher');","","StudentComponent = require('./student');","","TeacherStudentComponent = require('./teacher-student');","","ref = require('../../flux/scores'), ScoresStore = ref.ScoresStore, ScoresActions = ref.ScoresActions;","","Student = React.createClass({","  displayName: 'PerformanceForecastStudentShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return React.createElement(LoadableItem, {","      \"id\": courseId,","      \"store\": PerformanceForecast.Student.store,","      \"actions\": PerformanceForecast.Student.actions,","      \"renderItem\": (function() {","        return React.createElement(StudentComponent, {","          \"courseId\": courseId","        });","      }),","      \"isLong\": true","    });","  }","});","","TeacherStudent = React.createClass({","  displayName: 'PerformanceForecastTeacherStudentShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId, ref1, roleId;","    ref1 = this.context.router.getCurrentParams(), courseId = ref1.courseId, roleId = ref1.roleId;","    return React.createElement(LoadableItem, {","      \"id\": courseId,","      \"store\": ScoresStore,","      \"actions\": ScoresActions,","      \"renderItem\": (function() {","        return React.createElement(TeacherStudentComponent, {","          \"courseId\": courseId,","          \"roleId\": roleId","        });","      }),","      \"isLong\": true","    });","  }","});","","Teacher = React.createClass({","  displayName: 'PerformanceForecastTeacherShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return React.createElement(LoadableItem, {","      \"id\": courseId,","      \"store\": PerformanceForecast.Teacher.store,","      \"actions\": PerformanceForecast.Teacher.actions,","      \"renderItem\": (function() {","        return React.createElement(TeacherComponent, {","          \"courseId\": courseId","        });","      }),","      \"isLong\": true","    });","  }","});","","module.exports = {","  Teacher: Teacher,","  TeacherStudent: TeacherStudent,","  Student: Student","};",""],"f":{"1":0,"2":0,"3":2,"4":6,"5":2,"6":2},"fnMap":{"1":{"line":22,"loc":{"end":{"column":21,"line":22},"start":{"column":10,"line":22}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":32,"line":29},"start":{"column":21,"line":29}},"name":"(anonymous_2)"},"3":{"line":44,"loc":{"end":{"column":21,"line":44},"start":{"column":10,"line":44}},"name":"(anonymous_3)"},"4":{"line":51,"loc":{"end":{"column":32,"line":51},"start":{"column":21,"line":51}},"name":"(anonymous_4)"},"5":{"line":67,"loc":{"end":{"column":21,"line":67},"start":{"column":10,"line":67}},"name":"(anonymous_5)"},"6":{"line":74,"loc":{"end":{"column":32,"line":74},"start":{"column":21,"line":74}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":0,"12":0,"13":0,"14":21,"15":2,"16":2,"17":2,"18":6,"19":21,"20":2,"21":2,"22":2,"23":2,"24":21},"statementMap":{"1":{"end":{"column":173,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":65,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":43,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":40,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":40,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":55,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":101,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":37},"start":{"column":0,"line":17}},"10":{"end":{"column":17,"line":23},"start":{"column":4,"line":23}},"11":{"end":{"column":63,"line":24},"start":{"column":4,"line":24}},"12":{"end":{"column":7,"line":35},"start":{"column":4,"line":25}},"13":{"end":{"column":11,"line":32},"start":{"column":8,"line":30}},"14":{"end":{"column":3,"line":60},"start":{"column":0,"line":39}},"15":{"end":{"column":31,"line":45},"start":{"column":4,"line":45}},"16":{"end":{"column":98,"line":46},"start":{"column":4,"line":46}},"17":{"end":{"column":7,"line":58},"start":{"column":4,"line":47}},"18":{"end":{"column":11,"line":55},"start":{"column":8,"line":52}},"19":{"end":{"column":3,"line":82},"start":{"column":0,"line":62}},"20":{"end":{"column":17,"line":68},"start":{"column":4,"line":68}},"21":{"end":{"column":63,"line":69},"start":{"column":4,"line":69}},"22":{"end":{"column":7,"line":80},"start":{"column":4,"line":70}},"23":{"end":{"column":11,"line":77},"start":{"column":8,"line":75}},"24":{"end":{"column":2,"line":88},"start":{"column":0,"line":84}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"23":0,"24":0,"25":0,"30":0,"39":21,"45":2,"46":2,"47":2,"52":6,"62":21,"68":2,"69":2,"70":2,"75":2,"84":21}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/info-link.cjsx":{"b":{},"branchMap":{},"code":["var BS, MESSAGES, React;","","React = require('react');","","BS = require('react-bootstrap');","","MESSAGES = {","  student: [","    React.createElement(\"p\", {","      \"key\": 's1'","    }, \"The performance forecast is an estimate of your understanding of a topic.\"), React.createElement(\"p\", {","      \"key\": 's2'","    }, \"It is personalized display based on your answers to reading questions,\\nhomework problems, and previous practices.\")","  ],","  teacher: [","    React.createElement(\"p\", {","      \"key\": 's1'","    }, \"The performance forecast is an estimate of each group\\'s understanding of a topic.\"), React.createElement(\"p\", {","      \"key\": 's2'","    }, \"It is personalized display based on their answers to reading questions,\\nhomework problems, and previous practices.\")","  ],","  teacher_student: [","    React.createElement(\"p\", {","      \"key\": 'st1'","    }, \"The performance forecast is an estimate of each student\\'s understanding of a topic.\"), React.createElement(\"p\", {","      \"key\": 'st2'","    }, \"It is personalized display based on their answers to reading questions,\\nhomework problems, and previous practices.\")","  ]","};","","module.exports = React.createClass({","  displayName: 'PerformanceForecastInfoLink',","  type: React.PropTypes.oneOf(['student', 'teacher', 'teacher_student']).isRequired,","  render: function() {","    var tooltip;","    tooltip = React.createElement(BS.Tooltip, {","      \"className\": 'info-link-tooltip',","      \"html\": 'true'","    }, MESSAGES[this.props.type]);","    return React.createElement(BS.OverlayTrigger, {","      \"placement\": 'right',","      \"overlay\": tooltip","    }, React.createElement(\"span\", {","      \"className\": 'info-link'","    }));","  }","});",""],"f":{"1":20},"fnMap":{"1":{"line":34,"loc":{"end":{"column":21,"line":34},"start":{"column":10,"line":34}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/info-link.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":20,"7":20,"8":20},"statementMap":{"1":{"end":{"column":24,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":29},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":47},"start":{"column":0,"line":31}},"6":{"end":{"column":16,"line":35},"start":{"column":4,"line":35}},"7":{"end":{"column":34,"line":39},"start":{"column":4,"line":36}},"8":{"end":{"column":8,"line":45},"start":{"column":4,"line":40}}},"l":{"1":21,"3":21,"5":21,"7":21,"31":21,"35":20,"36":20,"40":20}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/practice-button.cjsx":{"b":{"1":[0,0],"2":[0,2],"3":[0,2]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":4,"line":27},"start":{"column":4,"line":27}},{"end":{"column":4,"line":27},"start":{"column":4,"line":27}}],"type":"if"},"2":{"line":41,"locations":[{"end":{"column":4,"line":41},"start":{"column":4,"line":41}},{"end":{"column":4,"line":41},"start":{"column":4,"line":41}}],"type":"if"},"3":{"line":48,"locations":[{"end":{"column":4,"line":48},"start":{"column":4,"line":48}},{"end":{"column":4,"line":48},"start":{"column":4,"line":48}}],"type":"if"}},"code":["var BS, ChapterSectionType, PerformanceForecast, React, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","PerformanceForecast = require('../../flux/performance-forecast');","","ChapterSectionType = require('./chapter-section-type');","","module.exports = React.createClass({","  displayName: 'PracticeButton',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    title: React.PropTypes.string.isRequired,","    sections: React.PropTypes.arrayOf(ChapterSectionType)","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  onClick: function() {","    var courseId, page_ids, ref, sections;","    ref = this.props, courseId = ref.courseId, sections = ref.sections;","    page_ids = PerformanceForecast.Helpers.pagesForSections(sections);","    if (!_.isEmpty(page_ids)) {","      return this.context.router.transitionTo('viewPractice', {","        courseId: courseId","      }, {","        page_ids: page_ids","      });","    }","  },","  render: function() {","    var button, classNames, isDisabled, page_ids, sections, tooltip;","    sections = this.props.sections;","    page_ids = PerformanceForecast.Helpers.pagesForSections(sections);","    classNames = ['practice', this.props.practiceType];","    isDisabled = _.isEmpty(page_ids);","    if (isDisabled) {","      classNames.push('disabled');","    }","    button = React.createElement(BS.Button, {","      \"className\": classNames.join(' '),","      \"onClick\": this.onClick","    }, this.props.title, React.createElement(\"i\", null));","    if (isDisabled) {","      tooltip = React.createElement(BS.Tooltip, null, \"No problems are available for practicing\");","      return React.createElement(BS.OverlayTrigger, {","        \"placement\": 'top',","        \"overlay\": tooltip","      }, button);","    } else {","      return button;","    }","  }","});",""],"f":{"1":0,"2":2},"fnMap":{"1":{"line":23,"loc":{"end":{"column":22,"line":23},"start":{"column":11,"line":23}},"name":"(anonymous_1)"},"2":{"line":35,"loc":{"end":{"column":21,"line":35},"start":{"column":10,"line":35}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/practice-button.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":2,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":2,"22":0,"23":0,"24":2},"statementMap":{"1":{"end":{"column":58,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":65,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":58},"start":{"column":0,"line":13}},"8":{"end":{"column":42,"line":24},"start":{"column":4,"line":24}},"9":{"end":{"column":71,"line":25},"start":{"column":4,"line":25}},"10":{"end":{"column":70,"line":26},"start":{"column":4,"line":26}},"11":{"end":{"column":5,"line":33},"start":{"column":4,"line":27}},"12":{"end":{"column":9,"line":32},"start":{"column":6,"line":28}},"13":{"end":{"column":68,"line":36},"start":{"column":4,"line":36}},"14":{"end":{"column":35,"line":37},"start":{"column":4,"line":37}},"15":{"end":{"column":70,"line":38},"start":{"column":4,"line":38}},"16":{"end":{"column":55,"line":39},"start":{"column":4,"line":39}},"17":{"end":{"column":37,"line":40},"start":{"column":4,"line":40}},"18":{"end":{"column":5,"line":43},"start":{"column":4,"line":41}},"19":{"end":{"column":34,"line":42},"start":{"column":6,"line":42}},"20":{"end":{"column":57,"line":47},"start":{"column":4,"line":44}},"21":{"end":{"column":5,"line":56},"start":{"column":4,"line":48}},"22":{"end":{"column":98,"line":49},"start":{"column":6,"line":49}},"23":{"end":{"column":17,"line":53},"start":{"column":6,"line":50}},"24":{"end":{"column":20,"line":55},"start":{"column":6,"line":55}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"24":0,"25":0,"26":0,"27":0,"28":0,"36":2,"37":2,"38":2,"39":2,"40":2,"41":2,"42":0,"44":2,"48":2,"49":0,"50":0,"55":2}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/progress-bar.cjsx":{"b":{"1":[128,0],"2":[0,0],"3":[4,124]},"branchMap":{"1":{"line":22,"locations":[{"end":{"column":6,"line":25},"start":{"column":106,"line":22}},{"end":{"column":89,"line":27},"start":{"column":10,"line":25}}],"type":"cond-expr"},"2":{"line":27,"locations":[{"end":{"column":52,"line":27},"start":{"column":21,"line":27}},{"end":{"column":87,"line":27},"start":{"column":55,"line":27}}],"type":"cond-expr"},"3":{"line":28,"locations":[{"end":{"column":4,"line":28},"start":{"column":4,"line":28}},{"end":{"column":4,"line":28},"start":{"column":4,"line":28}}],"type":"if"}},"code":["var BS, ChapterSectionType, PerformanceForecast, React;","","React = require('react');","","BS = require('react-bootstrap');","","ChapterSectionType = require('./chapter-section-type');","","PerformanceForecast = require('../../flux/performance-forecast');","","module.exports = React.createClass({","  displayName: 'PerformanceForecastProgressBar',","  propTypes: {","    section: React.PropTypes.object.isRequired,","    onPractice: React.PropTypes.func,","    courseId: React.PropTypes.string.isRequired,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  render: function() {","    var bar, onPractice, percent, ref, section, tooltip;","    ref = this.props, section = ref.section, onPractice = ref.onPractice;","    bar = PerformanceForecast.Helpers.canDisplayForecast(section.clue, this.props.sampleSizeThreshold) ? (percent = Math.round((section.clue.value / 1) * 100), React.createElement(BS.ProgressBar, {","      \"className\": section.clue.value_interpretation,","      \"now\": Math.max(percent, 5)","    })) : React.createElement(\"span\", {","      \"className\": \"no-data\"","    }, (onPractice ? 'Practice more to get forecast' : 'Not enough exercises completed'));","    if (onPractice) {","      tooltip = React.createElement(BS.Tooltip, null, \"Click to practice\");","      return React.createElement(BS.OverlayTrigger, {","        \"placement\": 'bottom',","        \"overlay\": tooltip","      }, React.createElement(BS.Button, {","        \"onClick\": (function() {","          return onPractice(section);","        }),","        \"block\": true","      }, bar));","    } else {","      return bar;","    }","  }","});",""],"f":{"1":128,"2":0},"fnMap":{"1":{"line":19,"loc":{"end":{"column":21,"line":19},"start":{"column":10,"line":19}},"name":"(anonymous_1)"},"2":{"line":34,"loc":{"end":{"column":31,"line":34},"start":{"column":20,"line":34}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/progress-bar.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":128,"8":128,"9":128,"10":128,"11":4,"12":4,"13":0,"14":124},"statementMap":{"1":{"end":{"column":55,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":55,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":65,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":43},"start":{"column":0,"line":11}},"7":{"end":{"column":56,"line":20},"start":{"column":4,"line":20}},"8":{"end":{"column":73,"line":21},"start":{"column":4,"line":21}},"9":{"end":{"column":90,"line":27},"start":{"column":4,"line":22}},"10":{"end":{"column":5,"line":41},"start":{"column":4,"line":28}},"11":{"end":{"column":75,"line":29},"start":{"column":6,"line":29}},"12":{"end":{"column":15,"line":38},"start":{"column":6,"line":30}},"13":{"end":{"column":37,"line":35},"start":{"column":10,"line":35}},"14":{"end":{"column":17,"line":40},"start":{"column":6,"line":40}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"20":128,"21":128,"22":128,"28":128,"29":4,"30":4,"35":0,"40":124}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/section.cjsx":{"b":{},"branchMap":{},"code":["var BS, ChapterSectionMixin, ChapterSectionType, ProgressBar, React, Router, Statistics;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","ChapterSectionType = require('./chapter-section-type');","","ProgressBar = require('./progress-bar');","","Statistics = require('./statistics');","","module.exports = React.createClass({","  displayName: 'PerformanceForecastSection',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    roleId: React.PropTypes.string,","    section: ChapterSectionType.isRequired,","    onPractice: React.PropTypes.func,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  mixins: [ChapterSectionMixin],","  render: function() {","    var courseId, ref, section;","    ref = this.props, courseId = ref.courseId, section = ref.section;","    return React.createElement(\"div\", {","      \"className\": 'section'","    }, React.createElement(\"div\", {","      \"className\": 'heading'","    }, React.createElement(\"span\", {","      \"className\": 'number'","    }, this.sectionFormat(section.chapter_section)), React.createElement(\"span\", {","      \"className\": 'title',","      \"title\": section.title","    }, section.title)), React.createElement(ProgressBar, React.__spread({}, this.props)), React.createElement(Statistics, {","      \"courseId\": this.props.courseId,","      \"roleId\": this.props.roleId,","      \"section\": section,","      \"displaying\": \"section\"","    }));","  }","});",""],"f":{"1":102},"fnMap":{"1":{"line":27,"loc":{"end":{"column":21,"line":27},"start":{"column":10,"line":27}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/section.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":102,"11":102,"12":102},"statementMap":{"1":{"end":{"column":88,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":79,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":37,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":46},"start":{"column":0,"line":17}},"10":{"end":{"column":31,"line":28},"start":{"column":4,"line":28}},"11":{"end":{"column":69,"line":29},"start":{"column":4,"line":29}},"12":{"end":{"column":8,"line":44},"start":{"column":4,"line":30}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"28":102,"29":102,"30":102}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/statistics.cjsx":{"b":{"1":[100,4,24],"2":[24,104],"3":[128,768]},"branchMap":{"1":{"line":32,"locations":[{"end":{"column":141,"line":34},"start":{"column":6,"line":33}},{"end":{"column":98,"line":36},"start":{"column":6,"line":35}},{"end":{"column":65,"line":38},"start":{"column":6,"line":37}}],"type":"switch"},"2":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"3":{"line":58,"locations":[{"end":{"column":8,"line":58},"start":{"column":8,"line":58}},{"end":{"column":8,"line":58},"start":{"column":8,"line":58}}],"type":"if"}},"code":["var BS, ChapterSectionType, CurrentUserStore, React, Router, SpyMode, Statistics, _, pluralize;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","SpyMode = require('openstax-react-components').SpyMode;","","CurrentUserStore = require('../../flux/current-user').CurrentUserStore;","","ChapterSectionType = require('./chapter-section-type');","","pluralize = require('pluralize');","","pluralize.addIrregularRule(' has', ' have');","","Statistics = React.createClass({displayName: \"Statistics\",","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    roleId: React.PropTypes.string,","    section: ChapterSectionType.isRequired,","    displaying: React.PropTypes.string.isRequired","  },","  getWorkedText: function(role) {","    var count, total;","    count = this.props.section.clue.unique_learner_count;","    total = this.props.section.questions_answered_count;","    switch (role) {","      case 'teacher':","        return (pluralize(' students', count, true)) + \" \" + (pluralize(' has', count)) + \" worked \" + (pluralize(' problems', total, true));","      case 'student':","        return (pluralize(' problems', total, true)) + \" worked in this \" + this.props.displaying;","      case 'teacher-student':","        return (pluralize(' problems', total, true)) + \" worked\";","    }","  },","  render: function() {","    var key, role, value;","    if (this.props.roleId != null) {","      role = 'teacher-student';","    } else {","      role = CurrentUserStore.getCourseRole(this.props.courseId, true);","    }","    return React.createElement(\"div\", {","      \"className\": 'statistics'","    }, React.createElement(SpyMode.Content, {","      \"className\": \"clue\"","    }, React.createElement(\"ul\", null, (function() {","      var ref, results;","      ref = this.props.section.clue;","      results = [];","      for (key in ref) {","        value = ref[key];","        if (_.isArray(value)) {","          value = value.join(' ');","        }","        results.push(React.createElement(\"li\", {","          \"key\": key","        }, React.createElement(\"strong\", null, key), \": \", value));","      }","      return results;","    }).call(this))), React.createElement(\"div\", {","      \"className\": 'amount-worked'","    }, React.createElement(\"span\", {","      \"className\": 'count'","    }, this.getWorkedText(role))));","  }","});","","module.exports = Statistics;",""],"f":{"1":128,"2":128,"3":128},"fnMap":{"1":{"line":28,"loc":{"end":{"column":32,"line":28},"start":{"column":17,"line":28}},"name":"(anonymous_1)"},"2":{"line":41,"loc":{"end":{"column":21,"line":41},"start":{"column":10,"line":41}},"name":"(anonymous_2)"},"3":{"line":52,"loc":{"end":{"column":51,"line":52},"start":{"column":40,"line":52}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/statistics.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":128,"13":128,"14":128,"15":128,"16":100,"17":4,"18":24,"19":128,"20":128,"21":24,"22":104,"23":128,"24":128,"25":128,"26":128,"27":128,"28":896,"29":896,"30":128,"31":896,"32":128,"33":21},"statementMap":{"1":{"end":{"column":95,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":71,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":55,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":33,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":44,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":3,"line":72},"start":{"column":0,"line":21}},"12":{"end":{"column":21,"line":29},"start":{"column":4,"line":29}},"13":{"end":{"column":57,"line":30},"start":{"column":4,"line":30}},"14":{"end":{"column":56,"line":31},"start":{"column":4,"line":31}},"15":{"end":{"column":5,"line":39},"start":{"column":4,"line":32}},"16":{"end":{"column":141,"line":34},"start":{"column":8,"line":34}},"17":{"end":{"column":98,"line":36},"start":{"column":8,"line":36}},"18":{"end":{"column":65,"line":38},"start":{"column":8,"line":38}},"19":{"end":{"column":25,"line":42},"start":{"column":4,"line":42}},"20":{"end":{"column":5,"line":47},"start":{"column":4,"line":43}},"21":{"end":{"column":31,"line":44},"start":{"column":6,"line":44}},"22":{"end":{"column":71,"line":46},"start":{"column":6,"line":46}},"23":{"end":{"column":35,"line":70},"start":{"column":4,"line":48}},"24":{"end":{"column":23,"line":53},"start":{"column":6,"line":53}},"25":{"end":{"column":36,"line":54},"start":{"column":6,"line":54}},"26":{"end":{"column":19,"line":55},"start":{"column":6,"line":55}},"27":{"end":{"column":7,"line":64},"start":{"column":6,"line":56}},"28":{"end":{"column":25,"line":57},"start":{"column":8,"line":57}},"29":{"end":{"column":9,"line":60},"start":{"column":8,"line":58}},"30":{"end":{"column":34,"line":59},"start":{"column":10,"line":59}},"31":{"end":{"column":67,"line":63},"start":{"column":8,"line":61}},"32":{"end":{"column":21,"line":65},"start":{"column":6,"line":65}},"33":{"end":{"column":28,"line":74},"start":{"column":0,"line":74}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"29":128,"30":128,"31":128,"32":128,"34":100,"36":4,"38":24,"42":128,"43":128,"44":24,"46":104,"48":128,"53":128,"54":128,"55":128,"56":128,"57":896,"58":896,"59":128,"61":896,"65":128,"74":21}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/student.cjsx":{"b":{},"branchMap":{},"code":["var BS, ColorKey, Guide, InfoLink, PerformanceForecast, React, Router, _;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","PerformanceForecast = require('../../flux/performance-forecast');","","Guide = require('./guide');","","ColorKey = require('./color-key');","","InfoLink = require('./info-link');","","module.exports = React.createClass({","  displayName: 'PerformanceForecastStudentDisplay',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  onPractice: function(section) {","    return this.context.router.transitionTo('viewPractice', {","      courseId: this.props.courseId","    }, {","      page_ids: section.page_ids","    });","  },","  returnToDashboard: function() {","    return this.context.router.transitionTo('viewStudentDashboard', {","      courseId: this.props.courseId","    });","  },","  renderHeading: function() {","    return React.createElement(\"div\", {","      \"className\": 'guide-heading'","    }, React.createElement(\"div\", {","      \"className\": 'guide-group-title'","    }, \"Performance Forecast \", React.createElement(InfoLink, {","      \"type\": 'student'","    })), React.createElement(\"div\", {","      \"className\": 'info'","    }, React.createElement(\"div\", {","      \"className\": 'guide-group-key'","    }, React.createElement(\"div\", {","      \"className\": 'guide-practice-message'","    }, \"Click on the bar to practice the topic\"), React.createElement(ColorKey, null)), React.createElement(Router.Link, {","      \"to\": 'viewStudentDashboard',","      \"className\": 'btn btn-default back',","      \"params\": {","        courseId: this.props.courseId","      }","    }, \"Return to Dashboard\")));","  },","  renderEmptyMessage: function() {","    return React.createElement(\"div\", {","      \"className\": \"no-data-message\"","    }, \"You have not worked any questions yet.\");","  },","  renderWeakerExplanation: function() {","    return React.createElement(\"div\", {","      \"className\": 'explanation'","    }, React.createElement(\"p\", null, \"Tutor shows your weakest topics so you can practice to improve.\"), React.createElement(\"p\", null, \"Try to get all of your topics to green!\"));","  },","  render: function() {","    var courseId;","    courseId = this.props.courseId;","    return React.createElement(BS.Panel, {","      \"className\": 'performance-forecast student'","    }, React.createElement(Guide, {","      \"onPractice\": this.onPractice,","      \"courseId\": courseId,","      \"weakerTitle\": \"My Weaker Areas\",","      \"weakerExplanation\": this.renderWeakerExplanation(),","      \"weakerEmptyMessage\": \"You haven't worked enough problems for Tutor to predict your weakest topics.\",","      \"heading\": this.renderHeading(),","      \"sampleSizeThreshold\": 3.,","      \"emptyMessage\": this.renderEmptyMessage(),","      \"onReturn\": this.returnToDashboard,","      \"allSections\": PerformanceForecast.Student.store.getAllSections(courseId),","      \"chapters\": (PerformanceForecast.Student.store.get(courseId).children)","    }));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"line":27,"loc":{"end":{"column":32,"line":27},"start":{"column":14,"line":27}},"name":"(anonymous_1)"},"2":{"line":34,"loc":{"end":{"column":32,"line":34},"start":{"column":21,"line":34}},"name":"(anonymous_2)"},"3":{"line":39,"loc":{"end":{"column":28,"line":39},"start":{"column":17,"line":39}},"name":"(anonymous_3)"},"4":{"line":60,"loc":{"end":{"column":33,"line":60},"start":{"column":22,"line":60}},"name":"(anonymous_4)"},"5":{"line":65,"loc":{"end":{"column":38,"line":65},"start":{"column":27,"line":65}},"name":"(anonymous_5)"},"6":{"line":70,"loc":{"end":{"column":21,"line":70},"start":{"column":10,"line":70}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/student.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"statementMap":{"1":{"end":{"column":73,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":65,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":27,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":34,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":34,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":89},"start":{"column":0,"line":19}},"11":{"end":{"column":7,"line":32},"start":{"column":4,"line":28}},"12":{"end":{"column":7,"line":37},"start":{"column":4,"line":35}},"13":{"end":{"column":32,"line":58},"start":{"column":4,"line":40}},"14":{"end":{"column":49,"line":63},"start":{"column":4,"line":61}},"15":{"end":{"column":181,"line":68},"start":{"column":4,"line":66}},"16":{"end":{"column":17,"line":71},"start":{"column":4,"line":71}},"17":{"end":{"column":35,"line":72},"start":{"column":4,"line":72}},"18":{"end":{"column":8,"line":87},"start":{"column":4,"line":73}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"28":0,"35":0,"40":0,"61":0,"66":0,"71":0,"72":0,"73":0}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/teacher-student.cjsx":{"b":{"1":[0,10],"2":[295,10]},"branchMap":{"1":{"line":62,"locations":[{"end":{"column":4,"line":62},"start":{"column":4,"line":62}},{"end":{"column":4,"line":62},"start":{"column":4,"line":62}}],"type":"if"},"2":{"line":84,"locations":[{"end":{"column":8,"line":84},"start":{"column":8,"line":84}},{"end":{"column":8,"line":84},"start":{"column":8,"line":84}}],"type":"if"}},"code":["var BS, BindStoreMixin, Guide, InfoLink, Name, PerformanceForecast, React, Router, ScoresStore, _;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","Name = require('../name');","","BindStoreMixin = require('../bind-store-mixin');","","PerformanceForecast = require('../../flux/performance-forecast');","","ScoresStore = require('../../flux/scores').ScoresStore;","","Guide = require('./guide');","","InfoLink = require('./info-link');","","module.exports = React.createClass({","  displayName: 'PerformanceForecastTeacherStudentDisplay',","  contextTypes: {","    router: React.PropTypes.func","  },","  mixins: [BindStoreMixin],","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    roleId: React.PropTypes.string.isRequired","  },","  getInitialState: function() {","    return {","      roleId: this.props.roleId","    };","  },","  componentWillMount: function() {","    return PerformanceForecast.TeacherStudent.actions.load(this.props.courseId, {","      roleId: this.props.roleId","    });","  },","  bindStore: PerformanceForecast.TeacherStudent.store,","  onSelectStudent: function(roleId) {","    var courseId;","    courseId = this.props.courseId;","    PerformanceForecast.TeacherStudent.actions.load(courseId, {","      roleId: roleId","    });","    this.setState({","      roleId: roleId","    });","    return this.context.router.transitionTo('viewStudentTeacherPerformanceForecast', {","      courseId: courseId,","      roleId: roleId","    });","  },","  renderHeading: function() {","    var name, selected, student, students;","    students = ScoresStore.getAllStudents(this.props.courseId);","    selected = ScoresStore.getStudent(this.props.courseId, this.state.roleId);","    if (!selected) {","      return null;","    }","    name = React.createElement(Name, React.__spread({}, selected));","    return React.createElement(\"div\", {","      \"className\": 'guide-heading'","    }, React.createElement(\"div\", {","      \"className\": 'guide-group-title'","    }, React.createElement(\"span\", {","      \"className\": 'preamble'","    }, \"Performance Forecast for:\"), React.createElement(BS.DropdownButton, {","      \"bzSize\": 'large',","      \"className\": 'student-selection',","      \"title\": name,","      \"bsStyle\": 'link',","      \"onSelect\": this.onSelectStudent","    }, (function() {","      var i, len, ref, results;","      ref = _.sortBy(students, 'name');","      results = [];","      for (i = 0, len = ref.length; i < len; i++) {","        student = ref[i];","        if (student.role !== selected.role) {","          results.push(React.createElement(BS.MenuItem, {","            \"key\": student.role,","            \"eventKey\": student.role","          }, React.createElement(Name, React.__spread({}, student))));","        }","      }","      return results;","    })()), React.createElement(InfoLink, {","      \"type\": 'teacher_student'","    })), React.createElement(Router.Link, {","      \"activeClassName\": '',","      \"to\": 'viewScores',","      \"className\": 'btn btn-default back',","      \"params\": {","        courseId: this.props.courseId","      }","    }, \"Return to Scores\"));","  },","  renderWeakerExplanation: function() {","    return React.createElement(\"div\", {","      \"className\": 'explanation'","    }, React.createElement(\"p\", null, \"Tutor shows the weakest topics for a student.\"), React.createElement(\"p\", null, \"Your help may be needed in these areas.\"));","  },","  returnToDashboard: function() {","    return this.context.router.transitionTo('viewTeacherDashBoard', {","      courseId: this.props.courseId","    });","  },","  renderEmptyMessage: function() {","    return React.createElement(\"div\", {","      \"className\": \"no-data-message\"","    }, \"No questions have been answered yet.\");","  },","  render: function() {","    var courseId, isLoaded, isLoading, roleId;","    courseId = this.props.courseId;","    roleId = this.state.roleId;","    isLoaded = PerformanceForecast.TeacherStudent.store.isLoaded.bind(PerformanceForecast.TeacherStudent.store, courseId, {","      roleId: roleId","    });","    isLoading = PerformanceForecast.TeacherStudent.store.isLoading.bind(PerformanceForecast.TeacherStudent.store, courseId, {","      roleId: roleId","    });","    return React.createElement(BS.Panel, {","      \"className\": 'performance-forecast teacher-student'","    }, React.createElement(Guide, {","      \"courseId\": courseId,","      \"roleId\": roleId,","      \"isLoaded\": isLoaded,","      \"isLoading\": isLoading,","      \"loadingMessage\": \"Loading...\",","      \"heading\": this.renderHeading(),","      \"weakerExplanation\": this.renderWeakerExplanation(),","      \"emptyMessage\": this.renderEmptyMessage(),","      \"weakerTitle\": \"Their weakest topics\",","      \"weakerEmptyMessage\": \"Your student hasn't worked enough problems for Tutor to predict their weakest topics.\",","      \"sampleSizeThreshold\": 3.,","      \"onReturn\": this.returnToDashboard,","      \"allSections\": PerformanceForecast.TeacherStudent.store.getAllSections(courseId, {","        roleId: roleId","      }),","      \"chapters\": PerformanceForecast.TeacherStudent.store.getChapters(courseId, {","        roleId: roleId","      })","    }));","  }","});",""],"f":{"1":2,"2":2,"3":0,"4":10,"5":10,"6":10,"7":0,"8":10,"9":10},"fnMap":{"1":{"line":33,"loc":{"end":{"column":30,"line":33},"start":{"column":19,"line":33}},"name":"(anonymous_1)"},"2":{"line":38,"loc":{"end":{"column":33,"line":38},"start":{"column":22,"line":38}},"name":"(anonymous_2)"},"3":{"line":44,"loc":{"end":{"column":36,"line":44},"start":{"column":19,"line":44}},"name":"(anonymous_3)"},"4":{"line":58,"loc":{"end":{"column":28,"line":58},"start":{"column":17,"line":58}},"name":"(anonymous_4)"},"5":{"line":78,"loc":{"end":{"column":19,"line":78},"start":{"column":8,"line":78}},"name":"(anonymous_5)"},"6":{"line":103,"loc":{"end":{"column":38,"line":103},"start":{"column":27,"line":103}},"name":"(anonymous_6)"},"7":{"line":108,"loc":{"end":{"column":32,"line":108},"start":{"column":21,"line":108}},"name":"(anonymous_7)"},"8":{"line":113,"loc":{"end":{"column":33,"line":113},"start":{"column":22,"line":113}},"name":"(anonymous_8)"},"9":{"line":118,"loc":{"end":{"column":21,"line":118},"start":{"column":10,"line":118}},"name":"(anonymous_9)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/teacher-student.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":2,"14":2,"15":0,"16":0,"17":0,"18":0,"19":0,"20":10,"21":10,"22":10,"23":10,"24":0,"25":10,"26":10,"27":10,"28":10,"29":10,"30":10,"31":305,"32":305,"33":295,"34":10,"35":10,"36":0,"37":10,"38":10,"39":10,"40":10,"41":10,"42":10,"43":10},"statementMap":{"1":{"end":{"column":98,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":48,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":65,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":55,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":27,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":34,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":151},"start":{"column":0,"line":23}},"13":{"end":{"column":6,"line":36},"start":{"column":4,"line":34}},"14":{"end":{"column":7,"line":41},"start":{"column":4,"line":39}},"15":{"end":{"column":17,"line":45},"start":{"column":4,"line":45}},"16":{"end":{"column":35,"line":46},"start":{"column":4,"line":46}},"17":{"end":{"column":7,"line":49},"start":{"column":4,"line":47}},"18":{"end":{"column":7,"line":52},"start":{"column":4,"line":50}},"19":{"end":{"column":7,"line":56},"start":{"column":4,"line":53}},"20":{"end":{"column":42,"line":59},"start":{"column":4,"line":59}},"21":{"end":{"column":63,"line":60},"start":{"column":4,"line":60}},"22":{"end":{"column":78,"line":61},"start":{"column":4,"line":61}},"23":{"end":{"column":5,"line":64},"start":{"column":4,"line":62}},"24":{"end":{"column":18,"line":63},"start":{"column":6,"line":63}},"25":{"end":{"column":67,"line":65},"start":{"column":4,"line":65}},"26":{"end":{"column":28,"line":101},"start":{"column":4,"line":66}},"27":{"end":{"column":31,"line":79},"start":{"column":6,"line":79}},"28":{"end":{"column":39,"line":80},"start":{"column":6,"line":80}},"29":{"end":{"column":19,"line":81},"start":{"column":6,"line":81}},"30":{"end":{"column":7,"line":90},"start":{"column":6,"line":82}},"31":{"end":{"column":25,"line":83},"start":{"column":8,"line":83}},"32":{"end":{"column":9,"line":89},"start":{"column":8,"line":84}},"33":{"end":{"column":70,"line":88},"start":{"column":10,"line":85}},"34":{"end":{"column":21,"line":91},"start":{"column":6,"line":91}},"35":{"end":{"column":163,"line":106},"start":{"column":4,"line":104}},"36":{"end":{"column":7,"line":111},"start":{"column":4,"line":109}},"37":{"end":{"column":47,"line":116},"start":{"column":4,"line":114}},"38":{"end":{"column":46,"line":119},"start":{"column":4,"line":119}},"39":{"end":{"column":35,"line":120},"start":{"column":4,"line":120}},"40":{"end":{"column":31,"line":121},"start":{"column":4,"line":121}},"41":{"end":{"column":7,"line":124},"start":{"column":4,"line":122}},"42":{"end":{"column":7,"line":127},"start":{"column":4,"line":125}},"43":{"end":{"column":8,"line":149},"start":{"column":4,"line":128}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"34":2,"39":2,"45":0,"46":0,"47":0,"50":0,"53":0,"59":10,"60":10,"61":10,"62":10,"63":0,"65":10,"66":10,"79":10,"80":10,"81":10,"82":10,"83":305,"84":305,"85":295,"91":10,"104":10,"109":0,"114":10,"119":10,"120":10,"121":10,"122":10,"125":10,"128":10}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/teacher.cjsx":{"b":{"1":[2,0]},"branchMap":{"1":{"line":35,"locations":[{"end":{"column":64,"line":35},"start":{"column":51,"line":35}},{"end":{"column":73,"line":35},"start":{"column":67,"line":35}}],"type":"cond-expr"}},"code":["var BS, ColorKey, CourseGroupingLabel, CoursePeriodsNavShell, Guide, InfoLink, PerformanceForecast, React, Router, _;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","CoursePeriodsNavShell = require('../course-periods-nav').CoursePeriodsNavShell;","","CourseGroupingLabel = require('../course-grouping-label');","","PerformanceForecast = require('../../flux/performance-forecast');","","Guide = require('./guide');","","ColorKey = require('./color-key');","","InfoLink = require('./info-link');","","module.exports = React.createClass({","  displayName: 'PerformanceForecastTeacherDisplay',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  getInitialState: function() {","    var periods, ref;","    periods = PerformanceForecast.Teacher.store.get(this.props.courseId);","    return {","      periodId: (ref = _.first(periods)) != null ? ref.period_id : void 0","    };","  },","  selectPeriod: function(period) {","    return this.setState({","      periodId: period.id","    });","  },","  renderHeading: function() {","    var periods;","    periods = PerformanceForecast.Teacher.store.get(this.props.courseId);","    return React.createElement(\"div\", null, React.createElement(\"div\", {","      \"className\": 'guide-heading'","    }, React.createElement(\"div\", {","      \"className\": 'guide-group-title'","    }, \"Performance Forecast \", React.createElement(InfoLink, {","      \"type\": 'teacher'","    })), React.createElement(\"div\", {","      \"className\": 'info'","    }, React.createElement(\"div\", {","      \"className\": 'guide-group-key teacher'","    }, React.createElement(ColorKey, null)), React.createElement(Router.Link, {","      \"activeClassName\": '',","      \"to\": 'viewTeacherDashBoard',","      \"className\": 'btn btn-default back',","      \"params\": {","        courseId: this.props.courseId","      }","    }, \"Return to Dashboard\"))), React.createElement(CoursePeriodsNavShell, {","      \"periods\": periods,","      \"handleSelect\": this.selectPeriod,","      \"intialActive\": this.state.periodId,","      \"courseId\": this.props.courseId","    }));","  },","  renderEmptyMessage: function() {","    return React.createElement(\"div\", {","      \"className\": \"no-data-message\"","    }, \"There have been no questions worked for\\nthis \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId,","      \"lowercase\": true","    }), \".\");","  },","  returnToDashboard: function() {","    return this.context.router.transitionTo('viewTeacherDashBoard', {","      courseId: this.props.courseId","    });","  },","  renderWeakerExplanation: function() {","    return React.createElement(\"div\", {","      \"className\": 'explanation'","    }, React.createElement(\"p\", null, \"Tutor shows the weakest topics for\\neach \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId,","      \"lowercase\": true","    }), \".\"), React.createElement(\"p\", null, \"Students may need your help in those areas.\"));","  },","  render: function() {","    var courseId;","    courseId = this.props.courseId;","    return React.createElement(BS.Panel, {","      \"className\": 'performance-forecast teacher'","    }, React.createElement(Guide, {","      \"courseId\": courseId,","      \"weakerTitle\": \"Weaker Areas\",","      \"heading\": this.renderHeading(),","      \"weakerExplanation\": this.renderWeakerExplanation(),","      \"weakerEmptyMessage\": \"Your students haven't worked enough problems for Tutor to predict their weakest topics.\",","      \"emptyMessage\": this.renderEmptyMessage(),","      \"onReturn\": this.returnToDashboard,","      \"sampleSizeThreshold\": 20.,","      \"allSections\": PerformanceForecast.Teacher.store.getSectionsForPeriod(courseId, this.state.periodId),","      \"chapters\": PerformanceForecast.Teacher.store.getChaptersForPeriod(courseId, this.state.periodId)","    }));","  }","});",""],"f":{"1":2,"2":8,"3":10,"4":10,"5":0,"6":10,"7":10},"fnMap":{"1":{"line":31,"loc":{"end":{"column":30,"line":31},"start":{"column":19,"line":31}},"name":"(anonymous_1)"},"2":{"line":38,"loc":{"end":{"column":33,"line":38},"start":{"column":16,"line":38}},"name":"(anonymous_2)"},"3":{"line":43,"loc":{"end":{"column":28,"line":43},"start":{"column":17,"line":43}},"name":"(anonymous_3)"},"4":{"line":70,"loc":{"end":{"column":33,"line":70},"start":{"column":22,"line":70}},"name":"(anonymous_4)"},"5":{"line":78,"loc":{"end":{"column":32,"line":78},"start":{"column":21,"line":78}},"name":"(anonymous_5)"},"6":{"line":83,"loc":{"end":{"column":38,"line":83},"start":{"column":27,"line":83}},"name":"(anonymous_6)"},"7":{"line":91,"loc":{"end":{"column":21,"line":91},"start":{"column":10,"line":91}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/teacher.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":2,"14":2,"15":2,"16":8,"17":10,"18":10,"19":10,"20":10,"21":0,"22":10,"23":10,"24":10,"25":10},"statementMap":{"1":{"end":{"column":117,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":79,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":58,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":65,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":27,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":34,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":34,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":109},"start":{"column":0,"line":23}},"13":{"end":{"column":21,"line":32},"start":{"column":4,"line":32}},"14":{"end":{"column":73,"line":33},"start":{"column":4,"line":33}},"15":{"end":{"column":6,"line":36},"start":{"column":4,"line":34}},"16":{"end":{"column":7,"line":41},"start":{"column":4,"line":39}},"17":{"end":{"column":16,"line":44},"start":{"column":4,"line":44}},"18":{"end":{"column":73,"line":45},"start":{"column":4,"line":45}},"19":{"end":{"column":8,"line":68},"start":{"column":4,"line":46}},"20":{"end":{"column":13,"line":76},"start":{"column":4,"line":71}},"21":{"end":{"column":7,"line":81},"start":{"column":4,"line":79}},"22":{"end":{"column":93,"line":89},"start":{"column":4,"line":84}},"23":{"end":{"column":17,"line":92},"start":{"column":4,"line":92}},"24":{"end":{"column":35,"line":93},"start":{"column":4,"line":93}},"25":{"end":{"column":8,"line":107},"start":{"column":4,"line":94}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"32":2,"33":2,"34":2,"39":8,"44":10,"45":10,"46":10,"71":10,"79":0,"84":10,"92":10,"93":10,"94":10}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/weaker-panel.cjsx":{"b":{"1":[0,12],"2":[0,12],"3":[12,0]},"branchMap":{"1":{"line":30,"locations":[{"end":{"column":4,"line":30},"start":{"column":4,"line":30}},{"end":{"column":4,"line":30},"start":{"column":4,"line":30}}],"type":"if"},"2":{"line":33,"locations":[{"end":{"column":4,"line":33},"start":{"column":4,"line":33}},{"end":{"column":4,"line":33},"start":{"column":4,"line":33}}],"type":"if"},"3":{"line":33,"locations":[{"end":{"column":29,"line":33},"start":{"column":8,"line":33}},{"end":{"column":90,"line":33},"start":{"column":33,"line":33}}],"type":"binary-expr"}},"code":["var BS, PerformanceForecast, PracticeButton, React, Router, WeakerPanel, WeakerSections, _;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","PerformanceForecast = require('../../flux/performance-forecast');","","PracticeButton = require('./practice-button');","","WeakerSections = require('./weaker-sections');","","WeakerPanel = React.createClass({displayName: \"WeakerPanel\",","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    sections: React.PropTypes.array.isRequired,","    weakerTitle: React.PropTypes.string.isRequired,","    weakerExplanation: React.PropTypes.element.isRequired,","    weakerEmptyMessage: React.PropTypes.string.isRequired,","    onPractice: React.PropTypes.func,","    sectionCount: React.PropTypes.number,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  render: function() {","    var practiceBtn;","    if (this.props.sections.length === 0) {","      return null;","    }","    if (this.props.onPractice && PerformanceForecast.Helpers.canDisplayWeakest(this.props)) {","      practiceBtn = React.createElement(PracticeButton, {","        \"title\": 'Practice All',","        \"sections\": PerformanceForecast.Helpers.weakestSections(this.props.sections),","        \"courseId\": this.props.courseId","      });","    }","    return React.createElement(\"div\", {","      \"className\": \"chapter-panel weaker\"","    }, React.createElement(\"div\", {","      \"className\": 'chapter metric'","    }, React.createElement(\"span\", {","      \"className\": 'title'","    }, this.props.weakerTitle), this.props.weakerExplanation, practiceBtn), React.createElement(WeakerSections, React.__spread({}, this.props)));","  }","});","","module.exports = WeakerPanel;",""],"f":{"1":12},"fnMap":{"1":{"line":28,"loc":{"end":{"column":21,"line":28},"start":{"column":10,"line":28}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/weaker-panel.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":12,"11":12,"12":0,"13":12,"14":0,"15":12,"16":21},"statementMap":{"1":{"end":{"column":91,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":65,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":46,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":46,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":48},"start":{"column":0,"line":17}},"10":{"end":{"column":20,"line":29},"start":{"column":4,"line":29}},"11":{"end":{"column":5,"line":32},"start":{"column":4,"line":30}},"12":{"end":{"column":18,"line":31},"start":{"column":6,"line":31}},"13":{"end":{"column":5,"line":39},"start":{"column":4,"line":33}},"14":{"end":{"column":9,"line":38},"start":{"column":6,"line":34}},"15":{"end":{"column":145,"line":46},"start":{"column":4,"line":40}},"16":{"end":{"column":29,"line":50},"start":{"column":0,"line":50}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"29":12,"30":12,"31":0,"33":12,"34":0,"40":12,"50":21}},
"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/weaker-sections.cjsx":{"b":{"1":[12,0]},"branchMap":{"1":{"line":45,"locations":[{"end":{"column":89,"line":45},"start":{"column":68,"line":45}},{"end":{"column":116,"line":45},"start":{"column":92,"line":45}}],"type":"cond-expr"}},"code":["var BS, PerformanceForecast, PracticeButton, React, Router, Section, WeakerSections, _;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","PracticeButton = require('./practice-button');","","PerformanceForecast = require('../../flux/performance-forecast');","","Section = require('./section');","","WeakerSections = React.createClass({displayName: \"WeakerSections\",","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    sections: React.PropTypes.array.isRequired,","    weakerEmptyMessage: React.PropTypes.string.isRequired,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  renderLackingData: function() {","    return React.createElement(\"div\", {","      \"className\": 'lacking-data'","    }, this.props.weakerEmptyMessage);","  },","  renderSections: function() {","    var i, j, len, ref, results, section;","    ref = PerformanceForecast.Helpers.weakestSections(this.props.sections, this.props.sampleSizeThreshold);","    results = [];","    for (i = j = 0, len = ref.length; j < len; i = ++j) {","      section = ref[i];","      results.push(React.createElement(Section, React.__spread({","        \"key\": i,","        \"section\": section","      }, this.props)));","    }","    return results;","  },","  render: function() {","    return React.createElement(\"div\", {","      \"className\": 'sections'","    }, (PerformanceForecast.Helpers.canDisplayWeakest(this.props) ? this.renderSections() : this.renderLackingData()));","  }","});","","module.exports = WeakerSections;",""],"f":{"1":0,"2":12,"3":12},"fnMap":{"1":{"line":24,"loc":{"end":{"column":32,"line":24},"start":{"column":21,"line":24}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":29,"line":29},"start":{"column":18,"line":29}},"name":"(anonymous_2)"},"3":{"line":42,"loc":{"end":{"column":21,"line":42},"start":{"column":10,"line":42}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/performance-forecast/weaker-sections.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":12,"12":12,"13":12,"14":12,"15":31,"16":31,"17":12,"18":12,"19":21},"statementMap":{"1":{"end":{"column":87,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":46,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":65,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":31,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":47},"start":{"column":0,"line":17}},"10":{"end":{"column":38,"line":27},"start":{"column":4,"line":25}},"11":{"end":{"column":41,"line":30},"start":{"column":4,"line":30}},"12":{"end":{"column":107,"line":31},"start":{"column":4,"line":31}},"13":{"end":{"column":17,"line":32},"start":{"column":4,"line":32}},"14":{"end":{"column":5,"line":39},"start":{"column":4,"line":33}},"15":{"end":{"column":23,"line":34},"start":{"column":6,"line":34}},"16":{"end":{"column":23,"line":38},"start":{"column":6,"line":35}},"17":{"end":{"column":19,"line":40},"start":{"column":4,"line":40}},"18":{"end":{"column":119,"line":45},"start":{"column":4,"line":43}},"19":{"end":{"column":32,"line":49},"start":{"column":0,"line":49}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"25":0,"30":12,"31":12,"32":12,"33":12,"34":31,"35":31,"40":12,"43":12,"49":21}},
"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/course-bar.cjsx":{"b":{"1":[0,12],"2":[6,6],"3":[12,6],"4":[0,42]},"branchMap":{"1":{"line":42,"locations":[{"end":{"column":4,"line":42},"start":{"column":4,"line":42}},{"end":{"column":4,"line":42},"start":{"column":4,"line":42}}],"type":"if"},"2":{"line":57,"locations":[{"end":{"column":4,"line":57},"start":{"column":4,"line":57}},{"end":{"column":4,"line":57},"start":{"column":4,"line":57}}],"type":"if"},"3":{"line":57,"locations":[{"end":{"column":27,"line":57},"start":{"column":8,"line":57}},{"end":{"column":54,"line":57},"start":{"column":31,"line":57}}],"type":"binary-expr"},"4":{"line":68,"locations":[{"end":{"column":4,"line":68},"start":{"column":4,"line":68}},{"end":{"column":4,"line":68},"start":{"column":4,"line":68}}],"type":"if"}},"code":["var BS, CourseBar, React, _;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","CourseBar = React.createClass({","  displayName: 'CourseBar',","  propTypes: {","    data: React.PropTypes.object.isRequired,","    type: React.PropTypes.string.isRequired,","    totalCols: React.PropTypes.number","  },","  getDefaultProps: function() {","    return {","      totalCols: 12","    };","  },","  getStats: function() {","    var completeLabel, data, inProgressLabel, notStartedLabel, ref, stats, type;","    ref = this.props, data = ref.data, type = ref.type;","    completeLabel = 'Complete';","    inProgressLabel = 'In Progress';","    notStartedLabel = 'Not Started';","    stats = [","      {","        type: 'complete',","        label: completeLabel,","        value: data.complete_count","      }, {","        type: 'in-progress',","        label: inProgressLabel,","        value: data.partially_complete_count","      }, {","        type: 'not-started',","        label: notStartedLabel,","        value: data.total_count - (data.complete_count + data.partially_complete_count)","      }","    ];","    if (type === 'external') {","      completeLabel = 'Clicked';","      inProgressLabel = 'Viewed';","      stats = [","        {","          type: 'complete',","          label: completeLabel,","          value: data.complete_count","        }, {","          type: 'not-started',","          label: notStartedLabel,","          value: data.total_count - (data.complete_count + data.partially_complete_count)","        }","      ];","    }","    if (type === 'homework' && data.mean_grade_percent) {","      stats.unshift({","        type: 'average',","        label: 'Average',","        value: data.mean_grade_percent + \"%\"","      });","    }","    return stats;","  },","  renderCourseStat: function(stat, cols) {","    var key;","    if (cols == null) {","      cols = 4;","    }","    key = \"reading-stats-\" + stat.type;","    return React.createElement(BS.Col, {","      \"xs\": cols,","      \"className\": key,","      \"key\": key","    }, React.createElement(\"label\", null, stat.label), React.createElement(\"div\", {","      \"className\": \"data-container-value text-\" + stat.type","    }, stat.value));","  },","  render: function() {","    var cols, stats, statsColumns, totalCols;","    totalCols = this.props.totalCols;","    stats = this.getStats();","    cols = totalCols / stats.length;","    statsColumns = _.map(stats, _.partial(this.renderCourseStat, _, cols));","    return React.createElement(BS.Grid, {","      \"className\": 'data-container',","      \"key\": 'course-bar'","    }, React.createElement(BS.Row, null, statsColumns));","  }","});","","module.exports = CourseBar;",""],"f":{"1":21,"2":12,"3":42,"4":12},"fnMap":{"1":{"line":16,"loc":{"end":{"column":30,"line":16},"start":{"column":19,"line":16}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":23,"line":21},"start":{"column":12,"line":21}},"name":"(anonymous_2)"},"3":{"line":66,"loc":{"end":{"column":41,"line":66},"start":{"column":20,"line":66}},"name":"(anonymous_3)"},"4":{"line":80,"loc":{"end":{"column":21,"line":80},"start":{"column":10,"line":80}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/course-bar.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":12,"8":12,"9":12,"10":12,"11":12,"12":12,"13":12,"14":0,"15":0,"16":0,"17":12,"18":6,"19":12,"20":42,"21":42,"22":0,"23":42,"24":42,"25":12,"26":12,"27":12,"28":12,"29":12,"30":12,"31":21},"statementMap":{"1":{"end":{"column":28,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":91},"start":{"column":0,"line":9}},"6":{"end":{"column":6,"line":19},"start":{"column":4,"line":17}},"7":{"end":{"column":80,"line":22},"start":{"column":4,"line":22}},"8":{"end":{"column":55,"line":23},"start":{"column":4,"line":23}},"9":{"end":{"column":31,"line":24},"start":{"column":4,"line":24}},"10":{"end":{"column":36,"line":25},"start":{"column":4,"line":25}},"11":{"end":{"column":36,"line":26},"start":{"column":4,"line":26}},"12":{"end":{"column":6,"line":41},"start":{"column":4,"line":27}},"13":{"end":{"column":5,"line":56},"start":{"column":4,"line":42}},"14":{"end":{"column":32,"line":43},"start":{"column":6,"line":43}},"15":{"end":{"column":33,"line":44},"start":{"column":6,"line":44}},"16":{"end":{"column":8,"line":55},"start":{"column":6,"line":45}},"17":{"end":{"column":5,"line":63},"start":{"column":4,"line":57}},"18":{"end":{"column":9,"line":62},"start":{"column":6,"line":58}},"19":{"end":{"column":17,"line":64},"start":{"column":4,"line":64}},"20":{"end":{"column":12,"line":67},"start":{"column":4,"line":67}},"21":{"end":{"column":5,"line":70},"start":{"column":4,"line":68}},"22":{"end":{"column":15,"line":69},"start":{"column":6,"line":69}},"23":{"end":{"column":39,"line":71},"start":{"column":4,"line":71}},"24":{"end":{"column":20,"line":78},"start":{"column":4,"line":72}},"25":{"end":{"column":45,"line":81},"start":{"column":4,"line":81}},"26":{"end":{"column":37,"line":82},"start":{"column":4,"line":82}},"27":{"end":{"column":28,"line":83},"start":{"column":4,"line":83}},"28":{"end":{"column":36,"line":84},"start":{"column":4,"line":84}},"29":{"end":{"column":75,"line":85},"start":{"column":4,"line":85}},"30":{"end":{"column":56,"line":89},"start":{"column":4,"line":86}},"31":{"end":{"column":27,"line":93},"start":{"column":0,"line":93}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"17":21,"22":12,"23":12,"24":12,"25":12,"26":12,"27":12,"42":12,"43":0,"44":0,"45":0,"57":12,"58":6,"64":12,"67":42,"68":42,"69":0,"71":42,"72":42,"81":12,"82":12,"83":12,"84":12,"85":12,"86":12,"93":21}},
"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/event.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":4,"line":27},"start":{"column":4,"line":27}},{"end":{"column":4,"line":27},"start":{"column":4,"line":27}}],"type":"if"}},"code":["var BS, Event, EventModalShell, LoadableItem, Markdown, React, Router, TaskPlanStatsActions, TaskPlanStatsStore, _, ref;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","Router = require('react-router');","","ref = require('../../flux/task-plan-stats'), TaskPlanStatsStore = ref.TaskPlanStatsStore, TaskPlanStatsActions = ref.TaskPlanStatsActions;","","LoadableItem = require('../loadable-item');","","Markdown = require('../markdown');","","Event = React.createClass({displayName: \"Event\",","  propTypes: {","    id: React.PropTypes.string.isRequired","  },","  render: function() {","    var courseId, description, id, periods, periodsNames, plan, ref1;","    ref1 = this.props, id = ref1.id, courseId = ref1.courseId;","    plan = TaskPlanStatsStore.get(id);","    periods = TaskPlanStatsStore.getPeriods(id);","    periodsNames = _.pluck(periods, 'name').join(', ');","    if (plan.description) {","      description = React.createElement(Markdown, {","        \"text\": plan.description,","        \"block\": true","      });","    }","    return React.createElement(BS.Panel, {","      \"className\": 'reading-stats'","    }, React.createElement(\"h3\", null, \"For \", React.createElement(\"strong\", null, periodsNames)), description);","  }","});","","EventModalShell = React.createClass({displayName: \"EventModalShell\",","  render: function() {","    var id;","    id = this.props.id;","    return React.createElement(LoadableItem, {","      \"id\": id,","      \"store\": TaskPlanStatsStore,","      \"actions\": TaskPlanStatsActions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(Event, React.__spread({}, _this.props));","        };","      })(this))","    });","  }","});","","module.exports = {","  EventModalShell: EventModalShell,","  Event: Event","};",""],"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"line":21,"loc":{"end":{"column":21,"line":21},"start":{"column":10,"line":21}},"name":"(anonymous_1)"},"2":{"line":40,"loc":{"end":{"column":21,"line":40},"start":{"column":10,"line":40}},"name":"(anonymous_2)"},"3":{"line":47,"loc":{"end":{"column":38,"line":47},"start":{"column":22,"line":47}},"name":"(anonymous_3)"},"4":{"line":48,"loc":{"end":{"column":26,"line":48},"start":{"column":15,"line":48}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/event.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":21,"19":0,"20":0,"21":0,"22":0,"23":0,"24":21},"statementMap":{"1":{"end":{"column":120,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":138,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":43,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":34,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":37},"start":{"column":0,"line":17}},"10":{"end":{"column":69,"line":22},"start":{"column":4,"line":22}},"11":{"end":{"column":62,"line":23},"start":{"column":4,"line":23}},"12":{"end":{"column":38,"line":24},"start":{"column":4,"line":24}},"13":{"end":{"column":48,"line":25},"start":{"column":4,"line":25}},"14":{"end":{"column":55,"line":26},"start":{"column":4,"line":26}},"15":{"end":{"column":5,"line":32},"start":{"column":4,"line":27}},"16":{"end":{"column":9,"line":31},"start":{"column":6,"line":28}},"17":{"end":{"column":112,"line":35},"start":{"column":4,"line":33}},"18":{"end":{"column":3,"line":54},"start":{"column":0,"line":39}},"19":{"end":{"column":11,"line":41},"start":{"column":4,"line":41}},"20":{"end":{"column":23,"line":42},"start":{"column":4,"line":42}},"21":{"end":{"column":7,"line":52},"start":{"column":4,"line":43}},"22":{"end":{"column":10,"line":50},"start":{"column":8,"line":48}},"23":{"end":{"column":77,"line":49},"start":{"column":10,"line":49}},"24":{"end":{"column":2,"line":59},"start":{"column":0,"line":56}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"33":0,"39":21,"41":0,"42":0,"43":0,"48":0,"49":0,"56":21}},
"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/index.cjsx":{"b":{"1":[0,0],"2":[2,0],"3":[12,0],"4":[12,0],"5":[12,0],"6":[12,0]},"branchMap":{"1":{"line":65,"locations":[{"end":{"column":80,"line":65},"start":{"column":54,"line":65}},{"end":{"column":89,"line":65},"start":{"column":83,"line":65}}],"type":"cond-expr"},"2":{"line":72,"locations":[{"end":{"column":87,"line":72},"start":{"column":54,"line":72}},{"end":{"column":96,"line":72},"start":{"column":90,"line":72}}],"type":"cond-expr"},"3":{"line":80,"locations":[{"end":{"column":4,"line":80},"start":{"column":4,"line":80}},{"end":{"column":4,"line":80},"start":{"column":4,"line":80}}],"type":"if"},"4":{"line":85,"locations":[{"end":{"column":6,"line":85},"start":{"column":6,"line":85}},{"end":{"column":6,"line":85},"start":{"column":6,"line":85}}],"type":"if"},"5":{"line":91,"locations":[{"end":{"column":6,"line":91},"start":{"column":6,"line":91}},{"end":{"column":6,"line":91},"start":{"column":6,"line":91}}],"type":"if"},"6":{"line":102,"locations":[{"end":{"column":4,"line":102},"start":{"column":4,"line":102}},{"end":{"column":4,"line":102},"start":{"column":4,"line":102}}],"type":"if"}},"code":["var BS, ChaptersPerformance, CourseBar, CoursePeriodsNav, LoadableItem, PeriodHelper, PracticesPerformance, React, Router, SmartOverflow, Stats, StatsModalShell, StatsShell, TaskPlanStatsActions, TaskPlanStatsStore, _, ref, ref1;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","Router = require('react-router');","","ref = require('../../flux/task-plan-stats'), TaskPlanStatsStore = ref.TaskPlanStatsStore, TaskPlanStatsActions = ref.TaskPlanStatsActions;","","LoadableItem = require('../loadable-item');","","SmartOverflow = require('openstax-react-components').SmartOverflow;","","CoursePeriodsNav = require('../course-periods-nav').CoursePeriodsNav;","","CourseBar = require('./course-bar');","","ref1 = require('./performances'), ChaptersPerformance = ref1.ChaptersPerformance, PracticesPerformance = ref1.PracticesPerformance;","","PeriodHelper = require('../../helpers/period');","","Stats = React.createClass({displayName: \"Stats\",","  propTypes: {","    id: React.PropTypes.string.isRequired,","    activeSection: React.PropTypes.string,","    initialActivePeriod: React.PropTypes.number.isRequired,","    handlePeriodKeyUpdate: React.PropTypes.func,","    handlePeriodSelect: React.PropTypes.func,","    shouldOverflowData: React.PropTypes.bool","  },","  getDefaultProps: function() {","    return {","      initialActivePeriod: 0,","      shouldOverflowData: false","    };","  },","  getInitialState: function() {","    var periodIndex, stats;","    periodIndex = this.props.initialActivePeriod;","    stats = this.getStatsForPeriodByIndex(periodIndex);","    return {","      stats: stats","    };","  },","  getStatsForPeriodByIndex: function(periodIndex) {","    var id, orderedStats, periodStats, plan;","    id = this.props.id;","    plan = TaskPlanStatsStore.get(id);","    orderedStats = PeriodHelper.sort(plan.stats);","    return periodStats = orderedStats[periodIndex];","  },","  handlePeriodSelect: function(period) {","    var handlePeriodSelect, id, periodStats, plan, ref2;","    ref2 = this.props, id = ref2.id, handlePeriodSelect = ref2.handlePeriodSelect;","    plan = TaskPlanStatsStore.get(id);","    periodStats = _.findWhere(plan.stats, {","      period_id: period.id","    });","    this.setState({","      stats: periodStats","    });","    return typeof handlePeriodSelect === \"function\" ? handlePeriodSelect(period) : void 0;","  },","  componentDidMount: function() {","    var handlePeriodSelect, id, initialPeriod, periods, ref2;","    ref2 = this.props, id = ref2.id, handlePeriodSelect = ref2.handlePeriodSelect;","    periods = TaskPlanStatsStore.getPeriods(id);","    initialPeriod = periods[this.props.initialActivePeriod];","    return typeof handlePeriodSelect === \"function\" ? handlePeriodSelect(initialPeriod) : void 0;","  },","  render: function() {","    var activeSection, chapters, course, courseId, dataComponent, id, periods, plan, practice, ref2, shouldOverflowData, stats;","    ref2 = this.props, id = ref2.id, courseId = ref2.courseId, shouldOverflowData = ref2.shouldOverflowData, activeSection = ref2.activeSection;","    stats = this.state.stats;","    plan = TaskPlanStatsStore.get(id);","    periods = TaskPlanStatsStore.getPeriods(id);","    if (stats) {","      course = React.createElement(CourseBar, {","        \"data\": stats,","        \"type\": plan.type","      });","      if (_.isArray(stats.current_pages)) {","        chapters = React.createElement(ChaptersPerformance, {","          \"currentPages\": stats.current_pages,","          \"activeSection\": activeSection","        });","      }","      if (_.isArray(stats.spaced_pages)) {","        practice = React.createElement(PracticesPerformance, {","          \"spacedPages\": stats.spaced_pages,","          \"activeSection\": activeSection","        });","      }","    } else {","      course = React.createElement(\"span\", {","        \"className\": '-no-data'","      }, \"No Data (draft)\");","    }","    if (shouldOverflowData) {","      dataComponent = React.createElement(SmartOverflow, {","        \"className\": 'reading-stats-data',","        \"heightBuffer\": 24.","      }, React.createElement(\"section\", null, course), chapters, practice);","    } else {","      dataComponent = React.createElement(\"div\", {","        \"className\": 'reading-stats-data'","      }, React.createElement(\"section\", null, course), chapters, practice);","    }","    return React.createElement(BS.Panel, {","      \"className\": 'reading-stats'","    }, React.createElement(CoursePeriodsNav, {","      \"handleSelect\": this.handlePeriodSelect,","      \"handleKeyUpdate\": this.props.handlePeriodKeyUpdate,","      \"initialActive\": this.props.initialActivePeriod,","      \"periods\": periods,","      \"courseId\": courseId","    }), dataComponent);","  }","});","","StatsShell = React.createClass({displayName: \"StatsShell\",","  contextTypes: {","    router: React.PropTypes.func","  },","  getId: function() {","    return this.context.router.getCurrentParams().id;","  },","  render: function() {","    var id;","    id = this.getId();","    return React.createElement(LoadableItem, {","      \"id\": id,","      \"store\": TaskPlanStatsStore,","      \"actions\": TaskPlanStatsActions,","      \"renderItem\": (function() {","        return React.createElement(Stats, {","          \"id\": id","        });","      })","    });","  }","});","","StatsModalShell = React.createClass({displayName: \"StatsModalShell\",","  render: function() {","    var id;","    id = this.props.id;","    return React.createElement(LoadableItem, {","      \"id\": id,","      \"store\": TaskPlanStatsStore,","      \"actions\": TaskPlanStatsActions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(Stats, React.__spread({}, _this.props));","        };","      })(this))","    });","  }","});","","module.exports = {","  StatsShell: StatsShell,","  StatsModalShell: StatsModalShell,","  Stats: Stats","};",""],"f":{"1":21,"2":2,"3":2,"4":0,"5":2,"6":12,"7":0,"8":0,"9":0,"10":12,"11":12,"12":12},"fnMap":{"1":{"line":34,"loc":{"end":{"column":30,"line":34},"start":{"column":19,"line":34}},"name":"(anonymous_1)"},"2":{"line":40,"loc":{"end":{"column":30,"line":40},"start":{"column":19,"line":40}},"name":"(anonymous_2)"},"3":{"line":48,"loc":{"end":{"column":50,"line":48},"start":{"column":28,"line":48}},"name":"(anonymous_3)"},"4":{"line":55,"loc":{"end":{"column":39,"line":55},"start":{"column":22,"line":55}},"name":"(anonymous_4)"},"5":{"line":67,"loc":{"end":{"column":32,"line":67},"start":{"column":21,"line":67}},"name":"(anonymous_5)"},"6":{"line":74,"loc":{"end":{"column":21,"line":74},"start":{"column":10,"line":74}},"name":"(anonymous_6)"},"7":{"line":128,"loc":{"end":{"column":20,"line":128},"start":{"column":9,"line":128}},"name":"(anonymous_7)"},"8":{"line":131,"loc":{"end":{"column":21,"line":131},"start":{"column":10,"line":131}},"name":"(anonymous_8)"},"9":{"line":138,"loc":{"end":{"column":32,"line":138},"start":{"column":21,"line":138}},"name":"(anonymous_9)"},"10":{"line":148,"loc":{"end":{"column":21,"line":148},"start":{"column":10,"line":148}},"name":"(anonymous_10)"},"11":{"line":155,"loc":{"end":{"column":38,"line":155},"start":{"column":22,"line":155}},"name":"(anonymous_11)"},"12":{"line":156,"loc":{"end":{"column":26,"line":156},"start":{"column":15,"line":156}},"name":"(anonymous_12)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":2,"16":2,"17":2,"18":2,"19":2,"20":2,"21":2,"22":2,"23":2,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":2,"31":2,"32":2,"33":2,"34":2,"35":12,"36":12,"37":12,"38":12,"39":12,"40":12,"41":12,"42":12,"43":12,"44":12,"45":12,"46":0,"47":12,"48":12,"49":0,"50":12,"51":21,"52":0,"53":0,"54":0,"55":0,"56":0,"57":21,"58":12,"59":12,"60":12,"61":12,"62":12,"63":21},"statementMap":{"1":{"end":{"column":229,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":138,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":43,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":67,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":69,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":36,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":131,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":47,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":122},"start":{"column":0,"line":25}},"14":{"end":{"column":6,"line":38},"start":{"column":4,"line":35}},"15":{"end":{"column":27,"line":41},"start":{"column":4,"line":41}},"16":{"end":{"column":49,"line":42},"start":{"column":4,"line":42}},"17":{"end":{"column":55,"line":43},"start":{"column":4,"line":43}},"18":{"end":{"column":6,"line":46},"start":{"column":4,"line":44}},"19":{"end":{"column":44,"line":49},"start":{"column":4,"line":49}},"20":{"end":{"column":23,"line":50},"start":{"column":4,"line":50}},"21":{"end":{"column":38,"line":51},"start":{"column":4,"line":51}},"22":{"end":{"column":49,"line":52},"start":{"column":4,"line":52}},"23":{"end":{"column":51,"line":53},"start":{"column":4,"line":53}},"24":{"end":{"column":56,"line":56},"start":{"column":4,"line":56}},"25":{"end":{"column":82,"line":57},"start":{"column":4,"line":57}},"26":{"end":{"column":38,"line":58},"start":{"column":4,"line":58}},"27":{"end":{"column":7,"line":61},"start":{"column":4,"line":59}},"28":{"end":{"column":7,"line":64},"start":{"column":4,"line":62}},"29":{"end":{"column":90,"line":65},"start":{"column":4,"line":65}},"30":{"end":{"column":61,"line":68},"start":{"column":4,"line":68}},"31":{"end":{"column":82,"line":69},"start":{"column":4,"line":69}},"32":{"end":{"column":48,"line":70},"start":{"column":4,"line":70}},"33":{"end":{"column":60,"line":71},"start":{"column":4,"line":71}},"34":{"end":{"column":97,"line":72},"start":{"column":4,"line":72}},"35":{"end":{"column":127,"line":75},"start":{"column":4,"line":75}},"36":{"end":{"column":144,"line":76},"start":{"column":4,"line":76}},"37":{"end":{"column":29,"line":77},"start":{"column":4,"line":77}},"38":{"end":{"column":38,"line":78},"start":{"column":4,"line":78}},"39":{"end":{"column":48,"line":79},"start":{"column":4,"line":79}},"40":{"end":{"column":5,"line":101},"start":{"column":4,"line":80}},"41":{"end":{"column":9,"line":84},"start":{"column":6,"line":81}},"42":{"end":{"column":7,"line":90},"start":{"column":6,"line":85}},"43":{"end":{"column":11,"line":89},"start":{"column":8,"line":86}},"44":{"end":{"column":7,"line":96},"start":{"column":6,"line":91}},"45":{"end":{"column":11,"line":95},"start":{"column":8,"line":92}},"46":{"end":{"column":28,"line":100},"start":{"column":6,"line":98}},"47":{"end":{"column":5,"line":111},"start":{"column":4,"line":102}},"48":{"end":{"column":75,"line":106},"start":{"column":6,"line":103}},"49":{"end":{"column":75,"line":110},"start":{"column":6,"line":108}},"50":{"end":{"column":23,"line":120},"start":{"column":4,"line":112}},"51":{"end":{"column":3,"line":145},"start":{"column":0,"line":124}},"52":{"end":{"column":53,"line":129},"start":{"column":4,"line":129}},"53":{"end":{"column":11,"line":132},"start":{"column":4,"line":132}},"54":{"end":{"column":22,"line":133},"start":{"column":4,"line":133}},"55":{"end":{"column":7,"line":143},"start":{"column":4,"line":134}},"56":{"end":{"column":11,"line":141},"start":{"column":8,"line":139}},"57":{"end":{"column":3,"line":162},"start":{"column":0,"line":147}},"58":{"end":{"column":11,"line":149},"start":{"column":4,"line":149}},"59":{"end":{"column":23,"line":150},"start":{"column":4,"line":150}},"60":{"end":{"column":7,"line":160},"start":{"column":4,"line":151}},"61":{"end":{"column":10,"line":158},"start":{"column":8,"line":156}},"62":{"end":{"column":77,"line":157},"start":{"column":10,"line":157}},"63":{"end":{"column":2,"line":168},"start":{"column":0,"line":164}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"35":21,"41":2,"42":2,"43":2,"44":2,"49":2,"50":2,"51":2,"52":2,"53":2,"56":0,"57":0,"58":0,"59":0,"62":0,"65":0,"68":2,"69":2,"70":2,"71":2,"72":2,"75":12,"76":12,"77":12,"78":12,"79":12,"80":12,"81":12,"85":12,"86":12,"91":12,"92":12,"98":0,"102":12,"103":12,"108":0,"112":12,"124":21,"129":0,"132":0,"133":0,"134":0,"139":0,"147":21,"149":12,"150":12,"151":12,"156":12,"157":12,"164":21}},
"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/performances.cjsx":{"b":{"1":[12,0],"2":[12,0],"3":[0,0],"4":[0,0],"5":[0,12],"6":[6,6],"7":[12,6]},"branchMap":{"1":{"line":20,"locations":[{"end":{"column":4,"line":20},"start":{"column":4,"line":20}},{"end":{"column":4,"line":20},"start":{"column":4,"line":20}}],"type":"if"},"2":{"line":32,"locations":[{"end":{"column":19,"line":32},"start":{"column":11,"line":32}},{"end":{"column":27,"line":32},"start":{"column":23,"line":32}}],"type":"binary-expr"},"3":{"line":44,"locations":[{"end":{"column":4,"line":44},"start":{"column":4,"line":44}},{"end":{"column":4,"line":44},"start":{"column":4,"line":44}}],"type":"if"},"4":{"line":47,"locations":[{"end":{"column":11,"line":47},"start":{"column":11,"line":47}},{"end":{"column":11,"line":47},"start":{"column":11,"line":47}}],"type":"if"},"5":{"line":59,"locations":[{"end":{"column":4,"line":59},"start":{"column":4,"line":59}},{"end":{"column":4,"line":59},"start":{"column":4,"line":59}}],"type":"if"},"6":{"line":76,"locations":[{"end":{"column":4,"line":76},"start":{"column":4,"line":76}},{"end":{"column":4,"line":76},"start":{"column":4,"line":76}}],"type":"if"},"7":{"line":80,"locations":[{"end":{"column":20,"line":80},"start":{"column":11,"line":80}},{"end":{"column":28,"line":80},"start":{"column":24,"line":80}}],"type":"binary-expr"}},"code":["var BS, ChaptersPerformance, PracticesPerformance, Progress, React, _;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","Progress = require('./progress');","","ChaptersPerformance = React.createClass({","  displayName: 'ChaptersPerformance',","  propTypes: {","    currentPages: React.PropTypes.array.isRequired,","    activeSection: React.PropTypes.string","  },","  render: function() {","    var activeSection, chapters, currentPages, ref;","    ref = this.props, currentPages = ref.currentPages, activeSection = ref.activeSection;","    if (!_.isEmpty(currentPages)) {","      chapters = _.map(currentPages, function(data, i) {","        return React.createElement(Progress, {","          \"key\": \"chapter-performance-\" + data.id + \"-\" + i,","          \"data\": data,","          \"type\": 'chapter',","          \"index\": i,","          \"activeSection\": activeSection","        });","      });","      chapters = React.createElement(\"section\", null, React.createElement(\"label\", null, \"Current Topics Performance\"), chapters);","    }","    return chapters || null;","  }","});","","PracticesPerformance = React.createClass({","  displayName: 'PracticesPerformance',","  propTypes: {","    spacedPages: React.PropTypes.array.isRequired,","    activeSection: React.PropTypes.string","  },","  calculatePercentDelta: function(a, b) {","    var change, op;","    if (a > b) {","      change = a - b;","      op = '+';","    } else if (a === b) {","      change = 0;","      op = '';","    } else {","      change = b - a;","      op = '-';","    }","    return op + ' ' + Math.round((change / b) * 100);","  },","  renderPracticeBars: function(data, i) {","    var activeSection, previous;","    activeSection = this.props.activeSection;","    if (data.previous_attempt) {","      previous = React.createElement(\"div\", {","        \"className\": 'reading-progress-delta'","      }, this.calculatePercentDelta(data.correct_count, data.previous_attempt.correct_count), \"% change\");","    }","    return React.createElement(Progress, {","      \"key\": \"practice-performance-\" + data.id + \"-\" + i,","      \"data\": data,","      \"type\": 'practice',","      \"index\": i,","      \"previous\": previous,","      \"activeSection\": activeSection","    });","  },","  render: function() {","    var practices, spacedPages;","    spacedPages = this.props.spacedPages;","    if (!_.isEmpty(spacedPages)) {","      practices = _.map(spacedPages, this.renderPracticeBars);","      practices = React.createElement(\"section\", null, React.createElement(\"label\", null, \"Spaced Practice Performance\"), practices);","    }","    return practices || null;","  }","});","","module.exports = {","  ChaptersPerformance: ChaptersPerformance,","  PracticesPerformance: PracticesPerformance","};",""],"f":{"1":12,"2":24,"3":0,"4":12,"5":12},"fnMap":{"1":{"line":17,"loc":{"end":{"column":21,"line":17},"start":{"column":10,"line":17}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":55,"line":21},"start":{"column":37,"line":21}},"name":"(anonymous_2)"},"3":{"line":42,"loc":{"end":{"column":40,"line":42},"start":{"column":25,"line":42}},"name":"(anonymous_3)"},"4":{"line":56,"loc":{"end":{"column":40,"line":56},"start":{"column":22,"line":56}},"name":"(anonymous_4)"},"5":{"line":73,"loc":{"end":{"column":21,"line":73},"start":{"column":10,"line":73}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/performances.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":12,"8":12,"9":12,"10":12,"11":24,"12":12,"13":12,"14":21,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":12,"26":12,"27":12,"28":0,"29":12,"30":12,"31":12,"32":12,"33":6,"34":6,"35":12,"36":21},"statementMap":{"1":{"end":{"column":70,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":34},"start":{"column":0,"line":11}},"7":{"end":{"column":51,"line":18},"start":{"column":4,"line":18}},"8":{"end":{"column":89,"line":19},"start":{"column":4,"line":19}},"9":{"end":{"column":5,"line":31},"start":{"column":4,"line":20}},"10":{"end":{"column":9,"line":29},"start":{"column":6,"line":21}},"11":{"end":{"column":11,"line":28},"start":{"column":8,"line":22}},"12":{"end":{"column":130,"line":30},"start":{"column":6,"line":30}},"13":{"end":{"column":28,"line":32},"start":{"column":4,"line":32}},"14":{"end":{"column":3,"line":82},"start":{"column":0,"line":36}},"15":{"end":{"column":19,"line":43},"start":{"column":4,"line":43}},"16":{"end":{"column":5,"line":53},"start":{"column":4,"line":44}},"17":{"end":{"column":21,"line":45},"start":{"column":6,"line":45}},"18":{"end":{"column":15,"line":46},"start":{"column":6,"line":46}},"19":{"end":{"column":5,"line":53},"start":{"column":11,"line":47}},"20":{"end":{"column":17,"line":48},"start":{"column":6,"line":48}},"21":{"end":{"column":14,"line":49},"start":{"column":6,"line":49}},"22":{"end":{"column":21,"line":51},"start":{"column":6,"line":51}},"23":{"end":{"column":15,"line":52},"start":{"column":6,"line":52}},"24":{"end":{"column":53,"line":54},"start":{"column":4,"line":54}},"25":{"end":{"column":32,"line":57},"start":{"column":4,"line":57}},"26":{"end":{"column":45,"line":58},"start":{"column":4,"line":58}},"27":{"end":{"column":5,"line":63},"start":{"column":4,"line":59}},"28":{"end":{"column":106,"line":62},"start":{"column":6,"line":60}},"29":{"end":{"column":7,"line":71},"start":{"column":4,"line":64}},"30":{"end":{"column":31,"line":74},"start":{"column":4,"line":74}},"31":{"end":{"column":41,"line":75},"start":{"column":4,"line":75}},"32":{"end":{"column":5,"line":79},"start":{"column":4,"line":76}},"33":{"end":{"column":62,"line":77},"start":{"column":6,"line":77}},"34":{"end":{"column":133,"line":78},"start":{"column":6,"line":78}},"35":{"end":{"column":29,"line":80},"start":{"column":4,"line":80}},"36":{"end":{"column":2,"line":87},"start":{"column":0,"line":84}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"18":12,"19":12,"20":12,"21":12,"22":24,"30":12,"32":12,"36":21,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"51":0,"52":0,"54":0,"57":12,"58":12,"59":12,"60":0,"64":12,"74":12,"75":12,"76":12,"77":6,"78":6,"80":12,"84":21}},
"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/progress.cjsx":{"b":{"1":[0,72],"2":[72,0],"3":[6,66],"4":[6,66],"5":[6,30],"6":[36,24]},"branchMap":{"1":{"line":26,"locations":[{"end":{"column":4,"line":26},"start":{"column":4,"line":26}},{"end":{"column":4,"line":26},"start":{"column":4,"line":26}}],"type":"if"},"2":{"line":31,"locations":[{"end":{"column":4,"line":31},"start":{"column":4,"line":31}},{"end":{"column":4,"line":31},"start":{"column":4,"line":31}}],"type":"if"},"3":{"line":41,"locations":[{"end":{"column":4,"line":41},"start":{"column":4,"line":41}},{"end":{"column":4,"line":41},"start":{"column":4,"line":41}}],"type":"if"},"4":{"line":45,"locations":[{"end":{"column":4,"line":45},"start":{"column":4,"line":45}},{"end":{"column":4,"line":45},"start":{"column":4,"line":45}}],"type":"if"},"5":{"line":64,"locations":[{"end":{"column":4,"line":64},"start":{"column":4,"line":64}},{"end":{"column":4,"line":64},"start":{"column":4,"line":64}}],"type":"if"},"6":{"line":79,"locations":[{"end":{"column":31,"line":79},"start":{"column":18,"line":79}},{"end":{"column":42,"line":79},"start":{"column":35,"line":79}}],"type":"binary-expr"}},"code":["var BS, ChapterSectionMixin, Progress, React, _, classnames;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","classnames = require('classnames');","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","Progress = React.createClass({","  displayName: 'Progress',","  propTypes: {","    data: React.PropTypes.object.isRequired,","    type: React.PropTypes.string.isRequired,","    activeSection: React.PropTypes.string","  },","  mixins: [ChapterSectionMixin],","  _calculatePercent: function(num, total) {","    return Math.round((num / total) * 100);","  },","  calculatePercent: function(data, correctOrIncorrect) {","    var count, total_count;","    if (correctOrIncorrect == null) {","      correctOrIncorrect = 'correct';","    }","    count = correctOrIncorrect + '_count';","    total_count = data.correct_count + data.incorrect_count;","    if (total_count) {","      return this._calculatePercent(data[count], total_count);","    } else {","      return 0;","    }","  },","  renderPercentBar: function(data, type, percent, correctOrIncorrect) {","    var classes, correct, label;","    classes = 'reading-progress-bar';","    classes += \" progress-bar-\" + correctOrIncorrect;","    if (!percent) {","      classes += ' no-progress';","    }","    label = percent + \"%\";","    if (percent === 100) {","      label = label + \" \" + correctOrIncorrect;","    }","    return correct = React.createElement(BS.ProgressBar, {","      \"className\": classes,","      \"label\": label,","      \"now\": percent,","      \"key\": \"page-progress-\" + type + \"-\" + data.id + \"-\" + correctOrIncorrect,","      \"type\": \"\" + correctOrIncorrect,","      \"alt\": percent + \"% \" + correctOrIncorrect","    });","  },","  renderPercentBars: function() {","    var data, percents, ref, type;","    ref = this.props, data = ref.data, type = ref.type;","    percents = {","      correct: this.calculatePercent(data, 'correct'),","      incorrect: this.calculatePercent(data, 'incorrect')","    };","    if (percents.incorrect + percents.correct > 100) {","      percents.incorrect = 100 - percents.correct;","    }","    return _.map(percents, _.partial(this.renderPercentBar, data, type));","  },","  render: function() {","    var active, activeSection, data, index, previous, progressClass, ref, sectionLabel, studentCount, type;","    ref = this.props, data = ref.data, type = ref.type, index = ref.index, previous = ref.previous, activeSection = ref.activeSection;","    studentCount = React.createElement(\"span\", {","      \"className\": 'reading-progress-student-count'","    }, \"(\", data.student_count, \" students)\");","    sectionLabel = this.sectionFormat(data.chapter_section, this.props.sectionSeparator);","    active = activeSection === sectionLabel;","    progressClass = classnames('reading-progress', {","      'active': active,","      'inactive': activeSection && !active","    });","    return React.createElement(\"div\", {","      \"key\": type + \"-bar-\" + index,","      \"className\": progressClass","    }, React.createElement(\"div\", {","      \"className\": 'reading-progress-heading'","    }, React.createElement(\"strong\", null, React.createElement(\"span\", {","      \"className\": 'text-success'","    }, sectionLabel), \" \", data.title), \" \", studentCount), React.createElement(\"div\", {","      \"className\": 'reading-progress-container'","    }, React.createElement(BS.ProgressBar, {","      \"className\": 'reading-progress-group'","    }, this.renderPercentBars()), previous));","  }","});","","module.exports = Progress;",""],"f":{"1":72,"2":72,"3":72,"4":36,"5":36},"fnMap":{"1":{"line":21,"loc":{"end":{"column":42,"line":21},"start":{"column":21,"line":21}},"name":"(anonymous_1)"},"2":{"line":24,"loc":{"end":{"column":55,"line":24},"start":{"column":20,"line":24}},"name":"(anonymous_2)"},"3":{"line":37,"loc":{"end":{"column":70,"line":37},"start":{"column":20,"line":37}},"name":"(anonymous_3)"},"4":{"line":57,"loc":{"end":{"column":32,"line":57},"start":{"column":21,"line":57}},"name":"(anonymous_4)"},"5":{"line":69,"loc":{"end":{"column":21,"line":69},"start":{"column":10,"line":69}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/plan-stats/progress.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":72,"9":72,"10":72,"11":0,"12":72,"13":72,"14":72,"15":72,"16":0,"17":72,"18":72,"19":72,"20":72,"21":6,"22":72,"23":72,"24":6,"25":72,"26":36,"27":36,"28":36,"29":36,"30":6,"31":36,"32":36,"33":36,"34":36,"35":36,"36":36,"37":36,"38":36,"39":21},"statementMap":{"1":{"end":{"column":60,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":35,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":79,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":94},"start":{"column":0,"line":13}},"8":{"end":{"column":43,"line":22},"start":{"column":4,"line":22}},"9":{"end":{"column":27,"line":25},"start":{"column":4,"line":25}},"10":{"end":{"column":5,"line":28},"start":{"column":4,"line":26}},"11":{"end":{"column":37,"line":27},"start":{"column":6,"line":27}},"12":{"end":{"column":42,"line":29},"start":{"column":4,"line":29}},"13":{"end":{"column":60,"line":30},"start":{"column":4,"line":30}},"14":{"end":{"column":5,"line":35},"start":{"column":4,"line":31}},"15":{"end":{"column":62,"line":32},"start":{"column":6,"line":32}},"16":{"end":{"column":15,"line":34},"start":{"column":6,"line":34}},"17":{"end":{"column":32,"line":38},"start":{"column":4,"line":38}},"18":{"end":{"column":37,"line":39},"start":{"column":4,"line":39}},"19":{"end":{"column":53,"line":40},"start":{"column":4,"line":40}},"20":{"end":{"column":5,"line":43},"start":{"column":4,"line":41}},"21":{"end":{"column":32,"line":42},"start":{"column":6,"line":42}},"22":{"end":{"column":26,"line":44},"start":{"column":4,"line":44}},"23":{"end":{"column":5,"line":47},"start":{"column":4,"line":45}},"24":{"end":{"column":47,"line":46},"start":{"column":6,"line":46}},"25":{"end":{"column":7,"line":55},"start":{"column":4,"line":48}},"26":{"end":{"column":34,"line":58},"start":{"column":4,"line":58}},"27":{"end":{"column":55,"line":59},"start":{"column":4,"line":59}},"28":{"end":{"column":6,"line":63},"start":{"column":4,"line":60}},"29":{"end":{"column":5,"line":66},"start":{"column":4,"line":64}},"30":{"end":{"column":50,"line":65},"start":{"column":6,"line":65}},"31":{"end":{"column":73,"line":67},"start":{"column":4,"line":67}},"32":{"end":{"column":107,"line":70},"start":{"column":4,"line":70}},"33":{"end":{"column":134,"line":71},"start":{"column":4,"line":71}},"34":{"end":{"column":46,"line":74},"start":{"column":4,"line":72}},"35":{"end":{"column":89,"line":75},"start":{"column":4,"line":75}},"36":{"end":{"column":44,"line":76},"start":{"column":4,"line":76}},"37":{"end":{"column":7,"line":80},"start":{"column":4,"line":77}},"38":{"end":{"column":45,"line":92},"start":{"column":4,"line":81}},"39":{"end":{"column":26,"line":96},"start":{"column":0,"line":96}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"22":72,"25":72,"26":72,"27":0,"29":72,"30":72,"31":72,"32":72,"34":0,"38":72,"39":72,"40":72,"41":72,"42":6,"44":72,"45":72,"46":6,"48":72,"58":36,"59":36,"60":36,"64":36,"65":6,"67":36,"70":36,"71":36,"72":36,"75":36,"76":36,"77":36,"81":36,"96":21}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/exercise.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"branchMap":{"1":{"line":29,"locations":[{"end":{"column":4,"line":29},"start":{"column":4,"line":29}},{"end":{"column":4,"line":29},"start":{"column":4,"line":29}}],"type":"if"},"2":{"line":29,"locations":[{"end":{"column":48,"line":29},"start":{"column":11,"line":29}},{"end":{"column":176,"line":29},"start":{"column":54,"line":29}}],"type":"binary-expr"},"3":{"line":29,"locations":[{"end":{"column":39,"line":29},"start":{"column":27,"line":29}},{"end":{"column":48,"line":29},"start":{"column":42,"line":29}}],"type":"cond-expr"},"4":{"line":29,"locations":[{"end":{"column":158,"line":29},"start":{"column":71,"line":29}},{"end":{"column":167,"line":29},"start":{"column":161,"line":29}}],"type":"cond-expr"},"5":{"line":29,"locations":[{"end":{"column":149,"line":29},"start":{"column":99,"line":29}},{"end":{"column":158,"line":29},"start":{"column":152,"line":29}}],"type":"cond-expr"},"6":{"line":29,"locations":[{"end":{"column":140,"line":29},"start":{"column":133,"line":29}},{"end":{"column":149,"line":29},"start":{"column":143,"line":29}}],"type":"cond-expr"},"7":{"line":48,"locations":[{"end":{"column":63,"line":48},"start":{"column":11,"line":48}},{"end":{"column":118,"line":48},"start":{"column":67,"line":48}}],"type":"binary-expr"},"8":{"line":53,"locations":[{"end":{"column":4,"line":53},"start":{"column":4,"line":53}},{"end":{"column":4,"line":53},"start":{"column":4,"line":53}}],"type":"if"}},"code":["var ArbitraryHtmlAndMath, LoadableItem, Question, React, ReferenceBookExercise, ReferenceBookExerciseActions, ReferenceBookExerciseShell, ReferenceBookExerciseStore, ReferenceBookMissingExercise, ref, ref1;","","React = require('react');","","ref = require('../../flux/reference-book-exercise'), ReferenceBookExerciseActions = ref.ReferenceBookExerciseActions, ReferenceBookExerciseStore = ref.ReferenceBookExerciseStore;","","LoadableItem = require('../loadable-item');","","ref1 = require('openstax-react-components'), ArbitraryHtmlAndMath = ref1.ArbitraryHtmlAndMath, Question = ref1.Question;","","ReferenceBookMissingExercise = React.createClass({","  displayName: 'ReferenceBookMissingExercise',","  render: function() {","    var exerciseAPIUrl;","    exerciseAPIUrl = this.props.exerciseAPIUrl;","    return React.createElement(\"small\", {","      \"className\": 'reference-book-missing-exercise',","      \"data-exercise-url\": exerciseAPIUrl","    }, React.createElement(\"i\", null, \"Missing exercise\"));","  }","});","","ReferenceBookExercise = React.createClass({","  displayName: 'ReferenceBookExercise',","  render: function() {","    var exerciseAPIUrl, items, question, questions, ref2, ref3;","    exerciseAPIUrl = this.props.exerciseAPIUrl;","    items = ReferenceBookExerciseStore.get(exerciseAPIUrl).items;","    if (!((items != null ? items.length : void 0) && ((items != null ? (ref2 = items[0]) != null ? (ref3 = ref2.questions) != null ? ref3[0] : void 0 : void 0 : void 0) != null))) {","      console.warn(\"WARNING: \" + exerciseAPIUrl + \" appears to be missing.\");","      return React.createElement(ReferenceBookMissingExercise, {","        \"exerciseAPIUrl\": exerciseAPIUrl","      });","    }","    questions = items[0].questions;","    question = questions[0];","    return React.createElement(Question, {","      \"model\": question","    });","  }","});","","ReferenceBookExerciseShell = React.createClass({","  displayName: 'ReferenceBookExerciseShell',","  isLoading: function() {","    var exerciseAPIUrl;","    exerciseAPIUrl = this.props.exerciseAPIUrl;","    return ReferenceBookExerciseStore.isLoading(exerciseAPIUrl) || ReferenceBookExerciseStore.isQueued(exerciseAPIUrl);","  },","  load: function() {","    var exerciseAPIUrl;","    exerciseAPIUrl = this.props.exerciseAPIUrl;","    if (!this.isLoading()) {","      return ReferenceBookExerciseActions.load(exerciseAPIUrl);","    }","  },","  renderExercise: function() {","    var exerciseHtml;","    exerciseHtml = React.renderToStaticMarkup(React.createElement(ReferenceBookExercise, React.__spread({}, this.props)));","    return React.createElement(ArbitraryHtmlAndMath, {","      \"html\": exerciseHtml","    });","  },","  render: function() {","    var exerciseAPIUrl;","    exerciseAPIUrl = this.props.exerciseAPIUrl;","    return React.createElement(LoadableItem, {","      \"id\": exerciseAPIUrl,","      \"bindEvent\": \"loaded.\" + exerciseAPIUrl,","      \"isLoading\": this.isLoading,","      \"load\": this.load,","      \"store\": ReferenceBookExerciseStore,","      \"actions\": ReferenceBookExerciseActions,","      \"renderItem\": this.renderExercise,","      \"renderLoading\": (function() {","        return React.createElement(\"span\", {","          \"className\": 'loading-exercise'","        }, \"Loading exercise...\");","      }),","      \"renderError\": (function() {","        return React.createElement(ReferenceBookMissingExercise, null);","      })","    });","  }","});","","module.exports = {","  ReferenceBookExercise: ReferenceBookExercise,","  ReferenceBookExerciseShell: ReferenceBookExerciseShell","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"line":13,"loc":{"end":{"column":21,"line":13},"start":{"column":10,"line":13}},"name":"(anonymous_1)"},"2":{"line":25,"loc":{"end":{"column":21,"line":25},"start":{"column":10,"line":25}},"name":"(anonymous_2)"},"3":{"line":45,"loc":{"end":{"column":24,"line":45},"start":{"column":13,"line":45}},"name":"(anonymous_3)"},"4":{"line":50,"loc":{"end":{"column":19,"line":50},"start":{"column":8,"line":50}},"name":"(anonymous_4)"},"5":{"line":57,"loc":{"end":{"column":29,"line":57},"start":{"column":18,"line":57}},"name":"(anonymous_5)"},"6":{"line":64,"loc":{"end":{"column":21,"line":64},"start":{"column":10,"line":64}},"name":"(anonymous_6)"},"7":{"line":75,"loc":{"end":{"column":35,"line":75},"start":{"column":24,"line":75}},"name":"(anonymous_7)"},"8":{"line":80,"loc":{"end":{"column":33,"line":80},"start":{"column":22,"line":80}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/exercise.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":0,"9":0,"10":21,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":21,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":21},"statementMap":{"1":{"end":{"column":206,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":178,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":43,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":120,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":21},"start":{"column":0,"line":11}},"7":{"end":{"column":23,"line":14},"start":{"column":4,"line":14}},"8":{"end":{"column":47,"line":15},"start":{"column":4,"line":15}},"9":{"end":{"column":59,"line":19},"start":{"column":4,"line":16}},"10":{"end":{"column":3,"line":41},"start":{"column":0,"line":23}},"11":{"end":{"column":63,"line":26},"start":{"column":4,"line":26}},"12":{"end":{"column":47,"line":27},"start":{"column":4,"line":27}},"13":{"end":{"column":65,"line":28},"start":{"column":4,"line":28}},"14":{"end":{"column":5,"line":34},"start":{"column":4,"line":29}},"15":{"end":{"column":77,"line":30},"start":{"column":6,"line":30}},"16":{"end":{"column":9,"line":33},"start":{"column":6,"line":31}},"17":{"end":{"column":35,"line":35},"start":{"column":4,"line":35}},"18":{"end":{"column":28,"line":36},"start":{"column":4,"line":36}},"19":{"end":{"column":7,"line":39},"start":{"column":4,"line":37}},"20":{"end":{"column":3,"line":85},"start":{"column":0,"line":43}},"21":{"end":{"column":23,"line":46},"start":{"column":4,"line":46}},"22":{"end":{"column":47,"line":47},"start":{"column":4,"line":47}},"23":{"end":{"column":119,"line":48},"start":{"column":4,"line":48}},"24":{"end":{"column":23,"line":51},"start":{"column":4,"line":51}},"25":{"end":{"column":47,"line":52},"start":{"column":4,"line":52}},"26":{"end":{"column":5,"line":55},"start":{"column":4,"line":53}},"27":{"end":{"column":63,"line":54},"start":{"column":6,"line":54}},"28":{"end":{"column":21,"line":58},"start":{"column":4,"line":58}},"29":{"end":{"column":122,"line":59},"start":{"column":4,"line":59}},"30":{"end":{"column":7,"line":62},"start":{"column":4,"line":60}},"31":{"end":{"column":23,"line":65},"start":{"column":4,"line":65}},"32":{"end":{"column":47,"line":66},"start":{"column":4,"line":66}},"33":{"end":{"column":7,"line":83},"start":{"column":4,"line":67}},"34":{"end":{"column":34,"line":78},"start":{"column":8,"line":76}},"35":{"end":{"column":71,"line":81},"start":{"column":8,"line":81}},"36":{"end":{"column":2,"line":90},"start":{"column":0,"line":87}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"14":0,"15":0,"16":0,"23":21,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"35":0,"36":0,"37":0,"43":21,"46":0,"47":0,"48":0,"51":0,"52":0,"53":0,"54":0,"58":0,"59":0,"60":0,"65":0,"66":0,"67":0,"76":0,"81":0,"87":21}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/index.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"branchMap":{"1":{"line":42,"locations":[{"end":{"column":4,"line":42},"start":{"column":4,"line":42}},{"end":{"column":4,"line":42},"start":{"column":4,"line":42}}],"type":"if"},"2":{"line":54,"locations":[{"end":{"column":4,"line":54},"start":{"column":4,"line":54}},{"end":{"column":4,"line":54},"start":{"column":4,"line":54}}],"type":"if"},"3":{"line":55,"locations":[{"end":{"column":82,"line":55},"start":{"column":65,"line":55}},{"end":{"column":91,"line":55},"start":{"column":85,"line":55}}],"type":"cond-expr"},"4":{"line":72,"locations":[{"end":{"column":4,"line":72},"start":{"column":4,"line":72}},{"end":{"column":4,"line":72},"start":{"column":4,"line":72}}],"type":"if"},"5":{"line":94,"locations":[{"end":{"column":64,"line":94},"start":{"column":31,"line":94}},{"end":{"column":73,"line":94},"start":{"column":67,"line":94}}],"type":"cond-expr"},"6":{"line":102,"locations":[{"end":{"column":23,"line":102},"start":{"column":12,"line":102}},{"end":{"column":65,"line":102},"start":{"column":27,"line":102}}],"type":"binary-expr"}},"code":["var BS, CourseActions, CourseDataMixin, CourseStore, LoadableItem, React, ReferenceBook, ReferenceBookActions, ReferenceBookPageShell, ReferenceBookShell, ReferenceBookStore, Router, TeacherContentToggle, _, classnames, moment, ref, ref1;","","React = require('react');","","Router = require('react-router');","","BS = require('react-bootstrap');","","_ = require('underscore');","","classnames = require('classnames');","","ref = require('../../flux/reference-book'), ReferenceBookActions = ref.ReferenceBookActions, ReferenceBookStore = ref.ReferenceBookStore;","","ref1 = require('../../flux/course'), CourseActions = ref1.CourseActions, CourseStore = ref1.CourseStore;","","ReferenceBookPageShell = require('./page-shell');","","LoadableItem = require('../loadable-item');","","moment = require('moment');","","ReferenceBook = require('./reference-book');","","CourseDataMixin = require('../course-data-mixin');","","TeacherContentToggle = require('./teacher-content-toggle');","","ReferenceBookShell = React.createClass({","  displayName: 'ReferenceBookShell',","  mixins: [CourseDataMixin],","  contextTypes: {","    router: React.PropTypes.func","  },","  getInitialState: function() {","    return this.getIds();","  },","  componentWillMount: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    this.setIds();","    if (!CourseStore.isLoaded(courseId)) {","      CourseActions.load(courseId);","      return CourseStore.once('course.loaded', this.setIds);","    }","  },","  componentWillReceiveProps: function() {","    return this.setIds();","  },","  getIds: function() {","    var courseId, ecosystemId, ref2, ref3, section;","    ref2 = this.context.router.getCurrentParams(), courseId = ref2.courseId, section = ref2.section;","    ecosystemId = this.context.router.getCurrentQuery().ecosystemId;","    if (ecosystemId == null) {","      ecosystemId = (ref3 = CourseStore.get(courseId)) != null ? ref3.ecosystem_id : void 0;","    }","    return {","      courseId: courseId,","      section: section,","      ecosystemId: ecosystemId","    };","  },","  setIds: function() {","    return this.setState(this.getIds());","  },","  setTeacherContent: function(isShowing) {","    return this.setState({","      isShowingTeacherContent: isShowing","    });","  },","  renderNavbarControls: function() {","    if (!CourseStore.isTeacher(this.state.courseId)) {","      return null;","    }","    return React.createElement(BS.Nav, {","      \"navbar\": true,","      \"right\": true","    }, React.createElement(TeacherContentToggle, {","      \"isShowing\": this.state.isShowingTeacherContent,","      \"onChange\": this.setTeacherContent","    }));","  },","  renderBook: function() {","    var courseId, ecosystemId, ref2;","    ref2 = this.state, courseId = ref2.courseId, ecosystemId = ref2.ecosystemId;","    return React.createElement(ReferenceBook, {","      \"navbarControls\": this.renderNavbarControls(),","      \"section\": this.state.section,","      \"pageNavRouterLinkTarget\": 'viewReferenceBookSection',","      \"menuRouterLinkTarget\": 'viewReferenceBookSection',","      \"className\": classnames({","        'is-teacher': this.state.isShowingTeacherContent","      }),","      \"dataProps\": (courseId ? this.getCourseDataProps(courseId) : void 0),","      \"ecosystemId\": ecosystemId","    });","  },","  render: function() {","    var courseId, ecosystemId, ref2;","    ref2 = this.state, courseId = ref2.courseId, ecosystemId = ref2.ecosystemId;","    return React.createElement(LoadableItem, {","      \"id\": ecosystemId || CourseStore.get(courseId).ecosystem_id,","      \"store\": ReferenceBookStore,","      \"actions\": ReferenceBookActions,","      \"renderItem\": this.renderBook","    });","  }","});","","module.exports = {","  ReferenceBookShell: ReferenceBookShell,","  ReferenceBookPageShell: ReferenceBookPageShell","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"line":35,"loc":{"end":{"column":30,"line":35},"start":{"column":19,"line":35}},"name":"(anonymous_1)"},"2":{"line":38,"loc":{"end":{"column":33,"line":38},"start":{"column":22,"line":38}},"name":"(anonymous_2)"},"3":{"line":47,"loc":{"end":{"column":40,"line":47},"start":{"column":29,"line":47}},"name":"(anonymous_3)"},"4":{"line":50,"loc":{"end":{"column":21,"line":50},"start":{"column":10,"line":50}},"name":"(anonymous_4)"},"5":{"line":63,"loc":{"end":{"column":21,"line":63},"start":{"column":10,"line":63}},"name":"(anonymous_5)"},"6":{"line":66,"loc":{"end":{"column":41,"line":66},"start":{"column":21,"line":66}},"name":"(anonymous_6)"},"7":{"line":71,"loc":{"end":{"column":35,"line":71},"start":{"column":24,"line":71}},"name":"(anonymous_7)"},"8":{"line":83,"loc":{"end":{"column":25,"line":83},"start":{"column":14,"line":83}},"name":"(anonymous_8)"},"9":{"line":98,"loc":{"end":{"column":21,"line":98},"start":{"column":10,"line":98}},"name":"(anonymous_9)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":21},"statementMap":{"1":{"end":{"column":238,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":35,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":137,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":104,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":49,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":43,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":27,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":44,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":50,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":59,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":3,"line":108},"start":{"column":0,"line":29}},"16":{"end":{"column":25,"line":36},"start":{"column":4,"line":36}},"17":{"end":{"column":17,"line":39},"start":{"column":4,"line":39}},"18":{"end":{"column":63,"line":40},"start":{"column":4,"line":40}},"19":{"end":{"column":18,"line":41},"start":{"column":4,"line":41}},"20":{"end":{"column":5,"line":45},"start":{"column":4,"line":42}},"21":{"end":{"column":35,"line":43},"start":{"column":6,"line":43}},"22":{"end":{"column":60,"line":44},"start":{"column":6,"line":44}},"23":{"end":{"column":25,"line":48},"start":{"column":4,"line":48}},"24":{"end":{"column":51,"line":51},"start":{"column":4,"line":51}},"25":{"end":{"column":100,"line":52},"start":{"column":4,"line":52}},"26":{"end":{"column":68,"line":53},"start":{"column":4,"line":53}},"27":{"end":{"column":5,"line":56},"start":{"column":4,"line":54}},"28":{"end":{"column":92,"line":55},"start":{"column":6,"line":55}},"29":{"end":{"column":6,"line":61},"start":{"column":4,"line":57}},"30":{"end":{"column":40,"line":64},"start":{"column":4,"line":64}},"31":{"end":{"column":7,"line":69},"start":{"column":4,"line":67}},"32":{"end":{"column":5,"line":74},"start":{"column":4,"line":72}},"33":{"end":{"column":18,"line":73},"start":{"column":6,"line":73}},"34":{"end":{"column":8,"line":81},"start":{"column":4,"line":75}},"35":{"end":{"column":36,"line":84},"start":{"column":4,"line":84}},"36":{"end":{"column":80,"line":85},"start":{"column":4,"line":85}},"37":{"end":{"column":7,"line":96},"start":{"column":4,"line":86}},"38":{"end":{"column":36,"line":99},"start":{"column":4,"line":99}},"39":{"end":{"column":80,"line":100},"start":{"column":4,"line":100}},"40":{"end":{"column":7,"line":106},"start":{"column":4,"line":101}},"41":{"end":{"column":2,"line":113},"start":{"column":0,"line":110}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"36":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"48":0,"51":0,"52":0,"53":0,"54":0,"55":0,"57":0,"64":0,"67":0,"72":0,"73":0,"75":0,"84":0,"85":0,"86":0,"99":0,"100":0,"101":0,"110":21}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/navbar.cjsx":{"b":{},"branchMap":{},"code":["var BS, BindStoreMixin, ChapterSection, React, ReferenceBookPageStore, ReferenceBookStore, SlideOutMenuToggle, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ChapterSection = require('../task-plan/chapter-section');","","BindStoreMixin = require('../bind-store-mixin');","","ReferenceBookStore = require('../../flux/reference-book').ReferenceBookStore;","","ReferenceBookPageStore = require('../../flux/reference-book-page').ReferenceBookPageStore;","","SlideOutMenuToggle = require('./slide-out-menu-toggle');","","module.exports = React.createClass({","  displayName: 'ReferenceBookNavBar',","  mixins: [BindStoreMixin],","  bindStore: ReferenceBookPageStore,","  propTypes: {","    ecosystemId: React.PropTypes.string.isRequired,","    toggleTocMenu: React.PropTypes.func.isRequired,","    section: React.PropTypes.string.isRequired,","    isMenuVisible: React.PropTypes.bool.isRequired,","    extraControls: React.PropTypes.element","  },","  renderSectionTitle: function() {","    var ecosystemId, ref, section, title;","    ref = this.props, section = ref.section, ecosystemId = ref.ecosystemId;","    title = ReferenceBookStore.getPageTitle({","      section: section,","      ecosystemId: ecosystemId","    });","    return React.createElement(BS.Nav, {","      \"navbar\": true,","      \"className\": \"section-title\"","    }, React.createElement(ChapterSection, {","      \"section\": section","    }), title);","  },","  render: function() {","    return React.createElement(BS.Navbar, {","      \"fixedTop\": true,","      \"fluid\": true","    }, React.createElement(BS.Nav, {","      \"navbar\": true","    }, React.createElement(BS.NavItem, {","      \"className\": \"menu-toggle\",","      \"onClick\": this.props.toggleTocMenu","    }, React.createElement(SlideOutMenuToggle, {","      \"isMenuVisible\": this.props.isMenuVisible","    }))), React.createElement(BS.Nav, {","      \"className\": 'full-width-only',","      \"navbar\": true","    }, React.createElement(\"li\", null, React.createElement(\"i\", {","      \"className\": 'ui-brand-logo'","    }))), this.renderSectionTitle(), React.createElement(BS.Nav, {","      \"className\": 'full-width-only',","      \"navbar\": true,","      \"right\": true","    }, React.createElement(\"li\", null, React.createElement(\"i\", {","      \"className\": 'ui-rice-logo'","    }))), this.props.extraControls);","  }","});",""],"f":{"1":0,"2":0},"fnMap":{"1":{"line":30,"loc":{"end":{"column":33,"line":30},"start":{"column":22,"line":30}},"name":"(anonymous_1)"},"2":{"line":44,"loc":{"end":{"column":21,"line":44},"start":{"column":10,"line":44}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/navbar.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":0,"12":0,"13":0,"14":0,"15":0},"statementMap":{"1":{"end":{"column":113,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":57,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":48,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":77,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":90,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":56,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":68},"start":{"column":0,"line":19}},"11":{"end":{"column":41,"line":31},"start":{"column":4,"line":31}},"12":{"end":{"column":75,"line":32},"start":{"column":4,"line":32}},"13":{"end":{"column":7,"line":36},"start":{"column":4,"line":33}},"14":{"end":{"column":15,"line":42},"start":{"column":4,"line":37}},"15":{"end":{"column":36,"line":66},"start":{"column":4,"line":45}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"31":0,"32":0,"33":0,"37":0,"45":0}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/page-navigation.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"branchMap":{"1":{"line":25,"locations":[{"end":{"column":127,"line":25},"start":{"column":77,"line":25}},{"end":{"column":136,"line":25},"start":{"column":130,"line":25}}],"type":"cond-expr"},"2":{"line":29,"locations":[{"end":{"column":4,"line":29},"start":{"column":4,"line":29}},{"end":{"column":4,"line":29},"start":{"column":4,"line":29}}],"type":"if"},"3":{"line":29,"locations":[{"end":{"column":28,"line":29},"start":{"column":10,"line":29}},{"end":{"column":50,"line":29},"start":{"column":32,"line":29}}],"type":"binary-expr"}},"code":["var BS, PageNavigation, React, Router, classnames;","","React = require('react');","","BS = require('react-bootstrap');","","classnames = require('classnames');","","Router = require('react-router');","","PageNavigation = React.createClass({displayName: \"PageNavigation\",","  propTypes: {","    ecosystemId: React.PropTypes.string.isRequired,","    onPageNavigationClick: React.PropTypes.func,","    direction: React.PropTypes.string.isRequired,","    pageNavRouterLinkTarget: React.PropTypes.string.isRequired,","    enabled: React.PropTypes.bool.isRequired,","    section: React.PropTypes.string","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  onClick: function(ev) {","    var base;","    return typeof (base = this.props).onPageNavigationClick === \"function\" ? base.onPageNavigationClick(this.props.section, ev) : void 0;","  },","  render: function() {","    var params;","    if (!(this.props.enabled && this.props.section)) {","      return null;","    }","    params = _.extend({","      ecosystemId: this.props.ecosystemId","    }, this.context.router.getCurrentParams(), {","      section: this.props.section","    });","    return React.createElement(Router.Link, {","      \"className\": classnames('page-navigation', this.props.direction),","      \"to\": this.props.pageNavRouterLinkTarget,","      \"query\": this.context.router.getCurrentQuery(),","      \"onClick\": this.onClick,","      \"params\": params","    }, React.createElement(\"div\", {","      \"className\": 'triangle'","    }));","  }","});","","module.exports = PageNavigation;",""],"f":{"1":0,"2":0},"fnMap":{"1":{"line":23,"loc":{"end":{"column":24,"line":23},"start":{"column":11,"line":23}},"name":"(anonymous_1)"},"2":{"line":27,"loc":{"end":{"column":21,"line":27},"start":{"column":10,"line":27}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/page-navigation.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":21},"statementMap":{"1":{"end":{"column":50,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":47},"start":{"column":0,"line":11}},"7":{"end":{"column":13,"line":24},"start":{"column":4,"line":24}},"8":{"end":{"column":137,"line":25},"start":{"column":4,"line":25}},"9":{"end":{"column":15,"line":28},"start":{"column":4,"line":28}},"10":{"end":{"column":5,"line":31},"start":{"column":4,"line":29}},"11":{"end":{"column":18,"line":30},"start":{"column":6,"line":30}},"12":{"end":{"column":7,"line":36},"start":{"column":4,"line":32}},"13":{"end":{"column":8,"line":45},"start":{"column":4,"line":37}},"14":{"end":{"column":32,"line":49},"start":{"column":0,"line":49}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"24":0,"25":0,"28":0,"29":0,"30":0,"32":0,"37":0,"49":21}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/page-shell.cjsx":{"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"branchMap":{"1":{"line":30,"locations":[{"end":{"column":37,"line":30},"start":{"column":12,"line":30}},{"end":{"column":74,"line":30},"start":{"column":43,"line":30}},{"end":{"column":122,"line":30},"start":{"column":79,"line":30}}],"type":"binary-expr"},"2":{"line":34,"locations":[{"end":{"column":4,"line":34},"start":{"column":4,"line":34}},{"end":{"column":4,"line":34},"start":{"column":4,"line":34}}],"type":"if"},"3":{"line":50,"locations":[{"end":{"column":4,"line":50},"start":{"column":4,"line":50}},{"end":{"column":4,"line":50},"start":{"column":4,"line":50}}],"type":"if"},"4":{"line":55,"locations":[{"end":{"column":107,"line":55},"start":{"column":85,"line":55}},{"end":{"column":116,"line":55},"start":{"column":110,"line":55}}],"type":"cond-expr"}},"code":["var Invalid, LoadableItem, React, ReferenceBookPage, ReferenceBookPageActions, ReferenceBookPageShell, ReferenceBookPageStore, _, ref;","","React = require('react');","","_ = require('underscore');","","LoadableItem = require('../loadable-item');","","ReferenceBookPage = require('./page');","","Invalid = require('../index').Invalid;","","ref = require('../../flux/reference-book-page'), ReferenceBookPageActions = ref.ReferenceBookPageActions, ReferenceBookPageStore = ref.ReferenceBookPageStore;","","ReferenceBookPageShell = React.createClass({displayName: \"ReferenceBookPageShell\",","  propTypes: {","    cnxId: React.PropTypes.string.isRequired","  },","  getDefaultState: function() {","    return {","      previousPageProps: null","    };","  },","  componentWillReceiveProps: function(nextProps) {","    return this.setState({","      previousPageProps: this.props","    });","  },","  isAnotherPage: function(previousPageProps, currentProps) {","    return (previousPageProps != null) && (previousPageProps.cnxId != null) && !_.isEqual(previousPageProps, currentProps);","  },","  renderLoading: function(previousPageProps, currentProps, refreshButton) {","    var loading;","    if (this.isAnotherPage(previousPageProps, currentProps)) {","      loading = React.createElement(ReferenceBookPage, React.__spread({}, previousPageProps, {","        \"className\": 'page-loading loadable is-loading'","      }), refreshButton);","    } else {","      loading = React.createElement(\"div\", {","        \"className\": 'loadable is-loading'","      }, \"Loading... \", refreshButton);","    }","    return loading;","  },","  renderLoaded: function() {","    return React.createElement(ReferenceBookPage, React.__spread({}, this.props));","  },","  render: function() {","    var ref1;","    if (this.props.cnxId != null) {","      return React.createElement(LoadableItem, {","        \"id\": this.props.cnxId,","        \"store\": ReferenceBookPageStore,","        \"actions\": ReferenceBookPageActions,","        \"renderLoading\": _.partial(this.renderLoading, (ref1 = this.state) != null ? ref1.previousPageProps : void 0, this.props),","        \"renderItem\": this.renderLoaded","      });","    } else {","      return React.createElement(Invalid, null);","    }","  }","});","","module.exports = ReferenceBookPageShell;",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"line":19,"loc":{"end":{"column":30,"line":19},"start":{"column":19,"line":19}},"name":"(anonymous_1)"},"2":{"line":24,"loc":{"end":{"column":49,"line":24},"start":{"column":29,"line":24}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":59,"line":29},"start":{"column":17,"line":29}},"name":"(anonymous_3)"},"4":{"line":32,"loc":{"end":{"column":74,"line":32},"start":{"column":17,"line":32}},"name":"(anonymous_4)"},"5":{"line":45,"loc":{"end":{"column":27,"line":45},"start":{"column":16,"line":45}},"name":"(anonymous_5)"},"6":{"line":48,"loc":{"end":{"column":21,"line":48},"start":{"column":10,"line":48}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/page-shell.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":21},"statementMap":{"1":{"end":{"column":134,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":43,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":38,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":38,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":158,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":62},"start":{"column":0,"line":15}},"9":{"end":{"column":6,"line":22},"start":{"column":4,"line":20}},"10":{"end":{"column":7,"line":27},"start":{"column":4,"line":25}},"11":{"end":{"column":123,"line":30},"start":{"column":4,"line":30}},"12":{"end":{"column":16,"line":33},"start":{"column":4,"line":33}},"13":{"end":{"column":5,"line":42},"start":{"column":4,"line":34}},"14":{"end":{"column":25,"line":37},"start":{"column":6,"line":35}},"15":{"end":{"column":39,"line":41},"start":{"column":6,"line":39}},"16":{"end":{"column":19,"line":43},"start":{"column":4,"line":43}},"17":{"end":{"column":82,"line":46},"start":{"column":4,"line":46}},"18":{"end":{"column":13,"line":49},"start":{"column":4,"line":49}},"19":{"end":{"column":5,"line":60},"start":{"column":4,"line":50}},"20":{"end":{"column":9,"line":57},"start":{"column":6,"line":51}},"21":{"end":{"column":48,"line":59},"start":{"column":6,"line":59}},"22":{"end":{"column":40,"line":64},"start":{"column":0,"line":64}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"20":0,"25":0,"30":0,"33":0,"34":0,"35":0,"39":0,"43":0,"46":0,"49":0,"50":0,"51":0,"59":0,"64":21}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/page.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"branchMap":{"1":{"line":47,"locations":[{"end":{"column":8,"line":47},"start":{"column":8,"line":47}},{"end":{"column":8,"line":47},"start":{"column":8,"line":47}}],"type":"if"},"2":{"line":63,"locations":[{"end":{"column":4,"line":63},"start":{"column":4,"line":63}},{"end":{"column":4,"line":63},"start":{"column":4,"line":63}}],"type":"if"},"3":{"line":72,"locations":[{"end":{"column":4,"line":72},"start":{"column":4,"line":72}},{"end":{"column":4,"line":72},"start":{"column":4,"line":72}}],"type":"if"}},"code":["var ArbitraryHtmlAndMath, BookContentMixin, GetPositionMixin, React, ReferenceBookExerciseActions, ReferenceBookExerciseShell, ReferenceBookExerciseStore, ReferenceBookPageStore, ReferenceBookStore, SpyMode, _, classnames, ref, ref1;","","React = require('react');","","SpyMode = require('openstax-react-components').SpyMode;","","_ = require('underscore');","","classnames = require('classnames');","","BookContentMixin = require('../book-content-mixin').BookContentMixin;","","ref = require('openstax-react-components'), ArbitraryHtmlAndMath = ref.ArbitraryHtmlAndMath, GetPositionMixin = ref.GetPositionMixin;","","ReferenceBookExerciseShell = require('./exercise').ReferenceBookExerciseShell;","","ReferenceBookPageStore = require('../../flux/reference-book-page').ReferenceBookPageStore;","","ReferenceBookStore = require('../../flux/reference-book').ReferenceBookStore;","","ref1 = require('../../flux/reference-book-exercise'), ReferenceBookExerciseActions = ref1.ReferenceBookExerciseActions, ReferenceBookExerciseStore = ref1.ReferenceBookExerciseStore;","","module.exports = React.createClass({","  displayName: 'ReferenceBookPage',","  propTypes: {","    cnxId: React.PropTypes.string.isRequired","  },","  mixins: [BookContentMixin, GetPositionMixin],","  componentWillMount: function() {","    return this.setState({","      skipZeros: false","    });","  },","  getSplashTitle: function() {","    return ReferenceBookStore.getPageTitle(this.props);","  },","  shouldOpenNewTab: function() {","    return true;","  },","  waitToScrollToSelector: function(hash) {","    var i, image, images, imagesToLoad, len, onImageLoad;","    images = this.getDOMNode().querySelectorAll('img');","    imagesToLoad = images.length;","    onImageLoad = (function(_this) {","      return function() {","        imagesToLoad -= 1;","        if (imagesToLoad === 0) {","          return _this.scrollToSelector(hash);","        }","      };","    })(this);","    for (i = 0, len = images.length; i < len; i++) {","      image = images[i];","      image.addEventListener('load', onImageLoad);","    }","    return images.length > 0;","  },","  renderExercises: function(exerciseLinks) {","    var allExercises, multipleUrl;","    ReferenceBookExerciseStore.setMaxListeners(exerciseLinks.length);","    allExercises = _.pluck(exerciseLinks, 'href');","    multipleUrl = ReferenceBookExerciseStore.getMultipleUrl(allExercises);","    if (!ReferenceBookExerciseStore.isLoaded(multipleUrl)) {","      ReferenceBookExerciseActions.load(multipleUrl);","    }","    return _.each(exerciseLinks, this.renderExercise);","  },","  renderExercise: function(link) {","    var exerciseAPIUrl, exerciseNode;","    exerciseAPIUrl = link.href;","    exerciseNode = link.parentNode.parentNode;","    if (exerciseNode != null) {","      return React.render(React.createElement(ReferenceBookExerciseShell, {","        \"exerciseAPIUrl\": exerciseAPIUrl","      }), exerciseNode);","    }","  },","  render: function() {","    var cnxId, courseId, ecosystemId, html, page, ref2;","    ref2 = this.props, courseId = ref2.courseId, cnxId = ref2.cnxId, ecosystemId = ref2.ecosystemId;","    page = ReferenceBookPageStore.get(cnxId);","    html = page.content_html;","    html = html.replace(/^[\\s\\S]*<body[\\s\\S]*?>/, '').replace(/<\\/body>[\\s\\S]*$/, '');","    return React.createElement(\"div\", {","      \"className\": classnames('page-wrapper', this.props.className)","    }, this.props.children, React.createElement(ArbitraryHtmlAndMath, {","      \"className\": 'page center-panel',","      \"block\": true,","      \"html\": html","    }), React.createElement(SpyMode.Content, {","      \"className\": \"ecosystem-info\"","    }, \"PageId: \", this.props.cnxId, \", Ecosystem: \", page.spy));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"line":29,"loc":{"end":{"column":33,"line":29},"start":{"column":22,"line":29}},"name":"(anonymous_1)"},"2":{"line":34,"loc":{"end":{"column":29,"line":34},"start":{"column":18,"line":34}},"name":"(anonymous_2)"},"3":{"line":37,"loc":{"end":{"column":31,"line":37},"start":{"column":20,"line":37}},"name":"(anonymous_3)"},"4":{"line":40,"loc":{"end":{"column":41,"line":40},"start":{"column":26,"line":40}},"name":"(anonymous_4)"},"5":{"line":44,"loc":{"end":{"column":35,"line":44},"start":{"column":19,"line":44}},"name":"(anonymous_5)"},"6":{"line":45,"loc":{"end":{"column":24,"line":45},"start":{"column":13,"line":45}},"name":"(anonymous_6)"},"7":{"line":58,"loc":{"end":{"column":43,"line":58},"start":{"column":19,"line":58}},"name":"(anonymous_7)"},"8":{"line":68,"loc":{"end":{"column":33,"line":68},"start":{"column":18,"line":68}},"name":"(anonymous_8)"},"9":{"line":78,"loc":{"end":{"column":21,"line":78},"start":{"column":10,"line":78}},"name":"(anonymous_9)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/page.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},"statementMap":{"1":{"end":{"column":233,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":55,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":35,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":69,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":133,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":78,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":90,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":77,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":181,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":94},"start":{"column":0,"line":23}},"13":{"end":{"column":7,"line":32},"start":{"column":4,"line":30}},"14":{"end":{"column":55,"line":35},"start":{"column":4,"line":35}},"15":{"end":{"column":16,"line":38},"start":{"column":4,"line":38}},"16":{"end":{"column":57,"line":41},"start":{"column":4,"line":41}},"17":{"end":{"column":55,"line":42},"start":{"column":4,"line":42}},"18":{"end":{"column":33,"line":43},"start":{"column":4,"line":43}},"19":{"end":{"column":13,"line":51},"start":{"column":4,"line":44}},"20":{"end":{"column":8,"line":50},"start":{"column":6,"line":45}},"21":{"end":{"column":26,"line":46},"start":{"column":8,"line":46}},"22":{"end":{"column":9,"line":49},"start":{"column":8,"line":47}},"23":{"end":{"column":46,"line":48},"start":{"column":10,"line":48}},"24":{"end":{"column":5,"line":55},"start":{"column":4,"line":52}},"25":{"end":{"column":24,"line":53},"start":{"column":6,"line":53}},"26":{"end":{"column":50,"line":54},"start":{"column":6,"line":54}},"27":{"end":{"column":29,"line":56},"start":{"column":4,"line":56}},"28":{"end":{"column":34,"line":59},"start":{"column":4,"line":59}},"29":{"end":{"column":69,"line":60},"start":{"column":4,"line":60}},"30":{"end":{"column":50,"line":61},"start":{"column":4,"line":61}},"31":{"end":{"column":74,"line":62},"start":{"column":4,"line":62}},"32":{"end":{"column":5,"line":65},"start":{"column":4,"line":63}},"33":{"end":{"column":53,"line":64},"start":{"column":6,"line":64}},"34":{"end":{"column":54,"line":66},"start":{"column":4,"line":66}},"35":{"end":{"column":37,"line":69},"start":{"column":4,"line":69}},"36":{"end":{"column":31,"line":70},"start":{"column":4,"line":70}},"37":{"end":{"column":46,"line":71},"start":{"column":4,"line":71}},"38":{"end":{"column":5,"line":76},"start":{"column":4,"line":72}},"39":{"end":{"column":24,"line":75},"start":{"column":6,"line":73}},"40":{"end":{"column":55,"line":79},"start":{"column":4,"line":79}},"41":{"end":{"column":100,"line":80},"start":{"column":4,"line":80}},"42":{"end":{"column":45,"line":81},"start":{"column":4,"line":81}},"43":{"end":{"column":29,"line":82},"start":{"column":4,"line":82}},"44":{"end":{"column":86,"line":83},"start":{"column":4,"line":83}},"45":{"end":{"column":65,"line":92},"start":{"column":4,"line":84}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"30":0,"35":0,"38":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"52":0,"53":0,"54":0,"56":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"66":0,"69":0,"70":0,"71":0,"72":0,"73":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/reference-book.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"branchMap":{"1":{"line":46,"locations":[{"end":{"column":27,"line":46},"start":{"column":14,"line":46}},{"end":{"column":109,"line":46},"start":{"column":31,"line":46}}],"type":"binary-expr"},"2":{"line":49,"locations":[{"end":{"column":36,"line":49},"start":{"column":19,"line":49}},{"end":{"column":62,"line":49},"start":{"column":40,"line":49}}],"type":"binary-expr"},"3":{"line":50,"locations":[{"end":{"column":24,"line":50},"start":{"column":13,"line":50}},{"end":{"column":15,"line":53},"start":{"column":28,"line":50}}],"type":"binary-expr"},"4":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"},"5":{"line":73,"locations":[{"end":{"column":110,"line":73},"start":{"column":74,"line":73}},{"end":{"column":119,"line":73},"start":{"column":113,"line":73}}],"type":"cond-expr"},"6":{"line":79,"locations":[{"end":{"column":43,"line":79},"start":{"column":24,"line":79}},{"end":{"column":52,"line":79},"start":{"column":46,"line":79}}],"type":"cond-expr"},"7":{"line":109,"locations":[{"end":{"column":89,"line":109},"start":{"column":69,"line":109}},{"end":{"column":98,"line":109},"start":{"column":92,"line":109}}],"type":"cond-expr"},"8":{"line":118,"locations":[{"end":{"column":89,"line":118},"start":{"column":69,"line":118}},{"end":{"column":98,"line":118},"start":{"column":92,"line":118}}],"type":"cond-expr"}},"code":["var ChapterSectionMixin, MENU_VISIBLE_BREAKPOINT, Menu, NavBar, PageNavigation, PageShell, React, ReferenceBookActions, ReferenceBookStore, ResizeListenerMixin, SpyMode, _, classnames, ref, ref1;","","React = require('react');","","_ = require('underscore');","","classnames = require('classnames');","","SpyMode = require('openstax-react-components').SpyMode;","","ref = require('../../flux/reference-book'), ReferenceBookActions = ref.ReferenceBookActions, ReferenceBookStore = ref.ReferenceBookStore;","","NavBar = require('./navbar');","","Menu = require('./slide-out-menu');","","ref1 = require('openstax-react-components'), ChapterSectionMixin = ref1.ChapterSectionMixin, ResizeListenerMixin = ref1.ResizeListenerMixin;","","PageShell = require('./page-shell');","","PageNavigation = require('./page-navigation');","","MENU_VISIBLE_BREAKPOINT = 1350;","","module.exports = React.createClass({","  displayName: 'ReferenceBook',","  mixins: [ResizeListenerMixin, ChapterSectionMixin],","  propTypes: {","    navbarControls: React.PropTypes.element,","    ecosystemId: React.PropTypes.string.isRequired,","    dataProps: React.PropTypes.object,","    section: React.PropTypes.string,","    cnxId: React.PropTypes.string,","    className: React.PropTypes.string,","    contentComponent: React.PropTypes.func,","    menuRouterLinkTarget: React.PropTypes.string,","    onSectionSelection: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      contentComponent: PageShell","    };","  },","  defaultStateFromProps: function(props) {","    var section;","    section = props.section || this.sectionFormat(ReferenceBookStore.getFirstSection(this.props.ecosystemId));","    return this.setState({","      section: section,","      ecosystemId: props.ecosystemId || this.props.ecosystemId,","      cnxId: props.cnxId || ReferenceBookStore.getChapterSectionPage({","        ecosystemId: this.props.ecosystemId,","        section: section","      }).cnx_id","    });","  },","  componentWillReceiveProps: function(nextProps) {","    return this.defaultStateFromProps(nextProps);","  },","  componentWillMount: function() {","    this.defaultStateFromProps(this.props);","    return this.setState({","      isMenuVisible: !this.isMenuOnTop()","    });","  },","  isMenuOnTop: function() {","    return this.state.windowEl.width < MENU_VISIBLE_BREAKPOINT;","  },","  onMenuClick: function(section, ev) {","    var base;","    if (this.isMenuOnTop()) {","      this.toggleMenuState();","    }","    return typeof (base = this.props).onSectionSelection === \"function\" ? base.onSectionSelection(section, ev) : void 0;","  },","  toggleMenuState: function(ev) {","    this.setState({","      isMenuVisible: !this.state.isMenuVisible","    });","    return ev != null ? ev.preventDefault() : void 0;","  },","  render: function() {","    var className, nav, pageInfo, ref2, ref3;","    className = classnames('reference-book', this.props.className, {","      'menu-open': this.state.isMenuVisible","    });","    pageInfo = ReferenceBookStore.getPageInfo(this.state);","    nav = _.defaults({}, this.props.navigation, {","      next: !!pageInfo.next,","      prev: !!pageInfo.prev","    });","    return React.createElement(\"div\", React.__spread({}, this.props.dataProps, {","      \"className\": className","    }), React.createElement(SpyMode.Wrapper, null, React.createElement(NavBar, {","      \"ecosystemId\": this.props.ecosystemId,","      \"section\": this.state.section,","      \"toggleTocMenu\": this.toggleMenuState,","      \"isMenuVisible\": this.state.isMenuVisible,","      \"extraControls\": this.props.navbarControls","    }), React.createElement(\"div\", {","      \"className\": \"content\"","    }, React.createElement(Menu, React.__spread({}, this.props, {","      \"ecosystemId\": this.props.ecosystemId,","      \"activeSection\": this.state.section,","      \"onMenuSelection\": this.onMenuClick","    })), React.createElement(PageNavigation, React.__spread({","      \"direction\": 'prev'","    }, this.props, {","      \"enabled\": nav.prev,","      \"section\": this.sectionFormat((ref2 = pageInfo.prev) != null ? ref2.chapter_section : void 0)","    })), React.createElement(this.props.contentComponent, {","      \"cnxId\": this.state.cnxId,","      \"section\": this.state.section,","      \"ecosystemId\": this.props.ecosystemId","    }), React.createElement(PageNavigation, React.__spread({","      \"direction\": 'next'","    }, this.props, {","      \"enabled\": nav.next,","      \"section\": this.sectionFormat((ref3 = pageInfo.next) != null ? ref3.chapter_section : void 0)","    })))));","  }","});",""],"f":{"1":21,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"line":39,"loc":{"end":{"column":30,"line":39},"start":{"column":19,"line":39}},"name":"(anonymous_1)"},"2":{"line":44,"loc":{"end":{"column":41,"line":44},"start":{"column":25,"line":44}},"name":"(anonymous_2)"},"3":{"line":56,"loc":{"end":{"column":49,"line":56},"start":{"column":29,"line":56}},"name":"(anonymous_3)"},"4":{"line":59,"loc":{"end":{"column":33,"line":59},"start":{"column":22,"line":59}},"name":"(anonymous_4)"},"5":{"line":65,"loc":{"end":{"column":26,"line":65},"start":{"column":15,"line":65}},"name":"(anonymous_5)"},"6":{"line":68,"loc":{"end":{"column":37,"line":68},"start":{"column":15,"line":68}},"name":"(anonymous_6)"},"7":{"line":75,"loc":{"end":{"column":32,"line":75},"start":{"column":19,"line":75}},"name":"(anonymous_7)"},"8":{"line":81,"loc":{"end":{"column":21,"line":81},"start":{"column":10,"line":81}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/reference-book.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"statementMap":{"1":{"end":{"column":195,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":55,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":137,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":29,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":35,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":140,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":36,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":46,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":31,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":121},"start":{"column":0,"line":25}},"14":{"end":{"column":6,"line":42},"start":{"column":4,"line":40}},"15":{"end":{"column":16,"line":45},"start":{"column":4,"line":45}},"16":{"end":{"column":110,"line":46},"start":{"column":4,"line":46}},"17":{"end":{"column":7,"line":54},"start":{"column":4,"line":47}},"18":{"end":{"column":49,"line":57},"start":{"column":4,"line":57}},"19":{"end":{"column":43,"line":60},"start":{"column":4,"line":60}},"20":{"end":{"column":7,"line":63},"start":{"column":4,"line":61}},"21":{"end":{"column":63,"line":66},"start":{"column":4,"line":66}},"22":{"end":{"column":13,"line":69},"start":{"column":4,"line":69}},"23":{"end":{"column":5,"line":72},"start":{"column":4,"line":70}},"24":{"end":{"column":29,"line":71},"start":{"column":6,"line":71}},"25":{"end":{"column":120,"line":73},"start":{"column":4,"line":73}},"26":{"end":{"column":7,"line":78},"start":{"column":4,"line":76}},"27":{"end":{"column":53,"line":79},"start":{"column":4,"line":79}},"28":{"end":{"column":45,"line":82},"start":{"column":4,"line":82}},"29":{"end":{"column":7,"line":85},"start":{"column":4,"line":83}},"30":{"end":{"column":58,"line":86},"start":{"column":4,"line":86}},"31":{"end":{"column":7,"line":90},"start":{"column":4,"line":87}},"32":{"end":{"column":11,"line":119},"start":{"column":4,"line":91}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"40":21,"45":0,"46":0,"47":0,"57":0,"60":0,"61":0,"66":0,"69":0,"70":0,"71":0,"73":0,"76":0,"79":0,"82":0,"83":0,"86":0,"87":0,"91":0}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/slide-out-menu-toggle.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":17,"locations":[{"end":{"column":5,"line":20},"start":{"column":39,"line":17}},{"end":{"column":5,"line":23},"start":{"column":8,"line":20}}],"type":"cond-expr"}},"code":["var React, SlideOutMenuToggle;","","React = require('react');","","SlideOutMenuToggle = React.createClass({displayName: \"SlideOutMenuToggle\",","  getDefaultProps: function() {","    return {","      height: 28,","      width: 28","    };","  },","  propTypes: {","    isMenuVisible: React.PropTypes.bool.isRequired","  },","  render: function() {","    var transform;","    transform = this.props.isVisible ? {","      triangle: \"translate(0 0)\",","      line: \"scale(1 1) translate(0 0)\"","    } : {","      triangle: \"translate(-30 0)\",","      line: \"scale(2 1) translate(-50 0)\"","    };","    return React.createElement(\"svg\", {","      \"className\": \"slide-out-menu-toggle\",","      \"width\": this.props.width,","      \"height\": this.props.height,","      \"viewBox\": \"0 0 100 100\",","      \"version\": \"1.1\",","      \"xmlns\": \"http://www.w3.org/2000/svg\"","    }, React.createElement(\"g\", {","      \"stroke\": \"none\",","      \"strokeWidth\": \"1\",","      \"fill\": \"none\",","      \"fill-rule\": \"evenodd\"","    }, React.createElement(\"g\", {","      \"id\": \"icon-list-open\"","    }, React.createElement(\"path\", {","      \"id\": \"line1\",","      \"d\": \"M99.961,15.874l0,-13.636c0,-0.615 -0.177,-1.148 -0.531,-1.598c-0.353,-0.45 -0.772,-0.674 -1.255,-0.674l-96.424,0c-0.483,0 -0.902,0.224 -1.255,0.674c-0.354,0.45 -0.53,0.983 -0.53,1.598l0,13.636c0,0.615 0.176,1.148 0.53,1.598c0.353,0.45 0.772,0.674 1.255,0.674l96.424,0c0.483,0 0.902,-0.224 1.255,-0.674c0.354,-0.45 0.531,-0.983 0.531,-1.598Z\"","    }), React.createElement(\"path\", {","      \"id\": \"line2\",","      \"transform\": transform.line,","      \"d\": \"M99.961,43.145l0,-13.635c0,-0.616 -0.177,-1.149 -0.531,-1.598c-0.353,-0.45 -0.772,-0.675 -1.255,-0.675l-60.711,0c-0.484,0 -0.902,0.225 -1.256,0.675c-0.353,0.449 -0.53,0.982 -0.53,1.598l0,13.635c0,0.616 0.177,1.148 0.53,1.598c0.354,0.45 0.772,0.675 1.256,0.675l60.711,0c0.483,0 0.902,-0.225 1.255,-0.675c0.354,-0.45 0.531,-0.982 0.531,-1.598Z\"","    }), React.createElement(\"path\", {","      \"id\": \"line3\",","      \"transform\": transform.line,","      \"d\": \"M99.961,70.417l0,-13.636c0,-0.616 -0.177,-1.148 -0.531,-1.598c-0.353,-0.45 -0.772,-0.675 -1.255,-0.675l-60.711,0c-0.484,0 -0.902,0.225 -1.256,0.675c-0.353,0.45 -0.53,0.982 -0.53,1.598l0,13.636c0,0.615 0.177,1.148 0.53,1.597c0.354,0.45 0.772,0.675 1.256,0.675l60.711,0c0.483,0 0.902,-0.225 1.255,-0.675c0.354,-0.449 0.531,-0.982 0.531,-1.597Z\"","    }), React.createElement(\"path\", {","      \"id\": \"line4\",","      \"d\": \"M99.961,97.688l0,-13.636c0,-0.615 -0.177,-1.148 -0.531,-1.598c-0.353,-0.45 -0.772,-0.674 -1.255,-0.674l-96.424,0c-0.483,0 -0.902,0.224 -1.255,0.674c-0.354,0.45 -0.53,0.983 -0.53,1.598l0,13.636c0,0.615 0.176,1.148 0.53,1.598c0.353,0.45 0.772,0.675 1.255,0.675l96.424,0c0.483,0 0.902,-0.225 1.255,-0.675c0.354,-0.45 0.531,-0.983 0.531,-1.598Z\"","    }), React.createElement(\"path\", {","      \"id\": \"triangle\",","      \"transform\": transform.triangle,","      \"d\": \"M21.393,70.417l0,-40.907c0,-0.616 -0.177,-1.149 -0.53,-1.598c-0.353,-0.45 -0.772,-0.675 -1.256,-0.675c-0.52,0 -0.948,0.213 -1.283,0.639l-16.071,20.454c-0.334,0.426 -0.502,0.97 -0.502,1.633c0,0.663 0.168,1.207 0.502,1.633l16.071,20.454c0.335,0.426 0.763,0.639 1.283,0.639c0.484,0 0.903,-0.225 1.256,-0.675c0.353,-0.449 0.53,-0.982 0.53,-1.597Z\"","    }))));","  }","});","","module.exports = SlideOutMenuToggle;",""],"f":{"1":21,"2":0},"fnMap":{"1":{"line":6,"loc":{"end":{"column":30,"line":6},"start":{"column":19,"line":6}},"name":"(anonymous_1)"},"2":{"line":15,"loc":{"end":{"column":21,"line":15},"start":{"column":10,"line":15}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/slide-out-menu-toggle.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":0,"6":0,"7":0,"8":21},"statementMap":{"1":{"end":{"column":30,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":58},"start":{"column":0,"line":5}},"4":{"end":{"column":6,"line":10},"start":{"column":4,"line":7}},"5":{"end":{"column":18,"line":16},"start":{"column":4,"line":16}},"6":{"end":{"column":6,"line":23},"start":{"column":4,"line":17}},"7":{"end":{"column":10,"line":56},"start":{"column":4,"line":24}},"8":{"end":{"column":36,"line":60},"start":{"column":0,"line":60}}},"l":{"1":21,"3":21,"5":21,"7":21,"16":0,"17":0,"24":0,"60":21}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/slide-out-menu.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":35,"locations":[{"end":{"column":52,"line":35},"start":{"column":44,"line":35}},{"end":{"column":57,"line":35},"start":{"column":55,"line":35}}],"type":"cond-expr"},"2":{"line":89,"locations":[{"end":{"column":4,"line":89},"start":{"column":4,"line":89}},{"end":{"column":4,"line":89},"start":{"column":4,"line":89}}],"type":"if"},"3":{"line":95,"locations":[{"end":{"column":4,"line":95},"start":{"column":4,"line":95}},{"end":{"column":4,"line":95},"start":{"column":4,"line":95}}],"type":"if"},"4":{"line":100,"locations":[{"end":{"column":4,"line":100},"start":{"column":4,"line":100}},{"end":{"column":4,"line":100},"start":{"column":4,"line":100}}],"type":"if"},"5":{"line":100,"locations":[{"end":{"column":17,"line":100},"start":{"column":8,"line":100}},{"end":{"column":31,"line":100},"start":{"column":21,"line":100}}],"type":"binary-expr"}},"code":["var ChapterSectionMixin, React, ReferenceBookActions, ReferenceBookStore, Router, Section, _, ref;","","React = require('react');","","Router = require('react-router');","","_ = require('underscore');","","ref = require('../../flux/reference-book'), ReferenceBookActions = ref.ReferenceBookActions, ReferenceBookStore = ref.ReferenceBookStore;","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","Section = React.createClass({","  displayName: 'ReferenceBookTocSection',","  mixins: [ChapterSectionMixin],","  propTypes: {","    ecosystemId: React.PropTypes.string.isRequired,","    section: React.PropTypes.object.isRequired,","    activeSection: React.PropTypes.string.isRequired,","    onMenuSelection: React.PropTypes.func.isRequired,","    menuRouterLinkTarget: React.PropTypes.string.isRequired","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  componentWillMount: function() {","    return this.setState({","      skipZeros: false","    });","  },","  render: function() {","    var activeSection, className, params, section;","    activeSection = this.props.activeSection;","    section = this.sectionFormat(this.props.section.chapter_section);","    className = section === activeSection ? 'active' : '';","    params = _.extend({","      ecosystemId: this.props.ecosystemId","    }, this.context.router.getCurrentParams(), {","      section: section","    });","    return React.createElement(\"ul\", {","      \"className\": \"section\",","      \"data-depth\": this.props.section.chapter_section.length","    }, React.createElement(\"li\", {","      \"data-section\": section","    }, React.createElement(Router.Link, {","      \"params\": params,","      \"className\": className,","      \"onClick\": _.partial(this.props.onMenuSelection, section),","      \"to\": this.props.menuRouterLinkTarget,","      \"query\": this.context.router.getCurrentQuery()","    }, React.createElement(\"span\", {","      \"className\": \"section-number\"","    }, section), this.props.section.title)), _.map(this.props.section.children, (function(_this) {","      return function(child) {","        return React.createElement(\"li\", {","          \"key\": child.id,","          \"data-section\": _this.sectionFormat(child.chapter_section)","        }, React.createElement(Section, React.__spread({}, _this.props, {","          \"activeSection\": activeSection,","          \"section\": child","        })));","      };","    })(this)));","  }","});","","module.exports = React.createClass({","  displayName: 'ReferenceBookTOC',","  mixins: [ChapterSectionMixin],","  propTypes: {","    onMenuSelection: React.PropTypes.func.isRequired,","    activeSection: React.PropTypes.string.isRequired","  },","  componentWillMount: function() {","    return this.setState({","      skipZeros: false","    });","  },","  componentDidMount: function() {","    return this.scrollSelectionIntoView();","  },","  componentDidUpdate: function() {","    return this.scrollSelectionIntoView();","  },","  scrollSelectionIntoView: function() {","    var beforeTop, li, pastBottom, root, section;","    section = this.props.section;","    if (!section) {","      return;","    }","    section = this.sectionFormat(section);","    root = React.findDOMNode(this);","    li = root.querySelector(\"[data-section='\" + section + \"']\");","    if (!li) {","      return;","    }","    beforeTop = li.offsetTop - root.offsetTop < root.scrollTop;","    pastBottom = (li.offsetTop - root.offsetTop + li.clientHeight) > (root.scrollTop + root.clientHeight);","    if (beforeTop || pastBottom) {","      return li.scrollIntoView();","    }","  },","  render: function() {","    var activeSection, ecosystemId, query, ref1, toc;","    ref1 = this.props, activeSection = ref1.activeSection, ecosystemId = ref1.ecosystemId, query = ref1.query;","    toc = ReferenceBookStore.getToc(ecosystemId);","    return React.createElement(\"div\", {","      \"className\": \"menu\"","    }, _.map(toc.children, (function(_this) {","      return function(child) {","        return React.createElement(Section, React.__spread({}, _this.props, {","          \"query\": query,","          \"activeSection\": activeSection,","          \"key\": child.id,","          \"section\": child","        }));","      };","    })(this)));","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"line":26,"loc":{"end":{"column":33,"line":26},"start":{"column":22,"line":26}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":21,"line":31},"start":{"column":10,"line":31}},"name":"(anonymous_2)"},"3":{"line":54,"loc":{"end":{"column":97,"line":54},"start":{"column":81,"line":54}},"name":"(anonymous_3)"},"4":{"line":55,"loc":{"end":{"column":29,"line":55},"start":{"column":13,"line":55}},"name":"(anonymous_4)"},"5":{"line":75,"loc":{"end":{"column":33,"line":75},"start":{"column":22,"line":75}},"name":"(anonymous_5)"},"6":{"line":80,"loc":{"end":{"column":32,"line":80},"start":{"column":21,"line":80}},"name":"(anonymous_6)"},"7":{"line":83,"loc":{"end":{"column":33,"line":83},"start":{"column":22,"line":83}},"name":"(anonymous_7)"},"8":{"line":86,"loc":{"end":{"column":38,"line":86},"start":{"column":27,"line":86}},"name":"(anonymous_8)"},"9":{"line":104,"loc":{"end":{"column":21,"line":104},"start":{"column":10,"line":104}},"name":"(anonymous_9)"},"10":{"line":110,"loc":{"end":{"column":44,"line":110},"start":{"column":28,"line":110}},"name":"(anonymous_10)"},"11":{"line":111,"loc":{"end":{"column":29,"line":111},"start":{"column":13,"line":111}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/slide-out-menu.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":21,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},"statementMap":{"1":{"end":{"column":98,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":137,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":79,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":66},"start":{"column":0,"line":13}},"8":{"end":{"column":7,"line":29},"start":{"column":4,"line":27}},"9":{"end":{"column":50,"line":32},"start":{"column":4,"line":32}},"10":{"end":{"column":45,"line":33},"start":{"column":4,"line":33}},"11":{"end":{"column":69,"line":34},"start":{"column":4,"line":34}},"12":{"end":{"column":58,"line":35},"start":{"column":4,"line":35}},"13":{"end":{"column":7,"line":40},"start":{"column":4,"line":36}},"14":{"end":{"column":15,"line":64},"start":{"column":4,"line":41}},"15":{"end":{"column":8,"line":63},"start":{"column":6,"line":55}},"16":{"end":{"column":13,"line":62},"start":{"column":8,"line":56}},"17":{"end":{"column":3,"line":121},"start":{"column":0,"line":68}},"18":{"end":{"column":7,"line":78},"start":{"column":4,"line":76}},"19":{"end":{"column":42,"line":81},"start":{"column":4,"line":81}},"20":{"end":{"column":42,"line":84},"start":{"column":4,"line":84}},"21":{"end":{"column":49,"line":87},"start":{"column":4,"line":87}},"22":{"end":{"column":33,"line":88},"start":{"column":4,"line":88}},"23":{"end":{"column":5,"line":91},"start":{"column":4,"line":89}},"24":{"end":{"column":13,"line":90},"start":{"column":6,"line":90}},"25":{"end":{"column":42,"line":92},"start":{"column":4,"line":92}},"26":{"end":{"column":35,"line":93},"start":{"column":4,"line":93}},"27":{"end":{"column":64,"line":94},"start":{"column":4,"line":94}},"28":{"end":{"column":5,"line":97},"start":{"column":4,"line":95}},"29":{"end":{"column":13,"line":96},"start":{"column":6,"line":96}},"30":{"end":{"column":63,"line":98},"start":{"column":4,"line":98}},"31":{"end":{"column":106,"line":99},"start":{"column":4,"line":99}},"32":{"end":{"column":5,"line":102},"start":{"column":4,"line":100}},"33":{"end":{"column":33,"line":101},"start":{"column":6,"line":101}},"34":{"end":{"column":53,"line":105},"start":{"column":4,"line":105}},"35":{"end":{"column":110,"line":106},"start":{"column":4,"line":106}},"36":{"end":{"column":49,"line":107},"start":{"column":4,"line":107}},"37":{"end":{"column":15,"line":119},"start":{"column":4,"line":108}},"38":{"end":{"column":8,"line":118},"start":{"column":6,"line":111}},"39":{"end":{"column":12,"line":117},"start":{"column":8,"line":112}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"27":0,"32":0,"33":0,"34":0,"35":0,"36":0,"41":0,"55":0,"56":0,"68":21,"76":0,"81":0,"84":0,"87":0,"88":0,"89":0,"90":0,"92":0,"93":0,"94":0,"95":0,"96":0,"98":0,"99":0,"100":0,"101":0,"105":0,"106":0,"107":0,"108":0,"111":0,"112":0}},
"/Users/phil/github/openstax/tutor-js/src/components/reference-book/teacher-content-toggle.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":17,"locations":[{"end":{"column":67,"line":17},"start":{"column":45,"line":17}},{"end":{"column":92,"line":17},"start":{"column":70,"line":17}}],"type":"cond-expr"}},"code":["var BS, React, TeacherContentToggle;","","React = require('react');","","BS = require('react-bootstrap');","","TeacherContentToggle = React.createClass({displayName: \"TeacherContentToggle\",","  propTypes: {","    onChange: React.PropTypes.func.isRequired,","    isShowing: React.PropTypes.bool.isRequired","  },","  onClick: function() {","    return this.props.onChange(!this.props.isShowing);","  },","  render: function() {","    var teacherLinkText;","    teacherLinkText = this.props.isShowing ? 'Hide Teacher Edition' : 'Show Teacher Edition';","    return React.createElement(BS.NavItem, {","      \"className\": 'teacher-edition',","      \"onClick\": this.onClick","    }, teacherLinkText);","  }","});","","module.exports = TeacherContentToggle;",""],"f":{"1":0,"2":0},"fnMap":{"1":{"line":12,"loc":{"end":{"column":22,"line":12},"start":{"column":11,"line":12}},"name":"(anonymous_1)"},"2":{"line":15,"loc":{"end":{"column":21,"line":15},"start":{"column":10,"line":15}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/reference-book/teacher-content-toggle.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":0,"6":0,"7":0,"8":0,"9":21},"statementMap":{"1":{"end":{"column":36,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":23},"start":{"column":0,"line":7}},"5":{"end":{"column":54,"line":13},"start":{"column":4,"line":13}},"6":{"end":{"column":24,"line":16},"start":{"column":4,"line":16}},"7":{"end":{"column":93,"line":17},"start":{"column":4,"line":17}},"8":{"end":{"column":24,"line":21},"start":{"column":4,"line":18}},"9":{"end":{"column":38,"line":25},"start":{"column":0,"line":25}}},"l":{"1":21,"3":21,"5":21,"7":21,"13":0,"16":0,"17":0,"18":0,"25":21}},
"/Users/phil/github/openstax/tutor-js/src/components/root.cjsx":{"b":{},"branchMap":{},"code":["var React, Router;","","React = require('react');","","Router = require('react-router');","","module.exports = React.createClass({","  displayName: 'Root',","  render: function() {","    return React.createElement(\"div\", null, React.createElement(Router.RouteHandler, null));","  }","});",""],"f":{"1":0},"fnMap":{"1":{"line":9,"loc":{"end":{"column":21,"line":9},"start":{"column":10,"line":9}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/root.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":0},"statementMap":{"1":{"end":{"column":18,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":12},"start":{"column":0,"line":7}},"5":{"end":{"column":92,"line":10},"start":{"column":4,"line":10}}},"l":{"1":21,"3":21,"5":21,"7":21,"10":0}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/absent-cell.cjsx":{"b":{},"branchMap":{},"code":["var React;","","React = require('react');","","module.exports = React.createClass({","  displayName: 'AbsentCell',","  render: function() {","    return React.createElement(\"span\", null);","  }","});",""],"f":{"1":0},"fnMap":{"1":{"line":7,"loc":{"end":{"column":21,"line":7},"start":{"column":10,"line":7}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/absent-cell.cjsx","s":{"1":21,"2":21,"3":21,"4":0},"statementMap":{"1":{"end":{"column":10,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":10},"start":{"column":0,"line":5}},"4":{"end":{"column":45,"line":8},"start":{"column":4,"line":8}}},"l":{"1":21,"3":21,"5":21,"8":0}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/cc-table-filters.cjsx":{"b":{"1":[34,34]},"branchMap":{"1":{"line":25,"locations":[{"end":{"column":4,"line":25},"start":{"column":4,"line":25}},{"end":{"column":4,"line":25},"start":{"column":4,"line":25}}],"type":"if"}},"code":["var BS, React, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","module.exports = React.createClass({","  displayName: 'CCTableFilters',","  propTypes: {","    displayAs: React.PropTypes.string.isRequired,","    basedOn: React.PropTypes.string.isRequired,","    changeDisplayAs: React.PropTypes.func.isRequired,","    changeBasedOn: React.PropTypes.func.isRequired","  },","  clickDisplay: function(mode) {","    return this.props.changeDisplayAs(mode);","  },","  clickScore: function(mode) {","    return this.props.changeBasedOn(mode);","  },","  activeButton: function(state, option) {","    var style;","    if (state === option) {","      return style = 'primary';","    } else {","      return style = 'default';","    }","  },","  renderButtons: function(method, state, options) {","    var i, j, len, option, results;","    results = [];","    for (i = j = 0, len = options.length; j < len; i = ++j) {","      option = options[i];","      results.push(React.createElement(BS.Button, {","        \"onClick\": method.bind(this, option),","        \"bsStyle\": this.activeButton(state, option),","        \"bsSize\": \"small\",","        \"key\": i","      }, option));","    }","    return results;","  },","  render: function() {","    var basedOn, displayAs, ref;","    ref = this.props, displayAs = ref.displayAs, basedOn = ref.basedOn;","    return React.createElement(\"div\", {","      \"className\": 'filter-row'","    }, React.createElement(\"div\", {","      \"className\": 'filter-item'","    }, React.createElement(\"div\", {","      \"className\": 'filter-label'","    }, \"Display as\"), React.createElement(BS.ButtonGroup, {","      \"className\": 'filter-group'","    }, this.renderButtons(this.clickDisplay, displayAs, ['percentage', 'number']))), React.createElement(\"div\", {","      \"className\": 'filter-item'","    }, React.createElement(\"div\", {","      \"className\": 'filter-label'","    }, \"Score based on\"), React.createElement(BS.ButtonGroup, {","      \"className\": 'filter-group'","    }, this.renderButtons(this.clickScore, basedOn, ['possible', 'attempted']))));","  }","});",""],"f":{"1":0,"2":0,"3":68,"4":34,"5":17},"fnMap":{"1":{"line":17,"loc":{"end":{"column":31,"line":17},"start":{"column":16,"line":17}},"name":"(anonymous_1)"},"2":{"line":20,"loc":{"end":{"column":29,"line":20},"start":{"column":14,"line":20}},"name":"(anonymous_2)"},"3":{"line":23,"loc":{"end":{"column":40,"line":23},"start":{"column":16,"line":23}},"name":"(anonymous_3)"},"4":{"line":31,"loc":{"end":{"column":50,"line":31},"start":{"column":17,"line":31}},"name":"(anonymous_4)"},"5":{"line":45,"loc":{"end":{"column":21,"line":45},"start":{"column":10,"line":45}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/cc-table-filters.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":68,"9":68,"10":34,"11":34,"12":34,"13":34,"14":34,"15":68,"16":68,"17":34,"18":17,"19":17,"20":17},"statementMap":{"1":{"end":{"column":17,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":64},"start":{"column":0,"line":9}},"6":{"end":{"column":44,"line":18},"start":{"column":4,"line":18}},"7":{"end":{"column":42,"line":21},"start":{"column":4,"line":21}},"8":{"end":{"column":14,"line":24},"start":{"column":4,"line":24}},"9":{"end":{"column":5,"line":29},"start":{"column":4,"line":25}},"10":{"end":{"column":31,"line":26},"start":{"column":6,"line":26}},"11":{"end":{"column":31,"line":28},"start":{"column":6,"line":28}},"12":{"end":{"column":35,"line":32},"start":{"column":4,"line":32}},"13":{"end":{"column":17,"line":33},"start":{"column":4,"line":33}},"14":{"end":{"column":5,"line":42},"start":{"column":4,"line":34}},"15":{"end":{"column":26,"line":35},"start":{"column":6,"line":35}},"16":{"end":{"column":18,"line":41},"start":{"column":6,"line":36}},"17":{"end":{"column":19,"line":43},"start":{"column":4,"line":43}},"18":{"end":{"column":32,"line":46},"start":{"column":4,"line":46}},"19":{"end":{"column":71,"line":47},"start":{"column":4,"line":47}},"20":{"end":{"column":82,"line":62},"start":{"column":4,"line":48}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"18":0,"21":0,"24":68,"25":68,"26":34,"28":34,"32":34,"33":34,"34":34,"35":68,"36":68,"43":34,"46":17,"47":17,"48":17}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/cell-status-mixin.cjsx":{"b":{},"branchMap":{},"code":["var LateIcon, React, Router, TaskHelper;","","React = require('react');","","Router = require('react-router');","","LateIcon = require('../late-icon');","","TaskHelper = require('../../helpers/task');","","module.exports = {","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    task: React.PropTypes.shape({","      status: React.PropTypes.string,","      due_at: React.PropTypes.string,","      last_worked_at: React.PropTypes.string,","      type: React.PropTypes.string","    }).isRequired","  },","  renderLink: function(arg) {","    var message;","    message = arg.message;","    return React.createElement(Router.Link, {","      \"className\": \"task-result scores-cell \" + this.props.className,","      \"to\": 'viewTaskStep',","      \"data-assignment-type\": \"\" + this.props.task.type,","      \"params\": {","        courseId: this.props.courseId,","        id: this.props.task.id,","        stepIndex: 1","      }","    }, React.createElement(\"span\", null, message), React.createElement(LateIcon, React.__spread({}, this.props)));","  }","};",""],"f":{"1":847},"fnMap":{"1":{"line":21,"loc":{"end":{"column":28,"line":21},"start":{"column":14,"line":21}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/cell-status-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":847,"8":847,"9":847},"statementMap":{"1":{"end":{"column":40,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":43,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":35},"start":{"column":0,"line":11}},"7":{"end":{"column":16,"line":22},"start":{"column":4,"line":22}},"8":{"end":{"column":26,"line":23},"start":{"column":4,"line":23}},"9":{"end":{"column":114,"line":33},"start":{"column":4,"line":24}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"22":847,"23":847,"24":847}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/concept-coach-cell.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":35,"locations":[{"end":{"column":124,"line":35},"start":{"column":44,"line":35}},{"end":{"column":141,"line":35},"start":{"column":127,"line":35}}],"type":"cond-expr"}},"code":["var BS, CellStatusMixin, ConceptCoachCell, PieProgress, React, Router, Time;","","React = require('react');","","Router = require('react-router');","","BS = require('react-bootstrap');","","Time = require('../time');","","CellStatusMixin = require('./cell-status-mixin');","","PieProgress = require('./pie-progress');","","ConceptCoachCell = React.createClass({displayName: \"ConceptCoachCell\",","  mixins: [CellStatusMixin],","  render: function() {","    var pieValue, tooltip;","    pieValue = Math.round((this.props.task.correct_exercise_count / this.props.task.exercise_count) * 100);","    tooltip = React.createElement(BS.Tooltip, null, React.createElement(\"div\", null, \"Date Last Worked: \", React.createElement(Time, {","      \"format\": 'MMM. D',","      \"date\": this.props.task.last_worked_at","    })));","    return React.createElement(\"div\", {","      \"className\": \"cc-cell\"","    }, React.createElement(Router.Link, {","      \"className\": \"score\",","      \"to\": 'viewTaskStep',","      \"data-assignment-type\": \"\" + this.props.task.type,","      \"params\": {","        courseId: this.props.courseId,","        id: this.props.task.id,","        stepIndex: 1","      }","    }, (this.props.displayAs === 'number' ? this.props.task.correct_exercise_count + \" of \" + this.props.task.exercise_count : pieValue + \"%\")), React.createElement(BS.OverlayTrigger, {","      \"placement\": 'top',","      \"delayShow\": 1000.,","      \"delayHide\": 0.,","      \"overlay\": tooltip","    }, React.createElement(\"div\", {","      \"className\": \"worked\"","    }, React.createElement(PieProgress, {","      \"size\": 24.,","      \"value\": pieValue,","      \"roundToQuarters\": true","    }))));","  }","});","","module.exports = ConceptCoachCell;",""],"f":{"1":0},"fnMap":{"1":{"line":17,"loc":{"end":{"column":21,"line":17},"start":{"column":10,"line":17}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/concept-coach-cell.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":21},"statementMap":{"1":{"end":{"column":76,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":49,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":48},"start":{"column":0,"line":15}},"9":{"end":{"column":26,"line":18},"start":{"column":4,"line":18}},"10":{"end":{"column":107,"line":19},"start":{"column":4,"line":19}},"11":{"end":{"column":9,"line":23},"start":{"column":4,"line":20}},"12":{"end":{"column":10,"line":46},"start":{"column":4,"line":24}},"13":{"end":{"column":34,"line":50},"start":{"column":0,"line":50}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"18":0,"19":0,"20":0,"24":0,"50":21}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/export.cjsx":{"b":{"1":[0,60],"2":[60,0,0,0],"3":[0,0],"4":[9,0],"5":[9,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,75],"13":[75,75],"14":[75,75],"15":[0,75],"16":[0,75],"17":[75,0]},"branchMap":{"1":{"line":46,"locations":[{"end":{"column":4,"line":46},"start":{"column":4,"line":46}},{"end":{"column":4,"line":46},"start":{"column":4,"line":46}}],"type":"if"},"2":{"line":53,"locations":[{"end":{"column":34,"line":53},"start":{"column":11,"line":53}},{"end":{"column":65,"line":53},"start":{"column":38,"line":53}},{"end":{"column":99,"line":53},"start":{"column":69,"line":53}},{"end":{"column":136,"line":53},"start":{"column":104,"line":53}}],"type":"binary-expr"},"3":{"line":58,"locations":[{"end":{"column":4,"line":58},"start":{"column":4,"line":58}},{"end":{"column":4,"line":58},"start":{"column":4,"line":58}}],"type":"if"},"4":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"5":{"line":69,"locations":[{"end":{"column":6,"line":69},"start":{"column":6,"line":69}},{"end":{"column":6,"line":69},"start":{"column":6,"line":69}}],"type":"if"},"6":{"line":76,"locations":[{"end":{"column":6,"line":76},"start":{"column":6,"line":76}},{"end":{"column":6,"line":76},"start":{"column":6,"line":76}}],"type":"if"},"7":{"line":84,"locations":[{"end":{"column":33,"line":84},"start":{"column":11,"line":84}},{"end":{"column":64,"line":84},"start":{"column":37,"line":84}}],"type":"binary-expr"},"8":{"line":102,"locations":[{"end":{"column":8,"line":102},"start":{"column":8,"line":102}},{"end":{"column":8,"line":102},"start":{"column":8,"line":102}}],"type":"if"},"9":{"line":103,"locations":[{"end":{"column":10,"line":103},"start":{"column":10,"line":103}},{"end":{"column":10,"line":103},"start":{"column":10,"line":103}}],"type":"if"},"10":{"line":106,"locations":[{"end":{"column":10,"line":106},"start":{"column":10,"line":106}},{"end":{"column":10,"line":106},"start":{"column":10,"line":106}}],"type":"if"},"11":{"line":127,"locations":[{"end":{"column":4,"line":127},"start":{"column":4,"line":127}},{"end":{"column":4,"line":127},"start":{"column":4,"line":127}}],"type":"if"},"12":{"line":167,"locations":[{"end":{"column":4,"line":167},"start":{"column":4,"line":167}},{"end":{"column":4,"line":167},"start":{"column":4,"line":167}}],"type":"if"},"13":{"line":178,"locations":[{"end":{"column":58,"line":178},"start":{"column":19,"line":178}},{"end":{"column":75,"line":178},"start":{"column":62,"line":178}}],"type":"binary-expr"},"14":{"line":179,"locations":[{"end":{"column":54,"line":179},"start":{"column":18,"line":179}},{"end":{"column":74,"line":179},"start":{"column":58,"line":179}}],"type":"binary-expr"},"15":{"line":184,"locations":[{"end":{"column":4,"line":184},"start":{"column":4,"line":184}},{"end":{"column":4,"line":184},"start":{"column":4,"line":184}}],"type":"if"},"16":{"line":191,"locations":[{"end":{"column":4,"line":191},"start":{"column":4,"line":191}},{"end":{"column":4,"line":191},"start":{"column":4,"line":191}}],"type":"if"},"17":{"line":191,"locations":[{"end":{"column":29,"line":191},"start":{"column":9,"line":191}},{"end":{"column":51,"line":191},"start":{"column":34,"line":191}}],"type":"binary-expr"}},"code":["var AsyncButton, BS, BindStoreMixin, React, ScoresExport, ScoresExportActions, ScoresExportStore, TimeDifference, mime, ref;","","BS = require('react-bootstrap');","","React = require('react');","","mime = require('mime-types');","","BindStoreMixin = require('../bind-store-mixin');","","AsyncButton = require('openstax-react-components').AsyncButton;","","TimeDifference = require('../time-difference');","","ref = require('../../flux/scores-export'), ScoresExportStore = ref.ScoresExportStore, ScoresExportActions = ref.ScoresExportActions;","","ScoresExport = React.createClass({","  displayName: 'ScoresExport',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    className: React.PropTypes.string","  },","  mixins: [BindStoreMixin],","  bindStore: ScoresExportStore,","  getInitialState: function() {","    return {","      downloadUrl: null,","      forceDownloadUrl: null,","      lastExported: null,","      tryToDownload: false,","      downloadedSinceLoad: false,","      downloadHasError: false","    };","  },","  isUpdateValid: function(id) {","    var courseId;","    courseId = this.props.courseId;","    return id === courseId;","  },","  componentWillMount: function() {","    var courseId;","    courseId = this.props.courseId;","    return ScoresExportActions.load(courseId);","  },","  componentDidUpdate: function(prevProps, prevState) {","    if (this.shouldTriggerDownload(prevState, this.state)) {","      return this.setState({","        forceDownloadUrl: this.state.downloadUrl","      });","    }","  },","  shouldTriggerDownload: function(prevState, currentState) {","    return prevState.tryToDownload && !currentState.tryToDownload && !currentState.downloadHasError && (currentState.downloadUrl != null);","  },","  handleCompletedExport: function(exportData) {","    var courseId;","    courseId = this.props.courseId;","    if (this.isUpdateValid(exportData[\"for\"])) {","      ScoresExportActions.load(courseId);","      return this.setState({","        tryToDownload: true","      });","    }","  },","  handleLoadedExport: function(id) {","    var exportState, lastExport;","    if (this.isUpdateValid(id)) {","      lastExport = ScoresExportStore.getLatestExport(id);","      if (lastExport == null) {","        return;","      }","      exportState = {","        downloadUrl: lastExport.url,","        lastExported: lastExport.created_at","      };","      if (this.state.tryToDownload) {","        return this.validateDownloadURL(exportState);","      } else {","        return this.setState(exportState);","      }","    }","  },","  isRequestOK: function(request) {","    return request.status === 200 && request.statusText === 'OK';","  },","  validateDownloadURL: function(arg) {","    var cancelDownload, downloadUrl, downloadUrlChecker, lastExported, triggerDownload;","    downloadUrl = arg.downloadUrl, lastExported = arg.lastExported;","    downloadUrlChecker = new XMLHttpRequest();","    downloadUrlChecker.open('GET', downloadUrl, true);","    cancelDownload = this.cancelDownload.bind(this, {","      downloadUrl: downloadUrl,","      lastExported: lastExported","    });","    triggerDownload = this.triggerDownload.bind(this, {","      downloadUrl: downloadUrl,","      lastExported: lastExported","    });","    downloadUrlChecker.onreadystatechange = (function(_this) {","      return function() {","        var contentType;","        if (downloadUrlChecker.readyState === 2) {","          if (_this.isRequestOK(downloadUrlChecker)) {","            contentType = downloadUrlChecker.getResponseHeader('Content-Type');","          }","          if (contentType === mime.contentType('.xlsx')) {","            return triggerDownload();","          } else {","            return cancelDownload();","          }","        }","      };","    })(this);","    downloadUrlChecker.onabort = cancelDownload;","    downloadUrlChecker.onerror = cancelDownload;","    downloadUrlChecker.timeout = cancelDownload;","    return downloadUrlChecker.send();","  },","  cancelDownload: function(arg) {","    var downloadUrl, invalidDownloadState;","    downloadUrl = arg.downloadUrl;","    invalidDownloadState = {","      tryToDownload: false,","      downloadHasError: true,","      forceDownloadUrl: null","    };","    if (this.state.downloadUrl === downloadUrl) {","      invalidDownloadState.downloadUrl = null;","    }","    return this.setState(invalidDownloadState);","  },","  triggerDownload: function(arg) {","    var downloadState, downloadUrl, lastExported;","    downloadUrl = arg.downloadUrl, lastExported = arg.lastExported;","    downloadState = {","      tryToDownload: false,","      downloadUrl: downloadUrl,","      lastExported: lastExported,","      forceDownloadUrl: null","    };","    return this.setState(downloadState);","  },","  downloadCurrentExport: function() {","    return this.setState({","      tryToDownload: true,","      downloadedSinceLoad: true","    });","  },","  addBindListener: function() {","    var courseId;","    courseId = this.props.courseId;","    ScoresExportStore.on(\"progress.\" + courseId + \".succeeded\", this.handleCompletedExport);","    return ScoresExportStore.on('loaded', this.handleLoadedExport);","  },","  removeBindListener: function() {","    var courseId;","    courseId = this.props.courseId;","    ScoresExportStore.off(\"progress.\" + courseId + \".succeeded\", this.handleCompletedExport);","    return ScoresExportStore.off('loaded', this.handleLoadedExport);","  },","  render: function() {","    var actionButton, actionButtonClass, className, courseId, downloadHasError, downloadUrl, downloadedSinceLoad, failedProps, forceDownloadUrl, lastExported, lastExportedLabel, lastExportedTime, ref1, ref2, tryToDownload;","    ref1 = this.props, courseId = ref1.courseId, className = ref1.className;","    ref2 = this.state, downloadUrl = ref2.downloadUrl, lastExported = ref2.lastExported, downloadedSinceLoad = ref2.downloadedSinceLoad, downloadHasError = ref2.downloadHasError, tryToDownload = ref2.tryToDownload, forceDownloadUrl = ref2.forceDownloadUrl;","    className += ' export-button';","    actionButtonClass = 'primary';","    if (downloadedSinceLoad) {","      actionButtonClass = 'default';","    }","    failedProps = {","      beforeText: 'There was a problem exporting. '","    };","    actionButton = React.createElement(AsyncButton, {","      \"bsStyle\": actionButtonClass,","      \"onClick\": (function() {","        return ScoresExportActions[\"export\"](courseId);","      }),","      \"isWaiting\": ScoresExportStore.isExporting(courseId) || tryToDownload,","      \"isFailed\": ScoresExportStore.isFailed(courseId) || downloadHasError,","      \"failedProps\": failedProps,","      \"isJob\": true,","      \"waitingText\": 'Generating Export…'","    }, \"Generate Export\");","    if (forceDownloadUrl != null) {","      actionButton = React.createElement(BS.Button, {","        \"bsStyle\": actionButtonClass,","        \"href\": forceDownloadUrl,","        \"onClick\": this.downloadCurrentExport","      }, \"Download Export\");","    }","    if ((lastExported != null) && !downloadHasError) {","      lastExportedTime = React.createElement(\"i\", null, React.createElement(TimeDifference, {","        \"date\": lastExported","      }));","      lastExportedLabel = React.createElement(\"small\", {","        \"className\": 'export-button-time pull-right'","      }, \"Last exported \", lastExportedTime);","    }","    return React.createElement(\"span\", {","      \"className\": className","    }, React.createElement(\"div\", {","      \"className\": 'export-button-buttons'","    }, actionButton), lastExportedLabel);","  }","});","","module.exports = ScoresExport;",""],"f":{"1":15,"2":9,"3":15,"4":60,"5":60,"6":0,"7":9,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":15,"16":12,"17":75,"18":0},"fnMap":{"1":{"line":25,"loc":{"end":{"column":30,"line":25},"start":{"column":19,"line":25}},"name":"(anonymous_1)"},"2":{"line":35,"loc":{"end":{"column":30,"line":35},"start":{"column":17,"line":35}},"name":"(anonymous_2)"},"3":{"line":40,"loc":{"end":{"column":33,"line":40},"start":{"column":22,"line":40}},"name":"(anonymous_3)"},"4":{"line":45,"loc":{"end":{"column":53,"line":45},"start":{"column":22,"line":45}},"name":"(anonymous_4)"},"5":{"line":52,"loc":{"end":{"column":59,"line":52},"start":{"column":25,"line":52}},"name":"(anonymous_5)"},"6":{"line":55,"loc":{"end":{"column":46,"line":55},"start":{"column":25,"line":55}},"name":"(anonymous_6)"},"7":{"line":65,"loc":{"end":{"column":35,"line":65},"start":{"column":22,"line":65}},"name":"(anonymous_7)"},"8":{"line":83,"loc":{"end":{"column":33,"line":83},"start":{"column":15,"line":83}},"name":"(anonymous_8)"},"9":{"line":86,"loc":{"end":{"column":37,"line":86},"start":{"column":23,"line":86}},"name":"(anonymous_9)"},"10":{"line":99,"loc":{"end":{"column":61,"line":99},"start":{"column":45,"line":99}},"name":"(anonymous_10)"},"11":{"line":100,"loc":{"end":{"column":24,"line":100},"start":{"column":13,"line":100}},"name":"(anonymous_11)"},"12":{"line":119,"loc":{"end":{"column":32,"line":119},"start":{"column":18,"line":119}},"name":"(anonymous_12)"},"13":{"line":132,"loc":{"end":{"column":33,"line":132},"start":{"column":19,"line":132}},"name":"(anonymous_13)"},"14":{"line":143,"loc":{"end":{"column":36,"line":143},"start":{"column":25,"line":143}},"name":"(anonymous_14)"},"15":{"line":149,"loc":{"end":{"column":30,"line":149},"start":{"column":19,"line":149}},"name":"(anonymous_15)"},"16":{"line":155,"loc":{"end":{"column":33,"line":155},"start":{"column":22,"line":155}},"name":"(anonymous_16)"},"17":{"line":161,"loc":{"end":{"column":21,"line":161},"start":{"column":10,"line":161}},"name":"(anonymous_17)"},"18":{"line":175,"loc":{"end":{"column":29,"line":175},"start":{"column":18,"line":175}},"name":"(anonymous_18)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/export.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":15,"11":9,"12":9,"13":9,"14":15,"15":15,"16":15,"17":60,"18":0,"19":60,"20":0,"21":0,"22":0,"23":0,"24":0,"25":9,"26":9,"27":9,"28":9,"29":9,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":15,"66":15,"67":15,"68":15,"69":12,"70":12,"71":12,"72":12,"73":75,"74":75,"75":75,"76":75,"77":75,"78":75,"79":0,"80":75,"81":75,"82":0,"83":75,"84":0,"85":75,"86":0,"87":0,"88":75,"89":21},"statementMap":{"1":{"end":{"column":124,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":32,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":29,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":48,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":63,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":47,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":132,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":205},"start":{"column":0,"line":17}},"10":{"end":{"column":6,"line":33},"start":{"column":4,"line":26}},"11":{"end":{"column":17,"line":36},"start":{"column":4,"line":36}},"12":{"end":{"column":35,"line":37},"start":{"column":4,"line":37}},"13":{"end":{"column":27,"line":38},"start":{"column":4,"line":38}},"14":{"end":{"column":17,"line":41},"start":{"column":4,"line":41}},"15":{"end":{"column":35,"line":42},"start":{"column":4,"line":42}},"16":{"end":{"column":46,"line":43},"start":{"column":4,"line":43}},"17":{"end":{"column":5,"line":50},"start":{"column":4,"line":46}},"18":{"end":{"column":9,"line":49},"start":{"column":6,"line":47}},"19":{"end":{"column":138,"line":53},"start":{"column":4,"line":53}},"20":{"end":{"column":17,"line":56},"start":{"column":4,"line":56}},"21":{"end":{"column":35,"line":57},"start":{"column":4,"line":57}},"22":{"end":{"column":5,"line":63},"start":{"column":4,"line":58}},"23":{"end":{"column":41,"line":59},"start":{"column":6,"line":59}},"24":{"end":{"column":9,"line":62},"start":{"column":6,"line":60}},"25":{"end":{"column":32,"line":66},"start":{"column":4,"line":66}},"26":{"end":{"column":5,"line":81},"start":{"column":4,"line":67}},"27":{"end":{"column":57,"line":68},"start":{"column":6,"line":68}},"28":{"end":{"column":7,"line":71},"start":{"column":6,"line":69}},"29":{"end":{"column":15,"line":70},"start":{"column":8,"line":70}},"30":{"end":{"column":8,"line":75},"start":{"column":6,"line":72}},"31":{"end":{"column":7,"line":80},"start":{"column":6,"line":76}},"32":{"end":{"column":53,"line":77},"start":{"column":8,"line":77}},"33":{"end":{"column":42,"line":79},"start":{"column":8,"line":79}},"34":{"end":{"column":65,"line":84},"start":{"column":4,"line":84}},"35":{"end":{"column":87,"line":87},"start":{"column":4,"line":87}},"36":{"end":{"column":67,"line":88},"start":{"column":4,"line":88}},"37":{"end":{"column":46,"line":89},"start":{"column":4,"line":89}},"38":{"end":{"column":54,"line":90},"start":{"column":4,"line":90}},"39":{"end":{"column":7,"line":94},"start":{"column":4,"line":91}},"40":{"end":{"column":7,"line":98},"start":{"column":4,"line":95}},"41":{"end":{"column":13,"line":113},"start":{"column":4,"line":99}},"42":{"end":{"column":8,"line":112},"start":{"column":6,"line":100}},"43":{"end":{"column":24,"line":101},"start":{"column":8,"line":101}},"44":{"end":{"column":9,"line":111},"start":{"column":8,"line":102}},"45":{"end":{"column":11,"line":105},"start":{"column":10,"line":103}},"46":{"end":{"column":79,"line":104},"start":{"column":12,"line":104}},"47":{"end":{"column":11,"line":110},"start":{"column":10,"line":106}},"48":{"end":{"column":37,"line":107},"start":{"column":12,"line":107}},"49":{"end":{"column":36,"line":109},"start":{"column":12,"line":109}},"50":{"end":{"column":48,"line":114},"start":{"column":4,"line":114}},"51":{"end":{"column":48,"line":115},"start":{"column":4,"line":115}},"52":{"end":{"column":48,"line":116},"start":{"column":4,"line":116}},"53":{"end":{"column":37,"line":117},"start":{"column":4,"line":117}},"54":{"end":{"column":42,"line":120},"start":{"column":4,"line":120}},"55":{"end":{"column":34,"line":121},"start":{"column":4,"line":121}},"56":{"end":{"column":6,"line":126},"start":{"column":4,"line":122}},"57":{"end":{"column":5,"line":129},"start":{"column":4,"line":127}},"58":{"end":{"column":46,"line":128},"start":{"column":6,"line":128}},"59":{"end":{"column":47,"line":130},"start":{"column":4,"line":130}},"60":{"end":{"column":49,"line":133},"start":{"column":4,"line":133}},"61":{"end":{"column":67,"line":134},"start":{"column":4,"line":134}},"62":{"end":{"column":6,"line":140},"start":{"column":4,"line":135}},"63":{"end":{"column":40,"line":141},"start":{"column":4,"line":141}},"64":{"end":{"column":7,"line":147},"start":{"column":4,"line":144}},"65":{"end":{"column":17,"line":150},"start":{"column":4,"line":150}},"66":{"end":{"column":35,"line":151},"start":{"column":4,"line":151}},"67":{"end":{"column":92,"line":152},"start":{"column":4,"line":152}},"68":{"end":{"column":67,"line":153},"start":{"column":4,"line":153}},"69":{"end":{"column":17,"line":156},"start":{"column":4,"line":156}},"70":{"end":{"column":35,"line":157},"start":{"column":4,"line":157}},"71":{"end":{"column":93,"line":158},"start":{"column":4,"line":158}},"72":{"end":{"column":68,"line":159},"start":{"column":4,"line":159}},"73":{"end":{"column":222,"line":162},"start":{"column":4,"line":162}},"74":{"end":{"column":76,"line":163},"start":{"column":4,"line":163}},"75":{"end":{"column":256,"line":164},"start":{"column":4,"line":164}},"76":{"end":{"column":34,"line":165},"start":{"column":4,"line":165}},"77":{"end":{"column":34,"line":166},"start":{"column":4,"line":166}},"78":{"end":{"column":5,"line":169},"start":{"column":4,"line":167}},"79":{"end":{"column":36,"line":168},"start":{"column":6,"line":168}},"80":{"end":{"column":6,"line":172},"start":{"column":4,"line":170}},"81":{"end":{"column":26,"line":183},"start":{"column":4,"line":173}},"82":{"end":{"column":55,"line":176},"start":{"column":8,"line":176}},"83":{"end":{"column":5,"line":190},"start":{"column":4,"line":184}},"84":{"end":{"column":28,"line":189},"start":{"column":6,"line":185}},"85":{"end":{"column":5,"line":198},"start":{"column":4,"line":191}},"86":{"end":{"column":10,"line":194},"start":{"column":6,"line":192}},"87":{"end":{"column":45,"line":197},"start":{"column":6,"line":195}},"88":{"end":{"column":41,"line":203},"start":{"column":4,"line":199}},"89":{"end":{"column":30,"line":207},"start":{"column":0,"line":207}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"26":15,"36":9,"37":9,"38":9,"41":15,"42":15,"43":15,"46":60,"47":0,"53":60,"56":0,"57":0,"58":0,"59":0,"60":0,"66":9,"67":9,"68":9,"69":9,"70":9,"72":0,"76":0,"77":0,"79":0,"84":0,"87":0,"88":0,"89":0,"90":0,"91":0,"95":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"106":0,"107":0,"109":0,"114":0,"115":0,"116":0,"117":0,"120":0,"121":0,"122":0,"127":0,"128":0,"130":0,"133":0,"134":0,"135":0,"141":0,"144":0,"150":15,"151":15,"152":15,"153":15,"156":12,"157":12,"158":12,"159":12,"162":75,"163":75,"164":75,"165":75,"166":75,"167":75,"168":0,"170":75,"173":75,"176":0,"184":75,"185":0,"191":75,"192":0,"195":0,"199":75,"207":21}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/external-cell.cjsx":{"b":{},"branchMap":{},"code":["var CellStatusMixin, React, STATUS;","","React = require('react');","","CellStatusMixin = require('./cell-status-mixin');","","STATUS = {","  'completed': 'Clicked',","  'in_progress': 'Viewed',","  'not_started': 'Not started'","};","","module.exports = React.createClass({","  displayName: 'ExternalCell',","  mixins: [CellStatusMixin],","  render: function() {","    return this.renderLink({","      message: STATUS[this.props.task.status]","    });","  }","});",""],"f":{"1":0},"fnMap":{"1":{"line":16,"loc":{"end":{"column":21,"line":16},"start":{"column":10,"line":16}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/external-cell.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0},"statementMap":{"1":{"end":{"column":35,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":49,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":11},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":21},"start":{"column":0,"line":13}},"6":{"end":{"column":7,"line":19},"start":{"column":4,"line":17}}},"l":{"1":21,"3":21,"5":21,"7":21,"13":21,"17":0}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/homework-cell.cjsx":{"b":{"1":[0,262],"2":[262,0],"3":[0,0]},"branchMap":{"1":{"line":14,"locations":[{"end":{"column":70,"line":14},"start":{"column":57,"line":14}},{"end":{"column":256,"line":14},"start":{"column":73,"line":14}}],"type":"cond-expr"},"2":{"line":14,"locations":[{"end":{"column":186,"line":14},"start":{"column":109,"line":14}},{"end":{"column":256,"line":14},"start":{"column":189,"line":14}}],"type":"cond-expr"},"3":{"line":14,"locations":[{"end":{"column":240,"line":14},"start":{"column":230,"line":14}},{"end":{"column":256,"line":14},"start":{"column":243,"line":14}}],"type":"cond-expr"}},"code":["var CellStatusMixin, React, TaskHelper;","","React = require('react');","","CellStatusMixin = require('./cell-status-mixin');","","TaskHelper = require('../../helpers/task');","","module.exports = React.createClass({","  displayName: 'HomeworkCell',","  mixins: [CellStatusMixin],","  render: function() {","    var message;","    message = this.props.task.status === 'not_started' ? 'Not started' : TaskHelper.isDue(this.props.task) ? this.props.task.correct_exercise_count + \"/\" + this.props.task.exercise_count : this.props.task.status === 'completed' ? 'Complete' : 'In progress';","    return this.renderLink({","      message: message","    });","  }","});",""],"f":{"1":262},"fnMap":{"1":{"line":12,"loc":{"end":{"column":21,"line":12},"start":{"column":10,"line":12}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/homework-cell.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":262,"7":262,"8":262},"statementMap":{"1":{"end":{"column":39,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":49,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":43,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":19},"start":{"column":0,"line":9}},"6":{"end":{"column":16,"line":13},"start":{"column":4,"line":13}},"7":{"end":{"column":257,"line":14},"start":{"column":4,"line":14}},"8":{"end":{"column":7,"line":17},"start":{"column":4,"line":15}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"13":262,"14":262,"15":262}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/index.cjsx":{"b":{"1":[3,1],"2":[0,3],"3":[4,52],"4":[10,534],"5":[0,10],"6":[0,10,0],"7":[10,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[534,0],"14":[53,3],"15":[17,39],"16":[56,0],"17":[56,0],"18":[56,0],"19":[5,10]},"branchMap":{"1":{"line":91,"locations":[{"end":{"column":60,"line":91},"start":{"column":40,"line":91}},{"end":{"column":68,"line":91},"start":{"column":63,"line":91}}],"type":"cond-expr"},"2":{"line":108,"locations":[{"end":{"column":4,"line":108},"start":{"column":4,"line":108}},{"end":{"column":4,"line":108},"start":{"column":4,"line":108}}],"type":"if"},"3":{"line":135,"locations":[{"end":{"column":6,"line":137},"start":{"column":25,"line":135}},{"end":{"column":16,"line":137},"start":{"column":9,"line":137}}],"type":"cond-expr"},"4":{"line":141,"locations":[{"end":{"column":8,"line":141},"start":{"column":8,"line":141}},{"end":{"column":8,"line":141},"start":{"column":8,"line":141}}],"type":"if"},"5":{"line":144,"locations":[{"end":{"column":10,"line":144},"start":{"column":10,"line":144}},{"end":{"column":10,"line":144},"start":{"column":10,"line":144}}],"type":"if"},"6":{"line":147,"locations":[{"end":{"column":35,"line":149},"start":{"column":12,"line":148}},{"end":{"column":56,"line":151},"start":{"column":12,"line":150}},{"end":{"column":15,"line":163},"start":{"column":12,"line":152}}],"type":"switch"},"7":{"line":151,"locations":[{"end":{"column":50,"line":151},"start":{"column":21,"line":151}},{"end":{"column":55,"line":151},"start":{"column":54,"line":151}}],"type":"binary-expr"},"8":{"line":153,"locations":[{"end":{"column":24,"line":160},"start":{"column":16,"line":154}},{"end":{"column":98,"line":162},"start":{"column":16,"line":161}}],"type":"switch"},"9":{"line":155,"locations":[{"end":{"column":18,"line":155},"start":{"column":18,"line":155}},{"end":{"column":18,"line":155},"start":{"column":18,"line":155}}],"type":"if"},"10":{"line":156,"locations":[{"end":{"column":56,"line":156},"start":{"column":27,"line":156}},{"end":{"column":61,"line":156},"start":{"column":60,"line":156}}],"type":"binary-expr"},"11":{"line":158,"locations":[{"end":{"column":94,"line":158},"start":{"column":27,"line":158}},{"end":{"column":99,"line":158},"start":{"column":98,"line":158}}],"type":"binary-expr"},"12":{"line":162,"locations":[{"end":{"column":92,"line":162},"start":{"column":25,"line":162}},{"end":{"column":97,"line":162},"start":{"column":96,"line":162}}],"type":"binary-expr"},"13":{"line":166,"locations":[{"end":{"column":29,"line":166},"start":{"column":18,"line":166}},{"end":{"column":39,"line":166},"start":{"column":33,"line":166}}],"type":"binary-expr"},"14":{"line":172,"locations":[{"end":{"column":31,"line":172},"start":{"column":23,"line":172}},{"end":{"column":52,"line":172},"start":{"column":34,"line":172}}],"type":"cond-expr"},"15":{"line":184,"locations":[{"end":{"column":4,"line":184},"start":{"column":4,"line":184}},{"end":{"column":4,"line":184},"start":{"column":4,"line":184}}],"type":"if"},"16":{"line":239,"locations":[{"end":{"column":4,"line":239},"start":{"column":4,"line":239}},{"end":{"column":4,"line":239},"start":{"column":4,"line":239}}],"type":"if"},"17":{"line":247,"locations":[{"end":{"column":50,"line":247},"start":{"column":38,"line":247}},{"end":{"column":59,"line":247},"start":{"column":53,"line":247}}],"type":"cond-expr"},"18":{"line":250,"locations":[{"end":{"column":30,"line":250},"start":{"column":19,"line":250}},{"end":{"column":46,"line":250},"start":{"column":33,"line":250}}],"type":"cond-expr"},"19":{"line":262,"locations":[{"end":{"column":47,"line":262},"start":{"column":43,"line":262}},{"end":{"column":54,"line":262},"start":{"column":50,"line":262}}],"type":"cond-expr"}},"code":["var BS, CCTable, CCTableFilters, CoursePeriodsNavShell, CourseStore, HSTable, LoadableItem, React, ResizeListenerMixin, Router, Scores, ScoresActions, ScoresExport, ScoresExportActions, ScoresExportStore, ScoresShell, ScoresStore, _, ref, ref1;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","HSTable = require('./table-hs');","","CCTable = require('./table-cc');","","CCTableFilters = require('./cc-table-filters');","","Router = require('react-router');","","CourseStore = require('../../flux/course').CourseStore;","","ref = require('../../flux/scores'), ScoresStore = ref.ScoresStore, ScoresActions = ref.ScoresActions;","","ref1 = require('../../flux/scores-export'), ScoresExportStore = ref1.ScoresExportStore, ScoresExportActions = ref1.ScoresExportActions;","","LoadableItem = require('../loadable-item');","","ScoresExport = require('./export');","","CoursePeriodsNavShell = require('../course-periods-nav').CoursePeriodsNavShell;","","ResizeListenerMixin = require('openstax-react-components').ResizeListenerMixin;","","Scores = React.createClass({","  displayName: 'Scores',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    isConceptCoach: React.PropTypes.bool.isRequired","  },","  mixins: [ResizeListenerMixin],","  getInitialState: function() {","    return {","      period_id: null,","      periodIndex: 1,","      sortIndex: 0,","      tableWidth: 0,","      tableHeight: 0,","      colDefaultWidth: 180,","      colSetWidth: 180,","      colResizeWidth: 180,","      colResizeKey: 0,","      sort: {","        key: 'name',","        asc: true,","        dataType: 'score'","      },","      firstDataColumn: 1,","      displayAs: 'percentage',","      basedOn: 'possible'","    };","  },","  componentDidMount: function() {","    return this.sizeTable();","  },","  _resizeListener: function() {","    return this.sizeTable();","  },","  sizeTable: function() {","    return this.setState({","      tableWidth: this.tableWidth(),","      tableHeight: this.tableHeight()","    });","  },","  tableWidth: function() {","    var table, tableHorzSpacing, windowEl, wrap;","    windowEl = this._getWindowSize();","    table = React.findDOMNode(this.refs.tableContainer);","    wrap = React.findDOMNode(this.refs.scoresWrap);","    tableHorzSpacing = document.body.clientWidth - wrap.clientWidth;","    return Math.max(windowEl.width - tableHorzSpacing, table.clientWidth);","  },","  tableHeight: function() {","    var bottomMargin, table, windowEl;","    windowEl = this._getWindowSize();","    table = React.findDOMNode(this.refs.tableContainer);","    bottomMargin = 40;","    return windowEl.height - table.offsetTop - bottomMargin;","  },","  changeSortingOrder: function(key, dataType) {","    var asc;","    asc = this.state.sort.key === key ? !this.state.sort.asc : false;","    return this.setState({","      sort: {","        key: key,","        asc: asc,","        dataType: dataType","      }","    });","  },","  isSortingByData: function() {","    return _.isNumber(this.state.sort.key);","  },","  selectPeriod: function(period) {","    var newState;","    newState = {","      period_id: period.id","    };","    if (this.isSortingByData()) {","      newState.sort = this.state.sort;","    }","    return this.setState(newState);","  },","  setPeriodIndex: function(key) {","    return this.setState({","      periodIndex: key + 1","    });","  },","  changeDisplayAs: function(mode) {","    return this.setState({","      displayAs: mode","    });","  },","  changeBasedOn: function(mode) {","    return this.setState({","      basedOn: mode","    });","  },","  percent: function(num, total) {","    return Math.round((num / total) * 100);","  },","  getStudentRowData: function() {","    var data, displayAs, firstDataColumn, period_id, ref2, scores, sort, sortData;","    ref2 = this.state, sort = ref2.sort, period_id = ref2.period_id, firstDataColumn = ref2.firstDataColumn, displayAs = ref2.displayAs;","    data = ScoresStore.get(this.props.courseId);","    scores = period_id ? _.findWhere(data, {","      period_id: period_id","    }) : data[0];","    sortData = _.sortBy(scores.students, (function(_this) {","      return function(d) {","        var index, record;","        if (_.isNumber(sort.key)) {","          index = sort.key - firstDataColumn;","          record = d.data[index];","          if (!record) {","            return 0;","          }","          switch (record.type) {","            case 'reading':","              return record.status;","            case 'homework':","              return record.correct_exercise_count || 0;","            case 'concept_coach':","              switch (sort.dataType) {","                case 'score':","                  if (displayAs === 'number') {","                    return record.correct_exercise_count || 0;","                  } else {","                    return _this.percent(record.correct_exercise_count, record.exercise_count) || 0;","                  }","                  break;","                case 'completed':","                  return _this.percent(record.correct_exercise_count, record.exercise_count) || 0;","              }","          }","        } else {","          return (d.last_name || d.name).toLowerCase();","        }","      };","    })(this));","    return {","      headings: scores.data_headings,","      rows: sort.asc ? sortData : sortData.reverse()","    };","  },","  render: function() {","    var afterTabsItem, courseId, data, isConceptCoach, noAssignments, periodNav, period_id, ref2, ref3, scoresExport, scoresTable, students, tableFilters, tableHeight, tableWidth;","    ref2 = this.props, courseId = ref2.courseId, isConceptCoach = ref2.isConceptCoach;","    ref3 = this.state, period_id = ref3.period_id, tableWidth = ref3.tableWidth, tableHeight = ref3.tableHeight;","    data = this.getStudentRowData();","    scoresExport = React.createElement(ScoresExport, {","      \"courseId\": courseId,","      \"className\": 'pull-right'","    });","    if (isConceptCoach) {","      scoresTable = React.createElement(CCTable, {","        \"courseId\": this.props.courseId,","        \"data\": data,","        \"width\": tableWidth,","        \"height\": tableHeight,","        \"sort\": this.state.sort,","        \"onSort\": this.changeSortingOrder,","        \"colSetWidth\": this.state.colSetWidth,","        \"period_id\": this.state.period_id,","        \"periodIndex\": this.state.periodIndex,","        \"firstDataColumn\": this.state.firstDataColumn,","        \"displayAs\": this.state.displayAs,","        \"basedOn\": this.state.basedOn,","        \"dataType\": this.state.sort.dataType","      });","      afterTabsItem = function() {","        return React.createElement(\"span\", {","          \"className\": 'course-scores-note tab'","        }, \"Click on a student\\'s score to review their work.\\n  \\nClick the icon to see their progress completing the assignment.\");","      };","      tableFilters = React.createElement(CCTableFilters, {","        \"displayAs\": this.state.displayAs,","        \"basedOn\": this.state.basedOn,","        \"changeDisplayAs\": this.changeDisplayAs,","        \"changeBasedOn\": this.changeBasedOn","      });","    } else {","      scoresTable = React.createElement(HSTable, {","        \"courseId\": this.props.courseId,","        \"data\": data,","        \"width\": tableWidth,","        \"height\": tableHeight,","        \"sort\": this.state.sort,","        \"onSort\": this.changeSortingOrder,","        \"colSetWidth\": this.state.colSetWidth,","        \"period_id\": this.state.period_id,","        \"periodIndex\": this.state.periodIndex,","        \"firstDataColumn\": this.state.firstDataColumn","      });","      afterTabsItem = function() {","        return null;","      };","      tableFilters = null;","    }","    periodNav = React.createElement(CoursePeriodsNavShell, {","      \"handleSelect\": this.selectPeriod,","      \"handleKeyUpdate\": this.setPeriodIndex,","      \"intialActive\": period_id,","      \"courseId\": courseId,","      \"afterTabsItem\": afterTabsItem","    });","    noAssignments = React.createElement(\"span\", {","      \"className\": 'course-scores-notice'","    }, \"No Assignments Yet\");","    if (data.rows.length > 0) {","      students = true;","    }","    return React.createElement(\"div\", {","      \"className\": 'course-scores-wrap',","      \"ref\": 'scoresWrap'","    }, React.createElement(\"span\", {","      \"className\": 'course-scores-title'","    }, \"Student Scores\"), (students ? scoresExport : void 0), tableFilters, periodNav, React.createElement(\"div\", {","      \"className\": 'course-scores-container',","      \"ref\": 'tableContainer'","    }, (students ? scoresTable : noAssignments)));","  }","});","","ScoresShell = React.createClass({displayName: \"ScoresShell\",","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var course, courseId, tableClass;","    courseId = this.context.router.getCurrentParams().courseId;","    course = CourseStore.get(courseId);","    tableClass = course.is_concept_coach ? 'cc' : 'hs';","    return React.createElement(BS.Panel, {","      \"className\": \"scores-report \" + tableClass","    }, React.createElement(LoadableItem, {","      \"id\": courseId,","      \"store\": ScoresStore,","      \"actions\": ScoresActions,","      \"renderItem\": (function() {","        return React.createElement(Scores, {","          \"courseId\": courseId,","          \"isConceptCoach\": course.is_concept_coach","        });","      })","    }));","  }","});","","module.exports = {","  ScoresShell: ScoresShell,","  Scores: Scores","};",""],"f":{"1":15,"2":15,"3":0,"4":15,"5":15,"6":15,"7":4,"8":3,"9":3,"10":3,"11":0,"12":0,"13":0,"14":56,"15":56,"16":544,"17":56,"18":21,"19":47,"20":15,"21":23},"fnMap":{"1":{"line":41,"loc":{"end":{"column":30,"line":41},"start":{"column":19,"line":41}},"name":"(anonymous_1)"},"2":{"line":62,"loc":{"end":{"column":32,"line":62},"start":{"column":21,"line":62}},"name":"(anonymous_2)"},"3":{"line":65,"loc":{"end":{"column":30,"line":65},"start":{"column":19,"line":65}},"name":"(anonymous_3)"},"4":{"line":68,"loc":{"end":{"column":24,"line":68},"start":{"column":13,"line":68}},"name":"(anonymous_4)"},"5":{"line":74,"loc":{"end":{"column":25,"line":74},"start":{"column":14,"line":74}},"name":"(anonymous_5)"},"6":{"line":82,"loc":{"end":{"column":26,"line":82},"start":{"column":15,"line":82}},"name":"(anonymous_6)"},"7":{"line":89,"loc":{"end":{"column":46,"line":89},"start":{"column":22,"line":89}},"name":"(anonymous_7)"},"8":{"line":100,"loc":{"end":{"column":30,"line":100},"start":{"column":19,"line":100}},"name":"(anonymous_8)"},"9":{"line":103,"loc":{"end":{"column":33,"line":103},"start":{"column":16,"line":103}},"name":"(anonymous_9)"},"10":{"line":113,"loc":{"end":{"column":32,"line":113},"start":{"column":18,"line":113}},"name":"(anonymous_10)"},"11":{"line":118,"loc":{"end":{"column":34,"line":118},"start":{"column":19,"line":118}},"name":"(anonymous_11)"},"12":{"line":123,"loc":{"end":{"column":32,"line":123},"start":{"column":17,"line":123}},"name":"(anonymous_12)"},"13":{"line":128,"loc":{"end":{"column":32,"line":128},"start":{"column":11,"line":128}},"name":"(anonymous_13)"},"14":{"line":131,"loc":{"end":{"column":32,"line":131},"start":{"column":21,"line":131}},"name":"(anonymous_14)"},"15":{"line":138,"loc":{"end":{"column":58,"line":138},"start":{"column":42,"line":138}},"name":"(anonymous_15)"},"16":{"line":139,"loc":{"end":{"column":25,"line":139},"start":{"column":13,"line":139}},"name":"(anonymous_16)"},"17":{"line":175,"loc":{"end":{"column":21,"line":175},"start":{"column":10,"line":175}},"name":"(anonymous_17)"},"18":{"line":200,"loc":{"end":{"column":33,"line":200},"start":{"column":22,"line":200}},"name":"(anonymous_18)"},"19":{"line":224,"loc":{"end":{"column":33,"line":224},"start":{"column":22,"line":224}},"name":"(anonymous_19)"},"20":{"line":258,"loc":{"end":{"column":21,"line":258},"start":{"column":10,"line":258}},"name":"(anonymous_20)"},"21":{"line":269,"loc":{"end":{"column":32,"line":269},"start":{"column":21,"line":269}},"name":"(anonymous_21)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":15,"18":15,"19":0,"20":15,"21":15,"22":15,"23":15,"24":15,"25":15,"26":15,"27":15,"28":15,"29":15,"30":15,"31":15,"32":4,"33":4,"34":4,"35":3,"36":3,"37":3,"38":3,"39":0,"40":3,"41":3,"42":0,"43":0,"44":0,"45":56,"46":56,"47":56,"48":56,"49":56,"50":56,"51":544,"52":544,"53":10,"54":10,"55":10,"56":0,"57":10,"58":0,"59":10,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":534,"67":56,"68":56,"69":56,"70":56,"71":56,"72":56,"73":56,"74":17,"75":17,"76":21,"77":17,"78":39,"79":39,"80":47,"81":39,"82":56,"83":56,"84":56,"85":56,"86":56,"87":21,"88":15,"89":15,"90":15,"91":15,"92":15,"93":23,"94":21},"statementMap":{"1":{"end":{"column":244,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":32,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":32,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":47,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":33,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":55,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":101,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":135,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":43,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":35,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":79,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":79,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":3,"line":252},"start":{"column":0,"line":31}},"17":{"end":{"column":6,"line":60},"start":{"column":4,"line":42}},"18":{"end":{"column":28,"line":63},"start":{"column":4,"line":63}},"19":{"end":{"column":28,"line":66},"start":{"column":4,"line":66}},"20":{"end":{"column":7,"line":72},"start":{"column":4,"line":69}},"21":{"end":{"column":48,"line":75},"start":{"column":4,"line":75}},"22":{"end":{"column":37,"line":76},"start":{"column":4,"line":76}},"23":{"end":{"column":56,"line":77},"start":{"column":4,"line":77}},"24":{"end":{"column":51,"line":78},"start":{"column":4,"line":78}},"25":{"end":{"column":68,"line":79},"start":{"column":4,"line":79}},"26":{"end":{"column":74,"line":80},"start":{"column":4,"line":80}},"27":{"end":{"column":38,"line":83},"start":{"column":4,"line":83}},"28":{"end":{"column":37,"line":84},"start":{"column":4,"line":84}},"29":{"end":{"column":56,"line":85},"start":{"column":4,"line":85}},"30":{"end":{"column":22,"line":86},"start":{"column":4,"line":86}},"31":{"end":{"column":60,"line":87},"start":{"column":4,"line":87}},"32":{"end":{"column":12,"line":90},"start":{"column":4,"line":90}},"33":{"end":{"column":69,"line":91},"start":{"column":4,"line":91}},"34":{"end":{"column":7,"line":98},"start":{"column":4,"line":92}},"35":{"end":{"column":43,"line":101},"start":{"column":4,"line":101}},"36":{"end":{"column":17,"line":104},"start":{"column":4,"line":104}},"37":{"end":{"column":6,"line":107},"start":{"column":4,"line":105}},"38":{"end":{"column":5,"line":110},"start":{"column":4,"line":108}},"39":{"end":{"column":38,"line":109},"start":{"column":6,"line":109}},"40":{"end":{"column":35,"line":111},"start":{"column":4,"line":111}},"41":{"end":{"column":7,"line":116},"start":{"column":4,"line":114}},"42":{"end":{"column":7,"line":121},"start":{"column":4,"line":119}},"43":{"end":{"column":7,"line":126},"start":{"column":4,"line":124}},"44":{"end":{"column":43,"line":129},"start":{"column":4,"line":129}},"45":{"end":{"column":82,"line":132},"start":{"column":4,"line":132}},"46":{"end":{"column":136,"line":133},"start":{"column":4,"line":133}},"47":{"end":{"column":48,"line":134},"start":{"column":4,"line":134}},"48":{"end":{"column":17,"line":137},"start":{"column":4,"line":135}},"49":{"end":{"column":14,"line":169},"start":{"column":4,"line":138}},"50":{"end":{"column":8,"line":168},"start":{"column":6,"line":139}},"51":{"end":{"column":26,"line":140},"start":{"column":8,"line":140}},"52":{"end":{"column":9,"line":167},"start":{"column":8,"line":141}},"53":{"end":{"column":45,"line":142},"start":{"column":10,"line":142}},"54":{"end":{"column":33,"line":143},"start":{"column":10,"line":143}},"55":{"end":{"column":11,"line":146},"start":{"column":10,"line":144}},"56":{"end":{"column":21,"line":145},"start":{"column":12,"line":145}},"57":{"end":{"column":11,"line":164},"start":{"column":10,"line":147}},"58":{"end":{"column":35,"line":149},"start":{"column":14,"line":149}},"59":{"end":{"column":56,"line":151},"start":{"column":14,"line":151}},"60":{"end":{"column":15,"line":163},"start":{"column":14,"line":153}},"61":{"end":{"column":19,"line":159},"start":{"column":18,"line":155}},"62":{"end":{"column":62,"line":156},"start":{"column":20,"line":156}},"63":{"end":{"column":100,"line":158},"start":{"column":20,"line":158}},"64":{"end":{"column":24,"line":160},"start":{"column":18,"line":160}},"65":{"end":{"column":98,"line":162},"start":{"column":18,"line":162}},"66":{"end":{"column":55,"line":166},"start":{"column":10,"line":166}},"67":{"end":{"column":6,"line":173},"start":{"column":4,"line":170}},"68":{"end":{"column":179,"line":176},"start":{"column":4,"line":176}},"69":{"end":{"column":86,"line":177},"start":{"column":4,"line":177}},"70":{"end":{"column":112,"line":178},"start":{"column":4,"line":178}},"71":{"end":{"column":36,"line":179},"start":{"column":4,"line":179}},"72":{"end":{"column":7,"line":183},"start":{"column":4,"line":180}},"73":{"end":{"column":5,"line":228},"start":{"column":4,"line":184}},"74":{"end":{"column":9,"line":199},"start":{"column":6,"line":185}},"75":{"end":{"column":8,"line":204},"start":{"column":6,"line":200}},"76":{"end":{"column":133,"line":203},"start":{"column":8,"line":201}},"77":{"end":{"column":9,"line":210},"start":{"column":6,"line":205}},"78":{"end":{"column":9,"line":223},"start":{"column":6,"line":212}},"79":{"end":{"column":8,"line":226},"start":{"column":6,"line":224}},"80":{"end":{"column":20,"line":225},"start":{"column":8,"line":225}},"81":{"end":{"column":26,"line":227},"start":{"column":6,"line":227}},"82":{"end":{"column":7,"line":235},"start":{"column":4,"line":229}},"83":{"end":{"column":29,"line":238},"start":{"column":4,"line":236}},"84":{"end":{"column":5,"line":241},"start":{"column":4,"line":239}},"85":{"end":{"column":22,"line":240},"start":{"column":6,"line":240}},"86":{"end":{"column":50,"line":250},"start":{"column":4,"line":242}},"87":{"end":{"column":3,"line":277},"start":{"column":0,"line":254}},"88":{"end":{"column":37,"line":259},"start":{"column":4,"line":259}},"89":{"end":{"column":63,"line":260},"start":{"column":4,"line":260}},"90":{"end":{"column":39,"line":261},"start":{"column":4,"line":261}},"91":{"end":{"column":55,"line":262},"start":{"column":4,"line":262}},"92":{"end":{"column":8,"line":275},"start":{"column":4,"line":263}},"93":{"end":{"column":11,"line":273},"start":{"column":8,"line":270}},"94":{"end":{"column":2,"line":282},"start":{"column":0,"line":279}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"42":15,"63":15,"66":0,"69":15,"75":15,"76":15,"77":15,"78":15,"79":15,"80":15,"83":15,"84":15,"85":15,"86":15,"87":15,"90":4,"91":4,"92":4,"101":3,"104":3,"105":3,"108":3,"109":0,"111":3,"114":3,"119":0,"124":0,"129":0,"132":56,"133":56,"134":56,"135":56,"138":56,"139":56,"140":544,"141":544,"142":10,"143":10,"144":10,"145":0,"147":10,"149":0,"151":10,"153":0,"155":0,"156":0,"158":0,"160":0,"162":0,"166":534,"170":56,"176":56,"177":56,"178":56,"179":56,"180":56,"184":56,"185":17,"200":17,"201":21,"205":17,"212":39,"224":39,"225":47,"227":39,"229":56,"236":56,"239":56,"240":56,"242":56,"254":21,"259":15,"260":15,"261":15,"262":15,"263":15,"270":23,"279":21}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/name-cell-cc.cjsx":{"b":{},"branchMap":{},"code":["var Name, React, Router, TOOLTIP_OPTIONS;","","React = require('react');","","Router = require('react-router');","","Name = require('../name');","","TOOLTIP_OPTIONS = {","  enable: true,","  placement: 'top',","  delayShow: 1500,","  delayHide: 150","};","","module.exports = React.createClass({","  displayName: 'CCNameCell',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    student: React.PropTypes.shape({","      first_name: React.PropTypes.string,","      last_name: React.PropTypes.string","    }).isRequired","  },","  render: function() {","    return React.createElement(\"div\", {","      \"className\": \"name-cell\"","    }, React.createElement(Name, React.__spread({","      \"tooltip\": TOOLTIP_OPTIONS,","      \"className\": \"name\"","    }, this.props.student)), React.createElement(\"div\", {","      \"className\": \"student-id\"","    }, this.props.student.student_identifier));","  }","});",""],"f":{"1":72},"fnMap":{"1":{"line":25,"loc":{"end":{"column":21,"line":25},"start":{"column":10,"line":25}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/name-cell-cc.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":72},"statementMap":{"1":{"end":{"column":41,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":14},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":35},"start":{"column":0,"line":16}},"7":{"end":{"column":47,"line":33},"start":{"column":4,"line":26}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"16":21,"26":72}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/name-cell-hs.cjsx":{"b":{},"branchMap":{},"code":["var Name, React, Router, TOOLTIP_OPTIONS;","","React = require('react');","","Router = require('react-router');","","Name = require('../name');","","TOOLTIP_OPTIONS = {","  enable: true,","  placement: 'top',","  delayShow: 1500,","  delayHide: 150","};","","module.exports = React.createClass({","  displayName: 'HSNameCell',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    student: React.PropTypes.shape({","      first_name: React.PropTypes.string,","      last_name: React.PropTypes.string","    }).isRequired","  },","  render: function() {","    return React.createElement(\"div\", {","      \"className\": \"name-cell\"","    }, React.createElement(Router.Link, {","      \"className\": \"student-name \" + this.props.className,","      \"to\": 'viewStudentTeacherPerformanceForecast',","      \"params\": {","        roleId: this.props.roleId,","        courseId: this.props.courseId","      }","    }, React.createElement(Name, React.__spread({","      \"tooltip\": TOOLTIP_OPTIONS","    }, this.props.student))));","  }","});",""],"f":{"1":227},"fnMap":{"1":{"line":25,"loc":{"end":{"column":21,"line":25},"start":{"column":10,"line":25}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/name-cell-hs.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":227},"statementMap":{"1":{"end":{"column":41,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":14},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":39},"start":{"column":0,"line":16}},"7":{"end":{"column":30,"line":37},"start":{"column":4,"line":26}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"16":21,"26":227}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/pie-progress.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"branchMap":{"1":{"line":22,"locations":[{"end":{"column":29,"line":22},"start":{"column":28,"line":22}},{"end":{"column":33,"line":22},"start":{"column":32,"line":22}}],"type":"cond-expr"},"2":{"line":28,"locations":[{"end":{"column":4,"line":28},"start":{"column":4,"line":28}},{"end":{"column":4,"line":28},"start":{"column":4,"line":28}}],"type":"if"},"3":{"line":30,"locations":[{"end":{"column":11,"line":30},"start":{"column":11,"line":30}},{"end":{"column":11,"line":30},"start":{"column":11,"line":30}}],"type":"if"},"4":{"line":30,"locations":[{"end":{"column":26,"line":30},"start":{"column":15,"line":30}},{"end":{"column":40,"line":30},"start":{"column":30,"line":30}}],"type":"binary-expr"},"5":{"line":46,"locations":[{"end":{"column":84,"line":46},"start":{"column":39,"line":46}},{"end":{"column":110,"line":46},"start":{"column":87,"line":46}}],"type":"cond-expr"},"6":{"line":64,"locations":[{"end":{"column":4,"line":64},"start":{"column":4,"line":64}},{"end":{"column":4,"line":64},"start":{"column":4,"line":64}}],"type":"if"},"7":{"line":66,"locations":[{"end":{"column":11,"line":66},"start":{"column":11,"line":66}},{"end":{"column":11,"line":66},"start":{"column":11,"line":66}}],"type":"if"}},"code":["var PieProgress, React;","","React = require('react');","","PieProgress = React.createClass({displayName: \"PieProgress\",","  propTypes: {","    size: React.PropTypes.number.isRequired,","    value: React.PropTypes.number.isRequired,","    roundToQuarters: React.PropTypes.bool","  },","  radius: function(size) {","    return size / 2;","  },","  buildCircle: function(value) {","    var arcX, arcY, d, longArc, radius, size, x, y;","    size = this.props.size;","    radius = this.radius(size);","    value = parseInt(value);","    value = Math.min(Math.max(value, 0), 100);","    x = Math.cos((2 * Math.PI) / (100 / value));","    y = Math.sin((2 * Math.PI) / (100 / value));","    longArc = value <= 50 ? 0 : 1;","    arcX = radius + (y * radius);","    arcY = radius - (x * radius);","    return d = \"M\" + radius + \" \" + radius + \" L\" + radius + \" 0 A\" + radius + \" \" + radius + \" 0 \" + longArc + \" 1 \" + arcX + \" \" + arcY + \" z\";","  },","  roundToQuarters: function(value) {","    if (value <= 49) {","      return 25;","    } else if (value >= 50 && value < 75) {","      return 50;","    } else {","      return 75;","    }","  },","  render: function() {","    var circle, finished, fullCircle, notStarted, path, pieCircle, radius, ref, roundToQuarters, size, value;","    ref = this.props, size = ref.size, value = ref.value, roundToQuarters = ref.roundToQuarters;","    radius = this.radius(size);","    fullCircle = React.createElement(\"circle\", {","      \"r\": \"\" + radius,","      \"cx\": \"\" + radius,","      \"cy\": \"\" + radius,","      \"className\": 'slice'","    });","    circle = roundToQuarters != null ? this.buildCircle(this.roundToQuarters(value)) : this.buildCircle(value);","    path = React.createElement(\"path\", {","      \"d\": \"\" + circle,","      \"className\": 'slice'","    });","    pieCircle = React.createElement(\"svg\", {","      \"width\": \"\" + size,","      \"height\": \"\" + size,","      \"className\": 'pie-progress'","    }, path);","    finished = React.createElement(\"svg\", {","      \"className\": 'finished'","    }, React.createElement(\"path\", {","      \"d\": \"M12 0C5.372 0 0 5.373 0 12c0 6.627 5.372 12 12 12c6.628 0 12-5.373 12-12C24 5.373 18.628 0 12 0z M10.557 19.455l-7.042-7.042l2.828-2.828l4.243 4.242l7.07-7.071l2.829 2.829L10.557 19.455z\"","    }));","    notStarted = React.createElement(\"i\", {","      \"className\": \"fa fa-minus\"","    });","    if (value >= 100) {","      return finished;","    } else if (value <= 0) {","      return notStarted;","    } else {","      return pieCircle;","    }","  }","});","","module.exports = PieProgress;",""],"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"line":11,"loc":{"end":{"column":25,"line":11},"start":{"column":10,"line":11}},"name":"(anonymous_1)"},"2":{"line":14,"loc":{"end":{"column":31,"line":14},"start":{"column":15,"line":14}},"name":"(anonymous_2)"},"3":{"line":27,"loc":{"end":{"column":35,"line":27},"start":{"column":19,"line":27}},"name":"(anonymous_3)"},"4":{"line":36,"loc":{"end":{"column":21,"line":36},"start":{"column":10,"line":36}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/pie-progress.cjsx","s":{"1":21,"2":21,"3":21,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":21},"statementMap":{"1":{"end":{"column":23,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":72},"start":{"column":0,"line":5}},"4":{"end":{"column":20,"line":12},"start":{"column":4,"line":12}},"5":{"end":{"column":51,"line":15},"start":{"column":4,"line":15}},"6":{"end":{"column":27,"line":16},"start":{"column":4,"line":16}},"7":{"end":{"column":31,"line":17},"start":{"column":4,"line":17}},"8":{"end":{"column":28,"line":18},"start":{"column":4,"line":18}},"9":{"end":{"column":46,"line":19},"start":{"column":4,"line":19}},"10":{"end":{"column":48,"line":20},"start":{"column":4,"line":20}},"11":{"end":{"column":48,"line":21},"start":{"column":4,"line":21}},"12":{"end":{"column":34,"line":22},"start":{"column":4,"line":22}},"13":{"end":{"column":33,"line":23},"start":{"column":4,"line":23}},"14":{"end":{"column":33,"line":24},"start":{"column":4,"line":24}},"15":{"end":{"column":145,"line":25},"start":{"column":4,"line":25}},"16":{"end":{"column":5,"line":34},"start":{"column":4,"line":28}},"17":{"end":{"column":16,"line":29},"start":{"column":6,"line":29}},"18":{"end":{"column":5,"line":34},"start":{"column":11,"line":30}},"19":{"end":{"column":16,"line":31},"start":{"column":6,"line":31}},"20":{"end":{"column":16,"line":33},"start":{"column":6,"line":33}},"21":{"end":{"column":109,"line":37},"start":{"column":4,"line":37}},"22":{"end":{"column":96,"line":38},"start":{"column":4,"line":38}},"23":{"end":{"column":31,"line":39},"start":{"column":4,"line":39}},"24":{"end":{"column":7,"line":45},"start":{"column":4,"line":40}},"25":{"end":{"column":111,"line":46},"start":{"column":4,"line":46}},"26":{"end":{"column":7,"line":50},"start":{"column":4,"line":47}},"27":{"end":{"column":13,"line":55},"start":{"column":4,"line":51}},"28":{"end":{"column":8,"line":60},"start":{"column":4,"line":56}},"29":{"end":{"column":7,"line":63},"start":{"column":4,"line":61}},"30":{"end":{"column":5,"line":70},"start":{"column":4,"line":64}},"31":{"end":{"column":22,"line":65},"start":{"column":6,"line":65}},"32":{"end":{"column":5,"line":70},"start":{"column":11,"line":66}},"33":{"end":{"column":24,"line":67},"start":{"column":6,"line":67}},"34":{"end":{"column":23,"line":69},"start":{"column":6,"line":69}},"35":{"end":{"column":29,"line":74},"start":{"column":0,"line":74}}},"l":{"1":21,"3":21,"5":21,"12":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"28":0,"29":0,"30":0,"31":0,"33":0,"37":0,"38":0,"39":0,"40":0,"46":0,"47":0,"51":0,"56":0,"61":0,"64":0,"65":0,"66":0,"67":0,"69":0,"74":21}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/quick-external-stats.cjsx":{"b":{"1":[0,0],"2":[0,0]},"branchMap":{"1":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"2":{"line":46,"locations":[{"end":{"column":4,"line":46},"start":{"column":4,"line":46}},{"end":{"column":4,"line":46},"start":{"column":4,"line":46}}],"type":"if"}},"code":["var LoadableItem, QuickStats, QuickStatsShell, React, TaskPlanStatsActions, TaskPlanStatsStore, _, ref;","","React = require('react');","","_ = require('underscore');","","ref = require('../../flux/task-plan-stats'), TaskPlanStatsStore = ref.TaskPlanStatsStore, TaskPlanStatsActions = ref.TaskPlanStatsActions;","","LoadableItem = require('../loadable-item');","","QuickStats = React.createClass({displayName: \"QuickStats\",","  propTypes: {","    id: React.PropTypes.string.isRequired,","    periodId: React.PropTypes.string.isRequired","  },","  getInitialState: function() {","    return this.getStatsByPeriod(this.props);","  },","  componentWillReceiveProps: function(nextProps) {","    var stats;","    stats = this.getStatsByPeriod(nextProps);","    return this.setState(stats);","  },","  getStatsByPeriod: function(props) {","    var id, periodId, plan, stats;","    periodId = props.periodId, id = props.id;","    plan = TaskPlanStatsStore.get(id);","    stats = _(plan.stats).findWhere({","      period_id: periodId","    });","    return {","      stats: stats","    };","  },","  renderStats: function(data) {","    return data.complete_count + \"/\" + data.total_count + \" clicked\";","  },","  render: function() {","    var className, classes, course, id, ref1, stats;","    ref1 = this.props, id = ref1.id, className = ref1.className;","    stats = this.state.stats;","    classes = 'quick-external-stats';","    if (className != null) {","      classes += \" \" + className;","    }","    if (stats != null) {","      course = this.renderStats(stats);","    }","    return React.createElement(\"span\", {","      \"className\": classes","    }, course);","  }","});","","QuickStatsShell = React.createClass({displayName: \"QuickStatsShell\",","  render: function() {","    var id;","    id = this.props.id;","    return React.createElement(LoadableItem, {","      \"id\": id,","      \"store\": TaskPlanStatsStore,","      \"actions\": TaskPlanStatsActions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(QuickStats, React.__spread({}, _this.props));","        };","      })(this))","    });","  }","});","","module.exports = {","  QuickStats: QuickStats,","  QuickStatsShell: QuickStatsShell","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"line":16,"loc":{"end":{"column":30,"line":16},"start":{"column":19,"line":16}},"name":"(anonymous_1)"},"2":{"line":19,"loc":{"end":{"column":49,"line":19},"start":{"column":29,"line":19}},"name":"(anonymous_2)"},"3":{"line":24,"loc":{"end":{"column":36,"line":24},"start":{"column":20,"line":24}},"name":"(anonymous_3)"},"4":{"line":35,"loc":{"end":{"column":30,"line":35},"start":{"column":15,"line":35}},"name":"(anonymous_4)"},"5":{"line":38,"loc":{"end":{"column":21,"line":38},"start":{"column":10,"line":38}},"name":"(anonymous_5)"},"6":{"line":56,"loc":{"end":{"column":21,"line":56},"start":{"column":10,"line":56}},"name":"(anonymous_6)"},"7":{"line":63,"loc":{"end":{"column":38,"line":63},"start":{"column":22,"line":63}},"name":"(anonymous_7)"},"8":{"line":64,"loc":{"end":{"column":26,"line":64},"start":{"column":15,"line":64}},"name":"(anonymous_8)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/quick-external-stats.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":21,"27":0,"28":0,"29":0,"30":0,"31":0,"32":21},"statementMap":{"1":{"end":{"column":103,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":138,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":43,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":53},"start":{"column":0,"line":11}},"7":{"end":{"column":45,"line":17},"start":{"column":4,"line":17}},"8":{"end":{"column":14,"line":20},"start":{"column":4,"line":20}},"9":{"end":{"column":45,"line":21},"start":{"column":4,"line":21}},"10":{"end":{"column":32,"line":22},"start":{"column":4,"line":22}},"11":{"end":{"column":34,"line":25},"start":{"column":4,"line":25}},"12":{"end":{"column":45,"line":26},"start":{"column":4,"line":26}},"13":{"end":{"column":38,"line":27},"start":{"column":4,"line":27}},"14":{"end":{"column":7,"line":30},"start":{"column":4,"line":28}},"15":{"end":{"column":6,"line":33},"start":{"column":4,"line":31}},"16":{"end":{"column":69,"line":36},"start":{"column":4,"line":36}},"17":{"end":{"column":52,"line":39},"start":{"column":4,"line":39}},"18":{"end":{"column":64,"line":40},"start":{"column":4,"line":40}},"19":{"end":{"column":29,"line":41},"start":{"column":4,"line":41}},"20":{"end":{"column":37,"line":42},"start":{"column":4,"line":42}},"21":{"end":{"column":5,"line":45},"start":{"column":4,"line":43}},"22":{"end":{"column":33,"line":44},"start":{"column":6,"line":44}},"23":{"end":{"column":5,"line":48},"start":{"column":4,"line":46}},"24":{"end":{"column":39,"line":47},"start":{"column":6,"line":47}},"25":{"end":{"column":15,"line":51},"start":{"column":4,"line":49}},"26":{"end":{"column":3,"line":70},"start":{"column":0,"line":55}},"27":{"end":{"column":11,"line":57},"start":{"column":4,"line":57}},"28":{"end":{"column":23,"line":58},"start":{"column":4,"line":58}},"29":{"end":{"column":7,"line":68},"start":{"column":4,"line":59}},"30":{"end":{"column":10,"line":66},"start":{"column":8,"line":64}},"31":{"end":{"column":82,"line":65},"start":{"column":10,"line":65}},"32":{"end":{"column":2,"line":75},"start":{"column":0,"line":72}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"17":0,"20":0,"21":0,"22":0,"25":0,"26":0,"27":0,"28":0,"31":0,"36":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"46":0,"47":0,"49":0,"55":21,"57":0,"58":0,"59":0,"64":0,"65":0,"72":21}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/reading-cell.cjsx":{"b":{},"branchMap":{},"code":["var CellStatusMixin, React, STATUS;","","React = require('react');","","CellStatusMixin = require('./cell-status-mixin');","","STATUS = {","  'completed': 'Complete',","  'in_progress': 'In progress',","  'not_started': 'Not started'","};","","module.exports = React.createClass({","  displayName: 'ReadingCell',","  mixins: [CellStatusMixin],","  render: function() {","    return this.renderLink({","      message: STATUS[this.props.task.status]","    });","  }","});",""],"f":{"1":585},"fnMap":{"1":{"line":16,"loc":{"end":{"column":21,"line":16},"start":{"column":10,"line":16}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/reading-cell.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":585},"statementMap":{"1":{"end":{"column":35,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":49,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":11},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":21},"start":{"column":0,"line":13}},"6":{"end":{"column":7,"line":19},"start":{"column":4,"line":17}}},"l":{"1":21,"3":21,"5":21,"7":21,"13":21,"17":585}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/sorting-header.cjsx":{"b":{"1":[0,56],"2":[0,0],"3":[56,239],"4":[295,56],"5":[53,3]},"branchMap":{"1":{"line":19,"locations":[{"end":{"column":4,"line":19},"start":{"column":4,"line":19}},{"end":{"column":4,"line":19},"start":{"column":4,"line":19}}],"type":"if"},"2":{"line":20,"locations":[{"end":{"column":6,"line":20},"start":{"column":6,"line":20}},{"end":{"column":6,"line":20},"start":{"column":6,"line":20}}],"type":"if"},"3":{"line":32,"locations":[{"end":{"column":4,"line":32},"start":{"column":4,"line":32}},{"end":{"column":4,"line":32},"start":{"column":4,"line":32}}],"type":"if"},"4":{"line":32,"locations":[{"end":{"column":55,"line":32},"start":{"column":8,"line":32}},{"end":{"column":79,"line":32},"start":{"column":59,"line":32}}],"type":"binary-expr"},"5":{"line":33,"locations":[{"end":{"column":63,"line":33},"start":{"column":49,"line":33}},{"end":{"column":81,"line":33},"start":{"column":66,"line":33}}],"type":"cond-expr"}},"code":["var React, Router;","","React = require('react');","","Router = require('react-router');","","module.exports = React.createClass({","  displayName: 'SortingHeader',","  propTypes: {","    onSort: React.PropTypes.func.isRequired,","    sortKey: React.PropTypes.any.isRequired,","    sortState: React.PropTypes.object.isRequired,","    dataType: React.PropTypes.string","  },","  onClick: function() {","    return this.props.onSort(this.props.sortKey, this.props.children.ref);","  },","  isSplitHeader: function() {","    if (this.props.dataType != null) {","      if (this.props.dataType === this.props.children.ref) {","        return true;","      } else {","        return false;","      }","    } else {","      return true;","    }","  },","  render: function() {","    var classNames;","    classNames = ['header-cell', 'sortable', this.props.className];","    if (this.props.sortState.key === this.props.sortKey && this.isSplitHeader()) {","      classNames.push(this.props.sortState.asc ? 'is-ascending' : 'is-descending');","    }","    return React.createElement(\"div\", {","      \"data-assignment-type\": this.props.type,","      \"onClick\": this.onClick,","      \"className\": classNames.join(' ')","    }, this.props.children);","  }","});",""],"f":{"1":4,"2":56,"3":295},"fnMap":{"1":{"line":15,"loc":{"end":{"column":22,"line":15},"start":{"column":11,"line":15}},"name":"(anonymous_1)"},"2":{"line":18,"loc":{"end":{"column":28,"line":18},"start":{"column":17,"line":18}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":21,"line":29},"start":{"column":10,"line":29}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/sorting-header.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":4,"6":56,"7":0,"8":0,"9":0,"10":56,"11":295,"12":295,"13":295,"14":56,"15":295},"statementMap":{"1":{"end":{"column":18,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":41},"start":{"column":0,"line":7}},"5":{"end":{"column":74,"line":16},"start":{"column":4,"line":16}},"6":{"end":{"column":5,"line":27},"start":{"column":4,"line":19}},"7":{"end":{"column":7,"line":24},"start":{"column":6,"line":20}},"8":{"end":{"column":20,"line":21},"start":{"column":8,"line":21}},"9":{"end":{"column":21,"line":23},"start":{"column":8,"line":23}},"10":{"end":{"column":18,"line":26},"start":{"column":6,"line":26}},"11":{"end":{"column":19,"line":30},"start":{"column":4,"line":30}},"12":{"end":{"column":67,"line":31},"start":{"column":4,"line":31}},"13":{"end":{"column":5,"line":34},"start":{"column":4,"line":32}},"14":{"end":{"column":83,"line":33},"start":{"column":6,"line":33}},"15":{"end":{"column":28,"line":39},"start":{"column":4,"line":35}}},"l":{"1":21,"3":21,"5":21,"7":21,"16":4,"19":56,"20":0,"21":0,"23":0,"26":56,"30":295,"31":295,"32":295,"33":56,"35":295}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/table-cc.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":110,"locations":[{"end":{"column":65,"line":110},"start":{"column":44,"line":110}},{"end":{"column":93,"line":110},"start":{"column":68,"line":110}}],"type":"cond-expr"},"2":{"line":111,"locations":[{"end":{"column":4,"line":111},"start":{"column":4,"line":111}},{"end":{"column":4,"line":111},"start":{"column":4,"line":111}}],"type":"if"},"3":{"line":192,"locations":[{"end":{"column":23,"line":196},"start":{"column":10,"line":193}},{"end":{"column":23,"line":200},"start":{"column":10,"line":197}}],"type":"switch"},"4":{"line":192,"locations":[{"end":{"column":50,"line":192},"start":{"column":17,"line":192}},{"end":{"column":61,"line":192},"start":{"column":55,"line":192}}],"type":"binary-expr"},"5":{"line":192,"locations":[{"end":{"column":41,"line":192},"start":{"column":32,"line":192}},{"end":{"column":50,"line":192},"start":{"column":44,"line":192}}],"type":"cond-expr"}},"code":["var AbsentCell, BS, CCNameCell, Column, ColumnGroup, ConceptCoachCell, ExternalCell, FixedDataTable, HomeworkCell, Icon, React, ReadingCell, Router, SortingHeader, Table, Time, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","Time = require('../time');","","Icon = require('../icon');","","ReadingCell = require('./reading-cell');","","HomeworkCell = require('./homework-cell');","","CCNameCell = require('./name-cell-cc');","","AbsentCell = require('./absent-cell');","","ExternalCell = require('./external-cell');","","SortingHeader = require('./sorting-header');","","FixedDataTable = require('fixed-data-table');","","ConceptCoachCell = require('./concept-coach-cell');","","Table = FixedDataTable.Table;","","Column = FixedDataTable.Column;","","ColumnGroup = FixedDataTable.ColumnGroup;","","Router = require('react-router');","","module.exports = React.createClass({","  displayName: 'CCTable',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    data: React.PropTypes.object.isRequired,","    width: React.PropTypes.number.isRequired,","    height: React.PropTypes.number.isRequired,","    sort: React.PropTypes.object.isRequired,","    onSort: React.PropTypes.func.isRequired,","    colSetWidth: React.PropTypes.number.isRequired,","    period_id: React.PropTypes.string,","    periodIndex: React.PropTypes.number.isRequired,","    firstDataColumn: React.PropTypes.number.isRequired,","    displayAs: React.PropTypes.string.isRequired,","    basedOn: React.PropTypes.string.isRequired,","    dataType: React.PropTypes.string","  },","  renderNameHeader: function() {","    var averageLabel, basedOn, customHeader, emptyCell, helpText, nameColumns, studentHeader;","    basedOn = this.props.basedOn;","    emptyCell = React.createElement(\"div\", {","      \"className\": 'blank'","    });","    helpText = \"(based on total \" + basedOn + \")\";","    averageLabel = React.createElement(\"div\", null, \"Class Average  \", React.createElement(\"span\", {","      \"className\": 'help'","    }, helpText));","    studentHeader = React.createElement(\"div\", {","      \"className\": 'cc-cell'","    }, React.createElement(SortingHeader, {","      \"sortKey\": 'name',","      \"sortState\": this.props.sort,","      \"onSort\": this.props.onSort","    }, React.createElement(\"div\", {","      \"className\": 'student-name'","    }, \"Student Name\")), React.createElement(\"div\", {","      \"className\": 'student-id'","    }, \"Student ID\"));","    customHeader = React.createElement(\"div\", {","      \"className\": 'assignment-header-cell'","    }, React.createElement(\"div\", {","      \"className\": 'average-label'","    }, averageLabel), React.createElement(\"div\", {","      \"className\": 'student-header'","    }, studentHeader));","    nameColumns = 2;","    return React.createElement(ColumnGroup, {","      \"fixed\": true,","      \"groupHeaderRenderer\": (function() {","        return emptyCell;","      })","    }, React.createElement(Column, {","      \"width\": this.props.colSetWidth * nameColumns,","      \"flexGrow\": 0.,","      \"allowCellsRecycling\": true,","      \"isResizable\": false,","      \"dataKey\": '0',","      \"fixed\": true,","      \"cellRenderer\": (function() {","        return this.cellData;","      }),","      \"headerRenderer\": (function() {","        return customHeader;","      })","    }));","  },","  renderHeadingCell: function(heading, i) {","    var average, basedOn, classAverage, customHeader, label, titleHeader, titleHeaderTooltip;","    i += this.props.firstDataColumn;","    basedOn = this.props.basedOn;","    classAverage = basedOn === 'possible' ? heading.total_average : heading.attempted_average;","    if (classAverage) {","      average = React.createElement(\"span\", {","        \"className\": 'average'","      }, (classAverage * 100).toFixed(0), \"%\");","    }","    label = React.createElement(\"div\", {","      \"className\": 'cc-cell'","    }, React.createElement(SortingHeader, {","      \"type\": heading.type,","      \"sortKey\": i,","      \"dataType\": this.props.dataType,","      \"sortState\": this.props.sort,","      \"onSort\": this.props.onSort","    }, React.createElement(\"div\", {","      \"ref\": 'score',","      \"className\": 'score'","    }, \"Score\")), React.createElement(SortingHeader, {","      \"type\": heading.type,","      \"sortKey\": i,","      \"dataType\": this.props.dataType,","      \"sortState\": this.props.sort,","      \"onSort\": this.props.onSort","    }, React.createElement(\"div\", {","      \"ref\": 'completed',","      \"className\": 'completed'","    }, \"Completed\")));","    titleHeaderTooltip = React.createElement(BS.Tooltip, null, React.createElement(\"div\", null, heading.title));","    titleHeader = React.createElement(BS.OverlayTrigger, {","      \"placement\": 'top',","      \"delayShow\": 1000.,","      \"delayHide\": 0.,","      \"overlay\": titleHeaderTooltip","    }, React.createElement(\"div\", {","      \"className\": 'header-cell title'","    }, heading.title));","    customHeader = React.createElement(\"div\", {","      \"data-assignment-type\": \"\" + heading.type,","      \"className\": 'assignment-header-cell'","    }, React.createElement(\"div\", {","      \"className\": 'average-cell'","    }, average), React.createElement(\"div\", {","      \"className\": 'label-cell'","    }, label));","    return React.createElement(ColumnGroup, {","      \"key\": i,","      \"groupHeaderRenderer\": (function() {","        return titleHeader;","      })","    }, React.createElement(Column, {","      \"label\": heading.title,","      \"headerRenderer\": (function() {","        return customHeader;","      }),","      \"cellRenderer\": (function() {","        return this.cellData;","      }),","      \"width\": this.props.colSetWidth,","      \"flexGrow\": 1.,","      \"allowCellsRecycling\": true,","      \"isResizable\": false,","      \"dataKey\": i","    }));","  },","  renderStudentRow: function(student_data) {","    var columns, j, len, props, ref, task;","    props = {","      student: student_data,","      courseId: this.props.courseId,","      roleId: student_data.role,","      displayAs: this.props.displayAs","    };","    columns = [","      React.createElement(CCNameCell, React.__spread({","        \"key\": 'name'","      }, props))","    ];","    ref = student_data.data;","    for (j = 0, len = ref.length; j < len; j++) {","      task = ref[j];","      props.task = task;","      columns.push((function() {","        switch ((task != null ? task.type : void 0) || 'null') {","          case 'null':","            return React.createElement(AbsentCell, React.__spread({","              \"key\": 'absent'","            }, props));","          case 'concept_coach':","            return React.createElement(ConceptCoachCell, React.__spread({","              \"key\": 'cc'","            }, props));","        }","      })());","    }","    return columns;","  },","  render: function() {","    var rowGetter;","    rowGetter = (function(_this) {","      return function(rowIndex) {","        return _this.renderStudentRow(_this.props.data.rows[rowIndex]);","      };","    })(this);","    return React.createElement(Table, {","      \"rowHeight\": 46.,","      \"rowGetter\": rowGetter,","      \"rowsCount\": this.props.data.rows.length,","      \"width\": this.props.width,","      \"height\": this.props.height,","      \"headerHeight\": 94.,","      \"groupHeaderHeight\": 50.","    }, this.renderNameHeader(), _.map(this.props.data.headings, this.renderHeadingCell));","  }","});",""],"f":{"1":17,"2":17,"3":72,"4":17,"5":0,"6":0,"7":0,"8":0,"9":72,"10":0,"11":17,"12":17,"13":72},"fnMap":{"1":{"line":57,"loc":{"end":{"column":31,"line":57},"start":{"column":20,"line":57}},"name":"(anonymous_1)"},"2":{"line":88,"loc":{"end":{"column":41,"line":88},"start":{"column":30,"line":88}},"name":"(anonymous_2)"},"3":{"line":98,"loc":{"end":{"column":34,"line":98},"start":{"column":23,"line":98}},"name":"(anonymous_3)"},"4":{"line":101,"loc":{"end":{"column":36,"line":101},"start":{"column":25,"line":101}},"name":"(anonymous_4)"},"5":{"line":106,"loc":{"end":{"column":42,"line":106},"start":{"column":21,"line":106}},"name":"(anonymous_5)"},"6":{"line":156,"loc":{"end":{"column":41,"line":156},"start":{"column":30,"line":156}},"name":"(anonymous_6)"},"7":{"line":161,"loc":{"end":{"column":36,"line":161},"start":{"column":25,"line":161}},"name":"(anonymous_7)"},"8":{"line":164,"loc":{"end":{"column":34,"line":164},"start":{"column":23,"line":164}},"name":"(anonymous_8)"},"9":{"line":174,"loc":{"end":{"column":43,"line":174},"start":{"column":20,"line":174}},"name":"(anonymous_9)"},"10":{"line":191,"loc":{"end":{"column":31,"line":191},"start":{"column":20,"line":191}},"name":"(anonymous_10)"},"11":{"line":206,"loc":{"end":{"column":21,"line":206},"start":{"column":10,"line":206}},"name":"(anonymous_11)"},"12":{"line":208,"loc":{"end":{"column":33,"line":208},"start":{"column":17,"line":208}},"name":"(anonymous_12)"},"13":{"line":209,"loc":{"end":{"column":32,"line":209},"start":{"column":13,"line":209}},"name":"(anonymous_13)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/table-cc.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":21,"20":17,"21":17,"22":17,"23":17,"24":17,"25":17,"26":17,"27":17,"28":17,"29":17,"30":72,"31":17,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":72,"47":72,"48":72,"49":72,"50":72,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":72,"58":17,"59":17,"60":17,"61":72,"62":17},"statementMap":{"1":{"end":{"column":179,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":42,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":39,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":38,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":42,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":44,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":45,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":51,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":29,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":31,"line":31},"start":{"column":0,"line":31}},"17":{"end":{"column":41,"line":33},"start":{"column":0,"line":33}},"18":{"end":{"column":33,"line":35},"start":{"column":0,"line":35}},"19":{"end":{"column":3,"line":223},"start":{"column":0,"line":37}},"20":{"end":{"column":93,"line":58},"start":{"column":4,"line":58}},"21":{"end":{"column":33,"line":59},"start":{"column":4,"line":59}},"22":{"end":{"column":7,"line":62},"start":{"column":4,"line":60}},"23":{"end":{"column":50,"line":63},"start":{"column":4,"line":63}},"24":{"end":{"column":18,"line":66},"start":{"column":4,"line":64}},"25":{"end":{"column":22,"line":77},"start":{"column":4,"line":67}},"26":{"end":{"column":23,"line":84},"start":{"column":4,"line":78}},"27":{"end":{"column":20,"line":85},"start":{"column":4,"line":85}},"28":{"end":{"column":8,"line":104},"start":{"column":4,"line":86}},"29":{"end":{"column":25,"line":89},"start":{"column":8,"line":89}},"30":{"end":{"column":29,"line":99},"start":{"column":8,"line":99}},"31":{"end":{"column":28,"line":102},"start":{"column":8,"line":102}},"32":{"end":{"column":93,"line":107},"start":{"column":4,"line":107}},"33":{"end":{"column":36,"line":108},"start":{"column":4,"line":108}},"34":{"end":{"column":33,"line":109},"start":{"column":4,"line":109}},"35":{"end":{"column":94,"line":110},"start":{"column":4,"line":110}},"36":{"end":{"column":5,"line":115},"start":{"column":4,"line":111}},"37":{"end":{"column":47,"line":114},"start":{"column":6,"line":112}},"38":{"end":{"column":22,"line":136},"start":{"column":4,"line":116}},"39":{"end":{"column":112,"line":137},"start":{"column":4,"line":137}},"40":{"end":{"column":23,"line":145},"start":{"column":4,"line":138}},"41":{"end":{"column":15,"line":153},"start":{"column":4,"line":146}},"42":{"end":{"column":8,"line":172},"start":{"column":4,"line":154}},"43":{"end":{"column":27,"line":157},"start":{"column":8,"line":157}},"44":{"end":{"column":28,"line":162},"start":{"column":8,"line":162}},"45":{"end":{"column":29,"line":165},"start":{"column":8,"line":165}},"46":{"end":{"column":42,"line":175},"start":{"column":4,"line":175}},"47":{"end":{"column":6,"line":181},"start":{"column":4,"line":176}},"48":{"end":{"column":6,"line":186},"start":{"column":4,"line":182}},"49":{"end":{"column":28,"line":187},"start":{"column":4,"line":187}},"50":{"end":{"column":5,"line":203},"start":{"column":4,"line":188}},"51":{"end":{"column":20,"line":189},"start":{"column":6,"line":189}},"52":{"end":{"column":24,"line":190},"start":{"column":6,"line":190}},"53":{"end":{"column":12,"line":202},"start":{"column":6,"line":191}},"54":{"end":{"column":9,"line":201},"start":{"column":8,"line":192}},"55":{"end":{"column":23,"line":196},"start":{"column":12,"line":194}},"56":{"end":{"column":23,"line":200},"start":{"column":12,"line":198}},"57":{"end":{"column":19,"line":204},"start":{"column":4,"line":204}},"58":{"end":{"column":18,"line":207},"start":{"column":4,"line":207}},"59":{"end":{"column":13,"line":212},"start":{"column":4,"line":208}},"60":{"end":{"column":8,"line":211},"start":{"column":6,"line":209}},"61":{"end":{"column":71,"line":210},"start":{"column":8,"line":210}},"62":{"end":{"column":89,"line":221},"start":{"column":4,"line":213}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"33":21,"35":21,"37":21,"58":17,"59":17,"60":17,"63":17,"64":17,"67":17,"78":17,"85":17,"86":17,"89":17,"99":72,"102":17,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"116":0,"137":0,"138":0,"146":0,"154":0,"157":0,"162":0,"165":0,"175":72,"176":72,"182":72,"187":72,"188":72,"189":0,"190":0,"191":0,"192":0,"194":0,"198":0,"204":72,"207":17,"208":17,"209":17,"210":72,"213":17}},
"/Users/phil/github/openstax/tutor-js/src/components/scores/table-hs.cjsx":{"b":{"1":[0,239],"2":[239,0],"3":[69,170],"4":[0,978,393,0],"5":[1371,0],"6":[1371,0]},"branchMap":{"1":{"line":93,"locations":[{"end":{"column":4,"line":93},"start":{"column":4,"line":93}},{"end":{"column":4,"line":93},"start":{"column":4,"line":93}}],"type":"if"},"2":{"line":99,"locations":[{"end":{"column":11,"line":99},"start":{"column":11,"line":99}},{"end":{"column":11,"line":99},"start":{"column":11,"line":99}}],"type":"if"},"3":{"line":111,"locations":[{"end":{"column":4,"line":111},"start":{"column":4,"line":111}},{"end":{"column":4,"line":111},"start":{"column":4,"line":111}}],"type":"if"},"4":{"line":167,"locations":[{"end":{"column":23,"line":171},"start":{"column":10,"line":168}},{"end":{"column":23,"line":175},"start":{"column":10,"line":172}},{"end":{"column":23,"line":179},"start":{"column":10,"line":176}},{"end":{"column":23,"line":183},"start":{"column":10,"line":180}}],"type":"switch"},"5":{"line":167,"locations":[{"end":{"column":50,"line":167},"start":{"column":17,"line":167}},{"end":{"column":61,"line":167},"start":{"column":55,"line":167}}],"type":"binary-expr"},"6":{"line":167,"locations":[{"end":{"column":41,"line":167},"start":{"column":32,"line":167}},{"end":{"column":50,"line":167},"start":{"column":44,"line":167}}],"type":"cond-expr"}},"code":["var AbsentCell, BS, Column, ColumnGroup, ExternalCell, FixedDataTable, HSNameCell, HomeworkCell, QuickStatsShell, React, ReadingCell, Router, SortingHeader, Table, Time, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","Time = require('../time');","","ReadingCell = require('./reading-cell');","","HomeworkCell = require('./homework-cell');","","HSNameCell = require('./name-cell-hs');","","AbsentCell = require('./absent-cell');","","ExternalCell = require('./external-cell');","","SortingHeader = require('./sorting-header');","","FixedDataTable = require('fixed-data-table');","","Table = FixedDataTable.Table;","","Column = FixedDataTable.Column;","","ColumnGroup = FixedDataTable.ColumnGroup;","","Router = require('react-router');","","QuickStatsShell = require('./quick-external-stats').QuickStatsShell;","","module.exports = React.createClass({","  displayName: 'HSTable',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    data: React.PropTypes.object.isRequired,","    width: React.PropTypes.number.isRequired,","    height: React.PropTypes.number.isRequired,","    sort: React.PropTypes.object.isRequired,","    onSort: React.PropTypes.func.isRequired,","    colSetWidth: React.PropTypes.number.isRequired,","    period_id: React.PropTypes.string,","    periodIndex: React.PropTypes.number.isRequired,","    firstDataColumn: React.PropTypes.number.isRequired","  },","  renderNameHeader: function() {","    var customHeader, dueDateHeading, emptyCell, header, nameColumns, studentIdHeader;","    emptyCell = React.createElement(\"div\", {","      \"className\": 'blank'","    });","    studentIdHeader = React.createElement(\"span\", {","      \"className\": 'student-id'","    }, \"Student ID\");","    header = React.createElement(SortingHeader, {","      \"sortKey\": 'name',","      \"sortState\": this.props.sort,","      \"onSort\": this.props.onSort","    }, React.createElement(\"span\", null, \"Student Name\"));","    dueDateHeading = React.createElement(\"div\", null, \"Due Date\");","    customHeader = React.createElement(\"div\", {","      \"className\": 'assignment-header-cell'","    }, dueDateHeading, header);","    nameColumns = 1;","    return React.createElement(ColumnGroup, {","      \"fixed\": true,","      \"groupHeaderRenderer\": (function() {","        return emptyCell;","      })","    }, React.createElement(Column, {","      \"width\": this.props.colSetWidth * nameColumns,","      \"flexGrow\": 0.,","      \"allowCellsRecycling\": true,","      \"isResizable\": false,","      \"dataKey\": '0',","      \"fixed\": true,","      \"cellRenderer\": (function() {","        return this.cellData;","      }),","      \"headerRenderer\": (function() {","        return customHeader;","      })","    }));","  },","  renderHeadingCell: function(heading, i) {","    var customHeader, dueDates, linkParams, review, sortingHeader, summary;","    i += this.props.firstDataColumn;","    if (heading.type === 'external') {","      summary = React.createElement(QuickStatsShell, {","        \"className\": 'summary',","        \"id\": \"\" + heading.plan_id,","        \"periodId\": this.props.period_id","      });","    } else if (heading.plan_id != null) {","      linkParams = {","        id: heading.plan_id,","        periodIndex: this.props.periodIndex,","        courseId: this.props.courseId","      };","      review = React.createElement(Router.Link, {","        \"to\": 'reviewTaskPeriod',","        \"params\": linkParams,","        \"className\": 'review-plan btn btn-default'","      }, \"Review\");","    }","    if (heading.attempted_average) {","      summary = React.createElement(\"span\", {","        \"className\": 'summary'","      }, (heading.attempted_average * 100).toFixed(0), \"% avg\");","    }","    sortingHeader = React.createElement(SortingHeader, {","      \"type\": heading.type,","      \"sortKey\": i,","      \"sortState\": this.props.sort,","      \"onSort\": this.props.onSort","    }, heading.title);","    dueDates = React.createElement(\"div\", null, React.createElement(Time, {","      \"date\": heading.due_at,","      \"format\": 'shortest'","    }));","    customHeader = React.createElement(\"div\", {","      \"data-assignment-type\": \"\" + heading.type,","      \"className\": 'assignment-header-cell'","    }, dueDates, React.createElement(\"div\", null, summary, review));","    return React.createElement(ColumnGroup, {","      \"key\": i,","      \"groupHeaderRenderer\": (function() {","        return sortingHeader;","      })","    }, React.createElement(Column, {","      \"label\": heading.title,","      \"headerRenderer\": (function() {","        return customHeader;","      }),","      \"cellRenderer\": (function() {","        return this.cellData;","      }),","      \"width\": this.props.colSetWidth,","      \"flexGrow\": 1.,","      \"allowCellsRecycling\": true,","      \"isResizable\": false,","      \"dataKey\": i","    }));","  },","  renderStudentRow: function(student_data) {","    var columns, j, len, props, ref, task;","    props = {","      student: student_data,","      courseId: this.props.courseId,","      roleId: student_data.role","    };","    columns = [","      React.createElement(HSNameCell, React.__spread({","        \"key\": 'name'","      }, props))","    ];","    ref = student_data.data;","    for (j = 0, len = ref.length; j < len; j++) {","      task = ref[j];","      props.task = task;","      columns.push((function() {","        switch ((task != null ? task.type : void 0) || 'null') {","          case 'null':","            return React.createElement(AbsentCell, React.__spread({","              \"key\": 'absent'","            }, props));","          case 'reading':","            return React.createElement(ReadingCell, React.__spread({","              \"key\": 'reading'","            }, props));","          case 'homework':","            return React.createElement(HomeworkCell, React.__spread({","              \"key\": 'homework'","            }, props));","          case 'external':","            return React.createElement(ExternalCell, React.__spread({","              \"key\": 'extern'","            }, props));","        }","      })());","    }","    return columns;","  },","  render: function() {","    var rowGetter;","    rowGetter = (function(_this) {","      return function(rowIndex) {","        return _this.renderStudentRow(_this.props.data.rows[rowIndex]);","      };","    })(this);","    return React.createElement(Table, {","      \"rowHeight\": 46.,","      \"rowGetter\": rowGetter,","      \"rowsCount\": this.props.data.rows.length,","      \"width\": this.props.width,","      \"height\": this.props.height,","      \"headerHeight\": 92.,","      \"groupHeaderHeight\": 50.","    }, this.renderNameHeader(), _.map(this.props.data.headings, this.renderHeadingCell));","  }","});",""],"f":{"1":39,"2":39,"3":227,"4":39,"5":239,"6":239,"7":109,"8":847,"9":227,"10":1371,"11":39,"12":39,"13":227},"fnMap":{"1":{"line":52,"loc":{"end":{"column":31,"line":52},"start":{"column":20,"line":52}},"name":"(anonymous_1)"},"2":{"line":72,"loc":{"end":{"column":41,"line":72},"start":{"column":30,"line":72}},"name":"(anonymous_2)"},"3":{"line":82,"loc":{"end":{"column":34,"line":82},"start":{"column":23,"line":82}},"name":"(anonymous_3)"},"4":{"line":85,"loc":{"end":{"column":36,"line":85},"start":{"column":25,"line":85}},"name":"(anonymous_4)"},"5":{"line":90,"loc":{"end":{"column":42,"line":90},"start":{"column":21,"line":90}},"name":"(anonymous_5)"},"6":{"line":132,"loc":{"end":{"column":41,"line":132},"start":{"column":30,"line":132}},"name":"(anonymous_6)"},"7":{"line":137,"loc":{"end":{"column":36,"line":137},"start":{"column":25,"line":137}},"name":"(anonymous_7)"},"8":{"line":140,"loc":{"end":{"column":34,"line":140},"start":{"column":23,"line":140}},"name":"(anonymous_8)"},"9":{"line":150,"loc":{"end":{"column":43,"line":150},"start":{"column":20,"line":150}},"name":"(anonymous_9)"},"10":{"line":166,"loc":{"end":{"column":31,"line":166},"start":{"column":20,"line":166}},"name":"(anonymous_10)"},"11":{"line":189,"loc":{"end":{"column":21,"line":189},"start":{"column":10,"line":189}},"name":"(anonymous_11)"},"12":{"line":191,"loc":{"end":{"column":33,"line":191},"start":{"column":17,"line":191}},"name":"(anonymous_12)"},"13":{"line":192,"loc":{"end":{"column":32,"line":192},"start":{"column":13,"line":192}},"name":"(anonymous_13)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scores/table-hs.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":39,"20":39,"21":39,"22":39,"23":39,"24":39,"25":39,"26":39,"27":39,"28":227,"29":39,"30":239,"31":239,"32":239,"33":0,"34":239,"35":239,"36":239,"37":239,"38":69,"39":239,"40":239,"41":239,"42":239,"43":239,"44":109,"45":847,"46":227,"47":227,"48":227,"49":227,"50":227,"51":1371,"52":1371,"53":1371,"54":1371,"55":0,"56":978,"57":393,"58":0,"59":227,"60":39,"61":39,"62":39,"63":227,"64":39},"statementMap":{"1":{"end":{"column":172,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":40,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":42,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":39,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":38,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":42,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":44,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":45,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":29,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":31,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":41,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":33,"line":31},"start":{"column":0,"line":31}},"17":{"end":{"column":68,"line":33},"start":{"column":0,"line":33}},"18":{"end":{"column":3,"line":206},"start":{"column":0,"line":35}},"19":{"end":{"column":86,"line":53},"start":{"column":4,"line":53}},"20":{"end":{"column":7,"line":56},"start":{"column":4,"line":54}},"21":{"end":{"column":21,"line":59},"start":{"column":4,"line":57}},"22":{"end":{"column":58,"line":64},"start":{"column":4,"line":60}},"23":{"end":{"column":66,"line":65},"start":{"column":4,"line":65}},"24":{"end":{"column":31,"line":68},"start":{"column":4,"line":66}},"25":{"end":{"column":20,"line":69},"start":{"column":4,"line":69}},"26":{"end":{"column":8,"line":88},"start":{"column":4,"line":70}},"27":{"end":{"column":25,"line":73},"start":{"column":8,"line":73}},"28":{"end":{"column":29,"line":83},"start":{"column":8,"line":83}},"29":{"end":{"column":28,"line":86},"start":{"column":8,"line":86}},"30":{"end":{"column":75,"line":91},"start":{"column":4,"line":91}},"31":{"end":{"column":36,"line":92},"start":{"column":4,"line":92}},"32":{"end":{"column":5,"line":110},"start":{"column":4,"line":93}},"33":{"end":{"column":9,"line":98},"start":{"column":6,"line":94}},"34":{"end":{"column":5,"line":110},"start":{"column":11,"line":99}},"35":{"end":{"column":8,"line":104},"start":{"column":6,"line":100}},"36":{"end":{"column":19,"line":109},"start":{"column":6,"line":105}},"37":{"end":{"column":5,"line":115},"start":{"column":4,"line":111}},"38":{"end":{"column":64,"line":114},"start":{"column":6,"line":112}},"39":{"end":{"column":22,"line":121},"start":{"column":4,"line":116}},"40":{"end":{"column":8,"line":125},"start":{"column":4,"line":122}},"41":{"end":{"column":68,"line":129},"start":{"column":4,"line":126}},"42":{"end":{"column":8,"line":148},"start":{"column":4,"line":130}},"43":{"end":{"column":29,"line":133},"start":{"column":8,"line":133}},"44":{"end":{"column":28,"line":138},"start":{"column":8,"line":138}},"45":{"end":{"column":29,"line":141},"start":{"column":8,"line":141}},"46":{"end":{"column":42,"line":151},"start":{"column":4,"line":151}},"47":{"end":{"column":6,"line":156},"start":{"column":4,"line":152}},"48":{"end":{"column":6,"line":161},"start":{"column":4,"line":157}},"49":{"end":{"column":28,"line":162},"start":{"column":4,"line":162}},"50":{"end":{"column":5,"line":186},"start":{"column":4,"line":163}},"51":{"end":{"column":20,"line":164},"start":{"column":6,"line":164}},"52":{"end":{"column":24,"line":165},"start":{"column":6,"line":165}},"53":{"end":{"column":12,"line":185},"start":{"column":6,"line":166}},"54":{"end":{"column":9,"line":184},"start":{"column":8,"line":167}},"55":{"end":{"column":23,"line":171},"start":{"column":12,"line":169}},"56":{"end":{"column":23,"line":175},"start":{"column":12,"line":173}},"57":{"end":{"column":23,"line":179},"start":{"column":12,"line":177}},"58":{"end":{"column":23,"line":183},"start":{"column":12,"line":181}},"59":{"end":{"column":19,"line":187},"start":{"column":4,"line":187}},"60":{"end":{"column":18,"line":190},"start":{"column":4,"line":190}},"61":{"end":{"column":13,"line":195},"start":{"column":4,"line":191}},"62":{"end":{"column":8,"line":194},"start":{"column":6,"line":192}},"63":{"end":{"column":71,"line":193},"start":{"column":8,"line":193}},"64":{"end":{"column":89,"line":204},"start":{"column":4,"line":196}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"33":21,"35":21,"53":39,"54":39,"57":39,"60":39,"65":39,"66":39,"69":39,"70":39,"73":39,"83":227,"86":39,"91":239,"92":239,"93":239,"94":0,"99":239,"100":239,"105":239,"111":239,"112":69,"116":239,"122":239,"126":239,"130":239,"133":239,"138":109,"141":847,"151":227,"152":227,"157":227,"162":227,"163":227,"164":1371,"165":1371,"166":1371,"167":1371,"169":0,"173":978,"177":393,"181":0,"187":227,"190":39,"191":39,"192":39,"193":227,"196":39}},
"/Users/phil/github/openstax/tutor-js/src/components/scroll-to.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,1],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0]},"branchMap":{"1":{"line":16,"locations":[{"end":{"column":2,"line":16},"start":{"column":2,"line":16}},{"end":{"column":2,"line":16},"start":{"column":2,"line":16}}],"type":"if"},"2":{"line":24,"locations":[{"end":{"column":2,"line":24},"start":{"column":2,"line":24}},{"end":{"column":2,"line":24},"start":{"column":2,"line":24}}],"type":"if"},"3":{"line":40,"locations":[{"end":{"column":4,"line":40},"start":{"column":4,"line":40}},{"end":{"column":4,"line":40},"start":{"column":4,"line":40}}],"type":"if"},"4":{"line":42,"locations":[{"end":{"column":101,"line":42},"start":{"column":7,"line":42}},{"end":{"column":133,"line":42},"start":{"column":106,"line":42}}],"type":"binary-expr"},"5":{"line":42,"locations":[{"end":{"column":92,"line":42},"start":{"column":59,"line":42}},{"end":{"column":101,"line":42},"start":{"column":95,"line":42}}],"type":"cond-expr"},"6":{"line":52,"locations":[{"end":{"column":4,"line":52},"start":{"column":4,"line":52}},{"end":{"column":4,"line":52},"start":{"column":4,"line":52}}],"type":"if"},"7":{"line":57,"locations":[{"end":{"column":4,"line":57},"start":{"column":4,"line":57}},{"end":{"column":4,"line":57},"start":{"column":4,"line":57}}],"type":"if"},"8":{"line":62,"locations":[{"end":{"column":4,"line":62},"start":{"column":4,"line":62}},{"end":{"column":4,"line":62},"start":{"column":4,"line":62}}],"type":"if"},"9":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"10":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"},"11":{"line":79,"locations":[{"end":{"column":78,"line":79},"start":{"column":55,"line":79}},{"end":{"column":87,"line":79},"start":{"column":81,"line":79}}],"type":"cond-expr"},"12":{"line":83,"locations":[{"end":{"column":4,"line":83},"start":{"column":4,"line":83}},{"end":{"column":4,"line":83},"start":{"column":4,"line":83}}],"type":"if"},"13":{"line":83,"locations":[{"end":{"column":90,"line":83},"start":{"column":21,"line":83}},{"end":{"column":99,"line":83},"start":{"column":93,"line":83}}],"type":"cond-expr"},"14":{"line":83,"locations":[{"end":{"column":81,"line":83},"start":{"column":52,"line":83}},{"end":{"column":90,"line":83},"start":{"column":84,"line":83}}],"type":"cond-expr"},"15":{"line":87,"locations":[{"end":{"column":76,"line":87},"start":{"column":54,"line":87}},{"end":{"column":85,"line":87},"start":{"column":79,"line":87}}],"type":"cond-expr"},"16":{"line":90,"locations":[{"end":{"column":4,"line":90},"start":{"column":4,"line":90}},{"end":{"column":4,"line":90},"start":{"column":4,"line":90}}],"type":"if"},"17":{"line":90,"locations":[{"end":{"column":47,"line":90},"start":{"column":8,"line":90}},{"end":{"column":117,"line":90},"start":{"column":51,"line":90}}],"type":"binary-expr"},"18":{"line":98,"locations":[{"end":{"column":4,"line":98},"start":{"column":4,"line":98}},{"end":{"column":4,"line":98},"start":{"column":4,"line":98}}],"type":"if"},"19":{"line":106,"locations":[{"end":{"column":53,"line":106},"start":{"column":28,"line":106}},{"end":{"column":64,"line":106},"start":{"column":57,"line":106}}],"type":"binary-expr"},"20":{"line":112,"locations":[{"end":{"column":8,"line":112},"start":{"column":8,"line":112}},{"end":{"column":8,"line":112},"start":{"column":8,"line":112}}],"type":"if"}},"code":["var DEFAULT_DURATION, DEFAULT_TOP_OFFSET, EASE_IN_OUT, GetPositionMixin, MAXIMUM_SCROLL_ATTEMPTS, POSITION, React, ScrollTo, _;","","React = require('react');","","_ = require('underscore');","","GetPositionMixin = require('openstax-react-components').GetPositionMixin;","","DEFAULT_DURATION = 750;","","DEFAULT_TOP_OFFSET = 80;","","MAXIMUM_SCROLL_ATTEMPTS = 3;","","EASE_IN_OUT = function(t) {","  if (t < .5) {","    return 4 * t * t * t;","  } else {","    return (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;","  }","};","","POSITION = function(start, end, elapsed, duration) {","  if (elapsed > duration) {","    return end;","  }","  return start + (end - start) * EASE_IN_OUT(elapsed / duration);","};","","ScrollTo = {","  getDefaultProps: function() {","    return {","      windowImpl: window","    };","  },","  componentDidMount: function() {","    var hash;","    React.findDOMNode(this).addEventListener('click', this._onScrollClick, false);","    hash = this.props.windowImpl.location.hash;","    if (hash) {","      this.props.windowImpl.location.hash = \"\";","      (typeof this.waitToScrollToSelector === \"function\" ? this.waitToScrollToSelector(hash) : void 0) || this.scrollToSelector(hash);","    }","    return this.props.windowImpl.addEventListener('hashchange', this._onHashChange, false);","  },","  componentWillUnmount: function() {","    React.findDOMNode(this).removeEventListener('click', this._onScrollClick, false);","    return this.props.windowImpl.removeEventListener('hashchange', this._onHashChange, false);","  },","  scrollToSelector: function(selector) {","    var el, root;","    if (_.isEmpty(selector)) {","      return;","    }","    root = React.findDOMNode(this);","    el = root.querySelector(selector);","    if (el) {","      return this.scrollToElement(el);","    }","  },","  _onHashChange: function() {","    if (this.props.windowImpl.location.hash) {","      return this.scrollToSelector(this.props.windowImpl.location.hash);","    }","  },","  _onScrollClick: function(ev) {","    if (ev.target.tagName !== 'A') {","      return;","    }","    if (this.scrollToSelector(ev.target.hash)) {","      return ev.preventDefault();","    }","  },","  _desiredTopPosition: function(el) {","    return GetPositionMixin.getTopPosition(el) - _.result(this, 'getScrollTopOffset', DEFAULT_TOP_OFFSET);","  },","  _onBeforeScroll: function(el) {","    el.classList.add('target-scroll');","    return typeof this.onBeforeScroll === \"function\" ? this.onBeforeScroll(el) : void 0;","  },","  _onAfterScroll: function(el) {","    var ref;","    if (el != null ? (ref = el.classList) != null ? ref.contains('target-scroll') : void 0 : void 0) {","      _.delay(el.classList.remove.bind(el.classList, 'target-scroll'), 150);","    }","    this.props.windowImpl.history.pushState(null, null, \"#\" + el.id);","    return typeof this.onAfterScroll === \"function\" ? this.onAfterScroll(el) : void 0;","  },","  _onScrollStep: function(el, attemptNumber) {","    if (attemptNumber < MAXIMUM_SCROLL_ATTEMPTS && this.props.windowImpl.pageYOffset !== this._desiredTopPosition(el)) {","      return this.scrollToElement(el, attemptNumber + 1);","    } else {","      return this._onAfterScroll(el);","    }","  },","  scrollToElement: function(el, attemptNumber) {","    var duration, endPos, requestAnimationFrame, startPos, startTime, step, win;","    if (attemptNumber == null) {","      attemptNumber = 0;","    }","    win = this.props.windowImpl;","    startPos = win.pageYOffset;","    endPos = this._desiredTopPosition(el);","    startTime = Date.now();","    duration = _.result(this, 'getScrollDuration', DEFAULT_DURATION);","    requestAnimationFrame = win.requestAnimationFrame || _.defer;","    step = (function(_this) {","      return function() {","        var elapsed;","        elapsed = Date.now() - startTime;","        win.scroll(0, POSITION(startPos, endPos, elapsed, duration));","        if (elapsed < duration) {","          return requestAnimationFrame(step);","        } else {","          return _this._onScrollStep(el, attemptNumber);","        }","      };","    })(this);","    this._onBeforeScroll(el);","    return step();","  }","};","","module.exports = ScrollTo;",""],"f":{"1":0,"2":0,"3":42,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"line":15,"loc":{"end":{"column":26,"line":15},"start":{"column":14,"line":15}},"name":"(anonymous_1)"},"2":{"line":23,"loc":{"end":{"column":51,"line":23},"start":{"column":11,"line":23}},"name":"(anonymous_2)"},"3":{"line":31,"loc":{"end":{"column":30,"line":31},"start":{"column":19,"line":31}},"name":"(anonymous_3)"},"4":{"line":36,"loc":{"end":{"column":32,"line":36},"start":{"column":21,"line":36}},"name":"(anonymous_4)"},"5":{"line":46,"loc":{"end":{"column":35,"line":46},"start":{"column":24,"line":46}},"name":"(anonymous_5)"},"6":{"line":50,"loc":{"end":{"column":39,"line":50},"start":{"column":20,"line":50}},"name":"(anonymous_6)"},"7":{"line":61,"loc":{"end":{"column":28,"line":61},"start":{"column":17,"line":61}},"name":"(anonymous_7)"},"8":{"line":66,"loc":{"end":{"column":31,"line":66},"start":{"column":18,"line":66}},"name":"(anonymous_8)"},"9":{"line":74,"loc":{"end":{"column":36,"line":74},"start":{"column":23,"line":74}},"name":"(anonymous_9)"},"10":{"line":77,"loc":{"end":{"column":32,"line":77},"start":{"column":19,"line":77}},"name":"(anonymous_10)"},"11":{"line":81,"loc":{"end":{"column":31,"line":81},"start":{"column":18,"line":81}},"name":"(anonymous_11)"},"12":{"line":89,"loc":{"end":{"column":45,"line":89},"start":{"column":17,"line":89}},"name":"(anonymous_12)"},"13":{"line":96,"loc":{"end":{"column":47,"line":96},"start":{"column":19,"line":96}},"name":"(anonymous_13)"},"14":{"line":107,"loc":{"end":{"column":28,"line":107},"start":{"column":12,"line":107}},"name":"(anonymous_14)"},"15":{"line":108,"loc":{"end":{"column":24,"line":108},"start":{"column":13,"line":108}},"name":"(anonymous_15)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scroll-to.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":21,"13":0,"14":0,"15":0,"16":21,"17":42,"18":1,"19":1,"20":1,"21":1,"22":0,"23":0,"24":1,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":21},"statementMap":{"1":{"end":{"column":127,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":73,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":23,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":24,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":28,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":2,"line":21},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":20},"start":{"column":2,"line":16}},"10":{"end":{"column":25,"line":17},"start":{"column":4,"line":17}},"11":{"end":{"column":51,"line":19},"start":{"column":4,"line":19}},"12":{"end":{"column":2,"line":28},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":26},"start":{"column":2,"line":24}},"14":{"end":{"column":15,"line":25},"start":{"column":4,"line":25}},"15":{"end":{"column":65,"line":27},"start":{"column":2,"line":27}},"16":{"end":{"column":2,"line":122},"start":{"column":0,"line":30}},"17":{"end":{"column":6,"line":34},"start":{"column":4,"line":32}},"18":{"end":{"column":13,"line":37},"start":{"column":4,"line":37}},"19":{"end":{"column":82,"line":38},"start":{"column":4,"line":38}},"20":{"end":{"column":47,"line":39},"start":{"column":4,"line":39}},"21":{"end":{"column":5,"line":43},"start":{"column":4,"line":40}},"22":{"end":{"column":47,"line":41},"start":{"column":6,"line":41}},"23":{"end":{"column":134,"line":42},"start":{"column":6,"line":42}},"24":{"end":{"column":91,"line":44},"start":{"column":4,"line":44}},"25":{"end":{"column":85,"line":47},"start":{"column":4,"line":47}},"26":{"end":{"column":94,"line":48},"start":{"column":4,"line":48}},"27":{"end":{"column":17,"line":51},"start":{"column":4,"line":51}},"28":{"end":{"column":5,"line":54},"start":{"column":4,"line":52}},"29":{"end":{"column":13,"line":53},"start":{"column":6,"line":53}},"30":{"end":{"column":35,"line":55},"start":{"column":4,"line":55}},"31":{"end":{"column":38,"line":56},"start":{"column":4,"line":56}},"32":{"end":{"column":5,"line":59},"start":{"column":4,"line":57}},"33":{"end":{"column":38,"line":58},"start":{"column":6,"line":58}},"34":{"end":{"column":5,"line":64},"start":{"column":4,"line":62}},"35":{"end":{"column":72,"line":63},"start":{"column":6,"line":63}},"36":{"end":{"column":5,"line":69},"start":{"column":4,"line":67}},"37":{"end":{"column":13,"line":68},"start":{"column":6,"line":68}},"38":{"end":{"column":5,"line":72},"start":{"column":4,"line":70}},"39":{"end":{"column":33,"line":71},"start":{"column":6,"line":71}},"40":{"end":{"column":106,"line":75},"start":{"column":4,"line":75}},"41":{"end":{"column":38,"line":78},"start":{"column":4,"line":78}},"42":{"end":{"column":88,"line":79},"start":{"column":4,"line":79}},"43":{"end":{"column":12,"line":82},"start":{"column":4,"line":82}},"44":{"end":{"column":5,"line":85},"start":{"column":4,"line":83}},"45":{"end":{"column":76,"line":84},"start":{"column":6,"line":84}},"46":{"end":{"column":69,"line":86},"start":{"column":4,"line":86}},"47":{"end":{"column":86,"line":87},"start":{"column":4,"line":87}},"48":{"end":{"column":5,"line":94},"start":{"column":4,"line":90}},"49":{"end":{"column":57,"line":91},"start":{"column":6,"line":91}},"50":{"end":{"column":37,"line":93},"start":{"column":6,"line":93}},"51":{"end":{"column":80,"line":97},"start":{"column":4,"line":97}},"52":{"end":{"column":5,"line":100},"start":{"column":4,"line":98}},"53":{"end":{"column":24,"line":99},"start":{"column":6,"line":99}},"54":{"end":{"column":32,"line":101},"start":{"column":4,"line":101}},"55":{"end":{"column":31,"line":102},"start":{"column":4,"line":102}},"56":{"end":{"column":42,"line":103},"start":{"column":4,"line":103}},"57":{"end":{"column":27,"line":104},"start":{"column":4,"line":104}},"58":{"end":{"column":69,"line":105},"start":{"column":4,"line":105}},"59":{"end":{"column":65,"line":106},"start":{"column":4,"line":106}},"60":{"end":{"column":13,"line":118},"start":{"column":4,"line":107}},"61":{"end":{"column":8,"line":117},"start":{"column":6,"line":108}},"62":{"end":{"column":20,"line":109},"start":{"column":8,"line":109}},"63":{"end":{"column":41,"line":110},"start":{"column":8,"line":110}},"64":{"end":{"column":69,"line":111},"start":{"column":8,"line":111}},"65":{"end":{"column":9,"line":116},"start":{"column":8,"line":112}},"66":{"end":{"column":45,"line":113},"start":{"column":10,"line":113}},"67":{"end":{"column":56,"line":115},"start":{"column":10,"line":115}},"68":{"end":{"column":29,"line":119},"start":{"column":4,"line":119}},"69":{"end":{"column":18,"line":120},"start":{"column":4,"line":120}},"70":{"end":{"column":26,"line":124},"start":{"column":0,"line":124}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"16":0,"17":0,"19":0,"23":21,"24":0,"25":0,"27":0,"30":21,"32":42,"37":1,"38":1,"39":1,"40":1,"41":0,"42":0,"44":1,"47":1,"48":1,"51":0,"52":0,"53":0,"55":0,"56":0,"57":0,"58":0,"62":0,"63":0,"67":0,"68":0,"70":0,"71":0,"75":0,"78":0,"79":0,"82":0,"83":0,"84":0,"86":0,"87":0,"90":0,"91":0,"93":0,"97":0,"98":0,"99":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"115":0,"119":0,"120":0,"124":21}},
"/Users/phil/github/openstax/tutor-js/src/components/scroll-tracker.cjsx":{"b":{"1":[29,0],"2":[14,0],"3":[0,2],"4":[2,8],"5":[10,0],"6":[10,0],"7":[4,6],"8":[0,6],"9":[0,0]},"branchMap":{"1":{"line":33,"locations":[{"end":{"column":92,"line":33},"start":{"column":52,"line":33}},{"end":{"column":101,"line":33},"start":{"column":95,"line":33}}],"type":"cond-expr"},"2":{"line":88,"locations":[{"end":{"column":22,"line":88},"start":{"column":11,"line":88}},{"end":{"column":57,"line":88},"start":{"column":26,"line":88}}],"type":"binary-expr"},"3":{"line":107,"locations":[{"end":{"column":4,"line":107},"start":{"column":4,"line":107}},{"end":{"column":4,"line":107},"start":{"column":4,"line":107}}],"type":"if"},"4":{"line":114,"locations":[{"end":{"column":4,"line":114},"start":{"column":4,"line":114}},{"end":{"column":4,"line":114},"start":{"column":4,"line":114}}],"type":"if"},"5":{"line":120,"locations":[{"end":{"column":133,"line":120},"start":{"column":126,"line":120}},{"end":{"column":142,"line":120},"start":{"column":136,"line":120}}],"type":"cond-expr"},"6":{"line":121,"locations":[{"end":{"column":106,"line":121},"start":{"column":98,"line":121}},{"end":{"column":115,"line":121},"start":{"column":109,"line":121}}],"type":"cond-expr"},"7":{"line":122,"locations":[{"end":{"column":4,"line":122},"start":{"column":4,"line":122}},{"end":{"column":4,"line":122},"start":{"column":4,"line":122}}],"type":"if"},"8":{"line":124,"locations":[{"end":{"column":11,"line":124},"start":{"column":11,"line":124}},{"end":{"column":11,"line":124},"start":{"column":11,"line":124}}],"type":"if"},"9":{"line":131,"locations":[{"end":{"column":76,"line":131},"start":{"column":53,"line":131}},{"end":{"column":85,"line":131},"start":{"column":79,"line":131}}],"type":"cond-expr"}},"code":["var GetPositionMixin, React, ScrollTracker, ScrollTrackerParentMixin, _;","","React = require('react');","","_ = require('underscore');","","GetPositionMixin = require('openstax-react-components').GetPositionMixin;","","ScrollTracker = {","  mixins: [GetPositionMixin],","  propTypes: {","    setScrollPoint: React.PropTypes.func.isRequired,","    unsetScrollPoint: React.PropTypes.func,","    scrollState: React.PropTypes.object.isRequired","  },","  getInitialState: function() {","    return {","      scrollPoint: 0","    };","  },","  setScrollPoint: function() {","    var ref, scrollPoint, scrollState, setScrollPoint;","    ref = this.props, setScrollPoint = ref.setScrollPoint, scrollState = ref.scrollState;","    scrollPoint = this.getTopPosition(this.getDOMNode());","    this.setState({","      scrollPoint: scrollPoint","    });","    return setScrollPoint(scrollPoint, scrollState);","  },","  unsetScrollPoint: function() {","    var unsetScrollPoint;","    unsetScrollPoint = this.props.unsetScrollPoint;","    return typeof unsetScrollPoint === \"function\" ? unsetScrollPoint(this.state.scrollPoint) : void 0;","  },","  componentDidMount: function() {","    return this.setScrollPoint();","  },","  componentWillUnmount: function() {","    return this.unsetScrollPoint();","  }","};","","ScrollTrackerParentMixin = {","  getInitialState: function() {","    return {","      scrollPoints: [],","      scrollState: {},","      scrollTopBuffer: 0","    };","  },","  setScrollTopBuffer: function() {","    var scrollTopBuffer;","    scrollTopBuffer = GetPositionMixin.getTopPosition(this.getDOMNode());","    return this.setState({","      scrollTopBuffer: scrollTopBuffer","    });","  },","  setScrollPoint: function(scrollPoint, scrollState) {","    var scrollPointData;","    scrollPointData = _.extend({","      scrollPoint: scrollPoint","    }, scrollState);","    this.state.scrollPoints.push(scrollPointData);","    return this.sortScrollPoints();","  },","  unsetScrollPoint: function(unsetScrollPoint) {","    this.state.scrollPoints = _.reject(this.state.scrollPoints, function(scrollPoint) {","      return scrollPoint.scrollPoint === unsetScrollPoint;","    });","    return this.sortScrollPoints();","  },","  sortScrollPoints: function() {","    var sortedDescScrollPoints;","    sortedDescScrollPoints = _.sortBy(this.state.scrollPoints, function(scrollData) {","      return -1 * scrollData.scrollPoint;","    });","    return this.setState({","      scrollPoints: sortedDescScrollPoints","    });","  },","  getScrollStateByScroll: function(scrollTop) {","    var scrollState;","    scrollState = _.find(this.state.scrollPoints, (function(_this) {","      return function(scrollData) {","        return scrollTop > (scrollData.scrollPoint - _this.state.scrollTopBuffer - 2);","      };","    })(this));","    return scrollState || _.last(this.state.scrollPoints);","  },","  getScrollStateByKey: function(stepKey) {","    var scrollStateIndex;","    scrollStateIndex = _.findLastIndex(this.state.scrollPoints, function(scrollData) {","      return scrollData.key === stepKey;","    });","    return this.state.scrollPoints[scrollStateIndex];","  },","  setScrollState: function() {","    var scrollState;","    scrollState = this.getScrollStateByScroll(this.state.scrollTop);","    this.setState({","      scrollState: scrollState","    });","    return this.props.setScrollState(scrollState);","  },","  componentDidMount: function() {","    this.setScrollTopBuffer();","    if (this.props.currentStep != null) {","      return this.scrollToKey(this.props.currentStep);","    }","  },","  componentWillUpdate: function(nextProps, nextState) {","    var willScrollStateKeyChange;","    willScrollStateKeyChange = !(nextState.scrollState.key === this.state.scrollState.key);","    if (willScrollStateKeyChange) {","      return this.props.goToStep(nextState.scrollState.key);","    }","  },","  componentDidUpdate: function(prevProps, prevState) {","    var didCurrentStepChange, doesScrollStateMatch, ref, ref1;","    doesScrollStateMatch = prevState.scrollState.key === ((ref = this.getScrollStateByScroll(this.state.scrollTop)) != null ? ref.key : void 0);","    didCurrentStepChange = !(this.props.currentStep === ((ref1 = prevState.scrollState) != null ? ref1.key : void 0));","    if (!doesScrollStateMatch) {","      return this.setScrollState();","    } else if (didCurrentStepChange) {","      return this.scrollToKey(this.props.currentStep);","    }","  },","  scrollToKey: function(stepKey) {","    var scrollState;","    scrollState = this.getScrollStateByKey(stepKey);","    return window.scrollTo(0, (scrollState != null ? scrollState.scrollPoint : void 0) - this.state.scrollTopBuffer);","  }","};","","module.exports = {","  ScrollTracker: ScrollTracker,","  ScrollTrackerParentMixin: ScrollTrackerParentMixin","};",""],"f":{"1":29,"2":29,"3":29,"4":29,"5":29,"6":2,"7":2,"8":29,"9":29,"10":245,"11":58,"12":461,"13":14,"14":14,"15":203,"16":0,"17":0,"18":4,"19":2,"20":10,"21":10,"22":0},"fnMap":{"1":{"line":16,"loc":{"end":{"column":30,"line":16},"start":{"column":19,"line":16}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":29,"line":21},"start":{"column":18,"line":21}},"name":"(anonymous_2)"},"3":{"line":30,"loc":{"end":{"column":31,"line":30},"start":{"column":20,"line":30}},"name":"(anonymous_3)"},"4":{"line":35,"loc":{"end":{"column":32,"line":35},"start":{"column":21,"line":35}},"name":"(anonymous_4)"},"5":{"line":38,"loc":{"end":{"column":35,"line":38},"start":{"column":24,"line":38}},"name":"(anonymous_5)"},"6":{"line":44,"loc":{"end":{"column":30,"line":44},"start":{"column":19,"line":44}},"name":"(anonymous_6)"},"7":{"line":51,"loc":{"end":{"column":33,"line":51},"start":{"column":22,"line":51}},"name":"(anonymous_7)"},"8":{"line":58,"loc":{"end":{"column":53,"line":58},"start":{"column":18,"line":58}},"name":"(anonymous_8)"},"9":{"line":66,"loc":{"end":{"column":47,"line":66},"start":{"column":20,"line":66}},"name":"(anonymous_9)"},"10":{"line":67,"loc":{"end":{"column":86,"line":67},"start":{"column":64,"line":67}},"name":"(anonymous_10)"},"11":{"line":72,"loc":{"end":{"column":31,"line":72},"start":{"column":20,"line":72}},"name":"(anonymous_11)"},"12":{"line":74,"loc":{"end":{"column":84,"line":74},"start":{"column":63,"line":74}},"name":"(anonymous_12)"},"13":{"line":81,"loc":{"end":{"column":46,"line":81},"start":{"column":26,"line":81}},"name":"(anonymous_13)"},"14":{"line":83,"loc":{"end":{"column":67,"line":83},"start":{"column":51,"line":83}},"name":"(anonymous_14)"},"15":{"line":84,"loc":{"end":{"column":34,"line":84},"start":{"column":13,"line":84}},"name":"(anonymous_15)"},"16":{"line":90,"loc":{"end":{"column":41,"line":90},"start":{"column":23,"line":90}},"name":"(anonymous_16)"},"17":{"line":92,"loc":{"end":{"column":85,"line":92},"start":{"column":64,"line":92}},"name":"(anonymous_17)"},"18":{"line":97,"loc":{"end":{"column":29,"line":97},"start":{"column":18,"line":97}},"name":"(anonymous_18)"},"19":{"line":105,"loc":{"end":{"column":32,"line":105},"start":{"column":21,"line":105}},"name":"(anonymous_19)"},"20":{"line":111,"loc":{"end":{"column":54,"line":111},"start":{"column":23,"line":111}},"name":"(anonymous_20)"},"21":{"line":118,"loc":{"end":{"column":53,"line":118},"start":{"column":22,"line":118}},"name":"(anonymous_21)"},"22":{"line":128,"loc":{"end":{"column":33,"line":128},"start":{"column":15,"line":128}},"name":"(anonymous_22)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/scroll-tracker.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":29,"7":29,"8":29,"9":29,"10":29,"11":29,"12":29,"13":29,"14":29,"15":29,"16":29,"17":21,"18":2,"19":2,"20":2,"21":2,"22":29,"23":29,"24":29,"25":29,"26":29,"27":245,"28":29,"29":58,"30":58,"31":461,"32":58,"33":14,"34":14,"35":14,"36":203,"37":14,"38":0,"39":0,"40":0,"41":0,"42":4,"43":4,"44":4,"45":4,"46":2,"47":2,"48":0,"49":10,"50":10,"51":10,"52":2,"53":10,"54":10,"55":10,"56":10,"57":4,"58":6,"59":0,"60":0,"61":0,"62":0,"63":21},"statementMap":{"1":{"end":{"column":72,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":73,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":41},"start":{"column":0,"line":9}},"6":{"end":{"column":6,"line":19},"start":{"column":4,"line":17}},"7":{"end":{"column":54,"line":22},"start":{"column":4,"line":22}},"8":{"end":{"column":89,"line":23},"start":{"column":4,"line":23}},"9":{"end":{"column":57,"line":24},"start":{"column":4,"line":24}},"10":{"end":{"column":7,"line":27},"start":{"column":4,"line":25}},"11":{"end":{"column":52,"line":28},"start":{"column":4,"line":28}},"12":{"end":{"column":25,"line":31},"start":{"column":4,"line":31}},"13":{"end":{"column":51,"line":32},"start":{"column":4,"line":32}},"14":{"end":{"column":102,"line":33},"start":{"column":4,"line":33}},"15":{"end":{"column":33,"line":36},"start":{"column":4,"line":36}},"16":{"end":{"column":35,"line":39},"start":{"column":4,"line":39}},"17":{"end":{"column":2,"line":133},"start":{"column":0,"line":43}},"18":{"end":{"column":6,"line":49},"start":{"column":4,"line":45}},"19":{"end":{"column":24,"line":52},"start":{"column":4,"line":52}},"20":{"end":{"column":73,"line":53},"start":{"column":4,"line":53}},"21":{"end":{"column":7,"line":56},"start":{"column":4,"line":54}},"22":{"end":{"column":24,"line":59},"start":{"column":4,"line":59}},"23":{"end":{"column":20,"line":62},"start":{"column":4,"line":60}},"24":{"end":{"column":50,"line":63},"start":{"column":4,"line":63}},"25":{"end":{"column":35,"line":64},"start":{"column":4,"line":64}},"26":{"end":{"column":7,"line":69},"start":{"column":4,"line":67}},"27":{"end":{"column":58,"line":68},"start":{"column":6,"line":68}},"28":{"end":{"column":35,"line":70},"start":{"column":4,"line":70}},"29":{"end":{"column":31,"line":73},"start":{"column":4,"line":73}},"30":{"end":{"column":7,"line":76},"start":{"column":4,"line":74}},"31":{"end":{"column":41,"line":75},"start":{"column":6,"line":75}},"32":{"end":{"column":7,"line":79},"start":{"column":4,"line":77}},"33":{"end":{"column":20,"line":82},"start":{"column":4,"line":82}},"34":{"end":{"column":14,"line":87},"start":{"column":4,"line":83}},"35":{"end":{"column":8,"line":86},"start":{"column":6,"line":84}},"36":{"end":{"column":86,"line":85},"start":{"column":8,"line":85}},"37":{"end":{"column":58,"line":88},"start":{"column":4,"line":88}},"38":{"end":{"column":25,"line":91},"start":{"column":4,"line":91}},"39":{"end":{"column":7,"line":94},"start":{"column":4,"line":92}},"40":{"end":{"column":40,"line":93},"start":{"column":6,"line":93}},"41":{"end":{"column":53,"line":95},"start":{"column":4,"line":95}},"42":{"end":{"column":20,"line":98},"start":{"column":4,"line":98}},"43":{"end":{"column":68,"line":99},"start":{"column":4,"line":99}},"44":{"end":{"column":7,"line":102},"start":{"column":4,"line":100}},"45":{"end":{"column":50,"line":103},"start":{"column":4,"line":103}},"46":{"end":{"column":30,"line":106},"start":{"column":4,"line":106}},"47":{"end":{"column":5,"line":109},"start":{"column":4,"line":107}},"48":{"end":{"column":54,"line":108},"start":{"column":6,"line":108}},"49":{"end":{"column":33,"line":112},"start":{"column":4,"line":112}},"50":{"end":{"column":91,"line":113},"start":{"column":4,"line":113}},"51":{"end":{"column":5,"line":116},"start":{"column":4,"line":114}},"52":{"end":{"column":60,"line":115},"start":{"column":6,"line":115}},"53":{"end":{"column":62,"line":119},"start":{"column":4,"line":119}},"54":{"end":{"column":144,"line":120},"start":{"column":4,"line":120}},"55":{"end":{"column":118,"line":121},"start":{"column":4,"line":121}},"56":{"end":{"column":5,"line":126},"start":{"column":4,"line":122}},"57":{"end":{"column":35,"line":123},"start":{"column":6,"line":123}},"58":{"end":{"column":5,"line":126},"start":{"column":11,"line":124}},"59":{"end":{"column":54,"line":125},"start":{"column":6,"line":125}},"60":{"end":{"column":20,"line":129},"start":{"column":4,"line":129}},"61":{"end":{"column":52,"line":130},"start":{"column":4,"line":130}},"62":{"end":{"column":117,"line":131},"start":{"column":4,"line":131}},"63":{"end":{"column":2,"line":138},"start":{"column":0,"line":135}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"17":29,"22":29,"23":29,"24":29,"25":29,"28":29,"31":29,"32":29,"33":29,"36":29,"39":29,"43":21,"45":2,"52":2,"53":2,"54":2,"59":29,"60":29,"63":29,"64":29,"67":29,"68":245,"70":29,"73":58,"74":58,"75":461,"77":58,"82":14,"83":14,"84":14,"85":203,"88":14,"91":0,"92":0,"93":0,"95":0,"98":4,"99":4,"100":4,"103":4,"106":2,"107":2,"108":0,"112":10,"113":10,"114":10,"115":2,"119":10,"120":10,"121":10,"122":10,"123":4,"124":6,"125":0,"129":0,"130":0,"131":0,"135":21}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/all-events-by-week.cjsx":{"b":{"1":[2,0]},"branchMap":{"1":{"line":37,"locations":[{"end":{"column":4,"line":37},"start":{"column":4,"line":37}},{"end":{"column":4,"line":37},"start":{"column":4,"line":37}}],"type":"if"}},"code":["var BS, EmptyPanel, EventsPanel, React, StudentDashboardStore, _, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment');","","EmptyPanel = require('./empty-panel');","","EventsPanel = require('./events-panel');","","StudentDashboardStore = require('../../flux/student-dashboard').StudentDashboardStore;","","_ = require('underscore');","","module.exports = React.createClass({","  displayName: 'AllEventsByWeek',","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  renderWeek: function(events, week) {","    var startAt;","    startAt = moment(week, 'YYYYww');","    return React.createElement(EventsPanel, {","      \"key\": week,","      \"className\": '-weeks-events',","      \"courseId\": this.props.courseId,","      \"events\": events,","      \"startAt\": startAt,","      \"endAt\": startAt.clone().add(1, 'week')","    });","  },","  render: function() {","    var weeks;","    weeks = StudentDashboardStore.pastEventsByWeek(this.props.courseId);","    if (_.any(weeks)) {","      return React.createElement(\"div\", null, _.map(weeks, this.renderWeek));","    } else {","      return React.createElement(EmptyPanel, null, \"No past tasks\");","    }","  }","});",""],"f":{"1":2,"2":2},"fnMap":{"1":{"line":22,"loc":{"end":{"column":37,"line":22},"start":{"column":14,"line":22}},"name":"(anonymous_1)"},"2":{"line":34,"loc":{"end":{"column":21,"line":34},"start":{"column":10,"line":34}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/all-events-by-week.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":0},"statementMap":{"1":{"end":{"column":73,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":38,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":40,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":86,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":26,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":43},"start":{"column":0,"line":17}},"10":{"end":{"column":16,"line":23},"start":{"column":4,"line":23}},"11":{"end":{"column":37,"line":24},"start":{"column":4,"line":24}},"12":{"end":{"column":7,"line":32},"start":{"column":4,"line":25}},"13":{"end":{"column":14,"line":35},"start":{"column":4,"line":35}},"14":{"end":{"column":72,"line":36},"start":{"column":4,"line":36}},"15":{"end":{"column":5,"line":41},"start":{"column":4,"line":37}},"16":{"end":{"column":77,"line":38},"start":{"column":6,"line":38}},"17":{"end":{"column":68,"line":40},"start":{"column":6,"line":40}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"23":2,"24":2,"25":2,"35":2,"36":2,"37":2,"38":2,"40":0}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/dashboard.cjsx":{"b":{},"branchMap":{},"code":["var AllEventsByWeek, BS, BrowseTheBook, CourseDataMixin, CourseStore, DontForgetPanel, EmptyPanel, PracticeButton, ProgressGuideShell, React, StudentDashboardStore, ThisWeekPanel, UpcomingPanel, _, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment');","","_ = require('underscore');","","DontForgetPanel = require('./dont-forget-panel');","","EmptyPanel = require('./empty-panel');","","UpcomingPanel = require('./upcoming-panel');","","AllEventsByWeek = require('./all-events-by-week');","","ThisWeekPanel = require('./this-week-panel');","","PracticeButton = require('../buttons/practice-button');","","ProgressGuideShell = require('./progress-guide');","","BrowseTheBook = require('../buttons/browse-the-book');","","CourseDataMixin = require('../course-data-mixin');","","StudentDashboardStore = require('../../flux/student-dashboard').StudentDashboardStore;","","CourseStore = require('../../flux/course').CourseStore;","","module.exports = React.createClass({","  displayName: 'StudentDashboard',","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  mixins: [CourseDataMixin],","  contextTypes: {","    router: React.PropTypes.func","  },","  getInitialState: function() {","    return {","      selectedTabIndex: 1","    };","  },","  selectTab: function(index) {","    return this.setState({","      selectedTabIndex: index","    });","  },","  render: function() {","    var courseDataProps, courseId, info;","    courseId = this.props.courseId;","    courseDataProps = this.getCourseDataProps(courseId);","    info = StudentDashboardStore.get(courseId);","    return React.createElement(\"div\", React.__spread({}, courseDataProps, {","      \"className\": \"tutor-booksplash-background\"","    }), React.createElement(\"div\", {","      \"className\": 'container'","    }, React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"xs\": 12,","      \"md\": 8,","      \"lg\": 9","    }, React.createElement(BS.TabbedArea, {","      \"activeKey\": this.state.selectedTabIndex,","      \"onSelect\": this.selectTab,","      \"animation\": false","    }, React.createElement(BS.TabPane, {","      \"eventKey\": 1.,","      \"tab\": 'This Week'","    }, React.createElement(ThisWeekPanel, {","      \"courseId\": courseId","    }), React.createElement(UpcomingPanel, {","      \"courseId\": courseId","    })), React.createElement(BS.TabPane, {","      \"eventKey\": 2.,","      \"tab\": 'All Past Work'","    }, React.createElement(AllEventsByWeek, {","      \"courseId\": courseId","    })))), React.createElement(BS.Col, {","      \"xs\": 12,","      \"md\": 4,","      \"lg\": 3","    }, React.createElement(ProgressGuideShell, {","      \"courseId\": courseId,","      \"sampleSizeThreshold\": 3","    }), React.createElement(\"div\", {","      \"className\": 'actions-box'","    }, React.createElement(BrowseTheBook, {","      \"unstyled\": true,","      \"courseId\": courseId","    }, React.createElement(\"div\", null, \"Browse the Book\")))))));","  }","});",""],"f":{"1":2,"2":0,"3":2},"fnMap":{"1":{"line":42,"loc":{"end":{"column":30,"line":42},"start":{"column":19,"line":42}},"name":"(anonymous_1)"},"2":{"line":47,"loc":{"end":{"column":29,"line":47},"start":{"column":13,"line":47}},"name":"(anonymous_2)"},"3":{"line":52,"loc":{"end":{"column":21,"line":52},"start":{"column":10,"line":52}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/dashboard.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":2,"19":0,"20":2,"21":2,"22":2,"23":2,"24":2},"statementMap":{"1":{"end":{"column":205,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":49,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":38,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":44,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":50,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":45,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":55,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":49,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":54,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":50,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":86,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":55,"line":31},"start":{"column":0,"line":31}},"17":{"end":{"column":3,"line":95},"start":{"column":0,"line":33}},"18":{"end":{"column":6,"line":45},"start":{"column":4,"line":43}},"19":{"end":{"column":7,"line":50},"start":{"column":4,"line":48}},"20":{"end":{"column":40,"line":53},"start":{"column":4,"line":53}},"21":{"end":{"column":35,"line":54},"start":{"column":4,"line":54}},"22":{"end":{"column":56,"line":55},"start":{"column":4,"line":55}},"23":{"end":{"column":47,"line":56},"start":{"column":4,"line":56}},"24":{"end":{"column":65,"line":93},"start":{"column":4,"line":57}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"33":21,"43":2,"48":0,"53":2,"54":2,"55":2,"56":2,"57":2}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/dont-forget-panel.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"branchMap":{"1":{"line":34,"locations":[{"end":{"column":115,"line":34},"start":{"column":45,"line":34}},{"end":{"column":190,"line":34},"start":{"column":118,"line":34}}],"type":"cond-expr"},"2":{"line":45,"locations":[{"end":{"column":43,"line":45},"start":{"column":19,"line":45}},{"end":{"column":69,"line":45},"start":{"column":46,"line":45}}],"type":"cond-expr"},"3":{"line":63,"locations":[{"end":{"column":4,"line":63},"start":{"column":4,"line":63}},{"end":{"column":4,"line":63},"start":{"column":4,"line":63}}],"type":"if"}},"code":["var BS, EmptyPanel, React, StudentDashboardStore, _;","","React = require('react');","","BS = require('react-bootstrap');","","StudentDashboardStore = require('../../flux/student-dashboard').StudentDashboardStore;","","EmptyPanel = require('./empty-panel');","","_ = require('underscore');","","module.exports = React.createClass({","  displayName: 'DontForgetPanel',","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  viewFeedback: function(taskId) {","    return alert(\"TODO: View Feedback for task ID: \" + taskId + \" in course ID: \" + this.props.courseId);","  },","  viewRecovery: function(taskId) {","    return alert(\"TODO: View Recovery for task ID: \" + taskId + \" in course ID: \" + this.props.courseId);","  },","  recoverData: function(event) {","    return {","      name: 'Recovery',","      summary: event.exercise_count + \" available\",","      icon: 'recover',","      clickHandler: this.viewRecovery","    };","  },","  feedbackData: function(event) {","    var summary;","    summary = event.correct_exercise_count ? event.correct_exercise_count + \"/\" + event.exercise_count + \" correct\" : event.complete_exercise_count + \"/\" + event.exercise_count + \" complete\";","    return {","      name: 'Feedback',","      summary: summary,","      icon: 'feedback',","      clickHandler: this.viewFeedback","    };","  },","  renderBlock: function(event, i, all) {","    var data, feedback;","    feedback = event.complete_exercise_count + \"/\" + event.exercise_count + \" complete\";","    data = i % 2 ? this.feedbackData(event) : this.recoverData(event);","    return React.createElement(BS.Col, {","      \"key\": event.id,","      \"xs\": 12 / all.length","    }, React.createElement(\"div\", null, React.createElement(\"i\", {","      \"className\": \"icon-xlg icon-\" + data.icon,","      \"onClick\": _.partial(data.clickHandler, event.id)","    }), React.createElement(\"h3\", {","      \"className\": 'heading'","    }, \"View \", data.name), React.createElement(\"div\", {","      \"className\": 'title'","    }, event.title), React.createElement(\"div\", {","      \"className\": 'summary'","    }, data.summary)));","  },","  render: function() {","    var events;","    events = _.last(StudentDashboardStore.pastDueEvents(this.props.courseId), 4);","    if (events.length) {","      return React.createElement(BS.Panel, {","        \"className\": 'dont-forget',","        \"header\": \"Don't Forget\"","      }, _.map(events, this.renderBlock));","    } else {","      return React.createElement(EmptyPanel, {","        \"title\": \"Don't Forget\"","      }, \"No new reminders\");","    }","  }","});",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"line":18,"loc":{"end":{"column":33,"line":18},"start":{"column":16,"line":18}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":33,"line":21},"start":{"column":16,"line":21}},"name":"(anonymous_2)"},"3":{"line":24,"loc":{"end":{"column":31,"line":24},"start":{"column":15,"line":24}},"name":"(anonymous_3)"},"4":{"line":32,"loc":{"end":{"column":32,"line":32},"start":{"column":16,"line":32}},"name":"(anonymous_4)"},"5":{"line":42,"loc":{"end":{"column":39,"line":42},"start":{"column":15,"line":42}},"name":"(anonymous_5)"},"6":{"line":60,"loc":{"end":{"column":21,"line":60},"start":{"column":10,"line":60}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/dont-forget-panel.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"statementMap":{"1":{"end":{"column":52,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":86,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":38,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":74},"start":{"column":0,"line":13}},"8":{"end":{"column":105,"line":19},"start":{"column":4,"line":19}},"9":{"end":{"column":105,"line":22},"start":{"column":4,"line":22}},"10":{"end":{"column":6,"line":30},"start":{"column":4,"line":25}},"11":{"end":{"column":16,"line":33},"start":{"column":4,"line":33}},"12":{"end":{"column":191,"line":34},"start":{"column":4,"line":34}},"13":{"end":{"column":6,"line":40},"start":{"column":4,"line":35}},"14":{"end":{"column":23,"line":43},"start":{"column":4,"line":43}},"15":{"end":{"column":88,"line":44},"start":{"column":4,"line":44}},"16":{"end":{"column":70,"line":45},"start":{"column":4,"line":45}},"17":{"end":{"column":23,"line":58},"start":{"column":4,"line":46}},"18":{"end":{"column":15,"line":61},"start":{"column":4,"line":61}},"19":{"end":{"column":81,"line":62},"start":{"column":4,"line":62}},"20":{"end":{"column":5,"line":72},"start":{"column":4,"line":63}},"21":{"end":{"column":42,"line":67},"start":{"column":6,"line":64}},"22":{"end":{"column":29,"line":71},"start":{"column":6,"line":69}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"19":0,"22":0,"25":0,"33":0,"34":0,"35":0,"43":0,"44":0,"45":0,"46":0,"61":0,"62":0,"63":0,"64":0,"69":0}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/empty-panel.cjsx":{"b":{"1":[4,2]},"branchMap":{"1":{"line":11,"locations":[{"end":{"column":33,"line":11},"start":{"column":14,"line":11}},{"end":{"column":58,"line":11},"start":{"column":37,"line":11}}],"type":"binary-expr"}},"code":["var BS, React;","","React = require('react');","","BS = require('react-bootstrap');","","module.exports = React.createClass({","  displayName: 'EmptyPanel',","  render: function() {","    var content;","    content = this.props.children || 'No events this week';","    return React.createElement(BS.Panel, {","      \"className\": 'empty',","      \"header\": this.props.title","    }, content);","  }","});",""],"f":{"1":4},"fnMap":{"1":{"line":9,"loc":{"end":{"column":21,"line":9},"start":{"column":10,"line":9}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/empty-panel.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":4,"6":4,"7":4},"statementMap":{"1":{"end":{"column":14,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":17},"start":{"column":0,"line":7}},"5":{"end":{"column":16,"line":10},"start":{"column":4,"line":10}},"6":{"end":{"column":59,"line":11},"start":{"column":4,"line":11}},"7":{"end":{"column":16,"line":15},"start":{"column":4,"line":12}}},"l":{"1":21,"3":21,"5":21,"7":21,"10":4,"11":4,"12":4}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/event-info-icon.cjsx":{"b":{"1":[2,0],"2":[2,0,0],"3":[0,0]},"branchMap":{"1":{"line":22,"locations":[{"end":{"column":4,"line":22},"start":{"column":4,"line":22}},{"end":{"column":4,"line":22},"start":{"column":4,"line":22}}],"type":"if"},"2":{"line":22,"locations":[{"end":{"column":44,"line":22},"start":{"column":8,"line":22}},{"end":{"column":124,"line":22},"start":{"column":48,"line":22}},{"end":{"column":149,"line":22},"start":{"column":128,"line":22}}],"type":"binary-expr"},"3":{"line":25,"locations":[{"end":{"column":48,"line":25},"start":{"column":36,"line":25}},{"end":{"column":57,"line":25},"start":{"column":51,"line":25}}],"type":"cond-expr"}},"code":["var BS, React, S, TimeStore, moment;","","React = require('react');","","BS = require('react-bootstrap');","","S = require('../../helpers/string');","","TimeStore = require('../../flux/time').TimeStore;","","moment = require('moment');","","module.exports = React.createClass({","  displayName: 'EventInfoIcon',","  propTypes: {","    event: React.PropTypes.object.isRequired","  },","  render: function() {","    var due, now, status, tooltip;","    due = moment(this.props.event.due_at);","    now = TimeStore.getNow();","    if (this.props.event.type !== 'homework' || this.props.event.complete_exercise_count === this.props.event.exercise_count || due.isAfter(now, 'd')) {","      return null;","    }","    status = due.isSame(now, 'd') ? 'incomplete' : 'late';","    tooltip = React.createElement(BS.Tooltip, null, React.createElement(\"b\", null, S.capitalize(status)));","    return React.createElement(BS.OverlayTrigger, {","      \"placement\": 'top',","      \"overlay\": tooltip","    }, React.createElement(\"i\", {","      \"className\": \"info \" + status","    }));","  }","});",""],"f":{"1":2},"fnMap":{"1":{"line":18,"loc":{"end":{"column":21,"line":18},"start":{"column":10,"line":18}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/event-info-icon.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":2,"9":2,"10":2,"11":2,"12":2,"13":0,"14":0,"15":0},"statementMap":{"1":{"end":{"column":36,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":36,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":49,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":27,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":34},"start":{"column":0,"line":13}},"8":{"end":{"column":34,"line":19},"start":{"column":4,"line":19}},"9":{"end":{"column":42,"line":20},"start":{"column":4,"line":20}},"10":{"end":{"column":29,"line":21},"start":{"column":4,"line":21}},"11":{"end":{"column":5,"line":24},"start":{"column":4,"line":22}},"12":{"end":{"column":18,"line":23},"start":{"column":6,"line":23}},"13":{"end":{"column":58,"line":25},"start":{"column":4,"line":25}},"14":{"end":{"column":106,"line":26},"start":{"column":4,"line":26}},"15":{"end":{"column":8,"line":32},"start":{"column":4,"line":27}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"19":2,"20":2,"21":2,"22":2,"23":2,"25":0,"26":0,"27":0}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/event-row.cjsx":{"b":{"1":[2,0],"2":[2,0],"3":[2,0]},"branchMap":{"1":{"line":38,"locations":[{"end":{"column":4,"line":38},"start":{"column":4,"line":38}},{"end":{"column":4,"line":38},"start":{"column":4,"line":38}}],"type":"if"},"2":{"line":42,"locations":[{"end":{"column":4,"line":42},"start":{"column":4,"line":42}},{"end":{"column":4,"line":42},"start":{"column":4,"line":42}}],"type":"if"},"3":{"line":47,"locations":[{"end":{"column":41,"line":47},"start":{"column":29,"line":47}},{"end":{"column":50,"line":47},"start":{"column":44,"line":47}}],"type":"cond-expr"}},"code":["var BS, EventInfoIcon, Instructions, React, StudentDashboardStore, Time, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment');","","Time = require('../time');","","StudentDashboardStore = require('../../flux/student-dashboard').StudentDashboardStore;","","EventInfoIcon = require('./event-info-icon');","","Instructions = require('../task/details').Instructions;","","module.exports = React.createClass({","  displayName: 'EventRow',","  propTypes: {","    className: React.PropTypes.string.isRequired,","    event: React.PropTypes.object.isRequired,","    courseId: React.PropTypes.string.isRequired,","    feedback: React.PropTypes.string.isRequired","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  onClick: function() {","    return this.context.router.transitionTo('viewTaskStep', {","      courseId: this.props.courseId,","      id: this.props.event.id,","      stepIndex: 1","    });","  },","  render: function() {","    var classnames, workable;","    workable = this.props.workable;","    if (workable == null) {","      workable = StudentDashboardStore.canWorkTask(this.props.event);","    }","    classnames = \"task row \" + this.props.className;","    if (workable) {","      classnames += ' workable';","    }","    return React.createElement(\"div\", {","      \"className\": classnames,","      \"onClick\": (workable ? this.onClick : void 0),","      \"data-event-id\": this.props.event.id","    }, React.createElement(BS.Col, {","      \"xs\": 2.,","      \"sm\": 1.,","      \"className\": \"column-icon\"","    }, React.createElement(\"i\", {","      \"className\": \"icon icon-lg icon-\" + this.props.className","    })), React.createElement(BS.Col, {","      \"xs\": 10.,","      \"sm\": 6.,","      \"className\": 'title'","    }, this.props.children, React.createElement(Instructions, {","      \"task\": this.props.event,","      \"popverClassName\": 'student-dashboard-instructions-popover'","    })), React.createElement(BS.Col, {","      \"xs\": 5.,","      \"sm\": 3.,","      \"className\": 'feedback'","    }, React.createElement(\"span\", null, this.props.feedback), React.createElement(EventInfoIcon, {","      \"event\": this.props.event","    })), React.createElement(BS.Col, {","      \"xs\": 5.,","      \"sm\": 2.,","      \"className\": 'due-at'","    }, React.createElement(Time, {","      \"date\": this.props.event.due_at","    })));","  }","});",""],"f":{"1":0,"2":2},"fnMap":{"1":{"line":28,"loc":{"end":{"column":22,"line":28},"start":{"column":11,"line":28}},"name":"(anonymous_1)"},"2":{"line":35,"loc":{"end":{"column":21,"line":35},"start":{"column":10,"line":35}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/event-row.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":2},"statementMap":{"1":{"end":{"column":80,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":86,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":45,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":55,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":76},"start":{"column":0,"line":17}},"10":{"end":{"column":7,"line":33},"start":{"column":4,"line":29}},"11":{"end":{"column":29,"line":36},"start":{"column":4,"line":36}},"12":{"end":{"column":35,"line":37},"start":{"column":4,"line":37}},"13":{"end":{"column":5,"line":40},"start":{"column":4,"line":38}},"14":{"end":{"column":69,"line":39},"start":{"column":6,"line":39}},"15":{"end":{"column":52,"line":41},"start":{"column":4,"line":41}},"16":{"end":{"column":5,"line":44},"start":{"column":4,"line":42}},"17":{"end":{"column":32,"line":43},"start":{"column":6,"line":43}},"18":{"end":{"column":9,"line":74},"start":{"column":4,"line":45}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"29":0,"36":2,"37":2,"38":2,"39":2,"41":2,"42":2,"43":2,"45":2}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/event-task-row.cjsx":{"b":{},"branchMap":{},"code":["var BS, EventRow, React, TimeStore, _, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment');","","_ = require('underscore');","","TimeStore = require('../../flux/time').TimeStore;","","EventRow = require('./event-row');","","module.exports = React.createClass({","  displayName: 'EventTaskRow',","  propTypes: {","    event: React.PropTypes.object.isRequired,","    courseId: React.PropTypes.string.isRequired","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var event;","    event = this.props.event;","    return React.createElement(EventRow, React.__spread({","      \"feedback\": ''","    }, this.props, {","      \"workable\": false,","      \"className\": 'event'","    }), event.title);","  }","});",""],"f":{"1":0},"fnMap":{"1":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/event-task-row.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0},"statementMap":{"1":{"end":{"column":46,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":49,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":34,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":34},"start":{"column":0,"line":15}},"9":{"end":{"column":14,"line":25},"start":{"column":4,"line":25}},"10":{"end":{"column":29,"line":26},"start":{"column":4,"line":26}},"11":{"end":{"column":21,"line":32},"start":{"column":4,"line":27}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"25":0,"26":0,"27":0}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/events-panel.cjsx":{"b":{"1":[0,2],"2":[2,0,0,0,0]},"branchMap":{"1":{"line":37,"locations":[{"end":{"column":4,"line":37},"start":{"column":4,"line":37}},{"end":{"column":4,"line":37},"start":{"column":4,"line":37}}],"type":"if"},"2":{"line":52,"locations":[{"end":{"column":11,"line":58},"start":{"column":6,"line":53}},{"end":{"column":11,"line":64},"start":{"column":6,"line":59}},{"end":{"column":11,"line":70},"start":{"column":6,"line":65}},{"end":{"column":11,"line":76},"start":{"column":6,"line":71}},{"end":{"column":11,"line":82},"start":{"column":6,"line":77}}],"type":"switch"}},"code":["var BS, EventRow, EventTaskRow, ExternalRow, GenericEventRow, HomeworkRow, React, ReadingRow, Time, _, moment;","","React = require('react');","","BS = require('react-bootstrap');","","Time = require('../time');","","moment = require('moment');","","ReadingRow = require('./reading-row');","","HomeworkRow = require('./homework-row');","","ExternalRow = require('./external-row');","","EventTaskRow = require('./event-task-row');","","EventRow = require('./event-row');","","GenericEventRow = require('./generic-event-row');","","_ = require('underscore');","","module.exports = React.createClass({","  displayName: 'EventsPanel',","  propTypes: {","    events: React.PropTypes.array.isRequired,","    courseId: React.PropTypes.string.isRequired,","    startAt: React.PropTypes.object,","    endAt: React.PropTypes.object,","    limit: React.PropTypes.number,","    title: React.PropTypes.string,","    className: React.PropTypes.string","  },","  renderTitle: function() {","    if (this.props.title) {","      return React.createElement(\"span\", {","        \"className\": \"title\"","      }, this.props.title);","    } else {","      return React.createElement(\"span\", {","        \"className\": \"date-range\"","      }, React.createElement(Time, {","        \"date\": moment(this.props.startAt).toDate()","      }), \"–\", React.createElement(Time, {","        \"date\": moment(this.props.endAt).toDate()","      }));","    }","  },","  renderEvent: function(event) {","    switch (event.type) {","      case 'reading':","        return React.createElement(ReadingRow, {","          \"courseId\": this.props.courseId,","          \"key\": event.id,","          \"event\": event","        });","      case 'homework':","        return React.createElement(HomeworkRow, {","          \"courseId\": this.props.courseId,","          \"key\": event.id,","          \"event\": event","        });","      case 'external':","        return React.createElement(ExternalRow, {","          \"courseId\": this.props.courseId,","          \"key\": event.id,","          \"event\": event","        });","      case 'event':","        return React.createElement(EventTaskRow, {","          \"courseId\": this.props.courseId,","          \"key\": event.id,","          \"event\": event","        });","      default:","        return React.createElement(GenericEventRow, {","          \"courseId\": this.props.courseId,","          \"key\": event.id,","          \"event\": event","        });","    }","  },","  render: function() {","    return React.createElement(BS.Panel, {","      \"className\": this.props.className","    }, React.createElement(\"div\", {","      \"className\": \"row labels\"","    }, React.createElement(BS.Col, {","      \"xs\": 12.,","      \"sm\": 7.","    }, this.renderTitle()), React.createElement(BS.Col, {","      \"xs\": 5.,","      \"xsOffset\": 2.,","      \"smOffset\": 0.,","      \"sm\": 3.,","      \"className\": 'progress-label'","    }, \"Progress\"), React.createElement(BS.Col, {","      \"xs\": 5.,","      \"sm\": 2.,","      \"className\": 'due-at-label'","    }, \"Due (7:00am)\")), _.map(this.props.events, this.renderEvent));","  }","});",""],"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"line":36,"loc":{"end":{"column":26,"line":36},"start":{"column":15,"line":36}},"name":"(anonymous_1)"},"2":{"line":51,"loc":{"end":{"column":31,"line":51},"start":{"column":15,"line":51}},"name":"(anonymous_2)"},"3":{"line":85,"loc":{"end":{"column":21,"line":85},"start":{"column":10,"line":85}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/events-panel.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":2,"15":0,"16":2,"17":2,"18":2,"19":0,"20":0,"21":0,"22":0,"23":2},"statementMap":{"1":{"end":{"column":110,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":27,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":38,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":40,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":43,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":34,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":49,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":26,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":3,"line":105},"start":{"column":0,"line":25}},"14":{"end":{"column":5,"line":49},"start":{"column":4,"line":37}},"15":{"end":{"column":27,"line":40},"start":{"column":6,"line":38}},"16":{"end":{"column":10,"line":48},"start":{"column":6,"line":42}},"17":{"end":{"column":5,"line":83},"start":{"column":4,"line":52}},"18":{"end":{"column":11,"line":58},"start":{"column":8,"line":54}},"19":{"end":{"column":11,"line":64},"start":{"column":8,"line":60}},"20":{"end":{"column":11,"line":70},"start":{"column":8,"line":66}},"21":{"end":{"column":11,"line":76},"start":{"column":8,"line":72}},"22":{"end":{"column":11,"line":82},"start":{"column":8,"line":78}},"23":{"end":{"column":69,"line":103},"start":{"column":4,"line":86}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"37":2,"38":0,"42":2,"52":2,"54":2,"60":0,"66":0,"72":0,"78":0,"86":2}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/external-row.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":28,"locations":[{"end":{"column":27,"line":30},"start":{"column":8,"line":29}},{"end":{"column":31,"line":32},"start":{"column":8,"line":31}}],"type":"switch"}},"code":["var BS, EventRow, React, TimeStore, _, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment');","","_ = require('underscore');","","TimeStore = require('../../flux/time').TimeStore;","","EventRow = require('./event-row');","","module.exports = React.createClass({","  displayName: 'ExternalRow',","  propTypes: {","    event: React.PropTypes.object.isRequired,","    courseId: React.PropTypes.string.isRequired","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var event, feedback;","    event = this.props.event;","    feedback = (function() {","      switch (false) {","        case !this.props.event.complete:","          return 'Clicked';","        default:","          return 'Not started';","      }","    }).call(this);","    return React.createElement(EventRow, React.__spread({}, this.props, {","      \"feedback\": feedback,","      \"className\": 'external'","    }), event.title);","  }","});",""],"f":{"1":0,"2":0},"fnMap":{"1":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_1)"},"2":{"line":27,"loc":{"end":{"column":27,"line":27},"start":{"column":16,"line":27}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/external-row.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"statementMap":{"1":{"end":{"column":46,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":49,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":34,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":40},"start":{"column":0,"line":15}},"9":{"end":{"column":24,"line":25},"start":{"column":4,"line":25}},"10":{"end":{"column":29,"line":26},"start":{"column":4,"line":26}},"11":{"end":{"column":18,"line":34},"start":{"column":4,"line":27}},"12":{"end":{"column":7,"line":33},"start":{"column":6,"line":28}},"13":{"end":{"column":27,"line":30},"start":{"column":10,"line":30}},"14":{"end":{"column":31,"line":32},"start":{"column":10,"line":32}},"15":{"end":{"column":21,"line":38},"start":{"column":4,"line":35}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"25":0,"26":0,"27":0,"28":0,"30":0,"32":0,"35":0}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/generic-event-row.cjsx":{"b":{},"branchMap":{},"code":["var BS, EventRow, React;","","React = require('react');","","BS = require('react-bootstrap');","","EventRow = require('./event-row');","","module.exports = React.createClass({","  displayName: 'GenericEventRow',","  propTypes: {","    event: React.PropTypes.object.isRequired,","    courseId: React.PropTypes.string.isRequired","  },","  render: function() {","    return React.createElement(EventRow, React.__spread({","      \"feedback\": ''","    }, this.props, {","      \"className\": 'generic'","    }), this.props.event.title);","  }","});",""],"f":{"1":0},"fnMap":{"1":{"line":15,"loc":{"end":{"column":21,"line":15},"start":{"column":10,"line":15}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/generic-event-row.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0},"statementMap":{"1":{"end":{"column":24,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":34,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":22},"start":{"column":0,"line":9}},"6":{"end":{"column":32,"line":20},"start":{"column":4,"line":16}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"16":0}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/homework-row.cjsx":{"b":{"1":[0,0],"2":[0,0]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":124,"line":27},"start":{"column":54,"line":27}},{"end":{"column":199,"line":27},"start":{"column":127,"line":27}}],"type":"cond-expr"},"2":{"line":28,"locations":[{"end":{"column":32,"line":28},"start":{"column":18,"line":28}},{"end":{"column":119,"line":28},"start":{"column":36,"line":28}}],"type":"binary-expr"}},"code":["var BS, EventRow, React, TimeStore, _, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment');","","_ = require('underscore');","","TimeStore = require('../../flux/time').TimeStore;","","EventRow = require('./event-row');","","module.exports = React.createClass({","  displayName: 'HomeworkRow',","  propTypes: {","    event: React.PropTypes.object.isRequired,","    courseId: React.PropTypes.string.isRequired","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var event, feedback, recoverable;","    event = this.props.event;","    feedback = event.correct_exercise_count != null ? event.correct_exercise_count + \"/\" + event.exercise_count + \" correct\" : event.complete_exercise_count + \"/\" + event.exercise_count + \" answered\";","    recoverable = event.complete && moment(event.due_at).startOf('isoweek').add(1, 'week').isBefore(TimeStore.getNow());","    return React.createElement(EventRow, React.__spread({}, this.props, {","      \"feedback\": feedback,","      \"className\": 'homework'","    }), event.title);","  }","});",""],"f":{"1":0},"fnMap":{"1":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/homework-row.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":0},"statementMap":{"1":{"end":{"column":46,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":49,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":34,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":34},"start":{"column":0,"line":15}},"9":{"end":{"column":37,"line":25},"start":{"column":4,"line":25}},"10":{"end":{"column":29,"line":26},"start":{"column":4,"line":26}},"11":{"end":{"column":200,"line":27},"start":{"column":4,"line":27}},"12":{"end":{"column":120,"line":28},"start":{"column":4,"line":28}},"13":{"end":{"column":21,"line":32},"start":{"column":4,"line":29}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"25":0,"26":0,"27":0,"28":0,"29":0}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/index.cjsx":{"b":{},"branchMap":{},"code":["var BS, LoadableItem, React, StudentDashboard, StudentDashboardActions, StudentDashboardShell, StudentDashboardStore, _, isStepComplete, moment, ref;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","ref = require('../../flux/student-dashboard'), StudentDashboardStore = ref.StudentDashboardStore, StudentDashboardActions = ref.StudentDashboardActions;","","LoadableItem = require('../loadable-item');","","moment = require('moment');","","isStepComplete = function(step) {","  return step.is_completed;","};","","StudentDashboard = require('./dashboard');","","StudentDashboardShell = React.createClass({","  displayName: 'StudentDashboardShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return React.createElement(\"div\", {","      \"className\": 'student-dashboard '","    }, React.createElement(LoadableItem, {","      \"id\": courseId,","      \"store\": StudentDashboardStore,","      \"actions\": StudentDashboardActions,","      \"renderItem\": (function() {","        return React.createElement(StudentDashboard, {","          \"courseId\": courseId","        });","      })","    }));","  }","});","","module.exports = {","  StudentDashboardShell: StudentDashboardShell","};",""],"f":{"1":0,"2":2,"3":2},"fnMap":{"1":{"line":15,"loc":{"end":{"column":32,"line":15},"start":{"column":17,"line":15}},"name":"(anonymous_1)"},"2":{"line":26,"loc":{"end":{"column":21,"line":26},"start":{"column":10,"line":26}},"name":"(anonymous_2)"},"3":{"line":35,"loc":{"end":{"column":32,"line":35},"start":{"column":21,"line":35}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":21,"11":21,"12":2,"13":2,"14":2,"15":2,"16":21},"statementMap":{"1":{"end":{"column":149,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":152,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":43,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":27,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":2,"line":17},"start":{"column":0,"line":15}},"9":{"end":{"column":27,"line":16},"start":{"column":2,"line":16}},"10":{"end":{"column":42,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":3,"line":42},"start":{"column":0,"line":21}},"12":{"end":{"column":17,"line":27},"start":{"column":4,"line":27}},"13":{"end":{"column":63,"line":28},"start":{"column":4,"line":28}},"14":{"end":{"column":8,"line":40},"start":{"column":4,"line":29}},"15":{"end":{"column":11,"line":38},"start":{"column":8,"line":36}},"16":{"end":{"column":2,"line":46},"start":{"column":0,"line":44}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"16":0,"19":21,"21":21,"27":2,"28":2,"29":2,"36":2,"44":21}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/progress-guide.cjsx":{"b":{"1":[0,2],"2":[0,2]},"branchMap":{"1":{"line":116,"locations":[{"end":{"column":4,"line":116},"start":{"column":4,"line":116}},{"end":{"column":4,"line":116},"start":{"column":4,"line":116}}],"type":"if"},"2":{"line":120,"locations":[{"end":{"column":4,"line":120},"start":{"column":4,"line":120}},{"end":{"column":4,"line":120},"start":{"column":4,"line":120}}],"type":"if"}},"code":["var BS, ChapterSection, ChapterSectionMixin, LoadableItem, NUM_SECTIONS, PerformanceForecast, PerformanceForecastColorKey, PerformanceForecastSection, PracticeButton, ProgressGuide, ProgressGuidePanels, React, S, Section, SpyMode, _;","","React = require('react');","","BS = require('react-bootstrap');","","SpyMode = require('openstax-react-components').SpyMode;","","LoadableItem = require('../loadable-item');","","_ = require('underscore');","","S = require('../../helpers/string');","","PerformanceForecast = require('../../flux/performance-forecast');","","ChapterSection = require('../task-plan/chapter-section');","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","PerformanceForecastSection = require('../performance-forecast/section');","","PerformanceForecastColorKey = require('../performance-forecast/color-key');","","PracticeButton = require('../performance-forecast/practice-button');","","Section = require('../performance-forecast/section');","","NUM_SECTIONS = 4;","","ProgressGuide = React.createClass({","  displayName: 'ProgressGuide',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  onPractice: function(section) {","    return this.context.router.transitionTo('viewPractice', {","      courseId: this.props.courseId","    }, {","      page_ids: section.page_ids","    });","  },","  render: function() {","    var courseId, guide, i, section, sections;","    courseId = this.props.courseId;","    guide = PerformanceForecast.Student.store.get(courseId);","    sections = PerformanceForecast.Helpers.recentSections(PerformanceForecast.Student.store.getAllSections(courseId));","    return React.createElement(\"div\", {","      \"className\": 'progress-guide'","    }, React.createElement(\"h1\", {","      \"className\": 'panel-title'","    }, \"Performance Forecast\"), React.createElement(\"h2\", {","      \"className\": 'recent'","    }, \"Recent topics\"), React.createElement(\"div\", {","      \"className\": 'guide-group'","    }, React.createElement(\"div\", {","      \"className\": 'chapter-panel'","    }, (function() {","      var j, len, results;","      results = [];","      for (i = j = 0, len = sections.length; j < len; i = ++j) {","        section = sections[i];","        results.push(React.createElement(Section, React.__spread({","          \"key\": i,","          \"section\": section,","          \"onPractice\": this.onPractice","        }, this.props, {","          \"sampleSizeThreshold\": 3.","        })));","      }","      return results;","    }).call(this))), React.createElement(PerformanceForecastColorKey, null));","  }","});","","ProgressGuidePanels = React.createClass({displayName: \"ProgressGuidePanels\",","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  mixins: [ChapterSectionMixin],","  viewPerformanceForecast: function() {","    return this.context.router.transitionTo('viewPerformanceForecast', {","      courseId: this.props.courseId","    });","  },","  renderEmpty: function(sections) {","    var section;","    return React.createElement(\"div\", {","      \"className\": 'progress-guide empty'","    }, React.createElement(\"div\", {","      \"className\": 'actions-box'","    }, React.createElement(\"h1\", {","      \"className\": 'panel-title'","    }, \"Performance Forecast\"), React.createElement(\"p\", null, \"The performance forecast is an estimate of your current understanding of a topic.\\nIt is a personalized display based on your answers to reading questions,\\nhomework problems, and previous practices.\"), React.createElement(\"p\", null, \"This area will fill in with topics as you complete your assignments\"), React.createElement(SpyMode.Content, null, React.createElement(\"ul\", null, React.createElement(\"li\", null, sections.length, \" sections were returned by the performance forecast\"), (function() {","      var j, len, results;","      results = [];","      for (j = 0, len = sections.length; j < len; j++) {","        section = sections[j];","        results.push(React.createElement(\"li\", null, this.sectionFormat(section.chapter_section), \" section.title\"));","      }","      return results;","    }).call(this)))));","  },","  render: function() {","    var practiceSections, recent, sections;","    sections = PerformanceForecast.Student.store.getAllSections(this.props.courseId);","    recent = PerformanceForecast.Helpers.recentSections(sections);","    if (_.isEmpty(recent)) {","      return this.renderEmpty(sections);","    }","    practiceSections = PerformanceForecast.Helpers.weakestSections(sections);","    if (_.isEmpty(practiceSections)) {","      practiceSections = recent;","    }","    return React.createElement(\"div\", {","      \"className\": 'progress-guide'","    }, React.createElement(\"div\", {","      \"className\": 'actions-box'","    }, React.createElement(ProgressGuide, {","      \"sections\": recent,","      \"courseId\": this.props.courseId","    }), React.createElement(PracticeButton, {","      \"ref\": 'practiceBtn',","      \"title\": 'Practice my weakest topics',","      \"courseId\": this.props.courseId,","      \"sections\": practiceSections","    }), React.createElement(BS.Button, {","      \"onClick\": this.viewPerformanceForecast,","      \"className\": 'view-performance-forecast'","    }, \"View All Topics\")));","  }","});","","module.exports = React.createClass({","  displayName: 'ProgressGuideShell',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    sampleSizeThreshold: React.PropTypes.number.isRequired","  },","  renderLoading: function(refreshButton) {","    return React.createElement(\"div\", {","      \"className\": 'actions-box loadable is-loading'","    }, \"Loading progress information... \", refreshButton);","  },","  render: function() {","    return React.createElement(LoadableItem, {","      \"id\": this.props.courseId,","      \"store\": PerformanceForecast.Student.store,","      \"renderLoading\": this.renderLoading,","      \"actions\": PerformanceForecast.Student.actions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(ProgressGuidePanels, React.__spread({}, _this.props));","        };","      })(this))","    });","  }","});",""],"f":{"1":0,"2":2,"3":2,"4":0,"5":0,"6":0,"7":2,"8":4,"9":2,"10":2,"11":2},"fnMap":{"1":{"line":40,"loc":{"end":{"column":32,"line":40},"start":{"column":14,"line":40}},"name":"(anonymous_1)"},"2":{"line":47,"loc":{"end":{"column":21,"line":47},"start":{"column":10,"line":47}},"name":"(anonymous_2)"},"3":{"line":62,"loc":{"end":{"column":19,"line":62},"start":{"column":8,"line":62}},"name":"(anonymous_3)"},"4":{"line":89,"loc":{"end":{"column":38,"line":89},"start":{"column":27,"line":89}},"name":"(anonymous_4)"},"5":{"line":94,"loc":{"end":{"column":34,"line":94},"start":{"column":15,"line":94}},"name":"(anonymous_5)"},"6":{"line":102,"loc":{"end":{"column":562,"line":102},"start":{"column":551,"line":102}},"name":"(anonymous_6)"},"7":{"line":112,"loc":{"end":{"column":21,"line":112},"start":{"column":10,"line":112}},"name":"(anonymous_7)"},"8":{"line":148,"loc":{"end":{"column":41,"line":148},"start":{"column":17,"line":148}},"name":"(anonymous_8)"},"9":{"line":153,"loc":{"end":{"column":21,"line":153},"start":{"column":10,"line":153}},"name":"(anonymous_9)"},"10":{"line":159,"loc":{"end":{"column":38,"line":159},"start":{"column":22,"line":159}},"name":"(anonymous_10)"},"11":{"line":160,"loc":{"end":{"column":26,"line":160},"start":{"column":15,"line":160}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/progress-guide.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":0,"18":2,"19":2,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":4,"27":4,"28":2,"29":21,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":2,"40":2,"41":2,"42":2,"43":0,"44":2,"45":2,"46":0,"47":2,"48":21,"49":4,"50":2,"51":2,"52":2},"statementMap":{"1":{"end":{"column":233,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":55,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":43,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":36,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":65,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":57,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":79,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":72,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":75,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":68,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":53,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":17,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":3,"line":78},"start":{"column":0,"line":31}},"17":{"end":{"column":7,"line":45},"start":{"column":4,"line":41}},"18":{"end":{"column":46,"line":48},"start":{"column":4,"line":48}},"19":{"end":{"column":35,"line":49},"start":{"column":4,"line":49}},"20":{"end":{"column":60,"line":50},"start":{"column":4,"line":50}},"21":{"end":{"column":118,"line":51},"start":{"column":4,"line":51}},"22":{"end":{"column":77,"line":76},"start":{"column":4,"line":52}},"23":{"end":{"column":26,"line":63},"start":{"column":6,"line":63}},"24":{"end":{"column":19,"line":64},"start":{"column":6,"line":64}},"25":{"end":{"column":7,"line":74},"start":{"column":6,"line":65}},"26":{"end":{"column":30,"line":66},"start":{"column":8,"line":66}},"27":{"end":{"column":13,"line":73},"start":{"column":8,"line":67}},"28":{"end":{"column":21,"line":75},"start":{"column":6,"line":75}},"29":{"end":{"column":3,"line":140},"start":{"column":0,"line":80}},"30":{"end":{"column":7,"line":92},"start":{"column":4,"line":90}},"31":{"end":{"column":16,"line":95},"start":{"column":4,"line":95}},"32":{"end":{"column":22,"line":110},"start":{"column":4,"line":96}},"33":{"end":{"column":26,"line":103},"start":{"column":6,"line":103}},"34":{"end":{"column":19,"line":104},"start":{"column":6,"line":104}},"35":{"end":{"column":7,"line":108},"start":{"column":6,"line":105}},"36":{"end":{"column":30,"line":106},"start":{"column":8,"line":106}},"37":{"end":{"column":117,"line":107},"start":{"column":8,"line":107}},"38":{"end":{"column":21,"line":109},"start":{"column":6,"line":109}},"39":{"end":{"column":43,"line":113},"start":{"column":4,"line":113}},"40":{"end":{"column":85,"line":114},"start":{"column":4,"line":114}},"41":{"end":{"column":66,"line":115},"start":{"column":4,"line":115}},"42":{"end":{"column":5,"line":118},"start":{"column":4,"line":116}},"43":{"end":{"column":40,"line":117},"start":{"column":6,"line":117}},"44":{"end":{"column":77,"line":119},"start":{"column":4,"line":119}},"45":{"end":{"column":5,"line":122},"start":{"column":4,"line":120}},"46":{"end":{"column":32,"line":121},"start":{"column":6,"line":121}},"47":{"end":{"column":28,"line":138},"start":{"column":4,"line":123}},"48":{"end":{"column":3,"line":166},"start":{"column":0,"line":142}},"49":{"end":{"column":58,"line":151},"start":{"column":4,"line":149}},"50":{"end":{"column":7,"line":164},"start":{"column":4,"line":154}},"51":{"end":{"column":10,"line":162},"start":{"column":8,"line":160}},"52":{"end":{"column":91,"line":161},"start":{"column":10,"line":161}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"41":0,"48":2,"49":2,"50":2,"51":2,"52":2,"63":2,"64":2,"65":2,"66":4,"67":4,"75":2,"80":21,"90":0,"95":0,"96":0,"103":0,"104":0,"105":0,"106":0,"107":0,"109":0,"113":2,"114":2,"115":2,"116":2,"117":0,"119":2,"120":2,"121":0,"123":2,"142":21,"149":4,"154":2,"160":2,"161":2}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/reading-row.cjsx":{"b":{"1":[0,2,0]},"branchMap":{"1":{"line":24,"locations":[{"end":{"column":28,"line":26},"start":{"column":8,"line":25}},{"end":{"column":31,"line":28},"start":{"column":8,"line":27}},{"end":{"column":31,"line":30},"start":{"column":8,"line":29}}],"type":"switch"}},"code":["var BS, EventRow, React, _, isStepComplete;","","React = require('react');","","BS = require('react-bootstrap');","","EventRow = require('./event-row');","","_ = require('underscore');","","isStepComplete = function(step) {","  return step.is_completed;","};","","module.exports = React.createClass({","  displayName: 'ReadingRow',","  propTypes: {","    event: React.PropTypes.object.isRequired,","    courseId: React.PropTypes.string.isRequired","  },","  render: function() {","    var feedback;","    feedback = (function() {","      switch (false) {","        case !this.props.event.complete:","          return 'Complete';","        case !(this.props.event.complete_exercise_count > 0):","          return 'In progress';","        default:","          return 'Not started';","      }","    }).call(this);","    return React.createElement(EventRow, React.__spread({}, this.props, {","      \"feedback\": feedback,","      \"className\": 'reading'","    }), this.props.event.title);","  }","});",""],"f":{"1":0,"2":2,"3":2},"fnMap":{"1":{"line":11,"loc":{"end":{"column":32,"line":11},"start":{"column":17,"line":11}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":21,"line":21},"start":{"column":10,"line":21}},"name":"(anonymous_2)"},"3":{"line":23,"loc":{"end":{"column":27,"line":23},"start":{"column":16,"line":23}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/reading-row.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":21,"9":2,"10":2,"11":2,"12":0,"13":2,"14":0,"15":2},"statementMap":{"1":{"end":{"column":43,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":34,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":13},"start":{"column":0,"line":11}},"7":{"end":{"column":27,"line":12},"start":{"column":2,"line":12}},"8":{"end":{"column":3,"line":38},"start":{"column":0,"line":15}},"9":{"end":{"column":17,"line":22},"start":{"column":4,"line":22}},"10":{"end":{"column":18,"line":32},"start":{"column":4,"line":23}},"11":{"end":{"column":7,"line":31},"start":{"column":6,"line":24}},"12":{"end":{"column":28,"line":26},"start":{"column":10,"line":26}},"13":{"end":{"column":31,"line":28},"start":{"column":10,"line":28}},"14":{"end":{"column":31,"line":30},"start":{"column":10,"line":30}},"15":{"end":{"column":32,"line":36},"start":{"column":4,"line":33}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"12":0,"15":21,"22":2,"23":2,"24":2,"26":0,"28":2,"30":0,"33":2}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/this-week-panel.cjsx":{"b":{"1":[0,2]},"branchMap":{"1":{"line":26,"locations":[{"end":{"column":4,"line":26},"start":{"column":4,"line":26}},{"end":{"column":4,"line":26},"start":{"column":4,"line":26}}],"type":"if"}},"code":["var BS, EmptyPanel, Events, React, StudentDashboardStore, TimeStore, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment');","","Events = require('./events-panel');","","EmptyPanel = require('./empty-panel');","","TimeStore = require('../../flux/time').TimeStore;","","StudentDashboardStore = require('../../flux/student-dashboard').StudentDashboardStore;","","module.exports = React.createClass({","  displayName: 'ThisWeekPanel',","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  render: function() {","    var events, startAt;","    startAt = moment(TimeStore.getNow()).startOf('isoweek');","    events = StudentDashboardStore.weeklyEventsForDay(this.props.courseId, startAt);","    if (events.length) {","      return React.createElement(Events, {","        \"className\": '-this-week',","        \"courseId\": this.props.courseId,","        \"events\": events,","        \"startAt\": startAt,","        \"endAt\": startAt.clone().add(1, 'week').subtract(1, 'second')","      });","    } else {","      return React.createElement(EmptyPanel, null);","    }","  }","});",""],"f":{"1":2},"fnMap":{"1":{"line":22,"loc":{"end":{"column":21,"line":22},"start":{"column":10,"line":22}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/this-week-panel.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":2,"11":2,"12":2,"13":2,"14":0,"15":2},"statementMap":{"1":{"end":{"column":76,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":35,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":38,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":49,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":86,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":38},"start":{"column":0,"line":17}},"10":{"end":{"column":24,"line":23},"start":{"column":4,"line":23}},"11":{"end":{"column":60,"line":24},"start":{"column":4,"line":24}},"12":{"end":{"column":84,"line":25},"start":{"column":4,"line":25}},"13":{"end":{"column":5,"line":36},"start":{"column":4,"line":26}},"14":{"end":{"column":9,"line":33},"start":{"column":6,"line":27}},"15":{"end":{"column":51,"line":35},"start":{"column":6,"line":35}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"23":2,"24":2,"25":2,"26":2,"27":0,"35":2}},
"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/upcoming-panel.cjsx":{"b":{"1":[0,2]},"branchMap":{"1":{"line":26,"locations":[{"end":{"column":4,"line":26},"start":{"column":4,"line":26}},{"end":{"column":4,"line":26},"start":{"column":4,"line":26}}],"type":"if"}},"code":["var BS, EmptyPanel, EventsPanel, React, StudentDashboardStore, TimeStore, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment');","","EventsPanel = require('./events-panel');","","EmptyPanel = require('./empty-panel');","","TimeStore = require('../../flux/time').TimeStore;","","StudentDashboardStore = require('../../flux/student-dashboard').StudentDashboardStore;","","module.exports = React.createClass({","  displayName: 'UpcomingPanel',","  propTypes: {","    courseId: React.PropTypes.string.isRequired","  },","  render: function() {","    var events, startAt;","    startAt = moment(TimeStore.getNow()).startOf('isoweek').add(1, 'week');","    events = StudentDashboardStore.upcomingEvents(this.props.courseId, startAt);","    if (events.length) {","      return React.createElement(EventsPanel, {","        \"className\": '-upcoming',","        \"onTaskClick\": this.onTaskClick,","        \"courseId\": this.props.courseId,","        \"events\": events,","        \"title\": 'Coming Up'","      });","    } else {","      return React.createElement(EmptyPanel, null, \"No upcoming events\");","    }","  }","});",""],"f":{"1":2},"fnMap":{"1":{"line":22,"loc":{"end":{"column":21,"line":22},"start":{"column":10,"line":22}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/student-dashboard/upcoming-panel.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":2,"11":2,"12":2,"13":2,"14":0,"15":2},"statementMap":{"1":{"end":{"column":81,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":40,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":38,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":49,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":86,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":38},"start":{"column":0,"line":17}},"10":{"end":{"column":24,"line":23},"start":{"column":4,"line":23}},"11":{"end":{"column":75,"line":24},"start":{"column":4,"line":24}},"12":{"end":{"column":80,"line":25},"start":{"column":4,"line":25}},"13":{"end":{"column":5,"line":36},"start":{"column":4,"line":26}},"14":{"end":{"column":9,"line":33},"start":{"column":6,"line":27}},"15":{"end":{"column":73,"line":35},"start":{"column":6,"line":35}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"23":2,"24":2,"25":2,"26":2,"27":0,"35":2}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/builder.cjsx":{"b":{"1":[0,40],"2":[40,28],"3":[10,0],"4":[10,0],"5":[0,10],"6":[10,0],"7":[10,0],"8":[0,10],"9":[0,0],"10":[0,0],"11":[59,0],"12":[59,0],"13":[0,59],"14":[59,0],"15":[10,3],"16":[10,7],"17":[40,19],"18":[3,7],"19":[3,3],"20":[0,101],"21":[101,101],"22":[42,59],"23":[101,59],"24":[0,1],"25":[0,1],"26":[0,3],"27":[0,3],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,101],"36":[101,0],"37":[3,98],"38":[0,101],"39":[101,0],"40":[101,0],"41":[101,0],"42":[101,0],"43":[101,0],"44":[101,0],"45":[101,101,101],"46":[101,101],"47":[101,0],"48":[0,101],"49":[101,0],"50":[0,0],"51":[0,0]},"branchMap":{"1":{"line":70,"locations":[{"end":{"column":6,"line":70},"start":{"column":6,"line":70}},{"end":{"column":6,"line":70},"start":{"column":6,"line":70}}],"type":"if"},"2":{"line":70,"locations":[{"end":{"column":54,"line":70},"start":{"column":10,"line":70}},{"end":{"column":68,"line":70},"start":{"column":58,"line":70}}],"type":"binary-expr"},"3":{"line":89,"locations":[{"end":{"column":118,"line":89},"start":{"column":47,"line":89}},{"end":{"column":127,"line":89},"start":{"column":121,"line":89}}],"type":"cond-expr"},"4":{"line":89,"locations":[{"end":{"column":109,"line":89},"start":{"column":78,"line":89}},{"end":{"column":118,"line":89},"start":{"column":112,"line":89}}],"type":"cond-expr"},"5":{"line":91,"locations":[{"end":{"column":89,"line":91},"start":{"column":38,"line":91}},{"end":{"column":98,"line":91},"start":{"column":92,"line":91}}],"type":"cond-expr"},"6":{"line":91,"locations":[{"end":{"column":22,"line":91},"start":{"column":14,"line":91}},{"end":{"column":35,"line":91},"start":{"column":26,"line":91}}],"type":"binary-expr"},"7":{"line":92,"locations":[{"end":{"column":4,"line":92},"start":{"column":4,"line":92}},{"end":{"column":4,"line":92},"start":{"column":4,"line":92}}],"type":"if"},"8":{"line":96,"locations":[{"end":{"column":4,"line":96},"start":{"column":4,"line":96}},{"end":{"column":4,"line":96},"start":{"column":4,"line":96}}],"type":"if"},"9":{"line":98,"locations":[{"end":{"column":6,"line":98},"start":{"column":6,"line":98}},{"end":{"column":6,"line":98},"start":{"column":6,"line":98}}],"type":"if"},"10":{"line":98,"locations":[{"end":{"column":47,"line":98},"start":{"column":12,"line":98}},{"end":{"column":98,"line":98},"start":{"column":51,"line":98}}],"type":"binary-expr"},"11":{"line":106,"locations":[{"end":{"column":114,"line":106},"start":{"column":45,"line":106}},{"end":{"column":123,"line":106},"start":{"column":117,"line":106}}],"type":"cond-expr"},"12":{"line":106,"locations":[{"end":{"column":105,"line":106},"start":{"column":76,"line":106}},{"end":{"column":114,"line":106},"start":{"column":108,"line":106}}],"type":"cond-expr"},"13":{"line":108,"locations":[{"end":{"column":90,"line":108},"start":{"column":41,"line":108}},{"end":{"column":99,"line":108},"start":{"column":93,"line":108}}],"type":"cond-expr"},"14":{"line":108,"locations":[{"end":{"column":25,"line":108},"start":{"column":19,"line":108}},{"end":{"column":38,"line":108},"start":{"column":29,"line":108}}],"type":"binary-expr"},"15":{"line":115,"locations":[{"end":{"column":23,"line":115},"start":{"column":18,"line":115}},{"end":{"column":66,"line":115},"start":{"column":27,"line":115}}],"type":"binary-expr"},"16":{"line":116,"locations":[{"end":{"column":61,"line":116},"start":{"column":56,"line":116}},{"end":{"column":87,"line":116},"start":{"column":65,"line":116}}],"type":"binary-expr"},"17":{"line":118,"locations":[{"end":{"column":17,"line":118},"start":{"column":13,"line":118}},{"end":{"column":64,"line":118},"start":{"column":21,"line":118}}],"type":"binary-expr"},"18":{"line":121,"locations":[{"end":{"column":4,"line":121},"start":{"column":4,"line":121}},{"end":{"column":4,"line":121},"start":{"column":4,"line":121}}],"type":"if"},"19":{"line":123,"locations":[{"end":{"column":37,"line":123},"start":{"column":26,"line":123}},{"end":{"column":55,"line":123},"start":{"column":41,"line":123}}],"type":"binary-expr"},"20":{"line":130,"locations":[{"end":{"column":4,"line":130},"start":{"column":4,"line":130}},{"end":{"column":4,"line":130},"start":{"column":4,"line":130}}],"type":"if"},"21":{"line":130,"locations":[{"end":{"column":23,"line":130},"start":{"column":8,"line":130}},{"end":{"column":58,"line":130},"start":{"column":27,"line":130}}],"type":"binary-expr"},"22":{"line":134,"locations":[{"end":{"column":4,"line":134},"start":{"column":4,"line":134}},{"end":{"column":4,"line":134},"start":{"column":4,"line":134}}],"type":"if"},"23":{"line":134,"locations":[{"end":{"column":21,"line":134},"start":{"column":8,"line":134}},{"end":{"column":54,"line":134},"start":{"column":25,"line":134}}],"type":"binary-expr"},"24":{"line":159,"locations":[{"end":{"column":4,"line":159},"start":{"column":4,"line":159}},{"end":{"column":4,"line":159},"start":{"column":4,"line":159}}],"type":"if"},"25":{"line":162,"locations":[{"end":{"column":78,"line":162},"start":{"column":69,"line":162}},{"end":{"column":87,"line":162},"start":{"column":81,"line":162}}],"type":"cond-expr"},"26":{"line":167,"locations":[{"end":{"column":4,"line":167},"start":{"column":4,"line":167}},{"end":{"column":4,"line":167},"start":{"column":4,"line":167}}],"type":"if"},"27":{"line":170,"locations":[{"end":{"column":76,"line":170},"start":{"column":67,"line":170}},{"end":{"column":85,"line":170},"start":{"column":79,"line":170}}],"type":"cond-expr"},"28":{"line":174,"locations":[{"end":{"column":4,"line":174},"start":{"column":4,"line":174}},{"end":{"column":4,"line":174},"start":{"column":4,"line":174}}],"type":"if"},"29":{"line":181,"locations":[{"end":{"column":60,"line":181},"start":{"column":21,"line":181}},{"end":{"column":82,"line":181},"start":{"column":64,"line":181}}],"type":"binary-expr"},"30":{"line":189,"locations":[{"end":{"column":56,"line":189},"start":{"column":19,"line":189}},{"end":{"column":82,"line":189},"start":{"column":60,"line":189}}],"type":"binary-expr"},"31":{"line":190,"locations":[{"end":{"column":4,"line":190},"start":{"column":4,"line":190}},{"end":{"column":4,"line":190},"start":{"column":4,"line":190}}],"type":"if"},"32":{"line":197,"locations":[{"end":{"column":4,"line":197},"start":{"column":4,"line":197}},{"end":{"column":4,"line":197},"start":{"column":4,"line":197}}],"type":"if"},"33":{"line":215,"locations":[{"end":{"column":4,"line":215},"start":{"column":4,"line":215}},{"end":{"column":4,"line":215},"start":{"column":4,"line":215}}],"type":"if"},"34":{"line":216,"locations":[{"end":{"column":6,"line":216},"start":{"column":6,"line":216}},{"end":{"column":6,"line":216},"start":{"column":6,"line":216}}],"type":"if"},"35":{"line":234,"locations":[{"end":{"column":4,"line":234},"start":{"column":4,"line":234}},{"end":{"column":4,"line":234},"start":{"column":4,"line":234}}],"type":"if"},"36":{"line":234,"locations":[{"end":{"column":33,"line":234},"start":{"column":8,"line":234}},{"end":{"column":63,"line":234},"start":{"column":37,"line":234}}],"type":"binary-expr"},"37":{"line":242,"locations":[{"end":{"column":4,"line":242},"start":{"column":4,"line":242}},{"end":{"column":4,"line":242},"start":{"column":4,"line":242}}],"type":"if"},"38":{"line":245,"locations":[{"end":{"column":4,"line":245},"start":{"column":4,"line":245}},{"end":{"column":4,"line":245},"start":{"column":4,"line":245}}],"type":"if"},"39":{"line":281,"locations":[{"end":{"column":217,"line":281},"start":{"column":192,"line":281}},{"end":{"column":226,"line":281},"start":{"column":220,"line":281}}],"type":"cond-expr"},"40":{"line":281,"locations":[{"end":{"column":159,"line":281},"start":{"column":129,"line":281}},{"end":{"column":188,"line":281},"start":{"column":163,"line":281}}],"type":"binary-expr"},"41":{"line":281,"locations":[{"end":{"column":322,"line":281},"start":{"column":296,"line":281}},{"end":{"column":331,"line":281},"start":{"column":325,"line":281}}],"type":"cond-expr"},"42":{"line":281,"locations":[{"end":{"column":262,"line":281},"start":{"column":232,"line":281}},{"end":{"column":292,"line":281},"start":{"column":266,"line":281}}],"type":"binary-expr"},"43":{"line":285,"locations":[{"end":{"column":4,"line":285},"start":{"column":4,"line":285}},{"end":{"column":4,"line":285},"start":{"column":4,"line":285}}],"type":"if"},"44":{"line":304,"locations":[{"end":{"column":83,"line":304},"start":{"column":54,"line":304}},{"end":{"column":92,"line":304},"start":{"column":86,"line":304}}],"type":"cond-expr"},"45":{"line":321,"locations":[{"end":{"column":43,"line":321},"start":{"column":18,"line":321}},{"end":{"column":77,"line":321},"start":{"column":47,"line":321}},{"end":{"column":103,"line":321},"start":{"column":81,"line":321}}],"type":"binary-expr"},"46":{"line":336,"locations":[{"end":{"column":43,"line":336},"start":{"column":18,"line":336}},{"end":{"column":69,"line":336},"start":{"column":47,"line":336}}],"type":"binary-expr"},"47":{"line":345,"locations":[{"end":{"column":4,"line":345},"start":{"column":4,"line":345}},{"end":{"column":4,"line":345},"start":{"column":4,"line":345}}],"type":"if"},"48":{"line":364,"locations":[{"end":{"column":4,"line":364},"start":{"column":4,"line":364}},{"end":{"column":4,"line":364},"start":{"column":4,"line":364}}],"type":"if"},"49":{"line":367,"locations":[{"end":{"column":4,"line":367},"start":{"column":4,"line":367}},{"end":{"column":4,"line":367},"start":{"column":4,"line":367}}],"type":"if"},"50":{"line":374,"locations":[{"end":{"column":4,"line":374},"start":{"column":4,"line":374}},{"end":{"column":4,"line":374},"start":{"column":4,"line":374}}],"type":"if"},"51":{"line":420,"locations":[{"end":{"column":48,"line":420},"start":{"column":18,"line":420}},{"end":{"column":74,"line":420},"start":{"column":52,"line":420}}],"type":"binary-expr"}},"code":["var BS, BindStoreMixin, CourseGroupingLabel, CourseStore, ISO_DATE_FORMAT, PlanMixin, React, Router, TaskPlanActions, TaskPlanStore, TimeHelper, TimeStore, TutorDateFormat, TutorDateInput, TutorInput, TutorTextArea, UnsavedStateMixin, _, moment, ref, ref1;","","React = require('react');","","Router = require('react-router');","","_ = require('underscore');","","moment = require('moment-timezone');","","BS = require('react-bootstrap');","","CourseGroupingLabel = require('../course-grouping-label');","","PlanMixin = require('./plan-mixin');","","BindStoreMixin = require('../bind-store-mixin');","","TimeStore = require('../../flux/time').TimeStore;","","TutorDateFormat = TimeStore.getFormat();","","TimeHelper = require('../../helpers/time');","","ref = require('../../flux/task-plan'), TaskPlanStore = ref.TaskPlanStore, TaskPlanActions = ref.TaskPlanActions;","","ref1 = require('../tutor-input'), TutorInput = ref1.TutorInput, TutorDateInput = ref1.TutorDateInput, TutorDateFormat = ref1.TutorDateFormat, TutorTextArea = ref1.TutorTextArea;","","CourseStore = require('../../flux/course').CourseStore;","","UnsavedStateMixin = require('../unsaved-state').UnsavedStateMixin;","","ISO_DATE_FORMAT = 'YYYY-MM-DD';","","module.exports = React.createClass({","  displayName: 'TaskPlanBuilder',","  mixins: [PlanMixin, BindStoreMixin, UnsavedStateMixin],","  bindStore: CourseStore,","  propTypes: {","    id: React.PropTypes.string.isRequired,","    courseId: React.PropTypes.string.isRequired,","    label: React.PropTypes.string","  },","  getInitialState: function() {","    var isNewPlan;","    isNewPlan = TaskPlanStore.isNew(this.props.id);","    return {","      showingPeriods: !isNewPlan,","      currentLocale: TimeHelper.getCurrentLocales()","    };","  },","  getDefaultProps: function() {","    return {","      label: 'Assignment'","    };","  },","  hasUnsavedState: function() {","    return TaskPlanStore.hasChanged(this.props.id);","  },","  unsavedStateMessages: function() {","    return 'The assignment has unsaved changes';","  },","  mapPeriods: function(opensAt, dueAt) {","    var course, isNewPlan, planId;","    planId = this.props.id;","    isNewPlan = TaskPlanStore.isNew(this.props.id);","    course = CourseStore.get(this.props.courseId);","    return _.map(CourseStore.getPeriods(this.props.courseId), function(period) {","      var tasking;","      if (!TaskPlanStore.hasTasking(planId, period.id) && !isNewPlan) {","        tasking = {","          id: period.id","        };","      } else {","        tasking = {","          id: period.id,","          due_at: dueAt,","          opens_at: opensAt","        };","      }","      return tasking;","    });","  },","  getOpensAtDefault: function() {","    return moment(TimeStore.getNow()).add(1, 'day').format(ISO_DATE_FORMAT);","  },","  getQueriedOpensAt: function() {","    var dueAt, dueAtMoment, isNewPlan, opensAt, opens_at, ref2, ref3;","    opens_at = (ref2 = this.context) != null ? (ref3 = ref2.router) != null ? ref3.getCurrentQuery().opens_at : void 0 : void 0;","    isNewPlan = TaskPlanStore.isNew(this.props.id);","    opensAt = opens_at && isNewPlan ? TimeHelper.getMomentPreserveDate(opens_at).toDate() : void 0;","    if (!opensAt) {","      opensAt = this.getOpensAtDefault();","    }","    dueAt = this.getQueriedDueAt();","    if (dueAt != null) {","      dueAtMoment = TimeHelper.getMomentPreserveDate(dueAt);","      if (!(dueAtMoment.isAfter(opensAt, 'day') && dueAtMoment.format(ISO_DATE_FORMAT) !== opensAt)) {","        opensAt = moment(TimeStore.getNow()).format(ISO_DATE_FORMAT);","      }","    }","    return opensAt;","  },","  getQueriedDueAt: function() {","    var dueAt, due_at, isNewPlan, ref2, ref3;","    due_at = (ref2 = this.context) != null ? (ref3 = ref2.router) != null ? ref3.getCurrentQuery().due_at : void 0 : void 0;","    isNewPlan = TaskPlanStore.isNew(this.props.id);","    return dueAt = due_at && isNewPlan ? TimeHelper.getMomentPreserveDate(due_at).toDate() : void 0;","  },","  setPeriodDefaults: function() {","    var commonDates, dueAt, hasAllTaskings, isNewPlan, periods, planId;","    planId = this.props.id;","    isNewPlan = TaskPlanStore.isNew(this.props.id);","    dueAt = TaskPlanStore.getDueAt(this.props.id);","    commonDates = dueAt && TaskPlanStore.getOpensAt(this.props.id);","    periods = this.mapPeriods(this.getQueriedOpensAt(), dueAt || this.getQueriedDueAt());","    hasAllTaskings = _.reduce(periods, function(memo, period) {","      return memo && TaskPlanStore.hasTasking(planId, period.id);","    }, true);","    TaskPlanActions.setPeriods(planId, periods);","    if (!isNewPlan) {","      return this.setState({","        showingPeriods: !(commonDates && hasAllTaskings)","      });","    }","  },","  getDefaultPlanDates: function(periodId) {","    var taskingDueAt, taskingOpensAt;","    taskingOpensAt = TaskPlanStore.getOpensAt(this.props.id, periodId);","    if (!taskingOpensAt || isNaN(taskingOpensAt.getTime())) {","      taskingOpensAt = this.getQueriedOpensAt();","    }","    taskingDueAt = TaskPlanStore.getDueAt(this.props.id, periodId);","    if (!taskingDueAt || isNaN(taskingDueAt.getTime())) {","      taskingDueAt = this.getQueriedDueAt();","    }","    return {","      taskingOpensAt: taskingOpensAt,","      taskingDueAt: taskingDueAt","    };","  },","  bindUpdate: function() {","    return this.setPeriodDefaults();","  },","  componentWillMount: function() {","    var courseId;","    courseId = this.props.courseId;","    TimeHelper.syncCourseTimezone(courseId);","    return this.setPeriodDefaults();","  },","  componentWillUnmount: function() {","    var courseId;","    courseId = this.props.courseId;","    return TimeHelper.unsyncCourseTimezone(courseId);","  },","  setOpensAt: function(value, period) {","    var id;","    id = this.props.id;","    if (Object.prototype.toString.call(value) === '[object Date]') {","      value = TimeHelper.getMomentPreserveDate(value).format(TutorDateFormat);","    }","    return TaskPlanActions.updateOpensAt(id, value, period != null ? period.id : void 0);","  },","  setDueAt: function(value, period) {","    var id;","    id = this.props.id;","    if (Object.prototype.toString.call(value) === '[object Date]') {","      value = TimeHelper.getMomentPreserveDate(value).format(TutorDateFormat);","    }","    return TaskPlanActions.updateDueAt(id, value, period != null ? period.id : void 0);","  },","  setAllPeriods: function() {","    var periods, saveTaskings, taskingDueAt, taskingOpensAt;","    if (this.state.showingPeriods) {","      saveTaskings = TaskPlanStore.getEnabledTaskings(this.props.id);","      this.setState({","        showingPeriods: false,","        savedTaskings: saveTaskings","      });","    }","    taskingOpensAt = TaskPlanStore.getOpensAt(this.props.id) || TimeStore.getNow();","    this.setOpensAt(taskingOpensAt);","    periods = _.map(CourseStore.getPeriods(this.props.courseId), function(period) {","      return {","        id: period.id","      };","    });","    TaskPlanActions.setPeriods(this.props.id, periods);","    taskingDueAt = TaskPlanStore.getDueAt(this.props.id) || this.getQueriedDueAt();","    if (taskingDueAt) {","      return this.setDueAt(taskingDueAt);","    } else {","      return TaskPlanActions.clearDueAt(this.props.id);","    }","  },","  setIndividualPeriods: function() {","    if (this.state.savedTaskings) {","      TaskPlanActions.replaceTaskings(this.props.id, this.state.savedTaskings);","    }","    return this.setState({","      showingPeriods: true,","      savedTaskings: null","    });","  },","  getSavedTaskingFor: function(periodId) {","    return _.findWhere(this.state.savedTaskings, {","      id: periodId.toString()","    });","  },","  togglePeriodEnabled: function(period, ev) {","    var id, periodTasking, ref2, ref3, taskingDueAt, taskingOpensAt;","    id = this.props.id;","    periodTasking = this.getSavedTaskingFor(period.id);","    ref2 = this.getDefaultPlanDates(period.id), taskingOpensAt = ref2.taskingOpensAt, taskingDueAt = ref2.taskingDueAt;","    if (ev.target.checked) {","      if (periodTasking != null) {","        return TaskPlanActions.enableTasking(this.props.id, period.id, periodTasking.opens_at, periodTasking.due_at);","      } else {","        ref3 = this.getDefaultPlanDates(period.id), taskingOpensAt = ref3.taskingOpensAt, taskingDueAt = ref3.taskingDueAt;","        return TaskPlanActions.enableTasking(this.props.id, period.id, taskingOpensAt, taskingDueAt);","      }","    } else {","      return TaskPlanActions.disableTasking(this.props.id, period.id);","    }","  },","  setDescription: function(desc, descNode) {","    var id;","    id = this.props.id;","    return TaskPlanActions.updateDescription(id, desc);","  },","  render: function() {","    var assignmentNameLabel, cannotEditNote, feedbackNote, invalidPeriodsAlert, plan;","    plan = TaskPlanStore.get(this.props.id);","    if (this.state.showingPeriods && !plan.tasking_plans.length) {","      invalidPeriodsAlert = React.createElement(BS.Row, null, React.createElement(BS.Col, {","        \"className\": \"periods-invalid\",","        \"sm\": 12","      }, \"Please select at least one period\", React.createElement(\"i\", {","        \"className\": \"fa fa-exclamation-circle\"","      })));","    }","    if (plan.type === 'homework') {","      feedbackNote = '  Feedback will be released after the due date.';","    }","    if (this.state.isVisibleToStudents) {","      cannotEditNote = '  Open times cannot be edited after assignment is visible to students.';","    }","    assignmentNameLabel = [","      this.props.label + \" name\", React.createElement(\"span\", {","        \"className\": 'instructions'","      }, \" (students will see this on their dashboard)\")","    ];","    return React.createElement(\"div\", {","      \"className\": \"assignment\"","    }, React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"xs\": 12","    }, React.createElement(TutorInput, {","      \"label\": assignmentNameLabel,","      \"className\": 'assignment-name',","      \"id\": 'reading-title',","      \"default\": plan.title,","      \"required\": true,","      \"disabled\": !this.state.isEditable,","      \"onChange\": this.setTitle","    }))), React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"xs\": 12","    }, React.createElement(TutorTextArea, {","      \"label\": 'Description or special instructions',","      \"className\": 'assignment-description',","      \"id\": 'assignment-description',","      \"default\": TaskPlanStore.getDescription(this.props.id),","      \"disabled\": !this.state.isEditable,","      \"onChange\": this.setDescription","    }))), React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"sm\": 12,","      \"className\": 'assign-to-label'","    }, \"Assign to\")), React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"sm\": 12","    }, React.createElement(\"div\", {","      \"className\": \"instructions\"","    }, \"Open time is 12:01am.\\nSet date to today to open immediately.\\nDue time is 7:00am.\", cannotEditNote, feedbackNote))), (!(this.state.isVisibleToStudents && this.state.showingPeriods) ? this.renderCommonChoice() : void 0), (!(this.state.isVisibleToStudents && !this.state.showingPeriods) ? this.renderPeriodsChoice() : void 0), invalidPeriodsAlert);","  },","  renderCommonChoice: function() {","    var radio;","    if (!this.state.isVisibleToStudents) {","      radio = React.createElement(\"input\", {","        \"id\": 'hide-periods-radio',","        \"name\": 'toggle-periods-radio',","        \"ref\": 'allPeriodsRadio',","        \"type\": 'radio',","        \"onChange\": this.setAllPeriods,","        \"disabled\": this.state.isVisibleToStudents,","        \"checked\": !this.state.showingPeriods","      });","    }","    return React.createElement(BS.Row, {","      \"className\": \"common tutor-date-input\"","    }, React.createElement(BS.Col, {","      \"sm\": 4,","      \"md\": 3","    }, radio, React.createElement(\"label\", {","      \"className\": \"period\",","      \"htmlFor\": 'hide-periods-radio'","    }, \"All Periods\")), (!this.state.showingPeriods ? this.renderCommonDateInputs() : void 0));","  },","  renderCommonDateInputs: function() {","    var commonDueAt, commonOpensAt, dueAt, maxOpensAt, opensAt, ref2, taskingDueAt, taskingOpensAt;","    ref2 = this.getDefaultPlanDates(), taskingOpensAt = ref2.taskingOpensAt, taskingDueAt = ref2.taskingDueAt;","    commonOpensAt = taskingOpensAt;","    commonDueAt = taskingDueAt;","    maxOpensAt = new moment(TaskPlanStore.getDueAt(this.props.id)).subtract(1, 'day').toDate();","    opensAt = React.createElement(BS.Col, {","      \"sm\": 4,","      \"md\": 3","    }, React.createElement(TutorDateInput, {","      \"className\": '-assignment-open-date',","      \"ref\": \"openDate\",","      \"required\": !this.state.showingPeriods,","      \"label\": \"Open Date\",","      \"onChange\": this.setOpensAt,","      \"disabled\": this.state.showingPeriods || this.state.isVisibleToStudents || !this.state.isEditable,","      \"min\": TimeStore.getNow(),","      \"max\": maxOpensAt,","      \"value\": commonOpensAt,","      \"currentLocale\": this.state.currentLocale","    }));","    dueAt = React.createElement(BS.Col, {","      \"sm\": 4,","      \"md\": 3","    }, React.createElement(TutorDateInput, {","      \"className\": '-assignment-due-date',","      \"ref\": \"dueDate\",","      \"required\": !this.state.showingPeriods,","      \"label\": \"Due Date\",","      \"onChange\": this.setDueAt,","      \"disabled\": this.state.showingPeriods || !this.state.isEditable,","      \"min\": TaskPlanStore.getMinDueAt(this.props.id),","      \"value\": commonDueAt,","      \"currentLocale\": this.state.currentLocale","    }));","    return [opensAt, dueAt];","  },","  renderPeriodsChoice: function() {","    var choiceLabel, periodsChoice, radio;","    if (!this.state.isVisibleToStudents) {","      radio = React.createElement(\"input\", {","        \"id\": 'show-periods-radio',","        \"name\": 'toggle-periods-radio',","        \"type\": 'radio',","        \"onChange\": this.setIndividualPeriods,","        \"disabled\": this.state.isVisibleToStudents,","        \"checked\": this.state.showingPeriods","      });","    }","    choiceLabel = React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"md\": 12","    }, radio, React.createElement(\"label\", {","      \"className\": \"period\",","      \"htmlFor\": 'show-periods-radio'","    }, \"Individual \", React.createElement(CourseGroupingLabel, {","      \"courseId\": this.props.courseId,","      \"plural\": true","    }))));","    if (this.state.showingPeriods) {","      periodsChoice = _.map(CourseStore.getPeriods(this.props.courseId), this.renderTaskPlanRow);","    }","    if (periodsChoice == null) {","      periodsChoice = [];","    }","    periodsChoice.unshift(choiceLabel);","    return periodsChoice;","  },","  renderTaskPlanRow: function(plan) {","    if (TaskPlanStore.hasTasking(this.props.id, plan.id)) {","      return this.renderEnabledTasking(plan);","    } else {","      return this.renderDisabledTasking(plan);","    }","  },","  renderDisabledTasking: function(plan) {","    return React.createElement(BS.Row, {","      \"key\": plan.id,","      \"className\": \"tasking-plan disabled\"","    }, React.createElement(BS.Col, {","      \"sm\": 12","    }, React.createElement(\"input\", {","      \"id\": \"period-toggle-\" + plan.id,","      \"type\": 'checkbox',","      \"disabled\": this.state.isVisibleToStudents,","      \"onChange\": _.partial(this.togglePeriodEnabled, plan),","      \"checked\": false","    }), React.createElement(\"label\", {","      \"className\": \"period\",","      \"htmlFor\": \"period-toggle-\" + plan.id","    }, plan.name)));","  },","  renderEnabledTasking: function(plan) {","    var maxOpensAt, ref2, taskingDueAt, taskingOpensAt;","    ref2 = this.getDefaultPlanDates(plan.id), taskingOpensAt = ref2.taskingOpensAt, taskingDueAt = ref2.taskingDueAt;","    maxOpensAt = new moment(TaskPlanStore.getDueAt(this.props.id, plan.id)).subtract(1, 'day').toDate();","    return React.createElement(BS.Row, {","      \"key\": plan.id,","      \"className\": \"tasking-plan tutor-date-input\"","    }, React.createElement(BS.Col, {","      \"sm\": 4,","      \"md\": 3","    }, React.createElement(\"input\", {","      \"id\": \"period-toggle-\" + plan.id,","      \"disabled\": this.state.isVisibleToStudents,","      \"type\": 'checkbox',","      \"onChange\": _.partial(this.togglePeriodEnabled, plan),","      \"checked\": true","    }), React.createElement(\"label\", {","      \"className\": \"period\",","      \"htmlFor\": \"period-toggle-\" + plan.id","    }, plan.name)), React.createElement(BS.Col, {","      \"sm\": 4,","      \"md\": 3","    }, React.createElement(TutorDateInput, {","      \"disabled\": this.state.isVisibleToStudents || !this.state.isEditable,","      \"label\": \"Open Date\",","      \"required\": this.state.showingPeriods,","      \"min\": TimeStore.getNow(),","      \"max\": maxOpensAt,","      \"onChange\": _.partial(this.setOpensAt, _, plan),","      \"value\": taskingOpensAt,","      \"currentLocale\": this.state.currentLocale","    })), React.createElement(BS.Col, {","      \"sm\": 4,","      \"md\": 3","    }, React.createElement(TutorDateInput, {","      \"disabled\": !this.state.isEditable,","      \"label\": \"Due Date\",","      \"required\": this.state.showingPeriods,","      \"min\": TaskPlanStore.getMinDueAt(this.props.id, plan.id),","      \"onChange\": _.partial(this.setDueAt, _, plan),","      \"value\": taskingDueAt,","      \"currentLocale\": this.state.currentLocale","    })));","  }","});",""],"f":{"1":10,"2":21,"3":0,"4":0,"5":10,"6":40,"7":10,"8":10,"9":59,"10":10,"11":40,"12":101,"13":0,"14":10,"15":10,"16":1,"17":3,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":101,"25":101,"26":101,"27":101,"28":0,"29":0,"30":0},"fnMap":{"1":{"line":44,"loc":{"end":{"column":30,"line":44},"start":{"column":19,"line":44}},"name":"(anonymous_1)"},"2":{"line":52,"loc":{"end":{"column":30,"line":52},"start":{"column":19,"line":52}},"name":"(anonymous_2)"},"3":{"line":57,"loc":{"end":{"column":30,"line":57},"start":{"column":19,"line":57}},"name":"(anonymous_3)"},"4":{"line":60,"loc":{"end":{"column":35,"line":60},"start":{"column":24,"line":60}},"name":"(anonymous_4)"},"5":{"line":63,"loc":{"end":{"column":39,"line":63},"start":{"column":14,"line":63}},"name":"(anonymous_5)"},"6":{"line":68,"loc":{"end":{"column":79,"line":68},"start":{"column":62,"line":68}},"name":"(anonymous_6)"},"7":{"line":84,"loc":{"end":{"column":32,"line":84},"start":{"column":21,"line":84}},"name":"(anonymous_7)"},"8":{"line":87,"loc":{"end":{"column":32,"line":87},"start":{"column":21,"line":87}},"name":"(anonymous_8)"},"9":{"line":104,"loc":{"end":{"column":30,"line":104},"start":{"column":19,"line":104}},"name":"(anonymous_9)"},"10":{"line":110,"loc":{"end":{"column":32,"line":110},"start":{"column":21,"line":110}},"name":"(anonymous_10)"},"11":{"line":117,"loc":{"end":{"column":62,"line":117},"start":{"column":39,"line":117}},"name":"(anonymous_11)"},"12":{"line":127,"loc":{"end":{"column":42,"line":127},"start":{"column":23,"line":127}},"name":"(anonymous_12)"},"13":{"line":142,"loc":{"end":{"column":25,"line":142},"start":{"column":14,"line":142}},"name":"(anonymous_13)"},"14":{"line":145,"loc":{"end":{"column":33,"line":145},"start":{"column":22,"line":145}},"name":"(anonymous_14)"},"15":{"line":151,"loc":{"end":{"column":35,"line":151},"start":{"column":24,"line":151}},"name":"(anonymous_15)"},"16":{"line":156,"loc":{"end":{"column":38,"line":156},"start":{"column":14,"line":156}},"name":"(anonymous_16)"},"17":{"line":164,"loc":{"end":{"column":36,"line":164},"start":{"column":12,"line":164}},"name":"(anonymous_17)"},"18":{"line":172,"loc":{"end":{"column":28,"line":172},"start":{"column":17,"line":172}},"name":"(anonymous_18)"},"19":{"line":183,"loc":{"end":{"column":82,"line":183},"start":{"column":65,"line":183}},"name":"(anonymous_19)"},"20":{"line":196,"loc":{"end":{"column":35,"line":196},"start":{"column":24,"line":196}},"name":"(anonymous_20)"},"21":{"line":205,"loc":{"end":{"column":41,"line":205},"start":{"column":22,"line":205}},"name":"(anonymous_21)"},"22":{"line":210,"loc":{"end":{"column":44,"line":210},"start":{"column":23,"line":210}},"name":"(anonymous_22)"},"23":{"line":226,"loc":{"end":{"column":43,"line":226},"start":{"column":18,"line":226}},"name":"(anonymous_23)"},"24":{"line":231,"loc":{"end":{"column":21,"line":231},"start":{"column":10,"line":231}},"name":"(anonymous_24)"},"25":{"line":283,"loc":{"end":{"column":33,"line":283},"start":{"column":22,"line":283}},"name":"(anonymous_25)"},"26":{"line":306,"loc":{"end":{"column":37,"line":306},"start":{"column":26,"line":306}},"name":"(anonymous_26)"},"27":{"line":343,"loc":{"end":{"column":34,"line":343},"start":{"column":23,"line":343}},"name":"(anonymous_27)"},"28":{"line":373,"loc":{"end":{"column":36,"line":373},"start":{"column":21,"line":373}},"name":"(anonymous_28)"},"29":{"line":380,"loc":{"end":{"column":40,"line":380},"start":{"column":25,"line":380}},"name":"(anonymous_29)"},"30":{"line":397,"loc":{"end":{"column":39,"line":397},"start":{"column":24,"line":397}},"name":"(anonymous_30)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/builder.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":10,"20":10,"21":10,"22":21,"23":0,"24":0,"25":10,"26":10,"27":10,"28":10,"29":10,"30":40,"31":40,"32":0,"33":40,"34":40,"35":10,"36":10,"37":10,"38":10,"39":10,"40":10,"41":10,"42":10,"43":10,"44":0,"45":0,"46":0,"47":10,"48":59,"49":59,"50":59,"51":59,"52":10,"53":10,"54":10,"55":10,"56":10,"57":10,"58":10,"59":40,"60":10,"61":10,"62":3,"63":101,"64":101,"65":101,"66":0,"67":101,"68":101,"69":42,"70":101,"71":0,"72":10,"73":10,"74":10,"75":10,"76":10,"77":10,"78":10,"79":1,"80":1,"81":1,"82":0,"83":1,"84":3,"85":3,"86":3,"87":0,"88":3,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":101,"120":101,"121":101,"122":0,"123":101,"124":3,"125":101,"126":0,"127":101,"128":101,"129":101,"130":101,"131":101,"132":101,"133":101,"134":101,"135":101,"136":101,"137":101,"138":101,"139":101,"140":101,"141":101,"142":101,"143":101,"144":101,"145":101,"146":0,"147":101,"148":101,"149":101,"150":101,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0},"statementMap":{"1":{"end":{"column":256,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":36,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":32,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":58,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":36,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":48,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":49,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":40,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":43,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":112,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":177,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":55,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":66,"line":31},"start":{"column":0,"line":31}},"17":{"end":{"column":31,"line":33},"start":{"column":0,"line":33}},"18":{"end":{"column":3,"line":441},"start":{"column":0,"line":35}},"19":{"end":{"column":18,"line":45},"start":{"column":4,"line":45}},"20":{"end":{"column":51,"line":46},"start":{"column":4,"line":46}},"21":{"end":{"column":6,"line":50},"start":{"column":4,"line":47}},"22":{"end":{"column":6,"line":55},"start":{"column":4,"line":53}},"23":{"end":{"column":51,"line":58},"start":{"column":4,"line":58}},"24":{"end":{"column":48,"line":61},"start":{"column":4,"line":61}},"25":{"end":{"column":34,"line":64},"start":{"column":4,"line":64}},"26":{"end":{"column":27,"line":65},"start":{"column":4,"line":65}},"27":{"end":{"column":51,"line":66},"start":{"column":4,"line":66}},"28":{"end":{"column":50,"line":67},"start":{"column":4,"line":67}},"29":{"end":{"column":7,"line":82},"start":{"column":4,"line":68}},"30":{"end":{"column":18,"line":69},"start":{"column":6,"line":69}},"31":{"end":{"column":7,"line":80},"start":{"column":6,"line":70}},"32":{"end":{"column":10,"line":73},"start":{"column":8,"line":71}},"33":{"end":{"column":10,"line":79},"start":{"column":8,"line":75}},"34":{"end":{"column":21,"line":81},"start":{"column":6,"line":81}},"35":{"end":{"column":76,"line":85},"start":{"column":4,"line":85}},"36":{"end":{"column":69,"line":88},"start":{"column":4,"line":88}},"37":{"end":{"column":128,"line":89},"start":{"column":4,"line":89}},"38":{"end":{"column":51,"line":90},"start":{"column":4,"line":90}},"39":{"end":{"column":99,"line":91},"start":{"column":4,"line":91}},"40":{"end":{"column":5,"line":94},"start":{"column":4,"line":92}},"41":{"end":{"column":41,"line":93},"start":{"column":6,"line":93}},"42":{"end":{"column":35,"line":95},"start":{"column":4,"line":95}},"43":{"end":{"column":5,"line":101},"start":{"column":4,"line":96}},"44":{"end":{"column":60,"line":97},"start":{"column":6,"line":97}},"45":{"end":{"column":7,"line":100},"start":{"column":6,"line":98}},"46":{"end":{"column":69,"line":99},"start":{"column":8,"line":99}},"47":{"end":{"column":19,"line":102},"start":{"column":4,"line":102}},"48":{"end":{"column":45,"line":105},"start":{"column":4,"line":105}},"49":{"end":{"column":124,"line":106},"start":{"column":4,"line":106}},"50":{"end":{"column":51,"line":107},"start":{"column":4,"line":107}},"51":{"end":{"column":100,"line":108},"start":{"column":4,"line":108}},"52":{"end":{"column":71,"line":111},"start":{"column":4,"line":111}},"53":{"end":{"column":27,"line":112},"start":{"column":4,"line":112}},"54":{"end":{"column":51,"line":113},"start":{"column":4,"line":113}},"55":{"end":{"column":50,"line":114},"start":{"column":4,"line":114}},"56":{"end":{"column":67,"line":115},"start":{"column":4,"line":115}},"57":{"end":{"column":89,"line":116},"start":{"column":4,"line":116}},"58":{"end":{"column":13,"line":119},"start":{"column":4,"line":117}},"59":{"end":{"column":65,"line":118},"start":{"column":6,"line":118}},"60":{"end":{"column":48,"line":120},"start":{"column":4,"line":120}},"61":{"end":{"column":5,"line":125},"start":{"column":4,"line":121}},"62":{"end":{"column":9,"line":124},"start":{"column":6,"line":122}},"63":{"end":{"column":37,"line":128},"start":{"column":4,"line":128}},"64":{"end":{"column":71,"line":129},"start":{"column":4,"line":129}},"65":{"end":{"column":5,"line":132},"start":{"column":4,"line":130}},"66":{"end":{"column":48,"line":131},"start":{"column":6,"line":131}},"67":{"end":{"column":67,"line":133},"start":{"column":4,"line":133}},"68":{"end":{"column":5,"line":136},"start":{"column":4,"line":134}},"69":{"end":{"column":44,"line":135},"start":{"column":6,"line":135}},"70":{"end":{"column":6,"line":140},"start":{"column":4,"line":137}},"71":{"end":{"column":36,"line":143},"start":{"column":4,"line":143}},"72":{"end":{"column":17,"line":146},"start":{"column":4,"line":146}},"73":{"end":{"column":35,"line":147},"start":{"column":4,"line":147}},"74":{"end":{"column":44,"line":148},"start":{"column":4,"line":148}},"75":{"end":{"column":36,"line":149},"start":{"column":4,"line":149}},"76":{"end":{"column":17,"line":152},"start":{"column":4,"line":152}},"77":{"end":{"column":35,"line":153},"start":{"column":4,"line":153}},"78":{"end":{"column":53,"line":154},"start":{"column":4,"line":154}},"79":{"end":{"column":11,"line":157},"start":{"column":4,"line":157}},"80":{"end":{"column":23,"line":158},"start":{"column":4,"line":158}},"81":{"end":{"column":5,"line":161},"start":{"column":4,"line":159}},"82":{"end":{"column":78,"line":160},"start":{"column":6,"line":160}},"83":{"end":{"column":89,"line":162},"start":{"column":4,"line":162}},"84":{"end":{"column":11,"line":165},"start":{"column":4,"line":165}},"85":{"end":{"column":23,"line":166},"start":{"column":4,"line":166}},"86":{"end":{"column":5,"line":169},"start":{"column":4,"line":167}},"87":{"end":{"column":78,"line":168},"start":{"column":6,"line":168}},"88":{"end":{"column":87,"line":170},"start":{"column":4,"line":170}},"89":{"end":{"column":60,"line":173},"start":{"column":4,"line":173}},"90":{"end":{"column":5,"line":180},"start":{"column":4,"line":174}},"91":{"end":{"column":69,"line":175},"start":{"column":6,"line":175}},"92":{"end":{"column":9,"line":179},"start":{"column":6,"line":176}},"93":{"end":{"column":83,"line":181},"start":{"column":4,"line":181}},"94":{"end":{"column":36,"line":182},"start":{"column":4,"line":182}},"95":{"end":{"column":7,"line":187},"start":{"column":4,"line":183}},"96":{"end":{"column":8,"line":186},"start":{"column":6,"line":184}},"97":{"end":{"column":55,"line":188},"start":{"column":4,"line":188}},"98":{"end":{"column":83,"line":189},"start":{"column":4,"line":189}},"99":{"end":{"column":5,"line":194},"start":{"column":4,"line":190}},"100":{"end":{"column":41,"line":191},"start":{"column":6,"line":191}},"101":{"end":{"column":55,"line":193},"start":{"column":6,"line":193}},"102":{"end":{"column":5,"line":199},"start":{"column":4,"line":197}},"103":{"end":{"column":79,"line":198},"start":{"column":6,"line":198}},"104":{"end":{"column":7,"line":203},"start":{"column":4,"line":200}},"105":{"end":{"column":7,"line":208},"start":{"column":4,"line":206}},"106":{"end":{"column":68,"line":211},"start":{"column":4,"line":211}},"107":{"end":{"column":23,"line":212},"start":{"column":4,"line":212}},"108":{"end":{"column":55,"line":213},"start":{"column":4,"line":213}},"109":{"end":{"column":119,"line":214},"start":{"column":4,"line":214}},"110":{"end":{"column":5,"line":224},"start":{"column":4,"line":215}},"111":{"end":{"column":7,"line":221},"start":{"column":6,"line":216}},"112":{"end":{"column":117,"line":217},"start":{"column":8,"line":217}},"113":{"end":{"column":123,"line":219},"start":{"column":8,"line":219}},"114":{"end":{"column":101,"line":220},"start":{"column":8,"line":220}},"115":{"end":{"column":70,"line":223},"start":{"column":6,"line":223}},"116":{"end":{"column":11,"line":227},"start":{"column":4,"line":227}},"117":{"end":{"column":23,"line":228},"start":{"column":4,"line":228}},"118":{"end":{"column":55,"line":229},"start":{"column":4,"line":229}},"119":{"end":{"column":85,"line":232},"start":{"column":4,"line":232}},"120":{"end":{"column":44,"line":233},"start":{"column":4,"line":233}},"121":{"end":{"column":5,"line":241},"start":{"column":4,"line":234}},"122":{"end":{"column":11,"line":240},"start":{"column":6,"line":235}},"123":{"end":{"column":5,"line":244},"start":{"column":4,"line":242}},"124":{"end":{"column":71,"line":243},"start":{"column":6,"line":243}},"125":{"end":{"column":5,"line":247},"start":{"column":4,"line":245}},"126":{"end":{"column":96,"line":246},"start":{"column":6,"line":246}},"127":{"end":{"column":6,"line":252},"start":{"column":4,"line":248}},"128":{"end":{"column":355,"line":281},"start":{"column":4,"line":253}},"129":{"end":{"column":14,"line":284},"start":{"column":4,"line":284}},"130":{"end":{"column":5,"line":295},"start":{"column":4,"line":285}},"131":{"end":{"column":9,"line":294},"start":{"column":6,"line":286}},"132":{"end":{"column":95,"line":304},"start":{"column":4,"line":296}},"133":{"end":{"column":99,"line":307},"start":{"column":4,"line":307}},"134":{"end":{"column":110,"line":308},"start":{"column":4,"line":308}},"135":{"end":{"column":35,"line":309},"start":{"column":4,"line":309}},"136":{"end":{"column":31,"line":310},"start":{"column":4,"line":310}},"137":{"end":{"column":95,"line":311},"start":{"column":4,"line":311}},"138":{"end":{"column":8,"line":326},"start":{"column":4,"line":312}},"139":{"end":{"column":8,"line":340},"start":{"column":4,"line":327}},"140":{"end":{"column":28,"line":341},"start":{"column":4,"line":341}},"141":{"end":{"column":42,"line":344},"start":{"column":4,"line":344}},"142":{"end":{"column":5,"line":354},"start":{"column":4,"line":345}},"143":{"end":{"column":9,"line":353},"start":{"column":6,"line":346}},"144":{"end":{"column":10,"line":363},"start":{"column":4,"line":355}},"145":{"end":{"column":5,"line":366},"start":{"column":4,"line":364}},"146":{"end":{"column":97,"line":365},"start":{"column":6,"line":365}},"147":{"end":{"column":5,"line":369},"start":{"column":4,"line":367}},"148":{"end":{"column":25,"line":368},"start":{"column":6,"line":368}},"149":{"end":{"column":39,"line":370},"start":{"column":4,"line":370}},"150":{"end":{"column":25,"line":371},"start":{"column":4,"line":371}},"151":{"end":{"column":5,"line":378},"start":{"column":4,"line":374}},"152":{"end":{"column":45,"line":375},"start":{"column":6,"line":375}},"153":{"end":{"column":46,"line":377},"start":{"column":6,"line":377}},"154":{"end":{"column":20,"line":395},"start":{"column":4,"line":381}},"155":{"end":{"column":55,"line":398},"start":{"column":4,"line":398}},"156":{"end":{"column":117,"line":399},"start":{"column":4,"line":399}},"157":{"end":{"column":104,"line":400},"start":{"column":4,"line":400}},"158":{"end":{"column":9,"line":439},"start":{"column":4,"line":401}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"33":21,"35":21,"45":10,"46":10,"47":10,"53":21,"58":0,"61":0,"64":10,"65":10,"66":10,"67":10,"68":10,"69":40,"70":40,"71":0,"75":40,"81":40,"85":10,"88":10,"89":10,"90":10,"91":10,"92":10,"93":10,"95":10,"96":10,"97":0,"98":0,"99":0,"102":10,"105":59,"106":59,"107":59,"108":59,"111":10,"112":10,"113":10,"114":10,"115":10,"116":10,"117":10,"118":40,"120":10,"121":10,"122":3,"128":101,"129":101,"130":101,"131":0,"133":101,"134":101,"135":42,"137":101,"143":0,"146":10,"147":10,"148":10,"149":10,"152":10,"153":10,"154":10,"157":1,"158":1,"159":1,"160":0,"162":1,"165":3,"166":3,"167":3,"168":0,"170":3,"173":0,"174":0,"175":0,"176":0,"181":0,"182":0,"183":0,"184":0,"188":0,"189":0,"190":0,"191":0,"193":0,"197":0,"198":0,"200":0,"206":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"219":0,"220":0,"223":0,"227":0,"228":0,"229":0,"232":101,"233":101,"234":101,"235":0,"242":101,"243":3,"245":101,"246":0,"248":101,"253":101,"284":101,"285":101,"286":101,"296":101,"307":101,"308":101,"309":101,"310":101,"311":101,"312":101,"327":101,"341":101,"344":101,"345":101,"346":101,"355":101,"364":101,"365":0,"367":101,"368":101,"370":101,"371":101,"374":0,"375":0,"377":0,"381":0,"398":0,"399":0,"400":0,"401":0}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/chapter-section.cjsx":{"b":{},"branchMap":{},"code":["var ChapterSectionMixin, React, _;","","React = require('react');","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","_ = require('underscore');","","module.exports = React.createClass({","  displayName: 'ChapterSection',","  propTypes: {","    section: React.PropTypes.oneOfType([React.PropTypes.array, React.PropTypes.string]).isRequired","  },","  componentWillMount: function() {","    return this.setState({","      skipZeros: false","    });","  },","  mixins: [ChapterSectionMixin],","  render: function() {","    var section;","    section = this.props.section;","    return React.createElement(\"span\", {","      \"className\": \"chapter-section\",","      \"data-chapter-section\": this.sectionFormat(section)","    }, this.sectionFormat(section));","  }","});",""],"f":{"1":538,"2":5155},"fnMap":{"1":{"line":14,"loc":{"end":{"column":33,"line":14},"start":{"column":22,"line":14}},"name":"(anonymous_1)"},"2":{"line":20,"loc":{"end":{"column":21,"line":20},"start":{"column":10,"line":20}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/chapter-section.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":538,"7":5155,"8":5155,"9":5155},"statementMap":{"1":{"end":{"column":34,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":79,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":28},"start":{"column":0,"line":9}},"6":{"end":{"column":7,"line":17},"start":{"column":4,"line":15}},"7":{"end":{"column":16,"line":21},"start":{"column":4,"line":21}},"8":{"end":{"column":33,"line":22},"start":{"column":4,"line":22}},"9":{"end":{"column":36,"line":26},"start":{"column":4,"line":23}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"15":538,"21":5155,"22":5155,"23":5155}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/event/index.cjsx":{"b":{"1":[0,0],"2":[0,0]},"branchMap":{"1":{"line":42,"locations":[{"end":{"column":4,"line":42},"start":{"column":4,"line":42}},{"end":{"column":4,"line":42},"start":{"column":4,"line":42}}],"type":"if"},"2":{"line":42,"locations":[{"end":{"column":50,"line":42},"start":{"column":38,"line":42}},{"end":{"column":59,"line":42},"start":{"column":53,"line":42}}],"type":"cond-expr"}},"code":["var BS, EventPlan, PlanFooter, PlanMixin, React, Router, TaskPlanActions, TaskPlanBuilder, TaskPlanStore, _, ref;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","Router = require('react-router');","","ref = require('../../../flux/task-plan'), TaskPlanStore = ref.TaskPlanStore, TaskPlanActions = ref.TaskPlanActions;","","PlanFooter = require('../footer');","","PlanMixin = require('../plan-mixin');","","TaskPlanBuilder = require('../builder');","","EventPlan = React.createClass({","  displayName: 'EventPlan',","  mixins: [PlanMixin],","  componentWillMount: function() {","    var id;","    id = this.props.id;","    return TaskPlanActions.setEvent(id);","  },","  render: function() {","    var courseId, footer, formClasses, header, id, plan, ref1, ref2;","    ref1 = this.props, id = ref1.id, courseId = ref1.courseId;","    plan = TaskPlanStore.get(id);","    formClasses = ['edit-event', 'dialog'];","    footer = React.createElement(PlanFooter, {","      \"id\": id,","      \"courseId\": courseId,","      \"onPublish\": this.publish,","      \"onSave\": this.save,","      \"onCancel\": this.cancel,","      \"getBackToCalendarParams\": this.getBackToCalendarParams,","      \"goBackToCalendar\": this.goBackToCalendar","    });","    header = this.builderHeader('event', '');","    if ((ref2 = this.state) != null ? ref2.invalid : void 0) {","      formClasses.push('is-invalid-form');","    }","    return React.createElement(\"div\", {","      \"className\": 'event-plan task-plan',","      \"data-assignment-type\": 'event'","    }, React.createElement(BS.Panel, {","      \"bsStyle\": 'primary',","      \"className\": formClasses.join(' '),","      \"footer\": footer,","      \"header\": header","    }, React.createElement(BS.Grid, {","      \"fluid\": true","    }, React.createElement(TaskPlanBuilder, {","      \"courseId\": courseId,","      \"id\": id,","      \"label\": 'Event'","    }))));","  }","});","","module.exports = {","  EventPlan: EventPlan","};",""],"f":{"1":0,"2":0},"fnMap":{"1":{"line":22,"loc":{"end":{"column":33,"line":22},"start":{"column":22,"line":22}},"name":"(anonymous_1)"},"2":{"line":27,"loc":{"end":{"column":21,"line":27},"start":{"column":10,"line":27}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/event/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":21},"statementMap":{"1":{"end":{"column":113,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":115,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":34,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":37,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":40,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":61},"start":{"column":0,"line":19}},"11":{"end":{"column":11,"line":23},"start":{"column":4,"line":23}},"12":{"end":{"column":23,"line":24},"start":{"column":4,"line":24}},"13":{"end":{"column":40,"line":25},"start":{"column":4,"line":25}},"14":{"end":{"column":68,"line":28},"start":{"column":4,"line":28}},"15":{"end":{"column":62,"line":29},"start":{"column":4,"line":29}},"16":{"end":{"column":33,"line":30},"start":{"column":4,"line":30}},"17":{"end":{"column":43,"line":31},"start":{"column":4,"line":31}},"18":{"end":{"column":7,"line":40},"start":{"column":4,"line":32}},"19":{"end":{"column":45,"line":41},"start":{"column":4,"line":41}},"20":{"end":{"column":5,"line":44},"start":{"column":4,"line":42}},"21":{"end":{"column":42,"line":43},"start":{"column":6,"line":43}},"22":{"end":{"column":10,"line":59},"start":{"column":4,"line":45}},"23":{"end":{"column":2,"line":65},"start":{"column":0,"line":63}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"23":0,"24":0,"25":0,"28":0,"29":0,"30":0,"31":0,"32":0,"41":0,"42":0,"43":0,"45":0,"63":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/external/index.cjsx":{"b":{"1":[1,0],"2":[1,0],"3":[0,0],"4":[3,0],"5":[3,0],"6":[1,2],"7":[3,0],"8":[3,0],"9":[0,3]},"branchMap":{"1":{"line":32,"locations":[{"end":{"column":4,"line":32},"start":{"column":4,"line":32}},{"end":{"column":4,"line":32},"start":{"column":4,"line":32}}],"type":"if"},"2":{"line":32,"locations":[{"end":{"column":29,"line":32},"start":{"column":11,"line":32}},{"end":{"column":55,"line":32},"start":{"column":34,"line":32}}],"type":"binary-expr"},"3":{"line":35,"locations":[{"end":{"column":4,"line":35},"start":{"column":4,"line":35}},{"end":{"column":4,"line":35},"start":{"column":4,"line":35}}],"type":"if"},"4":{"line":43,"locations":[{"end":{"column":92,"line":43},"start":{"column":33,"line":43}},{"end":{"column":101,"line":43},"start":{"column":95,"line":43}}],"type":"cond-expr"},"5":{"line":43,"locations":[{"end":{"column":83,"line":43},"start":{"column":66,"line":43}},{"end":{"column":92,"line":43},"start":{"column":86,"line":43}}],"type":"cond-expr"},"6":{"line":56,"locations":[{"end":{"column":4,"line":56},"start":{"column":4,"line":56}},{"end":{"column":4,"line":56},"start":{"column":4,"line":56}}],"type":"if"},"7":{"line":56,"locations":[{"end":{"column":50,"line":56},"start":{"column":38,"line":56}},{"end":{"column":59,"line":56},"start":{"column":53,"line":56}}],"type":"cond-expr"},"8":{"line":59,"locations":[{"end":{"column":44,"line":59},"start":{"column":18,"line":59}},{"end":{"column":77,"line":59},"start":{"column":48,"line":59}}],"type":"binary-expr"},"9":{"line":60,"locations":[{"end":{"column":4,"line":60},"start":{"column":4,"line":60}},{"end":{"column":4,"line":60},"start":{"column":4,"line":60}}],"type":"if"}},"code":["var BS, ExternalPlan, PlanFooter, PlanMixin, React, Router, TaskPlanActions, TaskPlanBuilder, TaskPlanStore, TutorDateInput, TutorInput, TutorTextArea, _, ref, ref1, validator;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","Router = require('react-router');","","validator = require('validator');","","ref = require('../../tutor-input'), TutorInput = ref.TutorInput, TutorDateInput = ref.TutorDateInput, TutorTextArea = ref.TutorTextArea;","","ref1 = require('../../../flux/task-plan'), TaskPlanStore = ref1.TaskPlanStore, TaskPlanActions = ref1.TaskPlanActions;","","PlanFooter = require('../footer');","","PlanMixin = require('../plan-mixin');","","TaskPlanBuilder = require('../builder');","","ExternalPlan = React.createClass({","  displayName: 'ExternalPlan',","  mixins: [PlanMixin],","  setUrl: function(url) {","    var id;","    id = this.props.id;","    return TaskPlanActions.updateUrl(id, url);","  },","  validate: function(inputValue) {","    if (!((inputValue != null) && inputValue.length > 0)) {","      return ['required'];","    }","    if (!validator.isURL(inputValue)) {","      return ['url'];","    }","  },","  render: function() {","    var courseId, externalUrl, footer, formClasses, header, id, isURLLocked, label, plan, ref2, ref3, ref4;","    ref2 = this.props, id = ref2.id, courseId = ref2.courseId;","    plan = TaskPlanStore.get(id);","    externalUrl = plan != null ? (ref3 = plan.settings) != null ? ref3.external_url : void 0 : void 0;","    formClasses = ['edit-external', 'dialog'];","    footer = React.createElement(PlanFooter, {","      \"id\": id,","      \"courseId\": courseId,","      \"onPublish\": this.publish,","      \"onSave\": this.save,","      \"onCancel\": this.cancel,","      \"getBackToCalendarParams\": this.getBackToCalendarParams,","      \"goBackToCalendar\": this.goBackToCalendar","    });","    header = this.builderHeader('external');","    label = 'Assignment URL';","    if ((ref4 = this.state) != null ? ref4.invalid : void 0) {","      formClasses.push('is-invalid-form');","    }","    isURLLocked = TaskPlanStore.isOpened(id) && TaskPlanStore.isPublished(id);","    if (isURLLocked) {","      label = label + \" (Cannot be changed once assignment is opened and published)\";","    }","    return React.createElement(\"div\", {","      \"className\": 'external-plan task-plan',","      \"data-assignment-type\": 'external'","    }, React.createElement(BS.Panel, {","      \"bsStyle\": 'primary',","      \"className\": formClasses.join(' '),","      \"footer\": footer,","      \"header\": header","    }, React.createElement(BS.Grid, {","      \"fluid\": true","    }, React.createElement(TaskPlanBuilder, {","      \"courseId\": courseId,","      \"id\": id","    }), React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"xs\": 12.,","      \"md\": 12.","    }, React.createElement(TutorInput, {","      \"disabled\": isURLLocked,","      \"label\": label,","      \"className\": 'external-url',","      \"id\": 'external-url',","      \"default\": externalUrl,","      \"required\": true,","      \"validate\": this.validate,","      \"onChange\": this.setUrl","    }))))));","  }","});","","module.exports = {","  ExternalPlan: ExternalPlan","};",""],"f":{"1":0,"2":1,"3":3},"fnMap":{"1":{"line":26,"loc":{"end":{"column":24,"line":26},"start":{"column":10,"line":26}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":33,"line":31},"start":{"column":12,"line":31}},"name":"(anonymous_2)"},"3":{"line":39,"loc":{"end":{"column":21,"line":39},"start":{"column":10,"line":39}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/external/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":0,"14":0,"15":0,"16":1,"17":1,"18":0,"19":0,"20":3,"21":3,"22":3,"23":3,"24":3,"25":3,"26":3,"27":3,"28":3,"29":1,"30":3,"31":3,"32":0,"33":3,"34":21},"statementMap":{"1":{"end":{"column":176,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":136,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":118,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":34,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":37,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":40,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":90},"start":{"column":0,"line":23}},"13":{"end":{"column":11,"line":27},"start":{"column":4,"line":27}},"14":{"end":{"column":23,"line":28},"start":{"column":4,"line":28}},"15":{"end":{"column":46,"line":29},"start":{"column":4,"line":29}},"16":{"end":{"column":5,"line":34},"start":{"column":4,"line":32}},"17":{"end":{"column":26,"line":33},"start":{"column":6,"line":33}},"18":{"end":{"column":5,"line":37},"start":{"column":4,"line":35}},"19":{"end":{"column":21,"line":36},"start":{"column":6,"line":36}},"20":{"end":{"column":107,"line":40},"start":{"column":4,"line":40}},"21":{"end":{"column":62,"line":41},"start":{"column":4,"line":41}},"22":{"end":{"column":33,"line":42},"start":{"column":4,"line":42}},"23":{"end":{"column":102,"line":43},"start":{"column":4,"line":43}},"24":{"end":{"column":46,"line":44},"start":{"column":4,"line":44}},"25":{"end":{"column":7,"line":53},"start":{"column":4,"line":45}},"26":{"end":{"column":44,"line":54},"start":{"column":4,"line":54}},"27":{"end":{"column":29,"line":55},"start":{"column":4,"line":55}},"28":{"end":{"column":5,"line":58},"start":{"column":4,"line":56}},"29":{"end":{"column":42,"line":57},"start":{"column":6,"line":57}},"30":{"end":{"column":78,"line":59},"start":{"column":4,"line":59}},"31":{"end":{"column":5,"line":62},"start":{"column":4,"line":60}},"32":{"end":{"column":85,"line":61},"start":{"column":6,"line":61}},"33":{"end":{"column":12,"line":88},"start":{"column":4,"line":63}},"34":{"end":{"column":2,"line":94},"start":{"column":0,"line":92}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"27":0,"28":0,"29":0,"32":1,"33":1,"35":0,"36":0,"40":3,"41":3,"42":3,"43":3,"44":3,"45":3,"54":3,"55":3,"56":3,"57":1,"59":3,"60":3,"61":0,"63":3,"92":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/footer.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[3,0],"4":[104,104],"5":[104,97,97],"6":[104,23,23],"7":[23,0],"8":[104,0],"9":[104,7],"10":[23,81],"11":[101,3],"12":[101,4]},"branchMap":{"1":{"line":52,"locations":[{"end":{"column":4,"line":52},"start":{"column":4,"line":52}},{"end":{"column":4,"line":52},"start":{"column":4,"line":52}}],"type":"if"},"2":{"line":57,"locations":[{"end":{"column":6,"line":57},"start":{"column":6,"line":57}},{"end":{"column":6,"line":57},"start":{"column":6,"line":57}}],"type":"if"},"3":{"line":80,"locations":[{"end":{"column":4,"line":80},"start":{"column":4,"line":80}},{"end":{"column":4,"line":80},"start":{"column":4,"line":80}}],"type":"if"},"4":{"line":113,"locations":[{"end":{"column":46,"line":113},"start":{"column":17,"line":113}},{"end":{"column":80,"line":113},"start":{"column":50,"line":113}}],"type":"binary-expr"},"5":{"line":114,"locations":[{"end":{"column":42,"line":114},"start":{"column":16,"line":114}},{"end":{"column":76,"line":114},"start":{"column":46,"line":114}},{"end":{"column":115,"line":114},"start":{"column":80,"line":114}}],"type":"binary-expr"},"6":{"line":115,"locations":[{"end":{"column":41,"line":115},"start":{"column":17,"line":115}},{"end":{"column":107,"line":115},"start":{"column":45,"line":115}},{"end":{"column":121,"line":115},"start":{"column":111,"line":115}}],"type":"binary-expr"},"7":{"line":115,"locations":[{"end":{"column":73,"line":115},"start":{"column":47,"line":115}},{"end":{"column":106,"line":115},"start":{"column":77,"line":115}}],"type":"binary-expr"},"8":{"line":118,"locations":[{"end":{"column":4,"line":118},"start":{"column":4,"line":118}},{"end":{"column":4,"line":118},"start":{"column":4,"line":118}}],"type":"if"},"9":{"line":123,"locations":[{"end":{"column":30,"line":123},"start":{"column":21,"line":123}},{"end":{"column":55,"line":123},"start":{"column":34,"line":123}}],"type":"binary-expr"},"10":{"line":151,"locations":[{"end":{"column":4,"line":151},"start":{"column":4,"line":151}},{"end":{"column":4,"line":151},"start":{"column":4,"line":151}}],"type":"if"},"11":{"line":162,"locations":[{"end":{"column":4,"line":162},"start":{"column":4,"line":162}},{"end":{"column":4,"line":162},"start":{"column":4,"line":162}}],"type":"if"},"12":{"line":166,"locations":[{"end":{"column":30,"line":166},"start":{"column":21,"line":166}},{"end":{"column":51,"line":166},"start":{"column":34,"line":166}}],"type":"binary-expr"}},"code":["var AsyncButton, BS, BackButton, PlanFooter, PlanHelper, PlanPublishActions, PlanPublishStore, React, Router, TaskPlanActions, TaskPlanStore, TutorDialog, ref, ref1;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","ref = require('../../flux/task-plan'), TaskPlanStore = ref.TaskPlanStore, TaskPlanActions = ref.TaskPlanActions;","","ref1 = require('../../flux/plan-publish'), PlanPublishStore = ref1.PlanPublishStore, PlanPublishActions = ref1.PlanPublishActions;","","PlanHelper = require('../../helpers/plan');","","AsyncButton = require('openstax-react-components').AsyncButton;","","TutorDialog = require('../tutor-dialog');","","BackButton = require('../buttons/back-button');","","PlanFooter = React.createClass({","  displayName: 'PlanFooter',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    id: React.PropTypes.string.isRequired,","    courseId: React.PropTypes.string.isRequired,","    goBackToCalendar: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      goBackToCalendar: (function(_this) {","        return function() {","          return _this.context.router.transitionTo('taskplans', {","            courseId: courseId","          });","        };","      })(this)","    };","  },","  getInitialState: function() {","    return {","      isEditable: TaskPlanStore.isEditable(this.props.id),","      publishing: TaskPlanStore.isPublishing(this.props.id),","      saving: TaskPlanStore.isSaving(this.props.id)","    };","  },","  checkPublishingStatus: function(published) {","    var planId, planStatus;","    planId = this.props.id;","    if (published[\"for\"] === planId) {","      planStatus = {","        publishing: PlanPublishStore.isPublishing(planId)","      };","      this.setState(planStatus);","      if (PlanPublishStore.isDone(planId)) {","        PlanPublishStore.removeAllListeners(\"progress.\" + planId + \".*\", this.checkPublishingStatus);","        return TaskPlanActions.load(planId);","      }","    }","  },","  componentWillMount: function() {","    var plan, publishState;","    plan = TaskPlanStore.get(this.props.id);","    publishState = PlanHelper.subscribeToPublishing(plan, this.checkPublishingStatus);","    return this.setState({","      publishing: publishState.isPublishing","    });","  },","  saved: function() {","    var courseId;","    courseId = this.props.courseId;","    TaskPlanStore.removeChangeListener(this.saved);","    return this.props.goBackToCalendar();","  },","  onDelete: function() {","    var courseId, id, ref2;","    ref2 = this.props, id = ref2.id, courseId = ref2.courseId;","    if (confirm('Are you sure you want to delete this?')) {","      TaskPlanActions[\"delete\"](id);","      return this.props.goBackToCalendar();","    }","  },","  onSave: function() {","    this.setState({","      saving: true,","      publishing: false","    });","    return this.props.onSave();","  },","  onPublish: function() {","    this.setState({","      publishing: true,","      saving: false,","      isEditable: TaskPlanStore.isEditable(this.props.id)","    });","    return this.props.onPublish();","  },","  onViewStats: function() {","    var courseId, id, ref2;","    ref2 = this.props, id = ref2.id, courseId = ref2.courseId;","    return this.context.router.transitionTo('viewStats', {","      courseId: courseId,","      id: id","    });","  },","  render: function() {","    var backButton, backToCalendarParams, cancelButton, clickedSelectProblem, courseId, deleteLink, deleteable, getBackToCalendarParams, helpInfo, id, isEditable, isFailed, isWaiting, onCancel, onPublish, onSave, plan, publishButton, ref2, saveLink, saveable, tips;","    ref2 = this.props, id = ref2.id, courseId = ref2.courseId, clickedSelectProblem = ref2.clickedSelectProblem, onPublish = ref2.onPublish, onSave = ref2.onSave, onCancel = ref2.onCancel, getBackToCalendarParams = ref2.getBackToCalendarParams;","    isEditable = this.state.isEditable;","    plan = TaskPlanStore.get(id);","    saveable = !(TaskPlanStore.isPublished(id) || TaskPlanStore.isPublishing(id));","    isWaiting = TaskPlanStore.isSaving(id) || TaskPlanStore.isPublishing(id) || TaskPlanStore.isDeleteRequested(id);","    deleteable = !TaskPlanStore.isNew(id) && !(TaskPlanStore.isOpened(id) && TaskPlanStore.isPublished(id)) && !isWaiting;","    isFailed = TaskPlanStore.isFailed(id);","    tips = React.createElement(BS.Popover, null, React.createElement(\"p\", null, React.createElement(\"strong\", null, \"Publish\"), \" will make the assignment visible to students on the open date.\\nIf open date is today, it will be available immediately.\"), React.createElement(\"p\", null, React.createElement(\"strong\", null, \"Cancel\"), \" will discard all changes and return to the calendar.\"), React.createElement(\"p\", null, React.createElement(\"strong\", null, \"Save as draft\"), \" will add the assignment to the teacher calendar only.\\nIt will not be visible to students, even if the open date has passed.\"));","    if (isEditable) {","      publishButton = React.createElement(AsyncButton, {","        \"bsStyle\": 'primary',","        \"className\": '-publish',","        \"onClick\": this.onPublish,","        \"isWaiting\": isWaiting && this.state.publishing,","        \"isFailed\": isFailed,","        \"waitingText\": 'Publishing…',","        \"disabled\": isWaiting,","        \"isJob\": true","      }, 'Publish');","      cancelButton = React.createElement(BS.Button, {","        \"aria-role\": 'close',","        \"disabled\": isWaiting,","        \"onClick\": onCancel","      }, \"Cancel\");","      helpInfo = React.createElement(BS.OverlayTrigger, {","        \"trigger\": 'click',","        \"placement\": 'top',","        \"overlay\": tips,","        \"rootClose\": true","      }, React.createElement(BS.Button, {","        \"className\": \"footer-instructions\",","        \"bsStyle\": \"link\"","      }, React.createElement(\"i\", {","        \"className\": \"fa fa-info-circle\"","      })));","    } else {","      backToCalendarParams = getBackToCalendarParams();","      backButton = React.createElement(Router.Link, React.__spread({}, backToCalendarParams, {","        \"className\": 'btn btn-default'","      }), \"Back to Calendar\");","    }","    if (deleteable) {","      deleteLink = React.createElement(AsyncButton, {","        \"className\": 'delete-link pull-right',","        \"onClick\": this.onDelete,","        \"isWaiting\": TaskPlanStore.isDeleting(id),","        \"isFailed\": isFailed,","        \"waitingText\": 'Deleting…'","      }, React.createElement(\"i\", {","        \"className\": \"fa fa-trash\"","      }), \" Delete Assignment\");","    }","    if (saveable) {","      saveLink = React.createElement(AsyncButton, {","        \"className\": '-save',","        \"onClick\": this.onSave,","        \"isWaiting\": isWaiting && this.state.saving,","        \"isFailed\": isFailed,","        \"waitingText\": 'Saving…',","        \"disabled\": isWaiting","      }, 'Save as Draft');","    }","    return React.createElement(\"div\", {","      \"className\": 'footer-buttons'","    }, publishButton, cancelButton, backButton, saveLink, helpInfo, deleteLink);","  }","});","","module.exports = PlanFooter;",""],"f":{"1":21,"2":21,"3":0,"4":10,"5":0,"6":10,"7":0,"8":3,"9":5,"10":1,"11":0,"12":104},"fnMap":{"1":{"line":31,"loc":{"end":{"column":30,"line":31},"start":{"column":19,"line":31}},"name":"(anonymous_1)"},"2":{"line":33,"loc":{"end":{"column":41,"line":33},"start":{"column":25,"line":33}},"name":"(anonymous_2)"},"3":{"line":34,"loc":{"end":{"column":26,"line":34},"start":{"column":15,"line":34}},"name":"(anonymous_3)"},"4":{"line":42,"loc":{"end":{"column":30,"line":42},"start":{"column":19,"line":42}},"name":"(anonymous_4)"},"5":{"line":49,"loc":{"end":{"column":45,"line":49},"start":{"column":25,"line":49}},"name":"(anonymous_5)"},"6":{"line":63,"loc":{"end":{"column":33,"line":63},"start":{"column":22,"line":63}},"name":"(anonymous_6)"},"7":{"line":71,"loc":{"end":{"column":20,"line":71},"start":{"column":9,"line":71}},"name":"(anonymous_7)"},"8":{"line":77,"loc":{"end":{"column":23,"line":77},"start":{"column":12,"line":77}},"name":"(anonymous_8)"},"9":{"line":85,"loc":{"end":{"column":21,"line":85},"start":{"column":10,"line":85}},"name":"(anonymous_9)"},"10":{"line":92,"loc":{"end":{"column":24,"line":92},"start":{"column":13,"line":92}},"name":"(anonymous_10)"},"11":{"line":100,"loc":{"end":{"column":26,"line":100},"start":{"column":15,"line":100}},"name":"(anonymous_11)"},"12":{"line":108,"loc":{"end":{"column":21,"line":108},"start":{"column":10,"line":108}},"name":"(anonymous_12)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/footer.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":0,"15":10,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":10,"25":10,"26":10,"27":10,"28":0,"29":0,"30":0,"31":0,"32":3,"33":3,"34":3,"35":3,"36":3,"37":5,"38":5,"39":1,"40":1,"41":0,"42":0,"43":0,"44":104,"45":104,"46":104,"47":104,"48":104,"49":104,"50":104,"51":104,"52":104,"53":104,"54":104,"55":104,"56":104,"57":0,"58":0,"59":104,"60":23,"61":104,"62":101,"63":104,"64":21},"statementMap":{"1":{"end":{"column":165,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":112,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":130,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":43,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":63,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":41,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":47,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":3,"line":176},"start":{"column":0,"line":21}},"12":{"end":{"column":6,"line":40},"start":{"column":4,"line":32}},"13":{"end":{"column":10,"line":38},"start":{"column":8,"line":34}},"14":{"end":{"column":13,"line":37},"start":{"column":10,"line":35}},"15":{"end":{"column":6,"line":47},"start":{"column":4,"line":43}},"16":{"end":{"column":27,"line":50},"start":{"column":4,"line":50}},"17":{"end":{"column":27,"line":51},"start":{"column":4,"line":51}},"18":{"end":{"column":5,"line":61},"start":{"column":4,"line":52}},"19":{"end":{"column":8,"line":55},"start":{"column":6,"line":53}},"20":{"end":{"column":32,"line":56},"start":{"column":6,"line":56}},"21":{"end":{"column":7,"line":60},"start":{"column":6,"line":57}},"22":{"end":{"column":101,"line":58},"start":{"column":8,"line":58}},"23":{"end":{"column":44,"line":59},"start":{"column":8,"line":59}},"24":{"end":{"column":27,"line":64},"start":{"column":4,"line":64}},"25":{"end":{"column":44,"line":65},"start":{"column":4,"line":65}},"26":{"end":{"column":86,"line":66},"start":{"column":4,"line":66}},"27":{"end":{"column":7,"line":69},"start":{"column":4,"line":67}},"28":{"end":{"column":17,"line":72},"start":{"column":4,"line":72}},"29":{"end":{"column":35,"line":73},"start":{"column":4,"line":73}},"30":{"end":{"column":51,"line":74},"start":{"column":4,"line":74}},"31":{"end":{"column":41,"line":75},"start":{"column":4,"line":75}},"32":{"end":{"column":27,"line":78},"start":{"column":4,"line":78}},"33":{"end":{"column":62,"line":79},"start":{"column":4,"line":79}},"34":{"end":{"column":5,"line":83},"start":{"column":4,"line":80}},"35":{"end":{"column":36,"line":81},"start":{"column":6,"line":81}},"36":{"end":{"column":43,"line":82},"start":{"column":6,"line":82}},"37":{"end":{"column":7,"line":89},"start":{"column":4,"line":86}},"38":{"end":{"column":31,"line":90},"start":{"column":4,"line":90}},"39":{"end":{"column":7,"line":97},"start":{"column":4,"line":93}},"40":{"end":{"column":34,"line":98},"start":{"column":4,"line":98}},"41":{"end":{"column":27,"line":101},"start":{"column":4,"line":101}},"42":{"end":{"column":62,"line":102},"start":{"column":4,"line":102}},"43":{"end":{"column":7,"line":106},"start":{"column":4,"line":103}},"44":{"end":{"column":265,"line":109},"start":{"column":4,"line":109}},"45":{"end":{"column":244,"line":110},"start":{"column":4,"line":110}},"46":{"end":{"column":39,"line":111},"start":{"column":4,"line":111}},"47":{"end":{"column":33,"line":112},"start":{"column":4,"line":112}},"48":{"end":{"column":82,"line":113},"start":{"column":4,"line":113}},"49":{"end":{"column":116,"line":114},"start":{"column":4,"line":114}},"50":{"end":{"column":122,"line":115},"start":{"column":4,"line":115}},"51":{"end":{"column":42,"line":116},"start":{"column":4,"line":116}},"52":{"end":{"column":605,"line":117},"start":{"column":4,"line":117}},"53":{"end":{"column":5,"line":150},"start":{"column":4,"line":118}},"54":{"end":{"column":20,"line":128},"start":{"column":6,"line":119}},"55":{"end":{"column":19,"line":133},"start":{"column":6,"line":129}},"56":{"end":{"column":11,"line":144},"start":{"column":6,"line":134}},"57":{"end":{"column":55,"line":146},"start":{"column":6,"line":146}},"58":{"end":{"column":30,"line":149},"start":{"column":6,"line":147}},"59":{"end":{"column":5,"line":161},"start":{"column":4,"line":151}},"60":{"end":{"column":32,"line":160},"start":{"column":6,"line":152}},"61":{"end":{"column":5,"line":171},"start":{"column":4,"line":162}},"62":{"end":{"column":26,"line":170},"start":{"column":6,"line":163}},"63":{"end":{"column":80,"line":174},"start":{"column":4,"line":172}},"64":{"end":{"column":28,"line":178},"start":{"column":0,"line":178}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"32":21,"34":21,"35":0,"43":10,"50":0,"51":0,"52":0,"53":0,"56":0,"57":0,"58":0,"59":0,"64":10,"65":10,"66":10,"67":10,"72":0,"73":0,"74":0,"75":0,"78":3,"79":3,"80":3,"81":3,"82":3,"86":5,"90":5,"93":1,"98":1,"101":0,"102":0,"103":0,"109":104,"110":104,"111":104,"112":104,"113":104,"114":104,"115":104,"116":104,"117":104,"118":104,"119":104,"129":104,"134":104,"146":0,"147":0,"151":104,"152":23,"162":104,"163":101,"172":104,"178":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/homework.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[3,0],"8":[3,0],"9":[0,0],"10":[0,3],"11":[3,0],"12":[1,2],"13":[3,0],"14":[0,3],"15":[0,3],"16":[3,0],"17":[1,2],"18":[3,1],"19":[3,0]},"branchMap":{"1":{"line":50,"locations":[{"end":{"column":86,"line":50},"start":{"column":27,"line":50}},{"end":{"column":148,"line":50},"start":{"column":92,"line":50}}],"type":"binary-expr"},"2":{"line":50,"locations":[{"end":{"column":77,"line":50},"start":{"column":66,"line":50}},{"end":{"column":86,"line":50},"start":{"column":80,"line":50}}],"type":"cond-expr"},"3":{"line":50,"locations":[{"end":{"column":139,"line":50},"start":{"column":122,"line":50}},{"end":{"column":148,"line":50},"start":{"column":142,"line":50}}],"type":"cond-expr"},"4":{"line":52,"locations":[{"end":{"column":4,"line":52},"start":{"column":4,"line":52}},{"end":{"column":4,"line":52},"start":{"column":4,"line":52}}],"type":"if"},"5":{"line":52,"locations":[{"end":{"column":44,"line":52},"start":{"column":29,"line":52}},{"end":{"column":53,"line":52},"start":{"column":47,"line":52}}],"type":"cond-expr"},"6":{"line":61,"locations":[{"end":{"column":4,"line":61},"start":{"column":4,"line":61}},{"end":{"column":4,"line":61},"start":{"column":4,"line":61}}],"type":"if"},"7":{"line":103,"locations":[{"end":{"column":80,"line":103},"start":{"column":69,"line":103}},{"end":{"column":89,"line":103},"start":{"column":83,"line":103}}],"type":"cond-expr"},"8":{"line":104,"locations":[{"end":{"column":38,"line":104},"start":{"column":26,"line":104}},{"end":{"column":106,"line":104},"start":{"column":42,"line":104}}],"type":"binary-expr"},"9":{"line":104,"locations":[{"end":{"column":96,"line":104},"start":{"column":74,"line":104}},{"end":{"column":105,"line":104},"start":{"column":99,"line":104}}],"type":"cond-expr"},"10":{"line":115,"locations":[{"end":{"column":4,"line":115},"start":{"column":4,"line":115}},{"end":{"column":4,"line":115},"start":{"column":4,"line":115}}],"type":"if"},"11":{"line":115,"locations":[{"end":{"column":60,"line":115},"start":{"column":38,"line":115}},{"end":{"column":69,"line":115},"start":{"column":63,"line":115}}],"type":"cond-expr"},"12":{"line":118,"locations":[{"end":{"column":4,"line":118},"start":{"column":4,"line":118}},{"end":{"column":4,"line":118},"start":{"column":4,"line":118}}],"type":"if"},"13":{"line":118,"locations":[{"end":{"column":50,"line":118},"start":{"column":38,"line":118}},{"end":{"column":59,"line":118},"start":{"column":53,"line":118}}],"type":"cond-expr"},"14":{"line":121,"locations":[{"end":{"column":4,"line":121},"start":{"column":4,"line":121}},{"end":{"column":4,"line":121},"start":{"column":4,"line":121}}],"type":"if"},"15":{"line":132,"locations":[{"end":{"column":4,"line":132},"start":{"column":4,"line":132}},{"end":{"column":4,"line":132},"start":{"column":4,"line":132}}],"type":"if"},"16":{"line":158,"locations":[{"end":{"column":4,"line":158},"start":{"column":4,"line":158}},{"end":{"column":4,"line":158},"start":{"column":4,"line":158}}],"type":"if"},"17":{"line":165,"locations":[{"end":{"column":4,"line":165},"start":{"column":4,"line":165}},{"end":{"column":4,"line":165},"start":{"column":4,"line":165}}],"type":"if"},"18":{"line":165,"locations":[{"end":{"column":60,"line":165},"start":{"column":9,"line":165}},{"end":{"column":78,"line":165},"start":{"column":65,"line":165}}],"type":"binary-expr"},"19":{"line":165,"locations":[{"end":{"column":51,"line":165},"start":{"column":39,"line":165}},{"end":{"column":60,"line":165},"start":{"column":54,"line":165}}],"type":"cond-expr"}},"code":["var AddExercises, BS, ChooseExercises, ExerciseSummary, ExerciseTable, HomeworkPlan, PinnedHeaderFooterCard, PlanFooter, PlanMixin, React, ReviewExercises, Router, SelectTopics, TaskPlanActions, TaskPlanBuilder, TaskPlanStore, TutorDateInput, TutorInput, TutorTextArea, _, moment, ref, ref1, ref2;","","React = require('react');","","moment = require('moment');","","_ = require('underscore');","","BS = require('react-bootstrap');","","Router = require('react-router');","","PlanFooter = require('./footer');","","SelectTopics = require('./select-topics');","","ExerciseSummary = require('./homework/exercise-summary');","","PlanMixin = require('./plan-mixin');","","PinnedHeaderFooterCard = require('openstax-react-components').PinnedHeaderFooterCard;","","TaskPlanBuilder = require('./builder');","","ref = require('../tutor-input'), TutorInput = ref.TutorInput, TutorDateInput = ref.TutorDateInput, TutorTextArea = ref.TutorTextArea;","","ref1 = require('./homework/exercises'), AddExercises = ref1.AddExercises, ReviewExercises = ref1.ReviewExercises, ExerciseTable = ref1.ExerciseTable;","","ref2 = require('../../flux/task-plan'), TaskPlanStore = ref2.TaskPlanStore, TaskPlanActions = ref2.TaskPlanActions;","","ChooseExercises = React.createClass({","  displayName: 'ChooseExercises',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    courseId: React.PropTypes.string.isRequired,","    selected: React.PropTypes.array.isRequired,","    hide: React.PropTypes.func.isRequired,","    canEdit: React.PropTypes.bool","  },","  selectProblems: function() {","    return this.setState({","      showProblems: true","    });","  },","  render: function() {","    var addExercises, cancel, classes, courseId, ecosystemId, exerciseSummary, header, hide, planId, primary, ref3, ref4, ref5, selected, shouldShowExercises;","    ref3 = this.props, courseId = ref3.courseId, planId = ref3.planId, ecosystemId = ref3.ecosystemId, selected = ref3.selected, hide = ref3.hide, cancel = ref3.cancel;","    header = React.createElement(\"span\", null, \"Add Problems\");","    selected = TaskPlanStore.getTopics(planId);","    shouldShowExercises = ((ref4 = this.props.selected) != null ? ref4.length : void 0) && ((ref5 = this.state) != null ? ref5.showProblems : void 0);","    classes = ['-show-problems'];","    if (!(selected != null ? selected.length : void 0)) {","      classes.push('disabled');","    }","    classes = classes.join(' ');","    primary = React.createElement(BS.Button, {","      \"className\": classes,","      \"bsStyle\": 'primary',","      \"onClick\": this.selectProblems","    }, \"Show Problems\");","    if (shouldShowExercises) {","      exerciseSummary = React.createElement(ExerciseSummary, {","        \"canReview\": true,","        \"canEdit\": this.props.canEdit,","        \"reviewClicked\": hide,","        \"onCancel\": cancel,","        \"planId\": planId","      });","      addExercises = React.createElement(AddExercises, {","        \"courseId\": courseId,","        \"planId\": planId,","        \"pageIds\": selected","      });","    }","    return React.createElement(\"div\", {","      \"className\": 'homework-plan-exercise-select-topics'","    }, React.createElement(SelectTopics, {","      \"primary\": primary,","      \"header\": header,","      \"courseId\": courseId,","      \"ecosystemId\": ecosystemId,","      \"planId\": planId,","      \"selected\": selected,","      \"cancel\": cancel,","      \"hide\": hide","    }), React.createElement(PinnedHeaderFooterCard, {","      \"containerBuffer\": 50.,","      \"header\": exerciseSummary,","      \"cardType\": 'homework-builder'","    }, addExercises));","  }","});","","HomeworkPlan = React.createClass({","  displayName: 'HomeworkPlan',","  mixins: [PlanMixin],","  render: function() {","    var addProblemsButton, chooseExercises, courseId, ecosystemId, exerciseSummary, exerciseTable, footer, formClasses, hasExercises, header, id, plan, problemsRequired, ref3, ref4, ref5, ref6, ref7, ref8, reviewExercises, reviewExercisesSummary, shouldShowExercises, topics;","    ref3 = this.props, id = ref3.id, courseId = ref3.courseId;","    plan = TaskPlanStore.get(id);","    ecosystemId = TaskPlanStore.getEcosystemId(id, courseId);","    topics = TaskPlanStore.getTopics(id);","    hasExercises = (ref4 = TaskPlanStore.getExercises(id)) != null ? ref4.length : void 0;","    shouldShowExercises = hasExercises && !((ref5 = this.state) != null ? ref5.showSectionTopics : void 0);","    footer = React.createElement(PlanFooter, {","      \"id\": id,","      \"courseId\": courseId,","      \"onPublish\": this.publish,","      \"onSave\": this.save,","      \"onCancel\": this.cancel,","      \"getBackToCalendarParams\": this.getBackToCalendarParams,","      \"goBackToCalendar\": this.goBackToCalendar","    });","    formClasses = ['edit-homework dialog'];","    if ((ref6 = this.state) != null ? ref6.showSectionTopics : void 0) {","      formClasses.push('hide');","    }","    if ((ref7 = this.state) != null ? ref7.invalid : void 0) {","      formClasses.push('is-invalid-form');","    }","    if (this.state.showSectionTopics) {","      chooseExercises = React.createElement(ChooseExercises, {","        \"courseId\": courseId,","        \"planId\": id,","        \"ecosystemId\": ecosystemId,","        \"cancel\": this.cancelSelection,","        \"hide\": this.hideSectionTopics,","        \"canEdit\": !this.state.isVisibleToStudents,","        \"selected\": topics","      });","    }","    if (shouldShowExercises) {","      exerciseSummary = React.createElement(ExerciseSummary, {","        \"onCancel\": this.cancel,","        \"onPublish\": this.publish,","        \"canAdd\": !this.state.isVisibleToStudents,","        \"addClicked\": this.showSectionTopics,","        \"planId\": id","      });","      exerciseTable = React.createElement(ExerciseTable, {","        \"courseId\": courseId,","        \"pageIds\": topics,","        \"planId\": id","      });","      reviewExercises = React.createElement(ReviewExercises, {","        \"courseId\": courseId,","        \"pageIds\": topics,","        \"canEdit\": !this.state.isVisibleToStudents,","        \"planId\": id","      });","      reviewExercisesSummary = React.createElement(PinnedHeaderFooterCard, {","        \"containerBuffer\": 50.,","        \"header\": exerciseSummary,","        \"cardType\": 'homework-builder'","      }, exerciseTable, reviewExercises);","    }","    header = this.builderHeader('homework');","    if (!this.state.isVisibleToStudents) {","      addProblemsButton = React.createElement(BS.Button, {","        \"id\": 'problems-select',","        \"onClick\": this.showSectionTopics,","        \"bsStyle\": 'default'","      }, \"+ Select Problems\");","    }","    if (((ref8 = this.state) != null ? ref8.invalid : void 0) && !hasExercises) {","      problemsRequired = React.createElement(\"span\", {","        \"className\": \"problems-required\"","      }, \"Please add exercises to this assignment\", React.createElement(\"i\", {","        \"className\": \"fa fa-exclamation-circle\"","      }));","    }","    return React.createElement(\"div\", {","      \"className\": 'homework-plan task-plan',","      \"data-assignment-type\": 'homework'","    }, React.createElement(BS.Panel, {","      \"bsStyle\": 'default',","      \"header\": header,","      \"className\": formClasses.join(' '),","      \"footer\": footer","    }, React.createElement(BS.Grid, {","      \"fluid\": true","    }, React.createElement(TaskPlanBuilder, {","      \"courseId\": courseId,","      \"id\": id","    }), React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"xs\": 12,","      \"md\": 12","    }, addProblemsButton, problemsRequired)))), chooseExercises, reviewExercisesSummary);","  }","});","","module.exports = {","  HomeworkPlan: HomeworkPlan","};",""],"f":{"1":0,"2":0,"3":3},"fnMap":{"1":{"line":40,"loc":{"end":{"column":29,"line":40},"start":{"column":18,"line":40}},"name":"(anonymous_1)"},"2":{"line":45,"loc":{"end":{"column":21,"line":45},"start":{"column":10,"line":45}},"name":"(anonymous_2)"},"3":{"line":97,"loc":{"end":{"column":21,"line":97},"start":{"column":10,"line":97}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/homework.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":21,"33":3,"34":3,"35":3,"36":3,"37":3,"38":3,"39":3,"40":3,"41":3,"42":3,"43":0,"44":3,"45":1,"46":3,"47":0,"48":3,"49":0,"50":0,"51":0,"52":0,"53":3,"54":3,"55":3,"56":3,"57":1,"58":3,"59":21},"statementMap":{"1":{"end":{"column":297,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":27,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":32,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":33,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":42,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":57,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":36,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":85,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":39,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":133,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":149,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":115,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":3,"line":92},"start":{"column":0,"line":31}},"17":{"end":{"column":7,"line":43},"start":{"column":4,"line":41}},"18":{"end":{"column":158,"line":46},"start":{"column":4,"line":46}},"19":{"end":{"column":168,"line":47},"start":{"column":4,"line":47}},"20":{"end":{"column":63,"line":48},"start":{"column":4,"line":48}},"21":{"end":{"column":47,"line":49},"start":{"column":4,"line":49}},"22":{"end":{"column":150,"line":50},"start":{"column":4,"line":50}},"23":{"end":{"column":33,"line":51},"start":{"column":4,"line":51}},"24":{"end":{"column":5,"line":54},"start":{"column":4,"line":52}},"25":{"end":{"column":31,"line":53},"start":{"column":6,"line":53}},"26":{"end":{"column":32,"line":55},"start":{"column":4,"line":55}},"27":{"end":{"column":24,"line":60},"start":{"column":4,"line":56}},"28":{"end":{"column":5,"line":74},"start":{"column":4,"line":61}},"29":{"end":{"column":9,"line":68},"start":{"column":6,"line":62}},"30":{"end":{"column":9,"line":73},"start":{"column":6,"line":69}},"31":{"end":{"column":22,"line":90},"start":{"column":4,"line":75}},"32":{"end":{"column":3,"line":190},"start":{"column":0,"line":94}},"33":{"end":{"column":275,"line":98},"start":{"column":4,"line":98}},"34":{"end":{"column":62,"line":99},"start":{"column":4,"line":99}},"35":{"end":{"column":33,"line":100},"start":{"column":4,"line":100}},"36":{"end":{"column":61,"line":101},"start":{"column":4,"line":101}},"37":{"end":{"column":41,"line":102},"start":{"column":4,"line":102}},"38":{"end":{"column":90,"line":103},"start":{"column":4,"line":103}},"39":{"end":{"column":107,"line":104},"start":{"column":4,"line":104}},"40":{"end":{"column":7,"line":113},"start":{"column":4,"line":105}},"41":{"end":{"column":43,"line":114},"start":{"column":4,"line":114}},"42":{"end":{"column":5,"line":117},"start":{"column":4,"line":115}},"43":{"end":{"column":31,"line":116},"start":{"column":6,"line":116}},"44":{"end":{"column":5,"line":120},"start":{"column":4,"line":118}},"45":{"end":{"column":42,"line":119},"start":{"column":6,"line":119}},"46":{"end":{"column":5,"line":131},"start":{"column":4,"line":121}},"47":{"end":{"column":9,"line":130},"start":{"column":6,"line":122}},"48":{"end":{"column":5,"line":156},"start":{"column":4,"line":132}},"49":{"end":{"column":9,"line":139},"start":{"column":6,"line":133}},"50":{"end":{"column":9,"line":144},"start":{"column":6,"line":140}},"51":{"end":{"column":9,"line":150},"start":{"column":6,"line":145}},"52":{"end":{"column":41,"line":155},"start":{"column":6,"line":151}},"53":{"end":{"column":44,"line":157},"start":{"column":4,"line":157}},"54":{"end":{"column":5,"line":164},"start":{"column":4,"line":158}},"55":{"end":{"column":30,"line":163},"start":{"column":6,"line":159}},"56":{"end":{"column":5,"line":171},"start":{"column":4,"line":165}},"57":{"end":{"column":10,"line":170},"start":{"column":6,"line":166}},"58":{"end":{"column":89,"line":188},"start":{"column":4,"line":172}},"59":{"end":{"column":2,"line":194},"start":{"column":0,"line":192}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"41":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"55":0,"56":0,"61":0,"62":0,"69":0,"75":0,"94":21,"98":3,"99":3,"100":3,"101":3,"102":3,"103":3,"104":3,"105":3,"114":3,"115":3,"116":0,"118":3,"119":1,"121":3,"122":0,"132":3,"133":0,"140":0,"145":0,"151":0,"157":3,"158":3,"159":3,"165":3,"166":1,"172":3,"192":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/homework/exercise-summary.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"branchMap":{"1":{"line":36,"locations":[{"end":{"column":4,"line":36},"start":{"column":4,"line":36}},{"end":{"column":4,"line":36},"start":{"column":4,"line":36}}],"type":"if"},"2":{"line":36,"locations":[{"end":{"column":28,"line":36},"start":{"column":8,"line":36}},{"end":{"column":43,"line":36},"start":{"column":32,"line":36}}],"type":"binary-expr"},"3":{"line":46,"locations":[{"end":{"column":11,"line":46},"start":{"column":11,"line":46}},{"end":{"column":11,"line":46},"start":{"column":11,"line":46}}],"type":"if"},"4":{"line":55,"locations":[{"end":{"column":4,"line":55},"start":{"column":4,"line":55}},{"end":{"column":4,"line":55},"start":{"column":4,"line":55}}],"type":"if"},"5":{"line":55,"locations":[{"end":{"column":26,"line":55},"start":{"column":8,"line":55}},{"end":{"column":47,"line":55},"start":{"column":30,"line":55}}],"type":"binary-expr"},"6":{"line":56,"locations":[{"end":{"column":6,"line":56},"start":{"column":6,"line":56}},{"end":{"column":6,"line":56},"start":{"column":6,"line":56}}],"type":"if"},"7":{"line":64,"locations":[{"end":{"column":6,"line":64},"start":{"column":6,"line":64}},{"end":{"column":6,"line":64},"start":{"column":6,"line":64}}],"type":"if"}},"code":["var BS, ExerciseSummary, React, TaskPlanActions, TaskPlanStore, ref;","","React = require('react');","","BS = require('react-bootstrap');","","ref = require('../../../flux/task-plan'), TaskPlanStore = ref.TaskPlanStore, TaskPlanActions = ref.TaskPlanActions;","","ExerciseSummary = React.createClass({","  displayName: 'ExerciseSummary',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    canAdd: React.PropTypes.bool,","    canEdit: React.PropTypes.bool,","    canReview: React.PropTypes.bool,","    addClicked: React.PropTypes.func,","    reviewClicked: React.PropTypes.func","  },","  addTutorSelection: function() {","    return TaskPlanActions.updateTutorSelection(this.props.planId, 1);","  },","  removeTutorSelection: function() {","    return TaskPlanActions.updateTutorSelection(this.props.planId, -1);","  },","  render: function() {","    var addSelection, buttonColumnSize, buttons, explanation, numSelected, numTutor, removeSelection, total;","    numSelected = TaskPlanStore.getExercises(this.props.planId).length;","    numTutor = TaskPlanStore.getTutorSelections(this.props.planId);","    total = numSelected + numTutor;","    buttonColumnSize = 2;","    explanation = React.createElement(BS.Col, {","      \"sm\": 6.,","      \"md\": 2.,","      \"className\": \"tutor-added-later\"","    }, React.createElement(\"em\", null, \"Tutor selections are added later to support spaced practice and personalized learning.\"));","    if (this.props.canReview && numSelected) {","      buttons = React.createElement(\"span\", null, React.createElement(BS.Button, {","        \"bsStyle\": \"primary\",","        \"className\": \"-review-exercises\",","        \"onClick\": this.props.reviewClicked","      }, \"Next\"), React.createElement(BS.Button, {","        \"bsStyle\": \"default\",","        \"className\": \"-cancel-add\",","        \"onClick\": this.props.onCancel","      }, \"Cancel\"));","    } else if (this.props.canAdd) {","      explanation = null;","      buttonColumnSize = 4;","      buttons = React.createElement(BS.Button, {","        \"bsStyle\": \"default\",","        \"className\": \"-add-exercises\",","        \"onClick\": this.props.addClicked","      }, \"Add More...\");","    }","    if (this.props.canEdit || this.props.canAdd) {","      if (TaskPlanStore.canDecreaseTutorExercises(this.props.planId)) {","        removeSelection = React.createElement(BS.Button, {","          \"onClick\": this.removeTutorSelection,","          \"className\": \"btn-xs -move-exercise-down\"","        }, React.createElement(\"i\", {","          \"className\": \"fa fa-arrow-down\"","        }));","      }","      if (TaskPlanStore.canIncreaseTutorExercises(this.props.planId)) {","        addSelection = React.createElement(BS.Button, {","          \"onClick\": this.addTutorSelection,","          \"className\": \"btn-xs -move-exercise-up\"","        }, React.createElement(\"i\", {","          \"className\": \"fa fa-arrow-up\"","        }));","      }","    }","    return React.createElement(BS.Panel, {","      \"className\": \"exercise-summary\",","      \"bsStyle\": \"default\"","    }, React.createElement(BS.Grid, null, React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"sm\": 6.,","      \"md\": 2.,","      \"className\": \"total\"","    }, React.createElement(\"h2\", null, total), \"Total Problems\"), React.createElement(BS.Col, {","      \"sm\": 6.,","      \"md\": 2.,","      \"className\": \"num-selected\"","    }, React.createElement(\"h2\", null, numSelected), \"My Selections\"), React.createElement(BS.Col, {","      \"sm\": 6.,","      \"md\": 2.,","      \"className\": \"num-tutor\"","    }, React.createElement(\"div\", {","      \"className\": \"tutor-selections\"","    }, removeSelection, React.createElement(\"h2\", null, numTutor), addSelection), \"Tutor Selections\"), explanation, React.createElement(BS.Col, {","      \"sm\": 6.,","      \"md\": buttonColumnSize","    }, buttons), React.createElement(BS.Col, {","      \"sm\": 6.,","      \"md\": 2.","    }))));","  }","});","","module.exports = ExerciseSummary;",""],"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"line":19,"loc":{"end":{"column":32,"line":19},"start":{"column":21,"line":19}},"name":"(anonymous_1)"},"2":{"line":22,"loc":{"end":{"column":35,"line":22},"start":{"column":24,"line":22}},"name":"(anonymous_2)"},"3":{"line":25,"loc":{"end":{"column":21,"line":25},"start":{"column":10,"line":25}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/homework/exercise-summary.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":21},"statementMap":{"1":{"end":{"column":68,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":115,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":98},"start":{"column":0,"line":9}},"6":{"end":{"column":70,"line":20},"start":{"column":4,"line":20}},"7":{"end":{"column":71,"line":23},"start":{"column":4,"line":23}},"8":{"end":{"column":108,"line":26},"start":{"column":4,"line":26}},"9":{"end":{"column":71,"line":27},"start":{"column":4,"line":27}},"10":{"end":{"column":67,"line":28},"start":{"column":4,"line":28}},"11":{"end":{"column":35,"line":29},"start":{"column":4,"line":29}},"12":{"end":{"column":25,"line":30},"start":{"column":4,"line":30}},"13":{"end":{"column":130,"line":35},"start":{"column":4,"line":31}},"14":{"end":{"column":5,"line":54},"start":{"column":4,"line":36}},"15":{"end":{"column":20,"line":45},"start":{"column":6,"line":37}},"16":{"end":{"column":5,"line":54},"start":{"column":11,"line":46}},"17":{"end":{"column":25,"line":47},"start":{"column":6,"line":47}},"18":{"end":{"column":27,"line":48},"start":{"column":6,"line":48}},"19":{"end":{"column":24,"line":53},"start":{"column":6,"line":49}},"20":{"end":{"column":5,"line":72},"start":{"column":4,"line":55}},"21":{"end":{"column":7,"line":63},"start":{"column":6,"line":56}},"22":{"end":{"column":12,"line":62},"start":{"column":8,"line":57}},"23":{"end":{"column":7,"line":71},"start":{"column":6,"line":64}},"24":{"end":{"column":12,"line":70},"start":{"column":8,"line":65}},"25":{"end":{"column":10,"line":96},"start":{"column":4,"line":73}},"26":{"end":{"column":33,"line":100},"start":{"column":0,"line":100}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"20":0,"23":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"36":0,"37":0,"46":0,"47":0,"48":0,"49":0,"55":0,"56":0,"57":0,"64":0,"65":0,"73":0,"100":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/homework/exercises.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":75,"line":27},"start":{"column":55,"line":27}},{"end":{"column":84,"line":27},"start":{"column":78,"line":27}}],"type":"cond-expr"},"2":{"line":37,"locations":[{"end":{"column":76,"line":37},"start":{"column":56,"line":37}},{"end":{"column":85,"line":37},"start":{"column":79,"line":37}}],"type":"cond-expr"},"3":{"line":43,"locations":[{"end":{"column":87,"line":43},"start":{"column":79,"line":43}},{"end":{"column":92,"line":43},"start":{"column":90,"line":43}}],"type":"cond-expr"},"4":{"line":43,"locations":[{"end":{"column":66,"line":43},"start":{"column":46,"line":43}},{"end":{"column":75,"line":43},"start":{"column":69,"line":43}}],"type":"cond-expr"},"5":{"line":64,"locations":[{"end":{"column":4,"line":64},"start":{"column":4,"line":64}},{"end":{"column":4,"line":64},"start":{"column":4,"line":64}}],"type":"if"},"6":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"},"7":{"line":84,"locations":[{"end":{"column":4,"line":84},"start":{"column":4,"line":84}},{"end":{"column":4,"line":84},"start":{"column":4,"line":84}}],"type":"if"},"8":{"line":120,"locations":[{"end":{"column":4,"line":120},"start":{"column":4,"line":120}},{"end":{"column":4,"line":120},"start":{"column":4,"line":120}}],"type":"if"},"9":{"line":130,"locations":[{"end":{"column":4,"line":130},"start":{"column":4,"line":130}},{"end":{"column":4,"line":130},"start":{"column":4,"line":130}}],"type":"if"},"10":{"line":138,"locations":[{"end":{"column":4,"line":138},"start":{"column":4,"line":138}},{"end":{"column":4,"line":138},"start":{"column":4,"line":138}}],"type":"if"},"11":{"line":163,"locations":[{"end":{"column":4,"line":163},"start":{"column":4,"line":163}},{"end":{"column":4,"line":163},"start":{"column":4,"line":163}}],"type":"if"},"12":{"line":195,"locations":[{"end":{"column":4,"line":195},"start":{"column":4,"line":195}},{"end":{"column":4,"line":195},"start":{"column":4,"line":195}}],"type":"if"},"13":{"line":199,"locations":[{"end":{"column":4,"line":199},"start":{"column":4,"line":199}},{"end":{"column":4,"line":199},"start":{"column":4,"line":199}}],"type":"if"},"14":{"line":223,"locations":[{"end":{"column":4,"line":223},"start":{"column":4,"line":223}},{"end":{"column":4,"line":223},"start":{"column":4,"line":223}}],"type":"if"},"15":{"line":225,"locations":[{"end":{"column":6,"line":225},"start":{"column":6,"line":225}},{"end":{"column":6,"line":225},"start":{"column":6,"line":225}}],"type":"if"},"16":{"line":247,"locations":[{"end":{"column":4,"line":247},"start":{"column":4,"line":247}},{"end":{"column":4,"line":247},"start":{"column":4,"line":247}}],"type":"if"},"17":{"line":261,"locations":[{"end":{"column":17,"line":261},"start":{"column":13,"line":261}},{"end":{"column":31,"line":261},"start":{"column":21,"line":261}}],"type":"binary-expr"},"18":{"line":268,"locations":[{"end":{"column":4,"line":268},"start":{"column":4,"line":268}},{"end":{"column":4,"line":268},"start":{"column":4,"line":268}}],"type":"if"},"19":{"line":276,"locations":[{"end":{"column":4,"line":276},"start":{"column":4,"line":276}},{"end":{"column":4,"line":276},"start":{"column":4,"line":276}}],"type":"if"},"20":{"line":328,"locations":[{"end":{"column":4,"line":328},"start":{"column":4,"line":328}},{"end":{"column":4,"line":328},"start":{"column":4,"line":328}}],"type":"if"},"21":{"line":342,"locations":[{"end":{"column":4,"line":342},"start":{"column":4,"line":342}},{"end":{"column":4,"line":342},"start":{"column":4,"line":342}}],"type":"if"},"22":{"line":346,"locations":[{"end":{"column":4,"line":346},"start":{"column":4,"line":346}},{"end":{"column":4,"line":346},"start":{"column":4,"line":346}}],"type":"if"}},"code":["var AddExerciseCard, AddExercises, ArbitraryHtmlAndMath, BS, ChapterSection, ExerciseActions, ExerciseCard, ExerciseCardMixin, ExerciseStore, ExerciseTable, ExercisesRenderMixin, Icon, React, ReviewExerciseCard, ReviewExercises, TaskPlanActions, TaskPlanStore, TocStore, _, ref, ref1;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","ArbitraryHtmlAndMath = require('openstax-react-components').ArbitraryHtmlAndMath;","","ExerciseCard = require('../../exercise-card');","","ChapterSection = require('../chapter-section');","","Icon = require('../../icon');","","ref = require('../../../flux/exercise'), ExerciseStore = ref.ExerciseStore, ExerciseActions = ref.ExerciseActions;","","ref1 = require('../../../flux/task-plan'), TaskPlanStore = ref1.TaskPlanStore, TaskPlanActions = ref1.TaskPlanActions;","","TocStore = require('../../../flux/toc').TocStore;","","ExerciseCardMixin = {","  toggleFeedbackDisplay: function(ev) {","    var ref2;","    return this.setState({","      displayFeedback: !((ref2 = this.state) != null ? ref2.displayFeedback : void 0)","    });","  },","  renderExercise: function() {","    var ref2, ref3;","    return React.createElement(\"div\", {","      \"className\": \"exercise-wrapper\"","    }, React.createElement(ExerciseCard, React.__spread({}, this.props, {","      \"toggleExercise\": this.toggleExercise,","      \"header\": this.renderHeader(),","      \"displayFeedback\": ((ref2 = this.state) != null ? ref2.displayFeedback : void 0),","      \"panelStyle\": this.getPanelStyle()","    })), React.createElement(\"button\", {","      \"className\": \"feedback-toggle\",","      \"onClick\": this.toggleFeedbackDisplay","    }, React.createElement(Icon, {","      \"type\": (((ref3 = this.state) != null ? ref3.displayFeedback : void 0) ? 'check-' : '') + 'square-o'","    }), \" Display Feedback\"));","  }","};","","ReviewExerciseCard = React.createClass({","  displayName: 'ReviewExerciseCard',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    exercise: React.PropTypes.object.isRequired,","    canEdit: React.PropTypes.bool,","    index: React.PropTypes.number","  },","  mixins: [ExerciseCardMixin],","  moveExerciseUp: function() {","    return TaskPlanActions.moveExercise(this.props.planId, this.props.exercise, -1);","  },","  moveExerciseDown: function() {","    return TaskPlanActions.moveExercise(this.props.planId, this.props.exercise, 1);","  },","  removeExercise: function() {","    if (confirm('Are you sure you want to remove this exercise?')) {","      return TaskPlanActions.removeExercise(this.props.planId, this.props.exercise);","    }","  },","  getActionButtons: function() {","    var moveDown, moveUp;","    if (this.props.index !== 0) {","      moveUp = React.createElement(BS.Button, {","        \"onClick\": this.moveExerciseUp,","        \"className\": \"btn-xs -move-exercise-up\"","      }, React.createElement(\"i\", {","        \"className\": \"fa fa-arrow-up\"","      }));","    }","    moveDown = React.createElement(BS.Button, {","      \"onClick\": this.moveExerciseDown,","      \"className\": \"btn-xs -move-exercise-down\"","    }, React.createElement(\"i\", {","      \"className\": \"fa fa-arrow-down\"","    }));","    if (this.props.canEdit) {","      return React.createElement(\"span\", {","        \"className\": \"pull-right card-actions\"","      }, moveUp, moveDown, React.createElement(BS.Button, {","        \"onClick\": this.removeExercise,","        \"className\": \"btn-xs -remove-exercise\"","      }, React.createElement(\"i\", {","        \"className\": \"fa fa-close\"","      })));","    }","  },","  renderHeader: function() {","    var actionButtons;","    actionButtons = this.getActionButtons();","    return React.createElement(\"span\", {","      \"className\": \"-exercise-header\"","    }, React.createElement(\"span\", {","      \"className\": \"exercise-number\"","    }, this.props.index + 1), actionButtons);","  },","  getPanelStyle: function() {","    return \"default\";","  },","  render: function() {","    return this.renderExercise();","  }","});","","AddExerciseCard = React.createClass({","  displayName: 'AddExerciseCard',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    exercise: React.PropTypes.object.isRequired","  },","  mixins: [ExerciseCardMixin],","  toggleExercise: function() {","    if (TaskPlanStore.hasExercise(this.props.planId, this.props.exercise.id)) {","      return TaskPlanActions.removeExercise(this.props.planId, this.props.exercise);","    } else {","      return TaskPlanActions.addExercise(this.props.planId, this.props.exercise);","    }","  },","  renderHeader: function() {","    var active, classes;","    active = TaskPlanStore.hasExercise(this.props.planId, this.props.exercise.id);","    classes = 'add-or-remove -add-exercise';","    if (active) {","      classes = classes + \" active\";","    }","    return React.createElement(\"div\", {","      \"className\": classes","    });","  },","  getPanelStyle: function() {","    if (TaskPlanStore.hasExercise(this.props.planId, this.props.exercise.id)) {","      return \"info\";","    } else {","      return \"default\";","    }","  },","  render: function() {","    return this.renderExercise();","  }","});","","ExercisesRenderMixin = {","  componentWillMount: function() {","    return ExerciseStore.addChangeListener(this.update);","  },","  componentWillUnmount: function() {","    return ExerciseStore.removeChangeListener(this.update);","  },","  update: function() {","    return this.setState({});","  },","  renderLoading: function() {","    var courseId, ecosystemId, pageIds, planId, ref2;","    ref2 = this.props, courseId = ref2.courseId, planId = ref2.planId, pageIds = ref2.pageIds;","    ecosystemId = TaskPlanStore.getEcosystemId(planId, courseId);","    if (!ExerciseStore.isLoaded(pageIds)) {","      ExerciseActions.load(ecosystemId, pageIds);","      return React.createElement(\"span\", {","        \"className\": \"hw-loading-spinner\"","      }, React.createElement(\"i\", {","        \"className\": \"fa fa-spinner fa-spin\"","      }), \"Loading...\");","    }","    return false;","  }","};","","ReviewExercises = React.createClass({","  displayName: 'ReviewExercises',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    courseId: React.PropTypes.string.isRequired,","    canEdit: React.PropTypes.bool,","    pageIds: React.PropTypes.array","  },","  mixins: [ExercisesRenderMixin],","  renderExercise: function(exercise, i) {","    return React.createElement(ReviewExerciseCard, {","      \"index\": i,","      \"planId\": this.props.planId,","      \"canEdit\": this.props.canEdit,","      \"exercise\": exercise","    });","  },","  render: function() {","    var courseId, exercise_ids, exercises, load, pageIds, planId, ref2, renderedExercises;","    load = this.renderLoading();","    if (load) {","      return load;","    }","    ref2 = this.props, courseId = ref2.courseId, pageIds = ref2.pageIds, planId = ref2.planId;","    if (!TaskPlanStore.getTopics(planId).length) {","      return React.createElement(\"div\", {","        \"className\": '-bug'","      }, \"Failed loading exercises\");","    }","    exercise_ids = TaskPlanStore.getExercises(planId);","    exercises = _.map(exercise_ids, ExerciseStore.getExerciseById);","    renderedExercises = _.map(exercises, this.renderExercise);","    return React.createElement(\"div\", {","      \"className\": \"card-list exercises\"","    }, renderedExercises);","  }","});","","ExerciseTable = React.createClass({","  displayName: \"ExerciseTable\",","  mixins: [ExercisesRenderMixin],","  propTypes: {","    planId: React.PropTypes.string.isRequired","  },","  renderExerciseRow: function(exerciseId, index, hasTeks) {","    var content, lo, ref2, section, tagString, teks, teksString;","    ref2 = ExerciseStore.getTagStrings(exerciseId), section = ref2.section, lo = ref2.lo, tagString = ref2.tagString;","    content = ExerciseStore.getContent(exerciseId);","    if (hasTeks) {","      teksString = ExerciseStore.getTeksString(exerciseId);","      if (!teksString) {","        teksString = \"-\";","      }","      teks = React.createElement(\"td\", null, teksString);","    }","    return React.createElement(\"tr\", null, React.createElement(\"td\", {","      \"className\": \"exercise-number\"","    }, index + 1), React.createElement(\"td\", null, React.createElement(ChapterSection, {","      \"section\": section","    })), React.createElement(\"td\", {","      \"className\": \"ellipses\"","    }, React.createElement(ArbitraryHtmlAndMath, {","      \"block\": false,","      \"html\": content","    })), React.createElement(\"td\", {","      \"className\": \"ellipses\"","    }, lo), teks, React.createElement(\"td\", {","      \"className\": \"ellipses\"","    }, tagString.join(' / ')));","  },","  renderTutorRow: function(index, hasTeks) {","    var numSelected, number, teksColumn;","    if (hasTeks) {","      teksColumn = React.createElement(\"td\", null, \"-\");","    }","    numSelected = TaskPlanStore.getExercises(this.props.planId).length;","    number = index + numSelected + 1;","    return React.createElement(\"tr\", null, React.createElement(\"td\", {","      \"className\": \"exercise-number\"","    }, number), React.createElement(\"td\", null, \"-\"), React.createElement(\"td\", null, \"Tutor Selection\"), teksColumn, React.createElement(\"td\", null, \"-\"), React.createElement(\"td\", null, \"-\"));","  },","  shouldShowTeks: function(exerciseIds) {","    var findTek;","    findTek = function(memo, id) {","      var teksString;","      teksString = ExerciseStore.getTeksString(id);","      return memo || teksString;","    };","    return _.reduce(exerciseIds, findTek, false);","  },","  render: function() {","    var exerciseIds, getExerciseRows, getTutorRows, hasTeks, load, renderSelectedRow, renderTutorRow, teksHead, tutorSelection;","    load = this.renderLoading();","    if (load) {","      return load;","    }","    tutorSelection = TaskPlanStore.getTutorSelections(this.props.planId);","    exerciseIds = TaskPlanStore.getExercises(this.props.planId);","    renderSelectedRow = this.renderExerciseRow;","    renderTutorRow = this.renderTutorRow;","    hasTeks = this.shouldShowTeks(exerciseIds);","    if (hasTeks) {","      teksHead = React.createElement(\"td\", null, \"TEKS\");","    }","    getExerciseRows = function(exerciseId, index) {","      return renderSelectedRow(exerciseId, index, hasTeks);","    };","    getTutorRows = function(index) {","      return renderTutorRow(index, hasTeks);","    };","    return React.createElement(\"table\", {","      \"className\": \"exercise-table\"","    }, React.createElement(\"thead\", null, React.createElement(\"tr\", null, React.createElement(\"td\", null), React.createElement(\"td\", null), React.createElement(\"td\", null, \"Problem Question\"), React.createElement(\"td\", null, \"Learning Objective\"), teksHead, React.createElement(\"td\", null, \"Details\"))), React.createElement(\"tbody\", null, _.map(exerciseIds, getExerciseRows), _.times(tutorSelection, getTutorRows)));","  }","});","","AddExercises = React.createClass({","  displayName: 'AddExercises',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    courseId: React.PropTypes.string.isRequired,","    pageIds: React.PropTypes.array","  },","  mixins: [ExercisesRenderMixin],","  renderExercise: function(exercise) {","    return React.createElement(AddExerciseCard, {","      \"planId\": this.props.planId,","      \"exercise\": exercise,","      \"key\": \"add-exercise-card-\" + this.props.planId","    });","  },","  renderInRows: function(renderedExercises) {","    var i, left, newRow, right, rows;","    rows = [];","    i = 0;","    while (i < renderedExercises.length) {","      left = renderedExercises[i];","      right = renderedExercises[i + 1];","      newRow = React.createElement(BS.Row, null, React.createElement(BS.Col, {","        \"xs\": 12.,","        \"md\": 6.","      }, left), React.createElement(BS.Col, {","        \"xs\": 12.,","        \"md\": 6.","      }, right));","      rows.push(newRow);","      i += 2;","    }","    return rows;","  },","  renderSection: function(key) {","    var section;","    section = TocStore.getSectionLabel(key);","    if (!section) {","      return React.createElement(BS.Row, null);","    }","    return React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"xs\": 12.","    }, React.createElement(\"label\", {","      \"className\": 'exercises-section-label'","    }, React.createElement(ChapterSection, {","      \"section\": section.chapter_section","    }), \" \", section.title)));","  },","  render: function() {","    var courseId, groups, load, pageIds, ref2, renderExercise, renderInRows, renderSection, renderedExercises;","    load = this.renderLoading();","    if (load) {","      return load;","    }","    ref2 = this.props, courseId = ref2.courseId, pageIds = ref2.pageIds;","    if (!ExerciseStore.get(pageIds).length) {","      return React.createElement(\"span\", {","        \"className\": \"-no-exercises\"","      }, \"The sections you selected have no exercises.\\nPlease select more sections.\");","    }","    groups = ExerciseStore.getGroupedExercises(pageIds);","    renderExercise = this.renderExercise;","    renderSection = this.renderSection;","    renderInRows = this.renderInRows;","    renderedExercises = _.reduce(groups, function(memo, exercises, key) {","      var exerciseCards, section;","      section = renderSection(key);","      exerciseCards = _.map(exercises, renderExercise);","      memo.push(section);","      return memo.concat(renderInRows(exerciseCards));","    }, []);","    return React.createElement(BS.Grid, {","      \"className\": \"add-exercise-list\"","    }, renderedExercises);","  }","});","","module.exports = {","  AddExercises: AddExercises,","  ReviewExercises: ReviewExercises,","  ExerciseTable: ExerciseTable,","  ExerciseCardMixin: ExerciseCardMixin","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"fnMap":{"1":{"line":24,"loc":{"end":{"column":38,"line":24},"start":{"column":25,"line":24}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":29,"line":30},"start":{"column":18,"line":30}},"name":"(anonymous_2)"},"3":{"line":57,"loc":{"end":{"column":29,"line":57},"start":{"column":18,"line":57}},"name":"(anonymous_3)"},"4":{"line":60,"loc":{"end":{"column":31,"line":60},"start":{"column":20,"line":60}},"name":"(anonymous_4)"},"5":{"line":63,"loc":{"end":{"column":29,"line":63},"start":{"column":18,"line":63}},"name":"(anonymous_5)"},"6":{"line":68,"loc":{"end":{"column":31,"line":68},"start":{"column":20,"line":68}},"name":"(anonymous_6)"},"7":{"line":95,"loc":{"end":{"column":27,"line":95},"start":{"column":16,"line":95}},"name":"(anonymous_7)"},"8":{"line":104,"loc":{"end":{"column":28,"line":104},"start":{"column":17,"line":104}},"name":"(anonymous_8)"},"9":{"line":107,"loc":{"end":{"column":21,"line":107},"start":{"column":10,"line":107}},"name":"(anonymous_9)"},"10":{"line":119,"loc":{"end":{"column":29,"line":119},"start":{"column":18,"line":119}},"name":"(anonymous_10)"},"11":{"line":126,"loc":{"end":{"column":27,"line":126},"start":{"column":16,"line":126}},"name":"(anonymous_11)"},"12":{"line":137,"loc":{"end":{"column":28,"line":137},"start":{"column":17,"line":137}},"name":"(anonymous_12)"},"13":{"line":144,"loc":{"end":{"column":21,"line":144},"start":{"column":10,"line":144}},"name":"(anonymous_13)"},"14":{"line":150,"loc":{"end":{"column":33,"line":150},"start":{"column":22,"line":150}},"name":"(anonymous_14)"},"15":{"line":153,"loc":{"end":{"column":35,"line":153},"start":{"column":24,"line":153}},"name":"(anonymous_15)"},"16":{"line":156,"loc":{"end":{"column":21,"line":156},"start":{"column":10,"line":156}},"name":"(anonymous_16)"},"17":{"line":159,"loc":{"end":{"column":28,"line":159},"start":{"column":17,"line":159}},"name":"(anonymous_17)"},"18":{"line":184,"loc":{"end":{"column":40,"line":184},"start":{"column":18,"line":184}},"name":"(anonymous_18)"},"19":{"line":192,"loc":{"end":{"column":21,"line":192},"start":{"column":10,"line":192}},"name":"(anonymous_19)"},"20":{"line":219,"loc":{"end":{"column":58,"line":219},"start":{"column":21,"line":219}},"name":"(anonymous_20)"},"21":{"line":245,"loc":{"end":{"column":43,"line":245},"start":{"column":18,"line":245}},"name":"(anonymous_21)"},"22":{"line":256,"loc":{"end":{"column":40,"line":256},"start":{"column":18,"line":256}},"name":"(anonymous_22)"},"23":{"line":258,"loc":{"end":{"column":33,"line":258},"start":{"column":14,"line":258}},"name":"(anonymous_23)"},"24":{"line":265,"loc":{"end":{"column":21,"line":265},"start":{"column":10,"line":265}},"name":"(anonymous_24)"},"25":{"line":279,"loc":{"end":{"column":50,"line":279},"start":{"column":22,"line":279}},"name":"(anonymous_25)"},"26":{"line":282,"loc":{"end":{"column":35,"line":282},"start":{"column":19,"line":282}},"name":"(anonymous_26)"},"27":{"line":299,"loc":{"end":{"column":37,"line":299},"start":{"column":18,"line":299}},"name":"(anonymous_27)"},"28":{"line":306,"loc":{"end":{"column":44,"line":306},"start":{"column":16,"line":306}},"name":"(anonymous_28)"},"29":{"line":325,"loc":{"end":{"column":31,"line":325},"start":{"column":17,"line":325}},"name":"(anonymous_29)"},"30":{"line":339,"loc":{"end":{"column":21,"line":339},"start":{"column":10,"line":339}},"name":"(anonymous_30)"},"31":{"line":355,"loc":{"end":{"column":72,"line":355},"start":{"column":41,"line":355}},"name":"(anonymous_31)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/homework/exercises.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":0,"14":0,"15":0,"16":0,"17":21,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":21,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":21,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":21,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":21,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":21,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":21},"statementMap":{"1":{"end":{"column":284,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":81,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":46,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":47,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":29,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":114,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":118,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":49,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":2,"line":46},"start":{"column":0,"line":23}},"13":{"end":{"column":13,"line":25},"start":{"column":4,"line":25}},"14":{"end":{"column":7,"line":28},"start":{"column":4,"line":26}},"15":{"end":{"column":19,"line":31},"start":{"column":4,"line":31}},"16":{"end":{"column":30,"line":44},"start":{"column":4,"line":32}},"17":{"end":{"column":3,"line":110},"start":{"column":0,"line":48}},"18":{"end":{"column":84,"line":58},"start":{"column":4,"line":58}},"19":{"end":{"column":83,"line":61},"start":{"column":4,"line":61}},"20":{"end":{"column":5,"line":66},"start":{"column":4,"line":64}},"21":{"end":{"column":84,"line":65},"start":{"column":6,"line":65}},"22":{"end":{"column":25,"line":69},"start":{"column":4,"line":69}},"23":{"end":{"column":5,"line":77},"start":{"column":4,"line":70}},"24":{"end":{"column":10,"line":76},"start":{"column":6,"line":71}},"25":{"end":{"column":8,"line":83},"start":{"column":4,"line":78}},"26":{"end":{"column":5,"line":93},"start":{"column":4,"line":84}},"27":{"end":{"column":11,"line":92},"start":{"column":6,"line":85}},"28":{"end":{"column":22,"line":96},"start":{"column":4,"line":96}},"29":{"end":{"column":44,"line":97},"start":{"column":4,"line":97}},"30":{"end":{"column":45,"line":102},"start":{"column":4,"line":98}},"31":{"end":{"column":21,"line":105},"start":{"column":4,"line":105}},"32":{"end":{"column":33,"line":108},"start":{"column":4,"line":108}},"33":{"end":{"column":3,"line":147},"start":{"column":0,"line":112}},"34":{"end":{"column":5,"line":124},"start":{"column":4,"line":120}},"35":{"end":{"column":84,"line":121},"start":{"column":6,"line":121}},"36":{"end":{"column":81,"line":123},"start":{"column":6,"line":123}},"37":{"end":{"column":24,"line":127},"start":{"column":4,"line":127}},"38":{"end":{"column":82,"line":128},"start":{"column":4,"line":128}},"39":{"end":{"column":44,"line":129},"start":{"column":4,"line":129}},"40":{"end":{"column":5,"line":132},"start":{"column":4,"line":130}},"41":{"end":{"column":36,"line":131},"start":{"column":6,"line":131}},"42":{"end":{"column":7,"line":135},"start":{"column":4,"line":133}},"43":{"end":{"column":5,"line":142},"start":{"column":4,"line":138}},"44":{"end":{"column":20,"line":139},"start":{"column":6,"line":139}},"45":{"end":{"column":23,"line":141},"start":{"column":6,"line":141}},"46":{"end":{"column":33,"line":145},"start":{"column":4,"line":145}},"47":{"end":{"column":2,"line":173},"start":{"column":0,"line":149}},"48":{"end":{"column":56,"line":151},"start":{"column":4,"line":151}},"49":{"end":{"column":59,"line":154},"start":{"column":4,"line":154}},"50":{"end":{"column":29,"line":157},"start":{"column":4,"line":157}},"51":{"end":{"column":53,"line":160},"start":{"column":4,"line":160}},"52":{"end":{"column":94,"line":161},"start":{"column":4,"line":161}},"53":{"end":{"column":65,"line":162},"start":{"column":4,"line":162}},"54":{"end":{"column":5,"line":170},"start":{"column":4,"line":163}},"55":{"end":{"column":49,"line":164},"start":{"column":6,"line":164}},"56":{"end":{"column":24,"line":169},"start":{"column":6,"line":165}},"57":{"end":{"column":17,"line":171},"start":{"column":4,"line":171}},"58":{"end":{"column":3,"line":211},"start":{"column":0,"line":175}},"59":{"end":{"column":7,"line":190},"start":{"column":4,"line":185}},"60":{"end":{"column":90,"line":193},"start":{"column":4,"line":193}},"61":{"end":{"column":32,"line":194},"start":{"column":4,"line":194}},"62":{"end":{"column":5,"line":197},"start":{"column":4,"line":195}},"63":{"end":{"column":18,"line":196},"start":{"column":6,"line":196}},"64":{"end":{"column":94,"line":198},"start":{"column":4,"line":198}},"65":{"end":{"column":5,"line":203},"start":{"column":4,"line":199}},"66":{"end":{"column":37,"line":202},"start":{"column":6,"line":200}},"67":{"end":{"column":54,"line":204},"start":{"column":4,"line":204}},"68":{"end":{"column":67,"line":205},"start":{"column":4,"line":205}},"69":{"end":{"column":62,"line":206},"start":{"column":4,"line":206}},"70":{"end":{"column":26,"line":209},"start":{"column":4,"line":207}},"71":{"end":{"column":3,"line":289},"start":{"column":0,"line":213}},"72":{"end":{"column":64,"line":220},"start":{"column":4,"line":220}},"73":{"end":{"column":117,"line":221},"start":{"column":4,"line":221}},"74":{"end":{"column":51,"line":222},"start":{"column":4,"line":222}},"75":{"end":{"column":5,"line":229},"start":{"column":4,"line":223}},"76":{"end":{"column":59,"line":224},"start":{"column":6,"line":224}},"77":{"end":{"column":7,"line":227},"start":{"column":6,"line":225}},"78":{"end":{"column":25,"line":226},"start":{"column":8,"line":226}},"79":{"end":{"column":57,"line":228},"start":{"column":6,"line":228}},"80":{"end":{"column":31,"line":243},"start":{"column":4,"line":230}},"81":{"end":{"column":40,"line":246},"start":{"column":4,"line":246}},"82":{"end":{"column":5,"line":249},"start":{"column":4,"line":247}},"83":{"end":{"column":56,"line":248},"start":{"column":6,"line":248}},"84":{"end":{"column":71,"line":250},"start":{"column":4,"line":250}},"85":{"end":{"column":37,"line":251},"start":{"column":4,"line":251}},"86":{"end":{"column":194,"line":254},"start":{"column":4,"line":252}},"87":{"end":{"column":16,"line":257},"start":{"column":4,"line":257}},"88":{"end":{"column":6,"line":262},"start":{"column":4,"line":258}},"89":{"end":{"column":21,"line":259},"start":{"column":6,"line":259}},"90":{"end":{"column":51,"line":260},"start":{"column":6,"line":260}},"91":{"end":{"column":32,"line":261},"start":{"column":6,"line":261}},"92":{"end":{"column":49,"line":263},"start":{"column":4,"line":263}},"93":{"end":{"column":127,"line":266},"start":{"column":4,"line":266}},"94":{"end":{"column":32,"line":267},"start":{"column":4,"line":267}},"95":{"end":{"column":5,"line":270},"start":{"column":4,"line":268}},"96":{"end":{"column":18,"line":269},"start":{"column":6,"line":269}},"97":{"end":{"column":73,"line":271},"start":{"column":4,"line":271}},"98":{"end":{"column":64,"line":272},"start":{"column":4,"line":272}},"99":{"end":{"column":47,"line":273},"start":{"column":4,"line":273}},"100":{"end":{"column":41,"line":274},"start":{"column":4,"line":274}},"101":{"end":{"column":47,"line":275},"start":{"column":4,"line":275}},"102":{"end":{"column":5,"line":278},"start":{"column":4,"line":276}},"103":{"end":{"column":57,"line":277},"start":{"column":6,"line":277}},"104":{"end":{"column":6,"line":281},"start":{"column":4,"line":279}},"105":{"end":{"column":59,"line":280},"start":{"column":6,"line":280}},"106":{"end":{"column":6,"line":284},"start":{"column":4,"line":282}},"107":{"end":{"column":44,"line":283},"start":{"column":6,"line":283}},"108":{"end":{"column":416,"line":287},"start":{"column":4,"line":285}},"109":{"end":{"column":3,"line":366},"start":{"column":0,"line":291}},"110":{"end":{"column":7,"line":304},"start":{"column":4,"line":300}},"111":{"end":{"column":37,"line":307},"start":{"column":4,"line":307}},"112":{"end":{"column":14,"line":308},"start":{"column":4,"line":308}},"113":{"end":{"column":10,"line":309},"start":{"column":4,"line":309}},"114":{"end":{"column":5,"line":322},"start":{"column":4,"line":310}},"115":{"end":{"column":34,"line":311},"start":{"column":6,"line":311}},"116":{"end":{"column":39,"line":312},"start":{"column":6,"line":312}},"117":{"end":{"column":17,"line":319},"start":{"column":6,"line":313}},"118":{"end":{"column":24,"line":320},"start":{"column":6,"line":320}},"119":{"end":{"column":13,"line":321},"start":{"column":6,"line":321}},"120":{"end":{"column":16,"line":323},"start":{"column":4,"line":323}},"121":{"end":{"column":16,"line":326},"start":{"column":4,"line":326}},"122":{"end":{"column":44,"line":327},"start":{"column":4,"line":327}},"123":{"end":{"column":5,"line":330},"start":{"column":4,"line":328}},"124":{"end":{"column":47,"line":329},"start":{"column":6,"line":329}},"125":{"end":{"column":30,"line":337},"start":{"column":4,"line":331}},"126":{"end":{"column":110,"line":340},"start":{"column":4,"line":340}},"127":{"end":{"column":32,"line":341},"start":{"column":4,"line":341}},"128":{"end":{"column":5,"line":344},"start":{"column":4,"line":342}},"129":{"end":{"column":18,"line":343},"start":{"column":6,"line":343}},"130":{"end":{"column":72,"line":345},"start":{"column":4,"line":345}},"131":{"end":{"column":5,"line":350},"start":{"column":4,"line":346}},"132":{"end":{"column":87,"line":349},"start":{"column":6,"line":347}},"133":{"end":{"column":56,"line":351},"start":{"column":4,"line":351}},"134":{"end":{"column":41,"line":352},"start":{"column":4,"line":352}},"135":{"end":{"column":39,"line":353},"start":{"column":4,"line":353}},"136":{"end":{"column":37,"line":354},"start":{"column":4,"line":354}},"137":{"end":{"column":11,"line":361},"start":{"column":4,"line":355}},"138":{"end":{"column":33,"line":356},"start":{"column":6,"line":356}},"139":{"end":{"column":35,"line":357},"start":{"column":6,"line":357}},"140":{"end":{"column":55,"line":358},"start":{"column":6,"line":358}},"141":{"end":{"column":25,"line":359},"start":{"column":6,"line":359}},"142":{"end":{"column":54,"line":360},"start":{"column":6,"line":360}},"143":{"end":{"column":26,"line":364},"start":{"column":4,"line":362}},"144":{"end":{"column":2,"line":373},"start":{"column":0,"line":368}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":0,"26":0,"31":0,"32":0,"48":21,"58":0,"61":0,"64":0,"65":0,"69":0,"70":0,"71":0,"78":0,"84":0,"85":0,"96":0,"97":0,"98":0,"105":0,"108":0,"112":21,"120":0,"121":0,"123":0,"127":0,"128":0,"129":0,"130":0,"131":0,"133":0,"138":0,"139":0,"141":0,"145":0,"149":21,"151":0,"154":0,"157":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"171":0,"175":21,"185":0,"193":0,"194":0,"195":0,"196":0,"198":0,"199":0,"200":0,"204":0,"205":0,"206":0,"207":0,"213":21,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"228":0,"230":0,"246":0,"247":0,"248":0,"250":0,"251":0,"252":0,"257":0,"258":0,"259":0,"260":0,"261":0,"263":0,"266":0,"267":0,"268":0,"269":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"279":0,"280":0,"282":0,"283":0,"285":0,"291":21,"300":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"320":0,"321":0,"323":0,"326":0,"327":0,"328":0,"329":0,"331":0,"340":0,"341":0,"342":0,"343":0,"345":0,"346":0,"347":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"362":0,"368":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/index.cjsx":{"b":{"1":[0,10],"2":[7,3],"3":[10,7],"4":[0,10]},"branchMap":{"1":{"line":104,"locations":[{"end":{"column":4,"line":104},"start":{"column":4,"line":104}},{"end":{"column":4,"line":104},"start":{"column":4,"line":104}}],"type":"if"},"2":{"line":108,"locations":[{"end":{"column":4,"line":108},"start":{"column":4,"line":108}},{"end":{"column":4,"line":108},"start":{"column":4,"line":108}}],"type":"if"},"3":{"line":120,"locations":[{"end":{"column":52,"line":120},"start":{"column":11,"line":120}},{"end":{"column":69,"line":120},"start":{"column":56,"line":120}}],"type":"binary-expr"},"4":{"line":138,"locations":[{"end":{"column":4,"line":138},"start":{"column":4,"line":138}},{"end":{"column":4,"line":138},"start":{"column":4,"line":138}}],"type":"if"}},"code":["var CourseActions, CourseStore, EventPlan, EventShell, ExternalPlan, ExternalShell, HomeworkPlan, HomeworkShell, LoadableItem, PLAN_TYPES, PlanShell, React, ReadingPlan, ReadingShell, TaskPlanActions, TaskPlanStore, getPlanType, ref, ref1;","","React = require('react');","","HomeworkPlan = require('./homework').HomeworkPlan;","","ReadingPlan = require('./reading').ReadingPlan;","","ExternalPlan = require('./external').ExternalPlan;","","EventPlan = require('./event').EventPlan;","","LoadableItem = require('../loadable-item');","","ref = require('../../flux/course'), CourseStore = ref.CourseStore, CourseActions = ref.CourseActions;","","ref1 = require('../../flux/task-plan'), TaskPlanStore = ref1.TaskPlanStore, TaskPlanActions = ref1.TaskPlanActions;","","PLAN_TYPES = {","  reading: ReadingPlan,","  homework: HomeworkPlan,","  external: ExternalPlan,","  event: EventPlan","};","","getPlanType = function(typeName) {","  var type;","  return type = PLAN_TYPES[typeName];","};","","HomeworkShell = React.createClass({","  displayName: 'HomeworkShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId, id, ref2;","    ref2 = this.context.router.getCurrentParams(), courseId = ref2.courseId, id = ref2.id;","    return React.createElement(PlanShell, {","      \"courseId\": courseId,","      \"id\": id,","      \"type\": 'homework'","    });","  }","});","","ReadingShell = React.createClass({","  displayName: 'ReadingShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId, id, ref2;","    ref2 = this.context.router.getCurrentParams(), courseId = ref2.courseId, id = ref2.id;","    return React.createElement(PlanShell, {","      \"courseId\": courseId,","      \"id\": id,","      \"type\": 'reading'","    });","  }","});","","ExternalShell = React.createClass({","  displayName: 'ExternalShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId, id, ref2;","    ref2 = this.context.router.getCurrentParams(), courseId = ref2.courseId, id = ref2.id;","    return React.createElement(PlanShell, {","      \"courseId\": courseId,","      \"id\": id,","      \"type\": 'external'","    });","  }","});","","EventShell = React.createClass({","  displayName: 'EventShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId, id, ref2;","    ref2 = this.context.router.getCurrentParams(), courseId = ref2.courseId, id = ref2.id;","    return React.createElement(PlanShell, {","      \"courseId\": courseId,","      \"id\": id,","      \"type\": 'event'","    });","  }","});","","PlanShell = React.createClass({","  displayName: 'PlanShell',","  contextTypes: {","    router: React.PropTypes.func","  },","  getInitialState: function() {","    var courseId, id, ref2, type;","    ref2 = this.context.router.getCurrentParams(), courseId = ref2.courseId, id = ref2.id;","    type = this.props.type;","    if (!getPlanType(type)) {","      this.context.router.transitionTo('NotFoundRoute');","      return;","    }","    if (!id) {","      id = TaskPlanStore.freshLocalId();","      TaskPlanActions.create(id, {","        _HACK_courseId: courseId,","        type: type","      });","    }","    return {","      id: id","    };","  },","  getId: function() {","    return this.context.router.getCurrentParams().id || this.state.id;","  },","  getType: function() {","    var typeName;","    typeName = this.props.type;","    return getPlanType(typeName);","  },","  getFlux: function() {","    return {","      store: TaskPlanStore,","      actions: TaskPlanActions","    };","  },","  render: function() {","    var Type, courseId, id;","    Type = this.getType();","    courseId = this.context.router.getCurrentParams().courseId;","    id = this.getId();","    if (TaskPlanStore.isDeleteRequested(id)) {","      return React.createElement(Type, {","        \"id\": id,","        \"courseId\": courseId","      });","    }","    return React.createElement(LoadableItem, {","      \"id\": id,","      \"store\": TaskPlanStore,","      \"actions\": TaskPlanActions,","      \"renderItem\": (function() {","        return React.createElement(Type, {","          \"id\": id,","          \"courseId\": courseId","        });","      })","    });","  }","});","","module.exports = {","  ReadingShell: ReadingShell,","  HomeworkShell: HomeworkShell,","  ExternalShell: ExternalShell,","  EventShell: EventShell","};",""],"f":{"1":20,"2":1,"3":8,"4":1,"5":0,"6":10,"7":10,"8":10,"9":0,"10":10,"11":90},"fnMap":{"1":{"line":26,"loc":{"end":{"column":33,"line":26},"start":{"column":14,"line":26}},"name":"(anonymous_1)"},"2":{"line":36,"loc":{"end":{"column":21,"line":36},"start":{"column":10,"line":36}},"name":"(anonymous_2)"},"3":{"line":52,"loc":{"end":{"column":21,"line":52},"start":{"column":10,"line":52}},"name":"(anonymous_3)"},"4":{"line":68,"loc":{"end":{"column":21,"line":68},"start":{"column":10,"line":68}},"name":"(anonymous_4)"},"5":{"line":84,"loc":{"end":{"column":21,"line":84},"start":{"column":10,"line":84}},"name":"(anonymous_5)"},"6":{"line":100,"loc":{"end":{"column":30,"line":100},"start":{"column":19,"line":100}},"name":"(anonymous_6)"},"7":{"line":119,"loc":{"end":{"column":20,"line":119},"start":{"column":9,"line":119}},"name":"(anonymous_7)"},"8":{"line":122,"loc":{"end":{"column":22,"line":122},"start":{"column":11,"line":122}},"name":"(anonymous_8)"},"9":{"line":127,"loc":{"end":{"column":22,"line":127},"start":{"column":11,"line":127}},"name":"(anonymous_9)"},"10":{"line":133,"loc":{"end":{"column":21,"line":133},"start":{"column":10,"line":133}},"name":"(anonymous_10)"},"11":{"line":148,"loc":{"end":{"column":32,"line":148},"start":{"column":21,"line":148}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":20,"13":20,"14":21,"15":1,"16":1,"17":1,"18":21,"19":8,"20":8,"21":8,"22":21,"23":1,"24":1,"25":1,"26":21,"27":0,"28":0,"29":0,"30":21,"31":10,"32":10,"33":10,"34":10,"35":0,"36":0,"37":10,"38":7,"39":7,"40":10,"41":10,"42":10,"43":10,"44":10,"45":0,"46":10,"47":10,"48":10,"49":10,"50":10,"51":0,"52":10,"53":90,"54":21},"statementMap":{"1":{"end":{"column":239,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":50,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":47,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":50,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":41,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":43,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":101,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":115,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":2,"line":24},"start":{"column":0,"line":19}},"11":{"end":{"column":2,"line":29},"start":{"column":0,"line":26}},"12":{"end":{"column":11,"line":27},"start":{"column":2,"line":27}},"13":{"end":{"column":37,"line":28},"start":{"column":2,"line":28}},"14":{"end":{"column":3,"line":45},"start":{"column":0,"line":31}},"15":{"end":{"column":27,"line":37},"start":{"column":4,"line":37}},"16":{"end":{"column":90,"line":38},"start":{"column":4,"line":38}},"17":{"end":{"column":7,"line":43},"start":{"column":4,"line":39}},"18":{"end":{"column":3,"line":61},"start":{"column":0,"line":47}},"19":{"end":{"column":27,"line":53},"start":{"column":4,"line":53}},"20":{"end":{"column":90,"line":54},"start":{"column":4,"line":54}},"21":{"end":{"column":7,"line":59},"start":{"column":4,"line":55}},"22":{"end":{"column":3,"line":77},"start":{"column":0,"line":63}},"23":{"end":{"column":27,"line":69},"start":{"column":4,"line":69}},"24":{"end":{"column":90,"line":70},"start":{"column":4,"line":70}},"25":{"end":{"column":7,"line":75},"start":{"column":4,"line":71}},"26":{"end":{"column":3,"line":93},"start":{"column":0,"line":79}},"27":{"end":{"column":27,"line":85},"start":{"column":4,"line":85}},"28":{"end":{"column":90,"line":86},"start":{"column":4,"line":86}},"29":{"end":{"column":7,"line":91},"start":{"column":4,"line":87}},"30":{"end":{"column":3,"line":156},"start":{"column":0,"line":95}},"31":{"end":{"column":33,"line":101},"start":{"column":4,"line":101}},"32":{"end":{"column":90,"line":102},"start":{"column":4,"line":102}},"33":{"end":{"column":27,"line":103},"start":{"column":4,"line":103}},"34":{"end":{"column":5,"line":107},"start":{"column":4,"line":104}},"35":{"end":{"column":56,"line":105},"start":{"column":6,"line":105}},"36":{"end":{"column":13,"line":106},"start":{"column":6,"line":106}},"37":{"end":{"column":5,"line":114},"start":{"column":4,"line":108}},"38":{"end":{"column":40,"line":109},"start":{"column":6,"line":109}},"39":{"end":{"column":9,"line":113},"start":{"column":6,"line":110}},"40":{"end":{"column":6,"line":117},"start":{"column":4,"line":115}},"41":{"end":{"column":70,"line":120},"start":{"column":4,"line":120}},"42":{"end":{"column":17,"line":123},"start":{"column":4,"line":123}},"43":{"end":{"column":31,"line":124},"start":{"column":4,"line":124}},"44":{"end":{"column":33,"line":125},"start":{"column":4,"line":125}},"45":{"end":{"column":6,"line":131},"start":{"column":4,"line":128}},"46":{"end":{"column":27,"line":134},"start":{"column":4,"line":134}},"47":{"end":{"column":26,"line":135},"start":{"column":4,"line":135}},"48":{"end":{"column":63,"line":136},"start":{"column":4,"line":136}},"49":{"end":{"column":22,"line":137},"start":{"column":4,"line":137}},"50":{"end":{"column":5,"line":143},"start":{"column":4,"line":138}},"51":{"end":{"column":9,"line":142},"start":{"column":6,"line":139}},"52":{"end":{"column":7,"line":154},"start":{"column":4,"line":144}},"53":{"end":{"column":11,"line":152},"start":{"column":8,"line":149}},"54":{"end":{"column":2,"line":163},"start":{"column":0,"line":158}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"26":21,"27":20,"28":20,"31":21,"37":1,"38":1,"39":1,"47":21,"53":8,"54":8,"55":8,"63":21,"69":1,"70":1,"71":1,"79":21,"85":0,"86":0,"87":0,"95":21,"101":10,"102":10,"103":10,"104":10,"105":0,"106":0,"108":10,"109":7,"110":7,"115":10,"120":10,"123":10,"124":10,"125":10,"128":0,"134":10,"135":10,"136":10,"137":10,"138":10,"139":0,"144":10,"149":90,"158":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/plan-mixin.coffee":{"b":{"1":[20,0],"2":[20,0],"3":[0,0],"4":[0,0],"5":[1,0],"6":[3,3],"7":[3,1],"8":[10,4],"9":[6,4],"10":[0,10],"11":[10,3,3],"12":[101,0],"13":[101,0],"14":[78,23],"15":[0,23]},"branchMap":{"1":{"line":25,"locations":[{"end":{"column":81,"line":25},"start":{"column":68,"line":25}},{"end":{"column":102,"line":25},"start":{"column":85,"line":25}}],"type":"binary-expr"},"2":{"line":28,"locations":[{"end":{"column":56,"line":28},"start":{"column":43,"line":28}},{"end":{"column":77,"line":28},"start":{"column":60,"line":28}}],"type":"binary-expr"},"3":{"line":33,"locations":[{"end":{"column":73,"line":33},"start":{"column":60,"line":33}},{"end":{"column":94,"line":33},"start":{"column":77,"line":33}}],"type":"binary-expr"},"4":{"line":34,"locations":[{"end":{"column":55,"line":34},"start":{"column":42,"line":34}},{"end":{"column":76,"line":34},"start":{"column":59,"line":34}}],"type":"binary-expr"},"5":{"line":72,"locations":[{"end":{"column":4,"line":72},"start":{"column":4,"line":72}},{"end":{"column":4,"line":72},"start":{"column":4,"line":72}}],"type":"if"},"6":{"line":81,"locations":[{"end":{"column":4,"line":81},"start":{"column":4,"line":81}},{"end":{"column":4,"line":81},"start":{"column":4,"line":81}}],"type":"if"},"7":{"line":100,"locations":[{"end":{"column":4,"line":100},"start":{"column":4,"line":100}},{"end":{"column":4,"line":100},"start":{"column":4,"line":100}}],"type":"if"},"8":{"line":123,"locations":[{"end":{"column":45,"line":123},"start":{"column":12,"line":123}},{"end":{"column":93,"line":123},"start":{"column":49,"line":123}}],"type":"binary-expr"},"9":{"line":124,"locations":[{"end":{"column":4,"line":124},"start":{"column":4,"line":124}},{"end":{"column":4,"line":124},"start":{"column":4,"line":124}}],"type":"if"},"10":{"line":129,"locations":[{"end":{"column":4,"line":129},"start":{"column":4,"line":129}},{"end":{"column":4,"line":129},"start":{"column":4,"line":129}}],"type":"if"},"11":{"line":129,"locations":[{"end":{"column":33,"line":129},"start":{"column":10,"line":129}},{"end":{"column":67,"line":129},"start":{"column":37,"line":129}},{"end":{"column":106,"line":129},"start":{"column":71,"line":129}}],"type":"binary-expr"},"12":{"line":149,"locations":[{"end":{"column":4,"line":149},"start":{"column":4,"line":149}},{"end":{"column":4,"line":149},"start":{"column":4,"line":149}}],"type":"if"},"13":{"line":153,"locations":[{"end":{"column":4,"line":153},"start":{"column":4,"line":153}},{"end":{"column":4,"line":153},"start":{"column":4,"line":153}}],"type":"if"},"14":{"line":157,"locations":[{"end":{"column":4,"line":157},"start":{"column":4,"line":157}},{"end":{"column":4,"line":157},"start":{"column":4,"line":157}}],"type":"if"},"15":{"line":159,"locations":[{"end":{"column":11,"line":159},"start":{"column":11,"line":159}},{"end":{"column":11,"line":159},"start":{"column":11,"line":159}}],"type":"if"}},"code":["var CALENDAR_DATE_FORMAT, CloseButton, PlanMixin, React, S, TaskPlanActions, TaskPlanStore, TimeStore, TutorDialog, moment, ref;","","React = require('react');","","ref = require('../../flux/task-plan'), TaskPlanStore = ref.TaskPlanStore, TaskPlanActions = ref.TaskPlanActions;","","TimeStore = require('../../flux/time').TimeStore;","","CloseButton = require('openstax-react-components').CloseButton;","","TutorDialog = require('../tutor-dialog');","","S = require('../../helpers/string');","","moment = require('moment');","","CALENDAR_DATE_FORMAT = 'YYYY-MM-DD';","","PlanMixin = {","  contextTypes: {","    router: React.PropTypes.func","  },","  getInitialState: function() {","    var isSavedPlanVisibleToStudent;","    isSavedPlanVisibleToStudent = TaskPlanStore.isVisibleToStudents(this.props.id || this.props.planId);","    return {","      isVisibleToStudents: isSavedPlanVisibleToStudent,","      isEditable: TaskPlanStore.isEditable(this.props.id || this.props.planId)","    };","  },","  updateIsVisibleAndIsEditable: function() {","    var isEditable, isVisibleToStudents;","    isVisibleToStudents = TaskPlanStore.isVisibleToStudents(this.props.id || this.props.planId);","    isEditable = TaskPlanStore.isEditable(this.props.id || this.props.planId);","    return this.setState({","      isVisibleToStudents: isVisibleToStudents,","      isEditable: isEditable","    });","  },","  componentWillMount: function() {","    return TaskPlanStore.on('publish-queued', this.updateIsVisibleAndIsEditable);","  },","  componentWillUnmount: function() {","    return TaskPlanStore.off('publish-queued', this.updateIsVisibleAndIsEditable);","  },","  setTitle: function(title) {","    var id;","    id = this.props.id;","    return TaskPlanActions.updateTitle(id, title);","  },","  showSectionTopics: function() {","    return this.setState({","      showSectionTopics: true,","      savedTopics: TaskPlanStore.getTopics(this.props.id),","      savedExercises: TaskPlanStore.getExercises(this.props.id)","    });","  },","  cancelSelection: function() {","    TaskPlanActions.updateTopics(this.props.id, this.state.savedTopics);","    TaskPlanActions.updateExercises(this.props.id, this.state.savedExercises);","    return this.hideSectionTopics();","  },","  hideSectionTopics: function() {","    return this.setState({","      showSectionTopics: false","    });","  },","  publish: function() {","    var id, saveable;","    id = this.props.id;","    saveable = TaskPlanStore.isValid(id);","    if (saveable) {","      TaskPlanActions.publish(id);","    }","    return this.save();","  },","  save: function() {","    var id, saveable;","    id = this.props.id;","    saveable = TaskPlanStore.isValid(id);","    if (saveable) {","      TaskPlanActions.saved.addListener(this.saved);","      return TaskPlanActions.save(id);","    } else {","      return this.setState({","        invalid: true","      });","    }","  },","  saved: function() {","    var courseId;","    courseId = this.props.courseId;","    TaskPlanActions.saved.removeListener('change', this.saved);","    TaskPlanStore.isLoading(this.props.id);","    return this.goBackToCalendar();","  },","  cancel: function() {","    var courseId, id, ref1;","    ref1 = this.props, id = ref1.id, courseId = ref1.courseId;","    if (!TaskPlanStore.hasChanged(id)) {","      return this.reset();","    } else {","      return TutorDialog.show({","        title: 'Unsaved Changes',","        body: 'You will lose unsaved changes if you continue.'","      }).then((function(_this) {","        return function() {","          return _this.reset();","        };","      })(this));","    }","  },","  reset: function() {","    var courseId, id, ref1;","    ref1 = this.props, id = ref1.id, courseId = ref1.courseId;","    TaskPlanActions.resetPlan(id);","    return this.goBackToCalendar();","  },","  getBackToCalendarParams: function() {","    var calendarRoute, courseId, date, dueAt, id, planId, ref1;","    ref1 = this.props, id = ref1.id, courseId = ref1.courseId;","    calendarRoute = 'calendarByDate';","    dueAt = TaskPlanStore.getFirstDueDate(id) || this.context.router.getCurrentQuery().due_at;","    if (dueAt != null) {","      date = moment(dueAt).format(CALENDAR_DATE_FORMAT);","    } else {","      date = moment(TimeStore.getNow()).format(CALENDAR_DATE_FORMAT);","    }","    if (!(TaskPlanStore.isNew(id) || TaskPlanStore.isPublishing(id) || TaskPlanStore.isDeleteRequested(id))) {","      calendarRoute = 'calendarViewPlanStats';","      planId = id;","    }","    return {","      to: calendarRoute,","      params: {","        courseId: courseId,","        date: date,","        planId: planId","      }","    };","  },","  goBackToCalendar: function() {","    var params, ref1, to;","    ref1 = this.getBackToCalendarParams(), to = ref1.to, params = ref1.params;","    return this.context.router.transitionTo(to, params);","  },","  builderHeader: function(type, label) {","    var closeBtn, headerSpan, headerText, id;","    if (label == null) {","      label = 'Assignment';","    }","    id = this.props.id;","    if (label) {","      label = \" \" + label;","    }","    type = S.capitalize(type);","    if (TaskPlanStore.isNew(id)) {","      headerText = \"Add \" + type + label;","    } else if (TaskPlanStore.isDeleteRequested(id)) {","      headerText = type + \" is being deleted\";","    } else {","      headerText = \"Edit \" + type + label;","    }","    headerSpan = React.createElement(\"span\", {","      \"key\": 'header-text'","    }, headerText);","    closeBtn = React.createElement(CloseButton, {","      \"key\": 'close-button',","      \"className\": 'pull-right',","      \"onClick\": this.cancel","    });","    return [headerSpan, closeBtn];","  }","};","","module.exports = PlanMixin;",""],"f":{"1":20,"2":0,"3":20,"4":20,"5":24,"6":4,"7":1,"8":4,"9":1,"10":6,"11":3,"12":4,"13":1,"14":1,"15":4,"16":10,"17":10,"18":101},"fnMap":{"1":{"line":23,"loc":{"end":{"column":30,"line":23},"start":{"column":19,"line":23}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":43,"line":31},"start":{"column":32,"line":31}},"name":"(anonymous_2)"},"3":{"line":40,"loc":{"end":{"column":33,"line":40},"start":{"column":22,"line":40}},"name":"(anonymous_3)"},"4":{"line":43,"loc":{"end":{"column":35,"line":43},"start":{"column":24,"line":43}},"name":"(anonymous_4)"},"5":{"line":46,"loc":{"end":{"column":28,"line":46},"start":{"column":12,"line":46}},"name":"(anonymous_5)"},"6":{"line":51,"loc":{"end":{"column":32,"line":51},"start":{"column":21,"line":51}},"name":"(anonymous_6)"},"7":{"line":58,"loc":{"end":{"column":30,"line":58},"start":{"column":19,"line":58}},"name":"(anonymous_7)"},"8":{"line":63,"loc":{"end":{"column":32,"line":63},"start":{"column":21,"line":63}},"name":"(anonymous_8)"},"9":{"line":68,"loc":{"end":{"column":22,"line":68},"start":{"column":11,"line":68}},"name":"(anonymous_9)"},"10":{"line":77,"loc":{"end":{"column":19,"line":77},"start":{"column":8,"line":77}},"name":"(anonymous_10)"},"11":{"line":90,"loc":{"end":{"column":20,"line":90},"start":{"column":9,"line":90}},"name":"(anonymous_11)"},"12":{"line":97,"loc":{"end":{"column":21,"line":97},"start":{"column":10,"line":97}},"name":"(anonymous_12)"},"13":{"line":106,"loc":{"end":{"column":31,"line":106},"start":{"column":15,"line":106}},"name":"(anonymous_13)"},"14":{"line":107,"loc":{"end":{"column":26,"line":107},"start":{"column":15,"line":107}},"name":"(anonymous_14)"},"15":{"line":113,"loc":{"end":{"column":20,"line":113},"start":{"column":9,"line":113}},"name":"(anonymous_15)"},"16":{"line":119,"loc":{"end":{"column":38,"line":119},"start":{"column":27,"line":119}},"name":"(anonymous_16)"},"17":{"line":142,"loc":{"end":{"column":31,"line":142},"start":{"column":20,"line":142}},"name":"(anonymous_17)"},"18":{"line":147,"loc":{"end":{"column":39,"line":147},"start":{"column":17,"line":147}},"name":"(anonymous_18)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/plan-mixin.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":20,"12":20,"13":20,"14":0,"15":0,"16":0,"17":0,"18":20,"19":20,"20":24,"21":24,"22":24,"23":4,"24":1,"25":1,"26":1,"27":4,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":6,"35":6,"36":6,"37":6,"38":3,"39":3,"40":3,"41":3,"42":3,"43":3,"44":3,"45":3,"46":4,"47":4,"48":4,"49":3,"50":1,"51":1,"52":1,"53":4,"54":4,"55":4,"56":4,"57":10,"58":10,"59":10,"60":10,"61":10,"62":6,"63":4,"64":10,"65":0,"66":0,"67":10,"68":10,"69":10,"70":10,"71":101,"72":101,"73":101,"74":101,"75":101,"76":101,"77":101,"78":101,"79":78,"80":23,"81":0,"82":23,"83":101,"84":101,"85":101,"86":21},"statementMap":{"1":{"end":{"column":128,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":112,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":49,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":63,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":41,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":36,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":27,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":36,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":2,"line":174},"start":{"column":0,"line":19}},"11":{"end":{"column":36,"line":24},"start":{"column":4,"line":24}},"12":{"end":{"column":104,"line":25},"start":{"column":4,"line":25}},"13":{"end":{"column":6,"line":29},"start":{"column":4,"line":26}},"14":{"end":{"column":40,"line":32},"start":{"column":4,"line":32}},"15":{"end":{"column":96,"line":33},"start":{"column":4,"line":33}},"16":{"end":{"column":78,"line":34},"start":{"column":4,"line":34}},"17":{"end":{"column":7,"line":38},"start":{"column":4,"line":35}},"18":{"end":{"column":81,"line":41},"start":{"column":4,"line":41}},"19":{"end":{"column":82,"line":44},"start":{"column":4,"line":44}},"20":{"end":{"column":11,"line":47},"start":{"column":4,"line":47}},"21":{"end":{"column":23,"line":48},"start":{"column":4,"line":48}},"22":{"end":{"column":50,"line":49},"start":{"column":4,"line":49}},"23":{"end":{"column":7,"line":56},"start":{"column":4,"line":52}},"24":{"end":{"column":72,"line":59},"start":{"column":4,"line":59}},"25":{"end":{"column":78,"line":60},"start":{"column":4,"line":60}},"26":{"end":{"column":36,"line":61},"start":{"column":4,"line":61}},"27":{"end":{"column":7,"line":66},"start":{"column":4,"line":64}},"28":{"end":{"column":21,"line":69},"start":{"column":4,"line":69}},"29":{"end":{"column":23,"line":70},"start":{"column":4,"line":70}},"30":{"end":{"column":41,"line":71},"start":{"column":4,"line":71}},"31":{"end":{"column":5,"line":74},"start":{"column":4,"line":72}},"32":{"end":{"column":34,"line":73},"start":{"column":6,"line":73}},"33":{"end":{"column":23,"line":75},"start":{"column":4,"line":75}},"34":{"end":{"column":21,"line":78},"start":{"column":4,"line":78}},"35":{"end":{"column":23,"line":79},"start":{"column":4,"line":79}},"36":{"end":{"column":41,"line":80},"start":{"column":4,"line":80}},"37":{"end":{"column":5,"line":88},"start":{"column":4,"line":81}},"38":{"end":{"column":52,"line":82},"start":{"column":6,"line":82}},"39":{"end":{"column":38,"line":83},"start":{"column":6,"line":83}},"40":{"end":{"column":9,"line":87},"start":{"column":6,"line":85}},"41":{"end":{"column":17,"line":91},"start":{"column":4,"line":91}},"42":{"end":{"column":35,"line":92},"start":{"column":4,"line":92}},"43":{"end":{"column":63,"line":93},"start":{"column":4,"line":93}},"44":{"end":{"column":43,"line":94},"start":{"column":4,"line":94}},"45":{"end":{"column":35,"line":95},"start":{"column":4,"line":95}},"46":{"end":{"column":27,"line":98},"start":{"column":4,"line":98}},"47":{"end":{"column":62,"line":99},"start":{"column":4,"line":99}},"48":{"end":{"column":5,"line":111},"start":{"column":4,"line":100}},"49":{"end":{"column":26,"line":101},"start":{"column":6,"line":101}},"50":{"end":{"column":16,"line":110},"start":{"column":6,"line":103}},"51":{"end":{"column":10,"line":109},"start":{"column":8,"line":107}},"52":{"end":{"column":31,"line":108},"start":{"column":10,"line":108}},"53":{"end":{"column":27,"line":114},"start":{"column":4,"line":114}},"54":{"end":{"column":62,"line":115},"start":{"column":4,"line":115}},"55":{"end":{"column":34,"line":116},"start":{"column":4,"line":116}},"56":{"end":{"column":35,"line":117},"start":{"column":4,"line":117}},"57":{"end":{"column":63,"line":120},"start":{"column":4,"line":120}},"58":{"end":{"column":62,"line":121},"start":{"column":4,"line":121}},"59":{"end":{"column":37,"line":122},"start":{"column":4,"line":122}},"60":{"end":{"column":94,"line":123},"start":{"column":4,"line":123}},"61":{"end":{"column":5,"line":128},"start":{"column":4,"line":124}},"62":{"end":{"column":56,"line":125},"start":{"column":6,"line":125}},"63":{"end":{"column":69,"line":127},"start":{"column":6,"line":127}},"64":{"end":{"column":5,"line":132},"start":{"column":4,"line":129}},"65":{"end":{"column":46,"line":130},"start":{"column":6,"line":130}},"66":{"end":{"column":18,"line":131},"start":{"column":6,"line":131}},"67":{"end":{"column":6,"line":140},"start":{"column":4,"line":133}},"68":{"end":{"column":25,"line":143},"start":{"column":4,"line":143}},"69":{"end":{"column":78,"line":144},"start":{"column":4,"line":144}},"70":{"end":{"column":56,"line":145},"start":{"column":4,"line":145}},"71":{"end":{"column":45,"line":148},"start":{"column":4,"line":148}},"72":{"end":{"column":5,"line":151},"start":{"column":4,"line":149}},"73":{"end":{"column":27,"line":150},"start":{"column":6,"line":150}},"74":{"end":{"column":23,"line":152},"start":{"column":4,"line":152}},"75":{"end":{"column":5,"line":155},"start":{"column":4,"line":153}},"76":{"end":{"column":26,"line":154},"start":{"column":6,"line":154}},"77":{"end":{"column":30,"line":156},"start":{"column":4,"line":156}},"78":{"end":{"column":5,"line":163},"start":{"column":4,"line":157}},"79":{"end":{"column":41,"line":158},"start":{"column":6,"line":158}},"80":{"end":{"column":5,"line":163},"start":{"column":11,"line":159}},"81":{"end":{"column":46,"line":160},"start":{"column":6,"line":160}},"82":{"end":{"column":42,"line":162},"start":{"column":6,"line":162}},"83":{"end":{"column":19,"line":166},"start":{"column":4,"line":164}},"84":{"end":{"column":7,"line":171},"start":{"column":4,"line":167}},"85":{"end":{"column":34,"line":172},"start":{"column":4,"line":172}},"86":{"end":{"column":27,"line":176},"start":{"column":0,"line":176}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"24":20,"25":20,"26":20,"32":0,"33":0,"34":0,"35":0,"41":20,"44":20,"47":24,"48":24,"49":24,"52":4,"59":1,"60":1,"61":1,"64":4,"69":1,"70":1,"71":1,"72":1,"73":1,"75":1,"78":6,"79":6,"80":6,"81":6,"82":3,"83":3,"85":3,"91":3,"92":3,"93":3,"94":3,"95":3,"98":4,"99":4,"100":4,"101":3,"103":1,"107":1,"108":1,"114":4,"115":4,"116":4,"117":4,"120":10,"121":10,"122":10,"123":10,"124":10,"125":6,"127":4,"129":10,"130":0,"131":0,"133":10,"143":10,"144":10,"145":10,"148":101,"149":101,"150":101,"152":101,"153":101,"154":101,"156":101,"157":101,"158":78,"159":23,"160":0,"162":23,"164":101,"167":101,"172":101,"176":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/reading.cjsx":{"b":{"1":[303,55],"2":[358,0],"3":[358,0],"4":[55,40],"5":[24,9],"6":[33,0],"7":[33,0],"8":[47,48],"9":[95,0],"10":[33,62],"11":[95,0],"12":[1,94],"13":[95,0],"14":[95,0],"15":[1,94],"16":[95,1],"17":[95,0],"18":[1,0]},"branchMap":{"1":{"line":49,"locations":[{"end":{"column":4,"line":49},"start":{"column":4,"line":49}},{"end":{"column":4,"line":49},"start":{"column":4,"line":49}}],"type":"if"},"2":{"line":57,"locations":[{"end":{"column":4,"line":57},"start":{"column":4,"line":57}},{"end":{"column":4,"line":57},"start":{"column":4,"line":57}}],"type":"if"},"3":{"line":84,"locations":[{"end":{"column":35,"line":84},"start":{"column":24,"line":84}},{"end":{"column":44,"line":84},"start":{"column":38,"line":84}}],"type":"cond-expr"},"4":{"line":104,"locations":[{"end":{"column":4,"line":104},"start":{"column":4,"line":104}},{"end":{"column":4,"line":104},"start":{"column":4,"line":104}}],"type":"if"},"5":{"line":131,"locations":[{"end":{"column":91,"line":131},"start":{"column":82,"line":131}},{"end":{"column":103,"line":131},"start":{"column":94,"line":131}}],"type":"cond-expr"},"6":{"line":131,"locations":[{"end":{"column":69,"line":131},"start":{"column":58,"line":131}},{"end":{"column":78,"line":131},"start":{"column":72,"line":131}}],"type":"cond-expr"},"7":{"line":136,"locations":[{"end":{"column":69,"line":136},"start":{"column":58,"line":136}},{"end":{"column":78,"line":136},"start":{"column":72,"line":136}}],"type":"cond-expr"},"8":{"line":174,"locations":[{"end":{"column":84,"line":174},"start":{"column":65,"line":174}},{"end":{"column":101,"line":174},"start":{"column":87,"line":174}}],"type":"cond-expr"},"9":{"line":174,"locations":[{"end":{"column":52,"line":174},"start":{"column":39,"line":174}},{"end":{"column":61,"line":174},"start":{"column":55,"line":174}}],"type":"cond-expr"},"10":{"line":175,"locations":[{"end":{"column":4,"line":175},"start":{"column":4,"line":175}},{"end":{"column":4,"line":175},"start":{"column":4,"line":175}}],"type":"if"},"11":{"line":175,"locations":[{"end":{"column":61,"line":175},"start":{"column":39,"line":175}},{"end":{"column":70,"line":175},"start":{"column":64,"line":175}}],"type":"cond-expr"},"12":{"line":186,"locations":[{"end":{"column":4,"line":186},"start":{"column":4,"line":186}},{"end":{"column":4,"line":186},"start":{"column":4,"line":186}}],"type":"if"},"13":{"line":186,"locations":[{"end":{"column":50,"line":186},"start":{"column":38,"line":186}},{"end":{"column":59,"line":186},"start":{"column":53,"line":186}}],"type":"cond-expr"},"14":{"line":189,"locations":[{"end":{"column":4,"line":189},"start":{"column":4,"line":189}},{"end":{"column":4,"line":189},"start":{"column":4,"line":189}}],"type":"if"},"15":{"line":196,"locations":[{"end":{"column":4,"line":196},"start":{"column":4,"line":196}},{"end":{"column":4,"line":196},"start":{"column":4,"line":196}}],"type":"if"},"16":{"line":196,"locations":[{"end":{"column":60,"line":196},"start":{"column":9,"line":196}},{"end":{"column":107,"line":196},"start":{"column":65,"line":196}}],"type":"binary-expr"},"17":{"line":196,"locations":[{"end":{"column":51,"line":196},"start":{"column":39,"line":196}},{"end":{"column":60,"line":196},"start":{"column":54,"line":196}}],"type":"cond-expr"},"18":{"line":196,"locations":[{"end":{"column":97,"line":196},"start":{"column":84,"line":196}},{"end":{"column":106,"line":196},"start":{"column":100,"line":196}}],"type":"cond-expr"}},"code":["var BS, ChapterSection, ChooseReadings, LoadableItem, PlanFooter, PlanMixin, React, ReadingPlan, ReviewReadingLi, ReviewReadings, Router, SelectTopics, TaskPlanActions, TaskPlanBuilder, TaskPlanStore, TocActions, TocStore, TutorDateInput, TutorInput, TutorTextArea, _, moment, ref, ref1, ref2;","","React = require('react');","","_ = require('underscore');","","moment = require('moment');","","BS = require('react-bootstrap');","","Router = require('react-router');","","ref = require('../tutor-input'), TutorInput = ref.TutorInput, TutorDateInput = ref.TutorDateInput, TutorTextArea = ref.TutorTextArea;","","ref1 = require('../../flux/task-plan'), TaskPlanStore = ref1.TaskPlanStore, TaskPlanActions = ref1.TaskPlanActions;","","ref2 = require('../../flux/toc'), TocStore = ref2.TocStore, TocActions = ref2.TocActions;","","SelectTopics = require('./select-topics');","","PlanFooter = require('./footer');","","ChapterSection = require('./chapter-section');","","PlanMixin = require('./plan-mixin');","","LoadableItem = require('../loadable-item');","","TaskPlanBuilder = require('./builder');","","ReviewReadingLi = React.createClass({","  displayName: 'ReviewReadingLi',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    topicId: React.PropTypes.string.isRequired,","    canEdit: React.PropTypes.bool","  },","  moveReadingUp: function() {","    return TaskPlanActions.moveReading(this.props.planId, this.props.topicId, -1);","  },","  moveReadingDown: function() {","    return TaskPlanActions.moveReading(this.props.planId, this.props.topicId, 1);","  },","  removeTopic: function() {","    return TaskPlanActions.removeTopic(this.props.planId, this.props.topicId);","  },","  getActionButtons: function() {","    var moveUpButton;","    if (this.props.index) {","      moveUpButton = React.createElement(BS.Button, {","        \"onClick\": this.moveReadingUp,","        \"className\": \"btn-xs -move-reading-up\"","      }, React.createElement(\"i\", {","        \"className\": \"fa fa-arrow-up\"","      }));","    }","    if (this.props.canEdit) {","      return React.createElement(\"span\", {","        \"className\": 'section-buttons'","      }, moveUpButton, React.createElement(BS.Button, {","        \"onClick\": this.moveReadingDown,","        \"className\": \"btn-xs move-reading-down\"","      }, React.createElement(\"i\", {","        \"className\": \"fa fa-arrow-down\"","      })), React.createElement(BS.Button, {","        \"className\": \"remove-topic\",","        \"onClick\": this.removeTopic,","        \"bsStyle\": \"default\"","      }, React.createElement(\"i\", {","        \"className\": \"fa fa-close\"","      })));","    }","  },","  render: function() {","    var actionButtons, topic;","    topic = TocStore.getSectionInfo(this.props.topicId);","    actionButtons = this.getActionButtons();","    return React.createElement(\"li\", {","      \"className\": 'selected-section'","    }, React.createElement(ChapterSection, {","      \"section\": topic.chapter_section","    }), React.createElement(\"span\", {","      \"className\": 'section-title'","    }, (topic != null ? topic.title : void 0)), actionButtons);","  }","});","","ReviewReadings = React.createClass({","  displayName: 'ReviewReadings',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    selected: React.PropTypes.array,","    canEdit: React.PropTypes.bool","  },","  renderSection: function(topicId, index) {","    return React.createElement(ReviewReadingLi, {","      \"topicId\": topicId,","      \"planId\": this.props.planId,","      \"canEdit\": this.props.canEdit,","      \"index\": index","    });","  },","  renderSelected: function() {","    if (this.props.selected.length) {","      return React.createElement(\"ul\", {","        \"className\": 'selected-reading-list'","      }, React.createElement(\"li\", null, \"Currently selected\"), _.map(this.props.selected, this.renderSection));","    } else {","      return React.createElement(\"div\", {","        \"className\": '-selected-reading-list-none'","      });","    }","  },","  render: function() {","    return React.createElement(LoadableItem, {","      \"id\": this.props.ecosystemId,","      \"store\": TocStore,","      \"actions\": TocActions,","      \"renderItem\": this.renderSelected","    });","  }","});","","ChooseReadings = React.createClass({displayName: \"ChooseReadings\",","  hide: function() {","    TaskPlanActions.sortTopics(this.props.planId);","    return this.props.hide();","  },","  render: function() {","    var buttonStyle, header, primary, ref3, ref4;","    buttonStyle = ((ref3 = this.props.selected) != null ? ref3.length : void 0) ? 'primary' : 'default';","    header = React.createElement(\"span\", null, \"Select Readings\");","    primary = React.createElement(BS.Button, {","      \"className\": '-show-problems',","      \"bsStyle\": buttonStyle,","      \"disabled\": ((ref4 = this.props.selected) != null ? ref4.length : void 0) === 0,","      \"onClick\": this.hide","    }, \"Add Readings\");","    return React.createElement(\"div\", {","      \"className\": \"reading-plan-select-topics\"","    }, React.createElement(SelectTopics, {","      \"primary\": primary,","      \"header\": header,","      \"courseId\": this.props.courseId,","      \"ecosystemId\": this.props.ecosystemId,","      \"planId\": this.props.planId,","      \"selected\": this.props.selected,","      \"cancel\": this.props.cancel,","      \"hide\": this.hide","    }));","  }","});","","ReadingPlan = React.createClass({","  displayName: 'ReadingPlan',","  mixins: [PlanMixin],","  render: function() {","    var addReadingText, addReadingsButton, courseId, ecosystemId, footer, formClasses, header, id, plan, readingsRequired, ref3, ref4, ref5, ref6, selectReadings, topics;","    ref3 = this.props, id = ref3.id, courseId = ref3.courseId;","    plan = TaskPlanStore.get(id);","    ecosystemId = TaskPlanStore.getEcosystemId(id, courseId);","    topics = TaskPlanStore.getTopics(id);","    formClasses = ['edit-reading', 'dialog'];","    footer = React.createElement(PlanFooter, {","      \"id\": id,","      \"courseId\": courseId,","      \"onPublish\": this.publish,","      \"onSave\": this.save,","      \"onCancel\": this.cancel,","      \"getBackToCalendarParams\": this.getBackToCalendarParams,","      \"goBackToCalendar\": this.goBackToCalendar","    });","    header = this.builderHeader('reading');","    addReadingText = (topics != null ? topics.length : void 0) ? 'Add More Readings' : 'Add Readings';","    if (((ref4 = this.state) != null ? ref4.showSectionTopics : void 0)) {","      formClasses.push('hide');","      selectReadings = React.createElement(ChooseReadings, {","        \"hide\": this.hideSectionTopics,","        \"cancel\": this.cancelSelection,","        \"courseId\": courseId,","        \"planId\": id,","        \"ecosystemId\": ecosystemId,","        \"selected\": topics","      });","    }","    if ((ref5 = this.state) != null ? ref5.invalid : void 0) {","      formClasses.push('is-invalid-form');","    }","    if (!this.state.isVisibleToStudents) {","      addReadingsButton = React.createElement(BS.Button, {","        \"id\": 'reading-select',","        \"onClick\": this.showSectionTopics,","        \"bsStyle\": 'default'","      }, \"+ \", addReadingText);","    }","    if (((ref6 = this.state) != null ? ref6.invalid : void 0) && !(topics != null ? topics.length : void 0)) {","      readingsRequired = React.createElement(\"span\", {","        \"className\": \"readings-required\"","      }, \"Please add sections to this assignment\", React.createElement(\"i\", {","        \"className\": \"fa fa-exclamation-circle\"","      }));","    }","    return React.createElement(\"div\", {","      \"className\": 'reading-plan task-plan',","      \"data-assignment-type\": 'reading'","    }, React.createElement(BS.Panel, {","      \"bsStyle\": 'primary',","      \"className\": formClasses.join(' '),","      \"footer\": footer,","      \"header\": header","    }, React.createElement(BS.Grid, {","      \"fluid\": true","    }, React.createElement(TaskPlanBuilder, {","      \"courseId\": courseId,","      \"id\": id","    }), React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"xs\": 12.,","      \"md\": 12.","    }, React.createElement(ReviewReadings, {","      \"canEdit\": !this.state.isVisibleToStudents,","      \"courseId\": courseId,","      \"planId\": id,","      \"ecosystemId\": ecosystemId,","      \"selected\": topics","    }), addReadingsButton, readingsRequired)))), selectReadings);","  }","});","","module.exports = {","  ReadingPlan: ReadingPlan","};",""],"f":{"1":0,"2":0,"3":0,"4":358,"5":358,"6":358,"7":95,"8":95,"9":3,"10":33,"11":95},"fnMap":{"1":{"line":38,"loc":{"end":{"column":28,"line":38},"start":{"column":17,"line":38}},"name":"(anonymous_1)"},"2":{"line":41,"loc":{"end":{"column":30,"line":41},"start":{"column":19,"line":41}},"name":"(anonymous_2)"},"3":{"line":44,"loc":{"end":{"column":26,"line":44},"start":{"column":15,"line":44}},"name":"(anonymous_3)"},"4":{"line":47,"loc":{"end":{"column":31,"line":47},"start":{"column":20,"line":47}},"name":"(anonymous_4)"},"5":{"line":74,"loc":{"end":{"column":21,"line":74},"start":{"column":10,"line":74}},"name":"(anonymous_5)"},"6":{"line":95,"loc":{"end":{"column":42,"line":95},"start":{"column":17,"line":95}},"name":"(anonymous_6)"},"7":{"line":103,"loc":{"end":{"column":29,"line":103},"start":{"column":18,"line":103}},"name":"(anonymous_7)"},"8":{"line":114,"loc":{"end":{"column":21,"line":114},"start":{"column":10,"line":114}},"name":"(anonymous_8)"},"9":{"line":125,"loc":{"end":{"column":19,"line":125},"start":{"column":8,"line":125}},"name":"(anonymous_9)"},"10":{"line":129,"loc":{"end":{"column":21,"line":129},"start":{"column":10,"line":129}},"name":"(anonymous_10)"},"11":{"line":157,"loc":{"end":{"column":21,"line":157},"start":{"column":10,"line":157}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/reading.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":0,"18":0,"19":0,"20":358,"21":358,"22":303,"23":358,"24":358,"25":358,"26":358,"27":358,"28":358,"29":21,"30":358,"31":95,"32":55,"33":40,"34":95,"35":21,"36":3,"37":3,"38":33,"39":33,"40":33,"41":33,"42":33,"43":21,"44":95,"45":95,"46":95,"47":95,"48":95,"49":95,"50":95,"51":95,"52":95,"53":95,"54":33,"55":33,"56":95,"57":1,"58":95,"59":95,"60":95,"61":1,"62":95,"63":21},"statementMap":{"1":{"end":{"column":293,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":32,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":133,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":115,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":89,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":42,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":33,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":46,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":36,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":43,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":39,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":3,"line":86},"start":{"column":0,"line":31}},"17":{"end":{"column":82,"line":39},"start":{"column":4,"line":39}},"18":{"end":{"column":81,"line":42},"start":{"column":4,"line":42}},"19":{"end":{"column":78,"line":45},"start":{"column":4,"line":45}},"20":{"end":{"column":21,"line":48},"start":{"column":4,"line":48}},"21":{"end":{"column":5,"line":56},"start":{"column":4,"line":49}},"22":{"end":{"column":10,"line":55},"start":{"column":6,"line":50}},"23":{"end":{"column":5,"line":72},"start":{"column":4,"line":57}},"24":{"end":{"column":11,"line":71},"start":{"column":6,"line":58}},"25":{"end":{"column":29,"line":75},"start":{"column":4,"line":75}},"26":{"end":{"column":56,"line":76},"start":{"column":4,"line":76}},"27":{"end":{"column":44,"line":77},"start":{"column":4,"line":77}},"28":{"end":{"column":63,"line":84},"start":{"column":4,"line":78}},"29":{"end":{"column":3,"line":122},"start":{"column":0,"line":88}},"30":{"end":{"column":7,"line":101},"start":{"column":4,"line":96}},"31":{"end":{"column":5,"line":112},"start":{"column":4,"line":104}},"32":{"end":{"column":112,"line":107},"start":{"column":6,"line":105}},"33":{"end":{"column":9,"line":111},"start":{"column":6,"line":109}},"34":{"end":{"column":7,"line":120},"start":{"column":4,"line":115}},"35":{"end":{"column":3,"line":152},"start":{"column":0,"line":124}},"36":{"end":{"column":50,"line":126},"start":{"column":4,"line":126}},"37":{"end":{"column":29,"line":127},"start":{"column":4,"line":127}},"38":{"end":{"column":49,"line":130},"start":{"column":4,"line":130}},"39":{"end":{"column":104,"line":131},"start":{"column":4,"line":131}},"40":{"end":{"column":66,"line":132},"start":{"column":4,"line":132}},"41":{"end":{"column":23,"line":138},"start":{"column":4,"line":133}},"42":{"end":{"column":8,"line":150},"start":{"column":4,"line":139}},"43":{"end":{"column":3,"line":227},"start":{"column":0,"line":154}},"44":{"end":{"column":170,"line":158},"start":{"column":4,"line":158}},"45":{"end":{"column":62,"line":159},"start":{"column":4,"line":159}},"46":{"end":{"column":33,"line":160},"start":{"column":4,"line":160}},"47":{"end":{"column":61,"line":161},"start":{"column":4,"line":161}},"48":{"end":{"column":41,"line":162},"start":{"column":4,"line":162}},"49":{"end":{"column":45,"line":163},"start":{"column":4,"line":163}},"50":{"end":{"column":7,"line":172},"start":{"column":4,"line":164}},"51":{"end":{"column":43,"line":173},"start":{"column":4,"line":173}},"52":{"end":{"column":102,"line":174},"start":{"column":4,"line":174}},"53":{"end":{"column":5,"line":185},"start":{"column":4,"line":175}},"54":{"end":{"column":31,"line":176},"start":{"column":6,"line":176}},"55":{"end":{"column":9,"line":184},"start":{"column":6,"line":177}},"56":{"end":{"column":5,"line":188},"start":{"column":4,"line":186}},"57":{"end":{"column":42,"line":187},"start":{"column":6,"line":187}},"58":{"end":{"column":5,"line":195},"start":{"column":4,"line":189}},"59":{"end":{"column":31,"line":194},"start":{"column":6,"line":190}},"60":{"end":{"column":5,"line":202},"start":{"column":4,"line":196}},"61":{"end":{"column":10,"line":201},"start":{"column":6,"line":197}},"62":{"end":{"column":65,"line":225},"start":{"column":4,"line":203}},"63":{"end":{"column":2,"line":231},"start":{"column":0,"line":229}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"39":0,"42":0,"45":0,"48":358,"49":358,"50":303,"57":358,"58":358,"75":358,"76":358,"77":358,"78":358,"88":21,"96":358,"104":95,"105":55,"109":40,"115":95,"124":21,"126":3,"127":3,"130":33,"131":33,"132":33,"133":33,"139":33,"154":21,"158":95,"159":95,"160":95,"161":95,"162":95,"163":95,"164":95,"173":95,"174":95,"175":95,"176":33,"177":33,"186":95,"187":1,"189":95,"190":95,"196":95,"197":1,"203":95,"229":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/select-topics.cjsx":{"b":{"1":[185,3832],"2":[185,3832],"3":[4,7],"4":[4017,185],"5":[2,1],"6":[4017,3832],"7":[780,18],"8":[18,0],"9":[780,714],"10":[78,702],"11":[0,780],"12":[780,0],"13":[780,240],"14":[780,0],"15":[39,39]},"branchMap":{"1":{"line":33,"locations":[{"end":{"column":4,"line":33},"start":{"column":4,"line":33}},{"end":{"column":4,"line":33},"start":{"column":4,"line":33}}],"type":"if"},"2":{"line":36,"locations":[{"end":{"column":4,"line":36},"start":{"column":4,"line":36}},{"end":{"column":4,"line":36},"start":{"column":4,"line":36}}],"type":"if"},"3":{"line":58,"locations":[{"end":{"column":4,"line":58},"start":{"column":4,"line":58}},{"end":{"column":4,"line":58},"start":{"column":4,"line":58}}],"type":"if"},"4":{"line":86,"locations":[{"end":{"column":55,"line":86},"start":{"column":11,"line":86}},{"end":{"column":70,"line":86},"start":{"column":59,"line":86}}],"type":"binary-expr"},"5":{"line":90,"locations":[{"end":{"column":4,"line":90},"start":{"column":4,"line":90}},{"end":{"column":4,"line":90},"start":{"column":4,"line":90}}],"type":"if"},"6":{"line":104,"locations":[{"end":{"column":55,"line":104},"start":{"column":11,"line":104}},{"end":{"column":70,"line":104},"start":{"column":59,"line":104}}],"type":"binary-expr"},"7":{"line":113,"locations":[{"end":{"column":78,"line":113},"start":{"column":17,"line":113}},{"end":{"column":139,"line":113},"start":{"column":83,"line":113}}],"type":"binary-expr"},"8":{"line":113,"locations":[{"end":{"column":130,"line":113},"start":{"column":119,"line":113}},{"end":{"column":139,"line":113},"start":{"column":133,"line":113}}],"type":"cond-expr"},"9":{"line":114,"locations":[{"end":{"column":84,"line":114},"start":{"column":22,"line":114}},{"end":{"column":96,"line":114},"start":{"column":88,"line":114}}],"type":"binary-expr"},"10":{"line":115,"locations":[{"end":{"column":4,"line":115},"start":{"column":4,"line":115}},{"end":{"column":4,"line":115},"start":{"column":4,"line":115}}],"type":"if"},"11":{"line":119,"locations":[{"end":{"column":4,"line":119},"start":{"column":4,"line":119}},{"end":{"column":4,"line":119},"start":{"column":4,"line":119}}],"type":"if"},"12":{"line":119,"locations":[{"end":{"column":57,"line":119},"start":{"column":46,"line":119}},{"end":{"column":66,"line":119},"start":{"column":60,"line":119}}],"type":"cond-expr"},"13":{"line":170,"locations":[{"end":{"column":77,"line":170},"start":{"column":15,"line":170}},{"end":{"column":88,"line":170},"start":{"column":81,"line":170}}],"type":"binary-expr"},"14":{"line":170,"locations":[{"end":{"column":67,"line":170},"start":{"column":56,"line":170}},{"end":{"column":76,"line":170},"start":{"column":70,"line":170}}],"type":"cond-expr"},"15":{"line":177,"locations":[{"end":{"column":30,"line":177},"start":{"column":11,"line":177}},{"end":{"column":93,"line":177},"start":{"column":34,"line":177}}],"type":"binary-expr"}},"code":["var BS, BrowseTheBook, ChapterAccordion, ChapterSection, CourseStore, Dialog, LoadableItem, React, SectionTopic, SelectTopics, TaskPlanActions, TaskPlanStore, TocActions, TocStore, _, ref, ref1;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","Dialog = require('../dialog');","","BrowseTheBook = require('../buttons/browse-the-book');","","LoadableItem = require('../loadable-item');","","ref = require('../../flux/toc'), TocStore = ref.TocStore, TocActions = ref.TocActions;","","ref1 = require('../../flux/task-plan'), TaskPlanStore = ref1.TaskPlanStore, TaskPlanActions = ref1.TaskPlanActions;","","ChapterSection = require('./chapter-section');","","CourseStore = require('../../flux/course').CourseStore;","","SectionTopic = React.createClass({","  displayName: 'SectionTopic',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    section: React.PropTypes.object.isRequired,","    active: React.PropTypes.bool","  },","  render: function() {","    var classes, isChecked;","    classes = ['section'];","    if (this.props.active) {","      classes.push('selected');","    }","    if (this.props.active) {","      isChecked = 'checked';","    }","    classes = classes.join(' ');","    return React.createElement(\"div\", {","      \"key\": this.props.section.id,","      \"className\": classes,","      \"onClick\": this.toggleSection","    }, React.createElement(\"span\", {","      \"className\": 'section-checkbox'","    }, React.createElement(\"input\", {","      \"type\": 'checkbox',","      \"checked\": isChecked","    })), React.createElement(ChapterSection, {","      \"section\": this.props.section.chapter_section","    }), React.createElement(\"span\", {","      \"className\": '-section-title'","    }, \" \", this.props.section.title));","  },","  toggleSection: function() {","    var section;","    section = this.props.section;","    if (TaskPlanStore.hasTopic(this.props.planId, section.id)) {","      return TaskPlanActions.removeTopic(this.props.planId, section.id);","    } else {","      return TaskPlanActions.addTopic(this.props.planId, section.id);","    }","  }","});","","ChapterAccordion = React.createClass({","  displayName: 'ChapterAccordion',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    courseId: React.PropTypes.string.isRequired,","    chapter: React.PropTypes.object.isRequired,","    hide: React.PropTypes.func.isRequired,","    selected: React.PropTypes.array,","    expanded: React.PropTypes.bool","  },","  renderSections: function(section) {","    var active;","    active = TaskPlanStore.hasTopic(this.props.planId, section.id);","    return React.createElement(SectionTopic, {","      \"active\": active,","      \"section\": section,","      \"planId\": this.props.planId","    });","  },","  areAllSectionsSelected: function(allSelected, section) {","    return this.props.selected.indexOf(section.id) >= 0 && allSelected;","  },","  toggleAllSections: function(e) {","    var action, planId;","    if (e.target.checked) {","      action = TaskPlanActions.addTopic;","    } else {","      action = TaskPlanActions.removeTopic;","    }","    planId = this.props.planId;","    return _.each(this.props.chapter.children, function(section) {","      return action(planId, section.id);","    });","  },","  contextTypes: {","    router: React.PropTypes.func","  },","  areAnySectionsSelected: function(anySelected, section) {","    return this.props.selected.indexOf(section.id) >= 0 || anySelected;","  },","  browseBook: function(ev) {","    return ev.stopPropagation();","  },","  render: function() {","    var activeKey, allChecked, chapter, chapterClass, ecosystemId, expandAccordion, expanded, header, ref2, ref3, ref4, sections;","    ref2 = this.props, chapter = ref2.chapter, expanded = ref2.expanded, ecosystemId = ref2.ecosystemId;","    sections = _.map(chapter.children, this.renderSections);","    allChecked = _.reduce(chapter.children, this.areAllSectionsSelected, true) && ((ref3 = chapter.children) != null ? ref3.length : void 0);","    expandAccordion = _.reduce(chapter.children, this.areAnySectionsSelected, false) || expanded;","    if (expandAccordion) {","      activeKey = chapter.id;","    }","    chapterClass = [\"chapter-heading\"];","    if (!((ref4 = chapter.children) != null ? ref4.length : void 0)) {","      chapterClass.push('empty-chapter');","    }","    header = React.createElement(\"h2\", {","      \"className\": chapterClass.join(' '),","      \"data-chapter-section\": chapter.chapter_section[0]","    }, React.createElement(\"span\", {","      \"className\": 'chapter-checkbox'","    }, React.createElement(\"input\", {","      \"type\": 'checkbox',","      \"id\": \"chapter-checkbox-\" + chapter.id,","      \"onChange\": this.toggleAllSections,","      \"checked\": allChecked","    })), React.createElement(\"span\", {","      \"className\": 'chapter-number'","    }, \"Chapter \", React.createElement(ChapterSection, {","      \"section\": chapter.chapter_section","    }), \" -\"), React.createElement(\"span\", {","      \"className\": 'chapter-title'","    }, \" \", chapter.title), React.createElement(BrowseTheBook, {","      \"onClick\": this.browseBook,","      \"className\": 'browse-book',","      \"section\": chapter.chapter_section.join('.'),","      \"ecosystemId\": ecosystemId,","      \"unstyled\": true","    }, \"Browse this Chapter\"));","    return React.createElement(BS.Accordion, {","      \"activeKey\": activeKey","    }, React.createElement(BS.Panel, {","      \"key\": chapter.id,","      \"header\": header,","      \"eventKey\": chapter.id","    }, sections));","  }","});","","SelectTopics = React.createClass({","  displayName: 'SelectTopics',","  propTypes: {","    planId: React.PropTypes.string.isRequired,","    courseId: React.PropTypes.string.isRequired,","    hide: React.PropTypes.func.isRequired,","    selected: React.PropTypes.array","  },","  getInitialState: function() {","    return {","      initialSelected: this.props.selected","    };","  },","  renderChapterPanels: function(chapter, i) {","    var expanded, ref2;","    expanded = !((ref2 = this.props.selected) != null ? ref2.length : void 0) && i === 0;","    return React.createElement(ChapterAccordion, React.__spread({}, this.props, {","      \"expanded\": expanded,","      \"chapter\": chapter","    }));","  },","  hasChanged: function() {","    return this.props.selected && !_.isEqual(this.props.selected, this.state.initialSelected);","  },","  renderDialog: function() {","    var cancel, changed, chapters, courseId, header, hide, planId, primary, ref2, selected;","    ref2 = this.props, courseId = ref2.courseId, planId = ref2.planId, selected = ref2.selected, hide = ref2.hide, header = ref2.header, primary = ref2.primary, cancel = ref2.cancel;","    selected = TaskPlanStore.getTopics(planId);","    chapters = _.map(TocStore.get(this.props.ecosystemId), this.renderChapterPanels);","    changed = this.hasChanged();","    return React.createElement(Dialog, {","      \"className\": 'select-reading-dialog',","      \"header\": header,","      \"primary\": primary,","      \"confirmMsg\": 'You will lose unsaved changes if you continue.',","      \"cancel\": 'Cancel',","      \"isChanged\": (function() {","        return changed;","      }),","      \"onCancel\": cancel","    }, React.createElement(\"div\", {","      \"className\": 'select-reading-chapters'","    }, chapters));","  },","  render: function() {","    return React.createElement(LoadableItem, {","      \"id\": this.props.ecosystemId,","      \"store\": TocStore,","      \"actions\": TocActions,","      \"renderItem\": this.renderDialog","    });","  }","});","","module.exports = SelectTopics;",""],"f":{"1":4017,"2":11,"3":4017,"4":4017,"5":3,"6":18,"7":4017,"8":0,"9":780,"10":4,"11":780,"12":39,"13":39,"14":40,"15":33},"fnMap":{"1":{"line":30,"loc":{"end":{"column":21,"line":30},"start":{"column":10,"line":30}},"name":"(anonymous_1)"},"2":{"line":55,"loc":{"end":{"column":28,"line":55},"start":{"column":17,"line":55}},"name":"(anonymous_2)"},"3":{"line":76,"loc":{"end":{"column":36,"line":76},"start":{"column":18,"line":76}},"name":"(anonymous_3)"},"4":{"line":85,"loc":{"end":{"column":57,"line":85},"start":{"column":26,"line":85}},"name":"(anonymous_4)"},"5":{"line":88,"loc":{"end":{"column":33,"line":88},"start":{"column":21,"line":88}},"name":"(anonymous_5)"},"6":{"line":96,"loc":{"end":{"column":65,"line":96},"start":{"column":47,"line":96}},"name":"(anonymous_6)"},"7":{"line":103,"loc":{"end":{"column":57,"line":103},"start":{"column":26,"line":103}},"name":"(anonymous_7)"},"8":{"line":106,"loc":{"end":{"column":27,"line":106},"start":{"column":14,"line":106}},"name":"(anonymous_8)"},"9":{"line":109,"loc":{"end":{"column":21,"line":109},"start":{"column":10,"line":109}},"name":"(anonymous_9)"},"10":{"line":163,"loc":{"end":{"column":30,"line":163},"start":{"column":19,"line":163}},"name":"(anonymous_10)"},"11":{"line":168,"loc":{"end":{"column":44,"line":168},"start":{"column":23,"line":168}},"name":"(anonymous_11)"},"12":{"line":176,"loc":{"end":{"column":25,"line":176},"start":{"column":14,"line":176}},"name":"(anonymous_12)"},"13":{"line":179,"loc":{"end":{"column":27,"line":179},"start":{"column":16,"line":179}},"name":"(anonymous_13)"},"14":{"line":191,"loc":{"end":{"column":31,"line":191},"start":{"column":20,"line":191}},"name":"(anonymous_14)"},"15":{"line":199,"loc":{"end":{"column":21,"line":199},"start":{"column":10,"line":199}},"name":"(anonymous_15)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/select-topics.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":4017,"14":4017,"15":4017,"16":185,"17":4017,"18":185,"19":4017,"20":4017,"21":11,"22":11,"23":11,"24":4,"25":7,"26":21,"27":4017,"28":4017,"29":4017,"30":4017,"31":3,"32":3,"33":2,"34":1,"35":3,"36":3,"37":18,"38":4017,"39":0,"40":780,"41":780,"42":780,"43":780,"44":780,"45":780,"46":78,"47":780,"48":780,"49":0,"50":780,"51":780,"52":21,"53":4,"54":780,"55":780,"56":780,"57":39,"58":39,"59":39,"60":39,"61":39,"62":39,"63":39,"64":40,"65":33,"66":21},"statementMap":{"1":{"end":{"column":194,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":30,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":54,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":43,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":86,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":115,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":46,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":55,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":64},"start":{"column":0,"line":23}},"13":{"end":{"column":27,"line":31},"start":{"column":4,"line":31}},"14":{"end":{"column":26,"line":32},"start":{"column":4,"line":32}},"15":{"end":{"column":5,"line":35},"start":{"column":4,"line":33}},"16":{"end":{"column":31,"line":34},"start":{"column":6,"line":34}},"17":{"end":{"column":5,"line":38},"start":{"column":4,"line":36}},"18":{"end":{"column":28,"line":37},"start":{"column":6,"line":37}},"19":{"end":{"column":32,"line":39},"start":{"column":4,"line":39}},"20":{"end":{"column":39,"line":53},"start":{"column":4,"line":40}},"21":{"end":{"column":16,"line":56},"start":{"column":4,"line":56}},"22":{"end":{"column":33,"line":57},"start":{"column":4,"line":57}},"23":{"end":{"column":5,"line":62},"start":{"column":4,"line":58}},"24":{"end":{"column":72,"line":59},"start":{"column":6,"line":59}},"25":{"end":{"column":69,"line":61},"start":{"column":6,"line":61}},"26":{"end":{"column":3,"line":153},"start":{"column":0,"line":66}},"27":{"end":{"column":15,"line":77},"start":{"column":4,"line":77}},"28":{"end":{"column":67,"line":78},"start":{"column":4,"line":78}},"29":{"end":{"column":7,"line":83},"start":{"column":4,"line":79}},"30":{"end":{"column":71,"line":86},"start":{"column":4,"line":86}},"31":{"end":{"column":23,"line":89},"start":{"column":4,"line":89}},"32":{"end":{"column":5,"line":94},"start":{"column":4,"line":90}},"33":{"end":{"column":40,"line":91},"start":{"column":6,"line":91}},"34":{"end":{"column":43,"line":93},"start":{"column":6,"line":93}},"35":{"end":{"column":31,"line":95},"start":{"column":4,"line":95}},"36":{"end":{"column":7,"line":98},"start":{"column":4,"line":96}},"37":{"end":{"column":40,"line":97},"start":{"column":6,"line":97}},"38":{"end":{"column":71,"line":104},"start":{"column":4,"line":104}},"39":{"end":{"column":32,"line":107},"start":{"column":4,"line":107}},"40":{"end":{"column":129,"line":110},"start":{"column":4,"line":110}},"41":{"end":{"column":104,"line":111},"start":{"column":4,"line":111}},"42":{"end":{"column":60,"line":112},"start":{"column":4,"line":112}},"43":{"end":{"column":141,"line":113},"start":{"column":4,"line":113}},"44":{"end":{"column":97,"line":114},"start":{"column":4,"line":114}},"45":{"end":{"column":5,"line":117},"start":{"column":4,"line":115}},"46":{"end":{"column":29,"line":116},"start":{"column":6,"line":116}},"47":{"end":{"column":39,"line":118},"start":{"column":4,"line":118}},"48":{"end":{"column":5,"line":121},"start":{"column":4,"line":119}},"49":{"end":{"column":41,"line":120},"start":{"column":6,"line":120}},"50":{"end":{"column":31,"line":144},"start":{"column":4,"line":122}},"51":{"end":{"column":18,"line":151},"start":{"column":4,"line":145}},"52":{"end":{"column":3,"line":207},"start":{"column":0,"line":155}},"53":{"end":{"column":6,"line":166},"start":{"column":4,"line":164}},"54":{"end":{"column":23,"line":169},"start":{"column":4,"line":169}},"55":{"end":{"column":89,"line":170},"start":{"column":4,"line":170}},"56":{"end":{"column":8,"line":174},"start":{"column":4,"line":171}},"57":{"end":{"column":94,"line":177},"start":{"column":4,"line":177}},"58":{"end":{"column":91,"line":180},"start":{"column":4,"line":180}},"59":{"end":{"column":182,"line":181},"start":{"column":4,"line":181}},"60":{"end":{"column":47,"line":182},"start":{"column":4,"line":182}},"61":{"end":{"column":85,"line":183},"start":{"column":4,"line":183}},"62":{"end":{"column":32,"line":184},"start":{"column":4,"line":184}},"63":{"end":{"column":18,"line":197},"start":{"column":4,"line":185}},"64":{"end":{"column":23,"line":192},"start":{"column":8,"line":192}},"65":{"end":{"column":7,"line":205},"start":{"column":4,"line":200}},"66":{"end":{"column":30,"line":209},"start":{"column":0,"line":209}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"31":4017,"32":4017,"33":4017,"34":185,"36":4017,"37":185,"39":4017,"40":4017,"56":11,"57":11,"58":11,"59":4,"61":7,"66":21,"77":4017,"78":4017,"79":4017,"86":4017,"89":3,"90":3,"91":2,"93":1,"95":3,"96":3,"97":18,"104":4017,"107":0,"110":780,"111":780,"112":780,"113":780,"114":780,"115":780,"116":78,"118":780,"119":780,"120":0,"122":780,"145":780,"155":21,"164":4,"169":780,"170":780,"171":780,"177":39,"180":39,"181":39,"182":39,"183":39,"184":39,"185":39,"192":40,"200":33,"209":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-plan/teacher-task-plans-listing.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,38],"4":[14,24],"5":[38,24],"6":[0,24],"7":[24,0],"8":[25,0]},"branchMap":{"1":{"line":39,"locations":[{"end":{"column":4,"line":39},"start":{"column":4,"line":39}},{"end":{"column":4,"line":39},"start":{"column":4,"line":39}}],"type":"if"},"2":{"line":44,"locations":[{"end":{"column":11,"line":44},"start":{"column":11,"line":44}},{"end":{"column":11,"line":44},"start":{"column":11,"line":44}}],"type":"if"},"3":{"line":98,"locations":[{"end":{"column":6,"line":98},"start":{"column":6,"line":98}},{"end":{"column":6,"line":98},"start":{"column":6,"line":98}}],"type":"if"},"4":{"line":104,"locations":[{"end":{"column":6,"line":104},"start":{"column":6,"line":104}},{"end":{"column":6,"line":104},"start":{"column":6,"line":104}}],"type":"if"},"5":{"line":104,"locations":[{"end":{"column":25,"line":104},"start":{"column":13,"line":104}},{"end":{"column":65,"line":104},"start":{"column":30,"line":104}}],"type":"binary-expr"},"6":{"line":110,"locations":[{"end":{"column":6,"line":110},"start":{"column":6,"line":110}},{"end":{"column":6,"line":110},"start":{"column":6,"line":110}}],"type":"if"},"7":{"line":110,"locations":[{"end":{"column":25,"line":110},"start":{"column":11,"line":110}},{"end":{"column":69,"line":110},"start":{"column":30,"line":110}}],"type":"binary-expr"},"8":{"line":130,"locations":[{"end":{"column":4,"line":130},"start":{"column":4,"line":130}},{"end":{"column":4,"line":130},"start":{"column":4,"line":130}}],"type":"if"}},"code":["var BS, CourseCalendar, CourseDataMixin, CourseStore, DATE_FORMAT, LoadableItem, React, Router, TaskPlanActions, TaskPlanStore, TeacherTaskPlanActions, TeacherTaskPlanListing, TeacherTaskPlanStore, TeacherTaskPlans, TimeHelper, TimeStore, _, moment, ref, ref1;","","React = require('react');","","moment = require('moment-timezone');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","LoadableItem = require('../loadable-item');","","ref = require('../../flux/teacher-task-plan'), TeacherTaskPlanStore = ref.TeacherTaskPlanStore, TeacherTaskPlanActions = ref.TeacherTaskPlanActions;","","ref1 = require('../../flux/task-plan'), TaskPlanStore = ref1.TaskPlanStore, TaskPlanActions = ref1.TaskPlanActions;","","CourseStore = require('../../flux/course').CourseStore;","","TimeStore = require('../../flux/time').TimeStore;","","TimeHelper = require('../../helpers/time');","","DATE_FORMAT = 'YYYY-MM-DD';","","CourseCalendar = require('../course-calendar');","","CourseDataMixin = require('../course-data-mixin');","","TeacherTaskPlans = React.createClass({displayName: \"TeacherTaskPlans\",","  contextTypes: {","    router: React.PropTypes.func","  },","  onEditPlan: function() {","    var courseId, id, plan, ref2, type;","    ref2 = this.props, courseId = ref2.courseId, plan = ref2.plan;","    id = plan.id, type = plan.type;","    if (type === 'reading') {","      return this.context.router.transitionTo('editReading', {","        courseId: courseId,","        id: id","      });","    } else if (type === 'homework') {","      return this.context.router.transitionTo('editHomework', {","        courseId: courseId,","        id: id","      });","    }","  },","  onViewStats: function() {","    var courseId, id, plan, ref2;","    ref2 = this.props, courseId = ref2.courseId, plan = ref2.plan;","    id = this.props.plan.id;","    return this.context.router.transitionTo('viewStats', {","      courseId: courseId,","      id: id","    });","  },","  render: function() {","    var duration, ending, plan, start;","    plan = this.props.plan;","    start = moment(plan.opens_at);","    ending = moment(plan.due_at);","    duration = moment.duration(ending.diff(start)).humanize();","    return React.createElement(\"div\", {","      \"className\": '-list-item'","    }, React.createElement(BS.ListGroupItem, {","      \"header\": plan.title,","      \"onClick\": this.onEditPlan","    }, start.fromNow(), \" (\", duration, \")\"), React.createElement(BS.Button, {","      \"bsStyle\": 'link',","      \"className\": '-tasks-list-stats-button',","      \"onClick\": this.onViewStats","    }, \"View Stats\"));","  }","});","","TeacherTaskPlanListing = React.createClass({","  displayName: 'TeacherTaskPlanListing',","  contextTypes: {","    router: React.PropTypes.func","  },","  propTypes: {","    dateFormat: React.PropTypes.string","  },","  getDefaultProps: function() {","    return {","      dateFormat: DATE_FORMAT","    };","  },","  mixins: [CourseDataMixin],","  statics: {","    willTransitionTo: function(transition, params, query, callback) {","      var course, courseId, date, planId;","      date = params.date, planId = params.planId, courseId = params.courseId;","      course = CourseStore.get(courseId);","      if (course.is_concept_coach) {","        transition.redirect('cc-dashboard', {","          courseId: courseId","        });","        return callback();","      }","      if (!((date != null) && moment(date, DATE_FORMAT).isValid())) {","        date = moment(TimeStore.getNow());","        params.date = date.format(DATE_FORMAT);","        transition.redirect('calendarByDate', params);","        return callback();","      }","      if ((planId != null) && TaskPlanStore.isDeleteRequested(planId)) {","        transition.redirect('calendarByDate', _.omit(params, 'planId'));","        return callback();","      }","      return callback();","    }","  },","  componentWillMount: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return TimeHelper.syncCourseTimezone(courseId);","  },","  componentWillUnmount: function() {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return TimeHelper.unsyncCourseTimezone(courseId);","  },","  getDateFromParams: function() {","    var date;","    date = this.context.router.getCurrentParams().date;","    if (date != null) {","      date = TimeHelper.getMomentPreserveDate(date, this.props.dateFormat);","    }","    return date;","  },","  render: function() {","    var courseDataProps, courseId, date, loadPlansList, loadedCalendarProps;","    courseId = this.context.router.getCurrentParams().courseId;","    courseDataProps = this.getCourseDataProps(courseId);","    date = this.getDateFromParams();","    loadPlansList = _.partial(TeacherTaskPlanStore.getActiveCoursePlans, courseId);","    loadedCalendarProps = {","      loadPlansList: loadPlansList,","      courseId: courseId,","      date: date","    };","    return React.createElement(\"div\", React.__spread({}, courseDataProps, {","      \"className\": \"tutor-booksplash-background\"","    }), React.createElement(BS.Panel, {","      \"className\": 'list-courses',","      \"bsStyle\": 'primary'","    }, React.createElement(LoadableItem, {","      \"store\": TeacherTaskPlanStore,","      \"actions\": TeacherTaskPlanActions,","      \"id\": courseId,","      \"renderItem\": (function() {","        return React.createElement(CourseCalendar, React.__spread({}, loadedCalendarProps));","      }),","      \"renderLoading\": (function() {","        return React.createElement(CourseCalendar, {","          \"className\": 'calendar-loading'","        });","      })","    })));","  }","});","","module.exports = TeacherTaskPlanListing;",""],"f":{"1":0,"2":0,"3":0,"4":21,"5":38,"6":24,"7":18,"8":25,"9":25,"10":40,"11":23},"fnMap":{"1":{"line":35,"loc":{"end":{"column":25,"line":35},"start":{"column":14,"line":35}},"name":"(anonymous_1)"},"2":{"line":51,"loc":{"end":{"column":26,"line":51},"start":{"column":15,"line":51}},"name":"(anonymous_2)"},"3":{"line":60,"loc":{"end":{"column":21,"line":60},"start":{"column":10,"line":60}},"name":"(anonymous_3)"},"4":{"line":87,"loc":{"end":{"column":30,"line":87},"start":{"column":19,"line":87}},"name":"(anonymous_4)"},"5":{"line":94,"loc":{"end":{"column":68,"line":94},"start":{"column":22,"line":94}},"name":"(anonymous_5)"},"6":{"line":117,"loc":{"end":{"column":33,"line":117},"start":{"column":22,"line":117}},"name":"(anonymous_6)"},"7":{"line":122,"loc":{"end":{"column":35,"line":122},"start":{"column":24,"line":122}},"name":"(anonymous_7)"},"8":{"line":127,"loc":{"end":{"column":32,"line":127},"start":{"column":21,"line":127}},"name":"(anonymous_8)"},"9":{"line":135,"loc":{"end":{"column":21,"line":135},"start":{"column":10,"line":135}},"name":"(anonymous_9)"},"10":{"line":155,"loc":{"end":{"column":32,"line":155},"start":{"column":21,"line":155}},"name":"(anonymous_10)"},"11":{"line":158,"loc":{"end":{"column":35,"line":158},"start":{"column":24,"line":158}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-plan/teacher-task-plans-listing.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":21,"35":21,"36":38,"37":38,"38":38,"39":38,"40":0,"41":0,"42":38,"43":14,"44":14,"45":14,"46":14,"47":24,"48":0,"49":0,"50":24,"51":24,"52":24,"53":24,"54":18,"55":18,"56":18,"57":25,"58":25,"59":25,"60":25,"61":25,"62":25,"63":25,"64":25,"65":25,"66":25,"67":25,"68":25,"69":40,"70":23,"71":21},"statementMap":{"1":{"end":{"column":260,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":36,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":43,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":148,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":115,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":55,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":49,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":43,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":27,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":47,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":50,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":3,"line":77},"start":{"column":0,"line":31}},"17":{"end":{"column":39,"line":36},"start":{"column":4,"line":36}},"18":{"end":{"column":66,"line":37},"start":{"column":4,"line":37}},"19":{"end":{"column":35,"line":38},"start":{"column":4,"line":38}},"20":{"end":{"column":5,"line":49},"start":{"column":4,"line":39}},"21":{"end":{"column":9,"line":43},"start":{"column":6,"line":40}},"22":{"end":{"column":5,"line":49},"start":{"column":11,"line":44}},"23":{"end":{"column":9,"line":48},"start":{"column":6,"line":45}},"24":{"end":{"column":33,"line":52},"start":{"column":4,"line":52}},"25":{"end":{"column":66,"line":53},"start":{"column":4,"line":53}},"26":{"end":{"column":28,"line":54},"start":{"column":4,"line":54}},"27":{"end":{"column":7,"line":58},"start":{"column":4,"line":55}},"28":{"end":{"column":38,"line":61},"start":{"column":4,"line":61}},"29":{"end":{"column":27,"line":62},"start":{"column":4,"line":62}},"30":{"end":{"column":34,"line":63},"start":{"column":4,"line":63}},"31":{"end":{"column":33,"line":64},"start":{"column":4,"line":64}},"32":{"end":{"column":62,"line":65},"start":{"column":4,"line":65}},"33":{"end":{"column":22,"line":75},"start":{"column":4,"line":66}},"34":{"end":{"column":3,"line":165},"start":{"column":0,"line":79}},"35":{"end":{"column":6,"line":90},"start":{"column":4,"line":88}},"36":{"end":{"column":41,"line":95},"start":{"column":6,"line":95}},"37":{"end":{"column":77,"line":96},"start":{"column":6,"line":96}},"38":{"end":{"column":41,"line":97},"start":{"column":6,"line":97}},"39":{"end":{"column":7,"line":103},"start":{"column":6,"line":98}},"40":{"end":{"column":11,"line":101},"start":{"column":8,"line":99}},"41":{"end":{"column":26,"line":102},"start":{"column":8,"line":102}},"42":{"end":{"column":7,"line":109},"start":{"column":6,"line":104}},"43":{"end":{"column":42,"line":105},"start":{"column":8,"line":105}},"44":{"end":{"column":47,"line":106},"start":{"column":8,"line":106}},"45":{"end":{"column":54,"line":107},"start":{"column":8,"line":107}},"46":{"end":{"column":26,"line":108},"start":{"column":8,"line":108}},"47":{"end":{"column":7,"line":113},"start":{"column":6,"line":110}},"48":{"end":{"column":72,"line":111},"start":{"column":8,"line":111}},"49":{"end":{"column":26,"line":112},"start":{"column":8,"line":112}},"50":{"end":{"column":24,"line":114},"start":{"column":6,"line":114}},"51":{"end":{"column":17,"line":118},"start":{"column":4,"line":118}},"52":{"end":{"column":63,"line":119},"start":{"column":4,"line":119}},"53":{"end":{"column":51,"line":120},"start":{"column":4,"line":120}},"54":{"end":{"column":17,"line":123},"start":{"column":4,"line":123}},"55":{"end":{"column":63,"line":124},"start":{"column":4,"line":124}},"56":{"end":{"column":53,"line":125},"start":{"column":4,"line":125}},"57":{"end":{"column":13,"line":128},"start":{"column":4,"line":128}},"58":{"end":{"column":55,"line":129},"start":{"column":4,"line":129}},"59":{"end":{"column":5,"line":132},"start":{"column":4,"line":130}},"60":{"end":{"column":75,"line":131},"start":{"column":6,"line":131}},"61":{"end":{"column":16,"line":133},"start":{"column":4,"line":133}},"62":{"end":{"column":76,"line":136},"start":{"column":4,"line":136}},"63":{"end":{"column":63,"line":137},"start":{"column":4,"line":137}},"64":{"end":{"column":56,"line":138},"start":{"column":4,"line":138}},"65":{"end":{"column":36,"line":139},"start":{"column":4,"line":139}},"66":{"end":{"column":83,"line":140},"start":{"column":4,"line":140}},"67":{"end":{"column":6,"line":145},"start":{"column":4,"line":141}},"68":{"end":{"column":9,"line":163},"start":{"column":4,"line":146}},"69":{"end":{"column":92,"line":156},"start":{"column":8,"line":156}},"70":{"end":{"column":11,"line":161},"start":{"column":8,"line":159}},"71":{"end":{"column":40,"line":167},"start":{"column":0,"line":167}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"36":0,"37":0,"38":0,"39":0,"40":0,"44":0,"45":0,"52":0,"53":0,"54":0,"55":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"79":21,"88":21,"95":38,"96":38,"97":38,"98":38,"99":0,"102":0,"104":38,"105":14,"106":14,"107":14,"108":14,"110":24,"111":0,"112":0,"114":24,"118":24,"119":24,"120":24,"123":18,"124":18,"125":18,"128":25,"129":25,"130":25,"131":25,"133":25,"136":25,"137":25,"138":25,"139":25,"140":25,"141":25,"146":25,"156":40,"159":23,"167":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-step/all-steps.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"branchMap":{"1":{"line":30,"locations":[{"end":{"column":57,"line":30},"start":{"column":33,"line":30}},{"end":{"column":62,"line":30},"start":{"column":60,"line":30}}],"type":"cond-expr"},"2":{"line":106,"locations":[{"end":{"column":43,"line":106},"start":{"column":30,"line":106}},{"end":{"column":52,"line":106},"start":{"column":46,"line":106}}],"type":"cond-expr"},"3":{"line":127,"locations":[{"end":{"column":4,"line":127},"start":{"column":4,"line":127}},{"end":{"column":4,"line":127},"start":{"column":4,"line":127}}],"type":"if"},"4":{"line":135,"locations":[{"end":{"column":4,"line":135},"start":{"column":4,"line":135}},{"end":{"column":4,"line":135},"start":{"column":4,"line":135}}],"type":"if"},"5":{"line":148,"locations":[{"end":{"column":4,"line":148},"start":{"column":4,"line":148}},{"end":{"column":4,"line":148},"start":{"column":4,"line":148}}],"type":"if"},"6":{"line":148,"locations":[{"end":{"column":28,"line":148},"start":{"column":9,"line":148}},{"end":{"column":55,"line":148},"start":{"column":33,"line":148}}],"type":"binary-expr"}},"code":["var BookContentMixin, CourseDataMixin, Exercise, ExternalUrl, Interactive, LinkContentMixin, Markdown, Placeholder, React, Reading, ReadingStepContent, Spacer, StepContent, StepFooterMixin, StepMixin, StepPanel, TaskStepStore, TaskStore, Video, _, err, ref, ref1,","  slice = [].slice;","","React = require('react');","","_ = require('underscore');","","TaskStepStore = require('../../flux/task-step').TaskStepStore;","","TaskStore = require('../../flux/task').TaskStore;","","ref = require('./step-with-reading-content'), StepContent = ref.StepContent, ReadingStepContent = ref.ReadingStepContent;","","Exercise = require('./exercise');","","Markdown = require('../markdown');","","StepMixin = require('./step-mixin');","","StepFooterMixin = require('./step-footer-mixin');","","ref1 = require('../book-content-mixin'), BookContentMixin = ref1.BookContentMixin, LinkContentMixin = ref1.LinkContentMixin;","","CourseDataMixin = require('../course-data-mixin');","","StepPanel = require('../../helpers/policies').StepPanel;","","err = function() {","  var msgs;","  msgs = 1 <= arguments.length ? slice.call(arguments, 0) : [];","  console.error.apply(console, msgs);","  throw new Error(JSON.stringify.apply(JSON, msgs));","};","","Reading = React.createClass({","  displayName: 'Reading',","  mixins: [StepMixin, StepFooterMixin, CourseDataMixin],","  contextTypes: {","    router: React.PropTypes.func","  },","  isContinueEnabled: function() {","    return true;","  },","  onContinue: function() {","    this.props.onStepCompleted();","    return this.props.onNextStep();","  },","  renderBody: function() {","    var courseDataProps, id;","    id = this.props.id;","    courseDataProps = this.getCourseDataProps();","    return React.createElement(ReadingStepContent, {","      \"id\": id,","      \"stepType\": 'reading',","      \"courseDataProps\": courseDataProps","    });","  }","});","","Interactive = React.createClass({","  displayName: 'Interactive',","  mixins: [StepMixin, StepFooterMixin],","  isContinueEnabled: function() {","    return true;","  },","  onContinue: function() {","    this.props.onStepCompleted();","    return this.props.onNextStep();","  },","  renderBody: function() {","    var id;","    id = this.props.id;","    return React.createElement(StepContent, {","      \"id\": id,","      \"stepType\": 'interactive'","    });","  }","});","","Video = React.createClass({","  displayName: 'Video',","  mixins: [StepMixin, StepFooterMixin],","  isContinueEnabled: function() {","    return true;","  },","  onContinue: function() {","    this.props.onStepCompleted();","    return this.props.onNextStep();","  },","  renderBody: function() {","    var id;","    id = this.props.id;","    return React.createElement(StepContent, {","      \"id\": id,","      \"stepType\": 'video'","    });","  }","});","","Placeholder = React.createClass({","  displayName: 'Placeholder',","  mixins: [StepMixin, StepFooterMixin],","  isContinueEnabled: function() {","    var review;","    review = this.props.review;","    return !(review != null ? review.length : void 0);","  },","  onContinue: function() {","    return this.props.onNextStep();","  },","  renderBody: function() {","    return React.createElement(\"div\", {","      \"className\": 'placeholder-step'","    }, React.createElement(\"p\", null, \"This is a personalized question that will become available\\nto you after you answer more homework problems in this assignment.\"));","  }","});","","ExternalUrl = React.createClass({","  displayName: 'ExternalUrl',","  mixins: [StepMixin, StepFooterMixin],","  hideContinueButton: function() {","    return true;","  },","  onContinue: function() {","    var id, onStepCompleted, ref2;","    ref2 = this.props, id = ref2.id, onStepCompleted = ref2.onStepCompleted;","    if (StepPanel.canContinue(id)) {","      return onStepCompleted();","    }","  },","  getUrl: function() {","    var external_url, id;","    id = this.props.id;","    external_url = TaskStepStore.get(id).external_url;","    if (!/^https?:\\/\\//.test(external_url)) {","      external_url = \"http://\" + external_url;","    }","    return external_url;","  },","  onContextMenu: function(ev) {","    return ev.preventDefault();","  },","  renderBody: function() {","    var description, descriptionHTML, external_url, ref2, taskId, title;","    taskId = this.props.taskId;","    ref2 = TaskStore.get(taskId), description = ref2.description, title = ref2.title;","    external_url = this.getUrl();","    if ((description != null) && description.length > 0) {","      descriptionHTML = React.createElement(Markdown, {","        \"text\": description","      });","    }","    return React.createElement(\"div\", {","      \"className\": 'external-step'","    }, React.createElement(\"h1\", null, React.createElement(\"a\", {","      \"href\": external_url,","      \"target\": '_blank',","      \"onContextMenu\": this.onContextMenu,","      \"onClick\": this.onContinue","    }, title)), descriptionHTML);","  }","});","","Spacer = React.createClass({displayName: \"Spacer\",","  mixins: [StepMixin, StepFooterMixin],","  isContinueEnabled: function() {","    return true;","  },","  onContinue: function() {","    return this.props.onNextStep();","  },","  renderBody: function() {","    return React.createElement(\"div\", {","      \"className\": 'spacer-step'","    }, React.createElement(\"h1\", null, \"Concept Coach\"), React.createElement(\"p\", null, \"Reinforce what you have learned in this reading and prior readings.\"));","  }","});","","module.exports = {","  Reading: Reading,","  Interactive: Interactive,","  Video: Video,","  Exercise: Exercise,","  Placeholder: Placeholder,","  Spacer: Spacer,","  ExternalUrl: ExternalUrl","};",""],"f":{"1":0,"2":3,"3":0,"4":3,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"line":28,"loc":{"end":{"column":17,"line":28},"start":{"column":6,"line":28}},"name":"(anonymous_1)"},"2":{"line":41,"loc":{"end":{"column":32,"line":41},"start":{"column":21,"line":41}},"name":"(anonymous_2)"},"3":{"line":44,"loc":{"end":{"column":25,"line":44},"start":{"column":14,"line":44}},"name":"(anonymous_3)"},"4":{"line":48,"loc":{"end":{"column":25,"line":48},"start":{"column":14,"line":48}},"name":"(anonymous_4)"},"5":{"line":63,"loc":{"end":{"column":32,"line":63},"start":{"column":21,"line":63}},"name":"(anonymous_5)"},"6":{"line":66,"loc":{"end":{"column":25,"line":66},"start":{"column":14,"line":66}},"name":"(anonymous_6)"},"7":{"line":70,"loc":{"end":{"column":25,"line":70},"start":{"column":14,"line":70}},"name":"(anonymous_7)"},"8":{"line":83,"loc":{"end":{"column":32,"line":83},"start":{"column":21,"line":83}},"name":"(anonymous_8)"},"9":{"line":86,"loc":{"end":{"column":25,"line":86},"start":{"column":14,"line":86}},"name":"(anonymous_9)"},"10":{"line":90,"loc":{"end":{"column":25,"line":90},"start":{"column":14,"line":90}},"name":"(anonymous_10)"},"11":{"line":103,"loc":{"end":{"column":32,"line":103},"start":{"column":21,"line":103}},"name":"(anonymous_11)"},"12":{"line":108,"loc":{"end":{"column":25,"line":108},"start":{"column":14,"line":108}},"name":"(anonymous_12)"},"13":{"line":111,"loc":{"end":{"column":25,"line":111},"start":{"column":14,"line":111}},"name":"(anonymous_13)"},"14":{"line":121,"loc":{"end":{"column":33,"line":121},"start":{"column":22,"line":121}},"name":"(anonymous_14)"},"15":{"line":124,"loc":{"end":{"column":25,"line":124},"start":{"column":14,"line":124}},"name":"(anonymous_15)"},"16":{"line":131,"loc":{"end":{"column":21,"line":131},"start":{"column":10,"line":131}},"name":"(anonymous_16)"},"17":{"line":140,"loc":{"end":{"column":30,"line":140},"start":{"column":17,"line":140}},"name":"(anonymous_17)"},"18":{"line":143,"loc":{"end":{"column":25,"line":143},"start":{"column":14,"line":143}},"name":"(anonymous_18)"},"19":{"line":166,"loc":{"end":{"column":32,"line":166},"start":{"column":21,"line":166}},"name":"(anonymous_19)"},"20":{"line":169,"loc":{"end":{"column":25,"line":169},"start":{"column":14,"line":169}},"name":"(anonymous_20)"},"21":{"line":172,"loc":{"end":{"column":25,"line":172},"start":{"column":14,"line":172}},"name":"(anonymous_21)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-step/all-steps.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":0,"16":0,"17":0,"18":0,"19":21,"20":3,"21":0,"22":0,"23":3,"24":3,"25":3,"26":3,"27":21,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":21,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":21,"42":0,"43":0,"44":0,"45":0,"46":0,"47":21,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":21,"68":0,"69":0,"70":0,"71":21},"statementMap":{"1":{"end":{"column":19,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":4},"start":{"column":0,"line":4}},"3":{"end":{"column":26,"line":6},"start":{"column":0,"line":6}},"4":{"end":{"column":62,"line":8},"start":{"column":0,"line":8}},"5":{"end":{"column":49,"line":10},"start":{"column":0,"line":10}},"6":{"end":{"column":121,"line":12},"start":{"column":0,"line":12}},"7":{"end":{"column":33,"line":14},"start":{"column":0,"line":14}},"8":{"end":{"column":34,"line":16},"start":{"column":0,"line":16}},"9":{"end":{"column":36,"line":18},"start":{"column":0,"line":18}},"10":{"end":{"column":49,"line":20},"start":{"column":0,"line":20}},"11":{"end":{"column":124,"line":22},"start":{"column":0,"line":22}},"12":{"end":{"column":50,"line":24},"start":{"column":0,"line":24}},"13":{"end":{"column":56,"line":26},"start":{"column":0,"line":26}},"14":{"end":{"column":2,"line":33},"start":{"column":0,"line":28}},"15":{"end":{"column":11,"line":29},"start":{"column":2,"line":29}},"16":{"end":{"column":63,"line":30},"start":{"column":2,"line":30}},"17":{"end":{"column":37,"line":31},"start":{"column":2,"line":31}},"18":{"end":{"column":52,"line":32},"start":{"column":2,"line":32}},"19":{"end":{"column":3,"line":58},"start":{"column":0,"line":35}},"20":{"end":{"column":16,"line":42},"start":{"column":4,"line":42}},"21":{"end":{"column":33,"line":45},"start":{"column":4,"line":45}},"22":{"end":{"column":35,"line":46},"start":{"column":4,"line":46}},"23":{"end":{"column":28,"line":49},"start":{"column":4,"line":49}},"24":{"end":{"column":23,"line":50},"start":{"column":4,"line":50}},"25":{"end":{"column":48,"line":51},"start":{"column":4,"line":51}},"26":{"end":{"column":7,"line":56},"start":{"column":4,"line":52}},"27":{"end":{"column":3,"line":78},"start":{"column":0,"line":60}},"28":{"end":{"column":16,"line":64},"start":{"column":4,"line":64}},"29":{"end":{"column":33,"line":67},"start":{"column":4,"line":67}},"30":{"end":{"column":35,"line":68},"start":{"column":4,"line":68}},"31":{"end":{"column":11,"line":71},"start":{"column":4,"line":71}},"32":{"end":{"column":23,"line":72},"start":{"column":4,"line":72}},"33":{"end":{"column":7,"line":76},"start":{"column":4,"line":73}},"34":{"end":{"column":3,"line":98},"start":{"column":0,"line":80}},"35":{"end":{"column":16,"line":84},"start":{"column":4,"line":84}},"36":{"end":{"column":33,"line":87},"start":{"column":4,"line":87}},"37":{"end":{"column":35,"line":88},"start":{"column":4,"line":88}},"38":{"end":{"column":11,"line":91},"start":{"column":4,"line":91}},"39":{"end":{"column":23,"line":92},"start":{"column":4,"line":92}},"40":{"end":{"column":7,"line":96},"start":{"column":4,"line":93}},"41":{"end":{"column":3,"line":116},"start":{"column":0,"line":100}},"42":{"end":{"column":15,"line":104},"start":{"column":4,"line":104}},"43":{"end":{"column":31,"line":105},"start":{"column":4,"line":105}},"44":{"end":{"column":54,"line":106},"start":{"column":4,"line":106}},"45":{"end":{"column":35,"line":109},"start":{"column":4,"line":109}},"46":{"end":{"column":169,"line":114},"start":{"column":4,"line":112}},"47":{"end":{"column":3,"line":162},"start":{"column":0,"line":118}},"48":{"end":{"column":16,"line":122},"start":{"column":4,"line":122}},"49":{"end":{"column":34,"line":125},"start":{"column":4,"line":125}},"50":{"end":{"column":76,"line":126},"start":{"column":4,"line":126}},"51":{"end":{"column":5,"line":129},"start":{"column":4,"line":127}},"52":{"end":{"column":31,"line":128},"start":{"column":6,"line":128}},"53":{"end":{"column":25,"line":132},"start":{"column":4,"line":132}},"54":{"end":{"column":23,"line":133},"start":{"column":4,"line":133}},"55":{"end":{"column":54,"line":134},"start":{"column":4,"line":134}},"56":{"end":{"column":5,"line":137},"start":{"column":4,"line":135}},"57":{"end":{"column":46,"line":136},"start":{"column":6,"line":136}},"58":{"end":{"column":24,"line":138},"start":{"column":4,"line":138}},"59":{"end":{"column":31,"line":141},"start":{"column":4,"line":141}},"60":{"end":{"column":72,"line":144},"start":{"column":4,"line":144}},"61":{"end":{"column":31,"line":145},"start":{"column":4,"line":145}},"62":{"end":{"column":85,"line":146},"start":{"column":4,"line":146}},"63":{"end":{"column":33,"line":147},"start":{"column":4,"line":147}},"64":{"end":{"column":5,"line":152},"start":{"column":4,"line":148}},"65":{"end":{"column":9,"line":151},"start":{"column":6,"line":149}},"66":{"end":{"column":33,"line":160},"start":{"column":4,"line":153}},"67":{"end":{"column":3,"line":177},"start":{"column":0,"line":164}},"68":{"end":{"column":16,"line":167},"start":{"column":4,"line":167}},"69":{"end":{"column":35,"line":170},"start":{"column":4,"line":170}},"70":{"end":{"column":160,"line":175},"start":{"column":4,"line":173}},"71":{"end":{"column":2,"line":187},"start":{"column":0,"line":179}}},"l":{"1":21,"4":21,"6":21,"8":21,"10":21,"12":21,"14":21,"16":21,"18":21,"20":21,"22":21,"24":21,"26":21,"28":21,"29":0,"30":0,"31":0,"32":0,"35":21,"42":3,"45":0,"46":0,"49":3,"50":3,"51":3,"52":3,"60":21,"64":0,"67":0,"68":0,"71":0,"72":0,"73":0,"80":21,"84":0,"87":0,"88":0,"91":0,"92":0,"93":0,"100":21,"104":0,"105":0,"106":0,"109":0,"112":0,"118":21,"122":0,"125":0,"126":0,"127":0,"128":0,"132":0,"133":0,"134":0,"135":0,"136":0,"138":0,"141":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"153":0,"164":21,"167":0,"170":0,"173":0,"179":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-step/ends.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"branchMap":{"1":{"line":32,"locations":[{"end":{"column":2,"line":32},"start":{"column":2,"line":32}},{"end":{"column":2,"line":32},"start":{"column":2,"line":32}}],"type":"if"},"2":{"line":129,"locations":[{"end":{"column":4,"line":129},"start":{"column":4,"line":129}},{"end":{"column":4,"line":129},"start":{"column":4,"line":129}}],"type":"if"},"3":{"line":132,"locations":[{"end":{"column":4,"line":132},"start":{"column":4,"line":132}},{"end":{"column":4,"line":132},"start":{"column":4,"line":132}}],"type":"if"},"4":{"line":163,"locations":[{"end":{"column":4,"line":163},"start":{"column":4,"line":163}},{"end":{"column":4,"line":163},"start":{"column":4,"line":163}}],"type":"if"},"5":{"line":198,"locations":[{"end":{"column":21,"line":198},"start":{"column":11,"line":198}},{"end":{"column":32,"line":198},"start":{"column":25,"line":198}}],"type":"binary-expr"}},"code":["var BS, BackButton, BindStoreMixin, CardBody, CourseStore, HomeworkEnd, PinnableFooter, PracticeButton, PracticeEnd, React, Review, Router, StepFooterMixin, TaskEnd, TaskStep, TaskStepStore, TaskStore, _, ends, ref, renderStatusMessage;","","React = require('react/addons');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","PracticeButton = require('../buttons/practice-button');","","BackButton = require('../buttons/back-button');","","BindStoreMixin = require('../bind-store-mixin');","","StepFooterMixin = require('./step-footer-mixin');","","TaskStep = require('./index');","","CourseStore = require('../../flux/course').CourseStore;","","TaskStore = require('../../flux/task').TaskStore;","","TaskStepStore = require('../../flux/task-step').TaskStepStore;","","ref = require('openstax-react-components'), CardBody = ref.CardBody, PinnableFooter = ref.PinnableFooter;","","Review = require('../task/review');","","renderStatusMessage = function(completeSteps, totalSteps) {","  if (completeSteps === totalSteps) {","    return React.createElement(\"span\", null, React.createElement(\"h1\", null, \"You are done.\"), React.createElement(\"h3\", null, \"Great job answering all the questions\"));","  } else {","    return React.createElement(\"h3\", null, \"You have answered \", completeSteps, \" of \", totalSteps, \" questions.\");","  }","};","","PracticeEnd = React.createClass({","  displayName: 'PracticeEnd',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    taskId: React.PropTypes.string.isRequired,","    reloadPractice: React.PropTypes.func.isRequired","  },","  render: function() {","    var completeSteps, courseId, fallbackLink, footer, pageIds, ref1, reloadPractice, taskId, totalSteps;","    ref1 = this.props, courseId = ref1.courseId, taskId = ref1.taskId, reloadPractice = ref1.reloadPractice;","    pageIds = CourseStore.getPracticePageIds(courseId);","    fallbackLink = {","      to: 'viewPerformanceForecast',","      params: {","        courseId: courseId","      },","      text: 'Back to Performance Forecast'","    };","    footer = React.createElement(\"div\", {","      \"className\": '-practice-end'","    }, React.createElement(BackButton, {","      \"bsStyle\": \"primary\",","      \"fallbackLink\": fallbackLink","    }));","    completeSteps = TaskStore.getCompletedStepsCount(taskId);","    totalSteps = TaskStore.getTotalStepsCount(taskId);","    return React.createElement(\"div\", {","      \"className\": 'task task-completed'","    }, React.createElement(CardBody, {","      \"footer\": footer,","      \"className\": '-practice-completed'","    }, React.createElement(\"div\", {","      \"className\": 'completed-message'","    }, renderStatusMessage(completeSteps, totalSteps))));","  }","});","","HomeworkEnd = React.createClass({","  displayName: 'HomeworkEnd',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    taskId: React.PropTypes.string.isRequired,","    windowImpl: React.PropTypes.object","  },","  getInitialState: function() {","    return {","      scrollPos: 0","    };","  },","  getDefaultProps: function() {","    return {","      windowImpl: window","    };","  },","  goToStep: function() {},","  onNextStep: function() {","    var scrollPos;","    scrollPos = this.props.windowImpl.scrollY;","    return this.setState({","      scrollPos: scrollPos","    });","  },","  componentDidUpdate: function() {","    return this.props.windowImpl.scroll(0, this.state.scrollPos);","  },","  renderReviewSteps: function(taskId, steps, label, type) {","    var courseId, stepsReview, task;","    courseId = this.props.courseId;","    task = TaskStore.get(taskId);","    return stepsReview = React.createElement(\"div\", {","      \"className\": \"task task-review-\" + type","    }, label, React.createElement(Review, {","      \"steps\": steps,","      \"taskId\": taskId,","      \"courseId\": courseId,","      \"goToStep\": this.goToStep,","      \"onNextStep\": this.onNextStep,","      \"review\": type,","      \"key\": \"task-review-\" + type,","      \"focus\": type === 'todo'","    }));","  },","  renderAfterDue: function(taskId) {","    var completedLabel, completedReview, completedSteps, footer, incompleteSteps, todoLabel, todoReview, totalStepsCount;","    footer = this.props.footer;","    completedSteps = TaskStore.getCompletedSteps(taskId);","    incompleteSteps = TaskStore.getIncompleteSteps(taskId);","    totalStepsCount = TaskStore.getTotalStepsCount(taskId);","    completedLabel = null;","    todoLabel = null;","    if (completedSteps.length) {","      completedLabel = React.createElement(\"h1\", null, \"Problems Review\");","    }","    if (incompleteSteps.length) {","      todoLabel = React.createElement(\"h1\", null, \"Problems To Do \", React.createElement(\"small\", null, incompleteSteps.length, \" remaining\"));","    }","    completedReview = this.renderReviewSteps(taskId, completedSteps, completedLabel, 'completed');","    todoReview = this.renderReviewSteps(taskId, incompleteSteps, todoLabel, 'todo');","    return React.createElement(\"div\", {","      \"className\": 'task-review -homework-completed'","    }, React.createElement(CardBody, null, React.createElement(\"div\", {","      \"className\": 'completed-message'","    }, React.createElement(\"div\", {","      \"className\": 'task-status-message'","    }, renderStatusMessage(completedSteps.length, totalStepsCount)))), todoReview, completedReview, React.createElement(PinnableFooter, null, footer));","  },","  renderBeforeDue: function(taskId) {","    var completedStepsCount, footer, totalStepsCount;","    footer = this.props.footer;","    completedStepsCount = TaskStore.getCompletedStepsCount(taskId);","    totalStepsCount = TaskStore.getTotalStepsCount(taskId);","    return React.createElement(\"div\", {","      \"className\": 'task task-completed'","    }, React.createElement(CardBody, {","      \"footer\": footer,","      \"className\": '-homework-completed'","    }, React.createElement(\"div\", {","      \"className\": 'completed-message'","    }, renderStatusMessage(completedStepsCount, totalStepsCount), React.createElement(\"ul\", null, React.createElement(\"li\", null, \"You can still review and update your answers until the due date.\"), React.createElement(\"li\", null, \"Your homework will be automatically turned in on the due date.\")))));","  },","  render: function() {","    var isTaskPastDue, taskId;","    taskId = this.props.taskId;","    isTaskPastDue = TaskStore.isTaskPastDue(taskId);","    if (isTaskPastDue) {","      return this.renderAfterDue(taskId);","    } else {","      return this.renderBeforeDue(taskId);","    }","  }","});","","TaskEnd = React.createClass({","  displayName: 'TaskEnd',","  render: function() {","    var footer;","    footer = this.props.footer;","    return React.createElement(\"div\", {","      \"className\": 'task task-completed'","    }, React.createElement(CardBody, {","      \"footer\": footer,","      \"className\": '-reading-completed'","    }, React.createElement(\"div\", {","      \"className\": \"completed-message\"","    }, React.createElement(\"h1\", null, \"You are done.\"), React.createElement(\"h3\", null, \"Great job completing all the steps\"))));","  }","});","","ends = {","  task: TaskEnd,","  homework: HomeworkEnd,","  practice: PracticeEnd,","  chapter_practice: PracticeEnd,","  page_practice: PracticeEnd,","  reading: TaskEnd","};","","module.exports = {","  get: function(type) {","    return ends[type] || TaskEnd;","  }","};",""],"f":{"1":0,"2":0,"3":0,"4":21,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"line":31,"loc":{"end":{"column":58,"line":31},"start":{"column":22,"line":31}},"name":"(anonymous_1)"},"2":{"line":46,"loc":{"end":{"column":21,"line":46},"start":{"column":10,"line":46}},"name":"(anonymous_2)"},"3":{"line":83,"loc":{"end":{"column":30,"line":83},"start":{"column":19,"line":83}},"name":"(anonymous_3)"},"4":{"line":88,"loc":{"end":{"column":30,"line":88},"start":{"column":19,"line":88}},"name":"(anonymous_4)"},"5":{"line":93,"loc":{"end":{"column":23,"line":93},"start":{"column":12,"line":93}},"name":"(anonymous_5)"},"6":{"line":94,"loc":{"end":{"column":25,"line":94},"start":{"column":14,"line":94}},"name":"(anonymous_6)"},"7":{"line":101,"loc":{"end":{"column":33,"line":101},"start":{"column":22,"line":101}},"name":"(anonymous_7)"},"8":{"line":104,"loc":{"end":{"column":58,"line":104},"start":{"column":21,"line":104}},"name":"(anonymous_8)"},"9":{"line":121,"loc":{"end":{"column":35,"line":121},"start":{"column":18,"line":121}},"name":"(anonymous_9)"},"10":{"line":145,"loc":{"end":{"column":36,"line":145},"start":{"column":19,"line":145}},"name":"(anonymous_10)"},"11":{"line":159,"loc":{"end":{"column":21,"line":159},"start":{"column":10,"line":159}},"name":"(anonymous_11)"},"12":{"line":173,"loc":{"end":{"column":21,"line":173},"start":{"column":10,"line":173}},"name":"(anonymous_12)"},"13":{"line":197,"loc":{"end":{"column":22,"line":197},"start":{"column":7,"line":197}},"name":"(anonymous_13)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-step/ends.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":0,"18":0,"19":0,"20":21,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":21,"30":0,"31":21,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":21,"66":0,"67":0,"68":0,"69":21,"70":21,"71":0},"statementMap":{"1":{"end":{"column":236,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":32,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":55,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":47,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":48,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":49,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":30,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":55,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":49,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":62,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":105,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":35,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":2,"line":37},"start":{"column":0,"line":31}},"17":{"end":{"column":3,"line":36},"start":{"column":2,"line":32}},"18":{"end":{"column":169,"line":33},"start":{"column":4,"line":33}},"19":{"end":{"column":115,"line":35},"start":{"column":4,"line":35}},"20":{"end":{"column":3,"line":74},"start":{"column":0,"line":39}},"21":{"end":{"column":105,"line":47},"start":{"column":4,"line":47}},"22":{"end":{"column":108,"line":48},"start":{"column":4,"line":48}},"23":{"end":{"column":55,"line":49},"start":{"column":4,"line":49}},"24":{"end":{"column":6,"line":56},"start":{"column":4,"line":50}},"25":{"end":{"column":8,"line":62},"start":{"column":4,"line":57}},"26":{"end":{"column":61,"line":63},"start":{"column":4,"line":63}},"27":{"end":{"column":54,"line":64},"start":{"column":4,"line":64}},"28":{"end":{"column":57,"line":72},"start":{"column":4,"line":65}},"29":{"end":{"column":3,"line":169},"start":{"column":0,"line":76}},"30":{"end":{"column":6,"line":86},"start":{"column":4,"line":84}},"31":{"end":{"column":6,"line":91},"start":{"column":4,"line":89}},"32":{"end":{"column":18,"line":95},"start":{"column":4,"line":95}},"33":{"end":{"column":46,"line":96},"start":{"column":4,"line":96}},"34":{"end":{"column":7,"line":99},"start":{"column":4,"line":97}},"35":{"end":{"column":65,"line":102},"start":{"column":4,"line":102}},"36":{"end":{"column":36,"line":105},"start":{"column":4,"line":105}},"37":{"end":{"column":35,"line":106},"start":{"column":4,"line":106}},"38":{"end":{"column":33,"line":107},"start":{"column":4,"line":107}},"39":{"end":{"column":8,"line":119},"start":{"column":4,"line":108}},"40":{"end":{"column":121,"line":122},"start":{"column":4,"line":122}},"41":{"end":{"column":31,"line":123},"start":{"column":4,"line":123}},"42":{"end":{"column":57,"line":124},"start":{"column":4,"line":124}},"43":{"end":{"column":59,"line":125},"start":{"column":4,"line":125}},"44":{"end":{"column":59,"line":126},"start":{"column":4,"line":126}},"45":{"end":{"column":26,"line":127},"start":{"column":4,"line":127}},"46":{"end":{"column":21,"line":128},"start":{"column":4,"line":128}},"47":{"end":{"column":5,"line":131},"start":{"column":4,"line":129}},"48":{"end":{"column":74,"line":130},"start":{"column":6,"line":130}},"49":{"end":{"column":5,"line":134},"start":{"column":4,"line":132}},"50":{"end":{"column":143,"line":133},"start":{"column":6,"line":133}},"51":{"end":{"column":98,"line":135},"start":{"column":4,"line":135}},"52":{"end":{"column":84,"line":136},"start":{"column":4,"line":136}},"53":{"end":{"column":151,"line":143},"start":{"column":4,"line":137}},"54":{"end":{"column":53,"line":146},"start":{"column":4,"line":146}},"55":{"end":{"column":31,"line":147},"start":{"column":4,"line":147}},"56":{"end":{"column":67,"line":148},"start":{"column":4,"line":148}},"57":{"end":{"column":59,"line":149},"start":{"column":4,"line":149}},"58":{"end":{"column":301,"line":157},"start":{"column":4,"line":150}},"59":{"end":{"column":30,"line":160},"start":{"column":4,"line":160}},"60":{"end":{"column":31,"line":161},"start":{"column":4,"line":161}},"61":{"end":{"column":52,"line":162},"start":{"column":4,"line":162}},"62":{"end":{"column":5,"line":167},"start":{"column":4,"line":163}},"63":{"end":{"column":41,"line":164},"start":{"column":6,"line":164}},"64":{"end":{"column":42,"line":166},"start":{"column":6,"line":166}},"65":{"end":{"column":3,"line":185},"start":{"column":0,"line":171}},"66":{"end":{"column":15,"line":174},"start":{"column":4,"line":174}},"67":{"end":{"column":31,"line":175},"start":{"column":4,"line":175}},"68":{"end":{"column":130,"line":183},"start":{"column":4,"line":176}},"69":{"end":{"column":2,"line":194},"start":{"column":0,"line":187}},"70":{"end":{"column":2,"line":200},"start":{"column":0,"line":196}},"71":{"end":{"column":33,"line":198},"start":{"column":4,"line":198}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"32":0,"33":0,"35":0,"39":21,"47":0,"48":0,"49":0,"50":0,"57":0,"63":0,"64":0,"65":0,"76":21,"84":0,"89":21,"95":0,"96":0,"97":0,"102":0,"105":0,"106":0,"107":0,"108":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"132":0,"133":0,"135":0,"136":0,"137":0,"146":0,"147":0,"148":0,"149":0,"150":0,"160":0,"161":0,"162":0,"163":0,"164":0,"166":0,"171":21,"174":0,"175":0,"176":0,"187":21,"196":21,"198":0}},
"/Users/phil/github/openstax/tutor-js/src/components/task-step/exercise.cjsx":{"b":{"1":[1,0,2],"2":[3,0]},"branchMap":{"1":{"line":30,"locations":[{"end":{"column":28,"line":32},"start":{"column":8,"line":31}},{"end":{"column":27,"line":34},"start":{"column":8,"line":33}},{"end":{"column":22,"line":36},"start":{"column":8,"line":35}}],"type":"switch"},"2":{"line":44,"locations":[{"end":{"column":6,"line":44},"start":{"column":6,"line":44}},{"end":{"column":6,"line":44},"start":{"column":6,"line":44}}],"type":"if"}},"code":["var Exercise, React, StepFooter, StepPanel, TaskStepActions, TaskStepStore, TaskStore, ref;","","React = require('react');","","ref = require('../../flux/task-step'), TaskStepActions = ref.TaskStepActions, TaskStepStore = ref.TaskStepStore;","","TaskStore = require('../../flux/task').TaskStore;","","StepPanel = require('../../helpers/policies').StepPanel;","","Exercise = require('openstax-react-components').Exercise;","","StepFooter = require('./step-footer');","","module.exports = React.createClass({","  displayName: 'ExerciseShell',","  propTypes: {","    id: React.PropTypes.string.isRequired,","    taskId: React.PropTypes.string.isRequired","  },","  updateFreeResponse: function(freeResponse) {","    return TaskStepActions.updateTempFreeResponse(this.props.id, freeResponse);","  },","  render: function() {","    var getCurrentPanel, getReadingForStep, id, ref1, step, task, taskId, waitingText;","    ref1 = this.props, id = ref1.id, taskId = ref1.taskId;","    step = TaskStepStore.get(id);","    task = TaskStore.get(taskId);","    waitingText = (function() {","      switch (false) {","        case !TaskStepStore.isLoading(id):","          return \"Loading…\";","        case !TaskStepStore.isSaving(id):","          return \"Saving…\";","        default:","          return null;","      }","    })();","    getReadingForStep = function(id, taskId) {","      return TaskStore.getReadingForTaskId(taskId, id);","    };","    getCurrentPanel = function(id) {","      var currentPanel;","      if (!TaskStepStore.isSaving(id)) {","        return currentPanel = StepPanel.getPanel(id);","      }","    };","    return React.createElement(Exercise, React.__spread({}, this.props, {","      \"step\": step,","      \"footer\": React.createElement(StepFooter, null),","      \"waitingText\": waitingText,","      \"canTryAnother\": TaskStepStore.canTryAnother(id, task),","      \"isRecovering\": TaskStepStore.isRecovering(id),","      \"disabled\": TaskStepStore.isSaving(id),","      \"canReview\": StepPanel.canReview(id),","      \"isContinueEnabled\": StepPanel.canContinue(id),","      \"getCurrentPanel\": getCurrentPanel,","      \"getReadingForStep\": getReadingForStep,","      \"setFreeResponseAnswer\": TaskStepActions.setFreeResponseAnswer,","      \"onFreeResponseChange\": this.updateFreeResponse,","      \"freeResponseValue\": TaskStepStore.getTempFreeResponse(id),","      \"setAnswerId\": TaskStepActions.setAnswerId","    }));","  }","});",""],"f":{"1":0,"2":3,"3":3,"4":0,"5":3},"fnMap":{"1":{"line":21,"loc":{"end":{"column":45,"line":21},"start":{"column":22,"line":21}},"name":"(anonymous_1)"},"2":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":30,"line":29},"start":{"column":19,"line":29}},"name":"(anonymous_3)"},"4":{"line":39,"loc":{"end":{"column":45,"line":39},"start":{"column":24,"line":39}},"name":"(anonymous_4)"},"5":{"line":42,"loc":{"end":{"column":35,"line":42},"start":{"column":22,"line":42}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-step/exercise.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":3,"11":3,"12":3,"13":3,"14":3,"15":3,"16":1,"17":0,"18":2,"19":3,"20":0,"21":3,"22":3,"23":3,"24":3,"25":3},"statementMap":{"1":{"end":{"column":91,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":112,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":49,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":56,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":57,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":38,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":65},"start":{"column":0,"line":15}},"9":{"end":{"column":79,"line":22},"start":{"column":4,"line":22}},"10":{"end":{"column":86,"line":25},"start":{"column":4,"line":25}},"11":{"end":{"column":58,"line":26},"start":{"column":4,"line":26}},"12":{"end":{"column":33,"line":27},"start":{"column":4,"line":27}},"13":{"end":{"column":33,"line":28},"start":{"column":4,"line":28}},"14":{"end":{"column":9,"line":38},"start":{"column":4,"line":29}},"15":{"end":{"column":7,"line":37},"start":{"column":6,"line":30}},"16":{"end":{"column":28,"line":32},"start":{"column":10,"line":32}},"17":{"end":{"column":27,"line":34},"start":{"column":10,"line":34}},"18":{"end":{"column":22,"line":36},"start":{"column":10,"line":36}},"19":{"end":{"column":6,"line":41},"start":{"column":4,"line":39}},"20":{"end":{"column":55,"line":40},"start":{"column":6,"line":40}},"21":{"end":{"column":6,"line":47},"start":{"column":4,"line":42}},"22":{"end":{"column":23,"line":43},"start":{"column":6,"line":43}},"23":{"end":{"column":7,"line":46},"start":{"column":6,"line":44}},"24":{"end":{"column":53,"line":45},"start":{"column":8,"line":45}},"25":{"end":{"column":8,"line":63},"start":{"column":4,"line":48}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"22":0,"25":3,"26":3,"27":3,"28":3,"29":3,"30":3,"32":1,"34":0,"36":2,"39":3,"40":0,"42":3,"43":3,"44":3,"45":3,"48":3}},
"/Users/phil/github/openstax/tutor-js/src/components/task-step/index.cjsx":{"b":{"1":[0,0],"2":[6,0],"3":[6,0],"4":[0,0]},"branchMap":{"1":{"line":20,"locations":[{"end":{"column":57,"line":20},"start":{"column":33,"line":20}},{"end":{"column":62,"line":20},"start":{"column":60,"line":20}}],"type":"cond-expr"},"2":{"line":38,"locations":[{"end":{"column":13,"line":38},"start":{"column":9,"line":38}},{"end":{"column":61,"line":38},"start":{"column":17,"line":38}}],"type":"binary-expr"},"3":{"line":56,"locations":[{"end":{"column":96,"line":56},"start":{"column":77,"line":56}},{"end":{"column":105,"line":56},"start":{"column":99,"line":56}}],"type":"cond-expr"},"4":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"}},"code":["var Exercise, ExternalUrl, Interactive, LoadableItem, Placeholder, React, Reading, STEP_TYPES, Spacer, SpyMode, StepPanel, TaskStepActions, TaskStepLoaded, TaskStepStore, TaskStore, Video, err, getStepType, ref, ref1,","  slice = [].slice;","","React = require('react');","","SpyMode = require('openstax-react-components').SpyMode;","","TaskStore = require('../../flux/task').TaskStore;","","ref = require('../../flux/task-step'), TaskStepActions = ref.TaskStepActions, TaskStepStore = ref.TaskStepStore;","","LoadableItem = require('../loadable-item');","","ref1 = require('./all-steps'), Reading = ref1.Reading, Interactive = ref1.Interactive, Video = ref1.Video, Exercise = ref1.Exercise, Placeholder = ref1.Placeholder, Spacer = ref1.Spacer, ExternalUrl = ref1.ExternalUrl;","","StepPanel = require('../../helpers/policies').StepPanel;","","err = function() {","  var msgs;","  msgs = 1 <= arguments.length ? slice.call(arguments, 0) : [];","  console.error.apply(console, msgs);","  throw new Error(JSON.stringify.apply(JSON, msgs));","};","","STEP_TYPES = {","  reading: Reading,","  interactive: Interactive,","  video: Video,","  exercise: Exercise,","  placeholder: Placeholder,","  spacer: Spacer,","  external_url: ExternalUrl","};","","getStepType = function(typeName) {","  var type;","  type = STEP_TYPES[typeName];","  return type || err('BUG: Invalid task step type', typeName);","};","","TaskStepLoaded = React.createClass({","  displayName: 'TaskStepLoaded',","  propTypes: {","    id: React.PropTypes.string.isRequired,","    onNextStep: React.PropTypes.func.isRequired,","    onStepCompleted: React.PropTypes.func.isRequired","  },","  render: function() {","    var Type, id, ref2, spy, taskId, type;","    ref2 = this.props, id = ref2.id, taskId = ref2.taskId;","    type = TaskStepStore.get(id).type;","    spy = TaskStore.get(taskId).spy;","    Type = getStepType(type);","    return React.createElement(\"div\", null, React.createElement(Type, React.__spread({}, this.props)), React.createElement(SpyMode.Content, {","      \"className\": 'task-ecosystem-info'","    }, \"TaskId: \", taskId, \", StepId: \", id, \", Ecosystem: \", (spy != null ? spy.ecosystem_title : void 0)));","  }","});","","module.exports = React.createClass({","  displayName: 'TaskStep',","  propTypes: {","    id: React.PropTypes.string.isRequired,","    onNextStep: React.PropTypes.func.isRequired","  },","  onStepCompleted: function() {","    var canWrite, id;","    id = this.props.id;","    canWrite = StepPanel.canWrite(id);","    if (canWrite) {","      return TaskStepActions.complete(id);","    }","  },","  render: function() {","    var id;","    id = this.props.id;","    return React.createElement(LoadableItem, {","      \"id\": id,","      \"store\": TaskStepStore,","      \"actions\": TaskStepActions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(TaskStepLoaded, React.__spread({}, _this.props, {","            \"onStepCompleted\": _this.onStepCompleted","          }));","        };","      })(this))","    });","  }","});",""],"f":{"1":0,"2":6,"3":6,"4":0,"5":2,"6":2,"7":6},"fnMap":{"1":{"line":18,"loc":{"end":{"column":17,"line":18},"start":{"column":6,"line":18}},"name":"(anonymous_1)"},"2":{"line":35,"loc":{"end":{"column":33,"line":35},"start":{"column":14,"line":35}},"name":"(anonymous_2)"},"3":{"line":48,"loc":{"end":{"column":21,"line":48},"start":{"column":10,"line":48}},"name":"(anonymous_3)"},"4":{"line":66,"loc":{"end":{"column":30,"line":66},"start":{"column":19,"line":66}},"name":"(anonymous_4)"},"5":{"line":74,"loc":{"end":{"column":21,"line":74},"start":{"column":10,"line":74}},"name":"(anonymous_5)"},"6":{"line":81,"loc":{"end":{"column":38,"line":81},"start":{"column":22,"line":81}},"name":"(anonymous_6)"},"7":{"line":82,"loc":{"end":{"column":26,"line":82},"start":{"column":15,"line":82}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-step/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":0,"11":0,"12":0,"13":0,"14":21,"15":21,"16":6,"17":6,"18":6,"19":21,"20":6,"21":6,"22":6,"23":6,"24":6,"25":6,"26":21,"27":0,"28":0,"29":0,"30":0,"31":0,"32":2,"33":2,"34":2,"35":2,"36":6},"statementMap":{"1":{"end":{"column":19,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":4},"start":{"column":0,"line":4}},"3":{"end":{"column":55,"line":6},"start":{"column":0,"line":6}},"4":{"end":{"column":49,"line":8},"start":{"column":0,"line":8}},"5":{"end":{"column":112,"line":10},"start":{"column":0,"line":10}},"6":{"end":{"column":43,"line":12},"start":{"column":0,"line":12}},"7":{"end":{"column":218,"line":14},"start":{"column":0,"line":14}},"8":{"end":{"column":56,"line":16},"start":{"column":0,"line":16}},"9":{"end":{"column":2,"line":23},"start":{"column":0,"line":18}},"10":{"end":{"column":11,"line":19},"start":{"column":2,"line":19}},"11":{"end":{"column":63,"line":20},"start":{"column":2,"line":20}},"12":{"end":{"column":37,"line":21},"start":{"column":2,"line":21}},"13":{"end":{"column":52,"line":22},"start":{"column":2,"line":22}},"14":{"end":{"column":2,"line":33},"start":{"column":0,"line":25}},"15":{"end":{"column":2,"line":39},"start":{"column":0,"line":35}},"16":{"end":{"column":11,"line":36},"start":{"column":2,"line":36}},"17":{"end":{"column":30,"line":37},"start":{"column":2,"line":37}},"18":{"end":{"column":62,"line":38},"start":{"column":2,"line":38}},"19":{"end":{"column":3,"line":58},"start":{"column":0,"line":41}},"20":{"end":{"column":42,"line":49},"start":{"column":4,"line":49}},"21":{"end":{"column":58,"line":50},"start":{"column":4,"line":50}},"22":{"end":{"column":38,"line":51},"start":{"column":4,"line":51}},"23":{"end":{"column":36,"line":52},"start":{"column":4,"line":52}},"24":{"end":{"column":29,"line":53},"start":{"column":4,"line":53}},"25":{"end":{"column":109,"line":56},"start":{"column":4,"line":54}},"26":{"end":{"column":3,"line":90},"start":{"column":0,"line":60}},"27":{"end":{"column":21,"line":67},"start":{"column":4,"line":67}},"28":{"end":{"column":23,"line":68},"start":{"column":4,"line":68}},"29":{"end":{"column":38,"line":69},"start":{"column":4,"line":69}},"30":{"end":{"column":5,"line":72},"start":{"column":4,"line":70}},"31":{"end":{"column":42,"line":71},"start":{"column":6,"line":71}},"32":{"end":{"column":11,"line":75},"start":{"column":4,"line":75}},"33":{"end":{"column":23,"line":76},"start":{"column":4,"line":76}},"34":{"end":{"column":7,"line":88},"start":{"column":4,"line":77}},"35":{"end":{"column":10,"line":86},"start":{"column":8,"line":82}},"36":{"end":{"column":14,"line":85},"start":{"column":10,"line":83}}},"l":{"1":21,"4":21,"6":21,"8":21,"10":21,"12":21,"14":21,"16":21,"18":21,"19":0,"20":0,"21":0,"22":0,"25":21,"35":21,"36":6,"37":6,"38":6,"41":21,"49":6,"50":6,"51":6,"52":6,"53":6,"54":6,"60":21,"67":0,"68":0,"69":0,"70":0,"71":0,"75":2,"76":2,"77":2,"82":2,"83":6}},
"/Users/phil/github/openstax/tutor-js/src/components/task-step/step-footer-mixin.cjsx":{"b":{"1":[6,0],"2":[3,3],"3":[0,6],"4":[3,3],"5":[3,3],"6":[6,0],"7":[6,0],"8":[6,0],"9":[6,0],"10":[6,6],"11":[6,0],"12":[6,0],"13":[3,3],"14":[6,3],"15":[3,3],"16":[6,0],"17":[0,0],"18":[0,0],"19":[6,6,0],"20":[3,3],"21":[6,0],"22":[3,3]},"branchMap":{"1":{"line":30,"locations":[{"end":{"column":4,"line":30},"start":{"column":4,"line":30}},{"end":{"column":4,"line":30},"start":{"column":4,"line":30}}],"type":"if"},"2":{"line":30,"locations":[{"end":{"column":40,"line":30},"start":{"column":27,"line":30}},{"end":{"column":49,"line":30},"start":{"column":43,"line":30}}],"type":"cond-expr"},"3":{"line":68,"locations":[{"end":{"column":4,"line":68},"start":{"column":4,"line":68}},{"end":{"column":4,"line":68},"start":{"column":4,"line":68}}],"type":"if"},"4":{"line":68,"locations":[{"end":{"column":38,"line":68},"start":{"column":25,"line":68}},{"end":{"column":47,"line":68},"start":{"column":41,"line":68}}],"type":"cond-expr"},"5":{"line":78,"locations":[{"end":{"column":74,"line":78},"start":{"column":39,"line":78}},{"end":{"column":83,"line":78},"start":{"column":77,"line":78}}],"type":"cond-expr"},"6":{"line":100,"locations":[{"end":{"column":15,"line":105},"start":{"column":12,"line":100}},{"end":{"column":6,"line":110},"start":{"column":20,"line":105}}],"type":"binary-expr"},"7":{"line":100,"locations":[{"end":{"column":6,"line":105},"start":{"column":70,"line":100}},{"end":{"column":15,"line":105},"start":{"column":9,"line":105}}],"type":"cond-expr"},"8":{"line":122,"locations":[{"end":{"column":38,"line":122},"start":{"column":19,"line":122}},{"end":{"column":62,"line":122},"start":{"column":42,"line":122}}],"type":"binary-expr"},"9":{"line":124,"locations":[{"end":{"column":4,"line":124},"start":{"column":4,"line":124}},{"end":{"column":4,"line":124},"start":{"column":4,"line":124}}],"type":"if"},"10":{"line":124,"locations":[{"end":{"column":22,"line":124},"start":{"column":9,"line":124}},{"end":{"column":56,"line":124},"start":{"column":27,"line":124}}],"type":"binary-expr"},"11":{"line":132,"locations":[{"end":{"column":40,"line":132},"start":{"column":21,"line":132}},{"end":{"column":64,"line":132},"start":{"column":44,"line":132}}],"type":"binary-expr"},"12":{"line":140,"locations":[{"end":{"column":4,"line":140},"start":{"column":4,"line":140}},{"end":{"column":4,"line":140},"start":{"column":4,"line":140}}],"type":"if"},"13":{"line":140,"locations":[{"end":{"column":40,"line":140},"start":{"column":27,"line":140}},{"end":{"column":49,"line":140},"start":{"column":43,"line":140}}],"type":"cond-expr"},"14":{"line":141,"locations":[{"end":{"column":110,"line":141},"start":{"column":24,"line":141}},{"end":{"column":140,"line":141},"start":{"column":115,"line":141}}],"type":"binary-expr"},"15":{"line":141,"locations":[{"end":{"column":101,"line":141},"start":{"column":74,"line":141}},{"end":{"column":110,"line":141},"start":{"column":104,"line":141}}],"type":"cond-expr"},"16":{"line":143,"locations":[{"end":{"column":6,"line":143},"start":{"column":6,"line":143}},{"end":{"column":6,"line":143},"start":{"column":6,"line":143}}],"type":"if"},"17":{"line":158,"locations":[{"end":{"column":98,"line":158},"start":{"column":12,"line":158}},{"end":{"column":6,"line":161},"start":{"column":103,"line":158}}],"type":"binary-expr"},"18":{"line":158,"locations":[{"end":{"column":89,"line":158},"start":{"column":62,"line":158}},{"end":{"column":98,"line":158},"start":{"column":92,"line":158}}],"type":"cond-expr"},"19":{"line":168,"locations":[{"end":{"column":96,"line":168},"start":{"column":12,"line":168}},{"end":{"column":15,"line":173},"start":{"column":102,"line":168}},{"end":{"column":6,"line":178},"start":{"column":20,"line":173}}],"type":"binary-expr"},"20":{"line":168,"locations":[{"end":{"column":87,"line":168},"start":{"column":61,"line":168}},{"end":{"column":96,"line":168},"start":{"column":90,"line":168}}],"type":"cond-expr"},"21":{"line":168,"locations":[{"end":{"column":6,"line":173},"start":{"column":160,"line":168}},{"end":{"column":15,"line":173},"start":{"column":9,"line":173}}],"type":"cond-expr"},"22":{"line":185,"locations":[{"end":{"column":4,"line":185},"start":{"column":4,"line":185}},{"end":{"column":4,"line":185},"start":{"column":4,"line":185}}],"type":"if"}},"code":["var BrowseTheBook, ChapterSectionMixin, Details, LateIcon, React, Router, StepPanel, TaskStore, ViewingAsStudentName, _, camelCase;","","_ = require('underscore');","","React = require('react');","","camelCase = require('camelcase');","","Router = require('react-router');","","Details = require('../task/details').Details;","","BrowseTheBook = require('../buttons/browse-the-book');","","LateIcon = require('../late-icon');","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","TaskStore = require('../../flux/task').TaskStore;","","ViewingAsStudentName = require('../task/viewing-as-student-name').ViewingAsStudentName;","","StepPanel = require('../../helpers/policies').StepPanel;","","module.exports = {","  mixins: [ChapterSectionMixin],","  renderTeacherReadOnlyDetails: function(arg) {","    var courseId, review, stepId, taskDetails, taskId;","    stepId = arg.stepId, taskId = arg.taskId, courseId = arg.courseId, review = arg.review;","    if (!(review != null ? review.length : void 0)) {","      taskDetails = this.renderDefaultDetails({","        stepId: stepId,","        taskId: taskId,","        courseId: courseId,","        review: review","      });","      taskDetails = [","        React.createElement(ViewingAsStudentName, {","          \"key\": 'viewing-as',","          \"courseId\": courseId,","          \"taskId\": taskId,","          \"className\": 'task-footer-detail'","        }), taskDetails","      ];","    }","    return taskDetails;","  },","  renderCoversSections: function(sections) {","    sections = _.map(sections, (function(_this) {","      return function(section) {","        var combined;","        combined = _this.sectionFormat(section);","        return React.createElement(BrowseTheBook, {","          \"unstyled\": true,","          \"key\": combined,","          \"section\": combined","        }, combined);","      };","    })(this));","    return React.createElement(\"div\", {","      \"key\": 'task-covers',","      \"className\": 'task-covers'","    }, \"Reading covers: \", sections);","  },","  renderDefaultDetails: function(arg) {","    var buildLateMessage, courseId, lateIcon, review, sections, stepId, task, taskAbout, taskDetails, taskId;","    stepId = arg.stepId, taskId = arg.taskId, courseId = arg.courseId, review = arg.review;","    if (review != null ? review.length : void 0) {","      return null;","    }","    task = TaskStore.get(taskId);","    sections = TaskStore.getRelatedSections(taskId);","    taskAbout = React.createElement(\"div\", {","      \"key\": 'about',","      \"className\": 'task-footer-detail'","    }, React.createElement(\"div\", {","      \"className\": 'task-title'","    }, task.title), (sections.length ? this.renderCoversSections(sections) : void 0));","    buildLateMessage = function(task, status) {","      return status.how_late + \" late\";","    };","    lateIcon = React.createElement(LateIcon, {","      \"key\": 'step-late',","      \"task\": task,","      \"buildLateMessage\": buildLateMessage","    });","    taskDetails = React.createElement(Details, {","      \"lateStatus\": lateIcon,","      \"key\": 'details',","      \"task\": task,","      \"className\": 'task-footer-detail'","    });","    return [taskAbout, taskDetails];","  },","  renderTaskDetails: function(arg) {","    var courseId, panel, renderDetailsForPanelMethod, review, stepId, taskId;","    stepId = arg.stepId, taskId = arg.taskId, courseId = arg.courseId, review = arg.review;","    panel = StepPanel.getPanel(stepId);","    renderDetailsForPanelMethod = camelCase(\"render-\" + panel + \"-details\");","    return (typeof this[renderDetailsForPanelMethod] === \"function\" ? this[renderDetailsForPanelMethod]({","      stepId: stepId,","      taskId: taskId,","      courseId: courseId,","      review: review","    }) : void 0) || this.renderDefaultDetails({","      stepId: stepId,","      taskId: taskId,","      courseId: courseId,","      review: review","    });","  },","  renderBackButton: function(arg, custombuttonClasses) {","    var backButton, courseId, defaultButtonClasses, panel, review, taskId;","    taskId = arg.taskId, courseId = arg.courseId, review = arg.review, panel = arg.panel;","    defaultButtonClasses = 'btn btn-primary';","    backButton = React.createElement(Router.Link, {","      \"to\": 'viewStudentDashboard',","      \"key\": 'step-back',","      \"params\": {","        courseId: courseId","      },","      \"className\": custombuttonClasses || defaultButtonClasses","    }, \"Back to Dashboard\");","    if ((panel != null) && panel === 'teacher-read-only') {","      defaultButtonClasses = 'btn btn-default';","      backButton = React.createElement(Router.Link, {","        \"to\": 'viewScores',","        \"key\": 'step-back',","        \"params\": {","          courseId: courseId","        },","        \"className\": custombuttonClasses || defaultButtonClasses","      }, \"Back to Scores\");","    }","    return backButton;","  },","  renderTeacherReadOnlyButtons: function(arg) {","    var backButton, backButtonClasses, continueButton, courseId, panel, review, taskId;","    taskId = arg.taskId, courseId = arg.courseId, review = arg.review, panel = arg.panel;","    if (!(review != null ? review.length : void 0)) {","      continueButton = (typeof this.renderContinueButton === \"function\" ? this.renderContinueButton() : void 0) || this.props.controlButtons;","      backButtonClasses = 'btn btn-primary';","      if (continueButton != null) {","        backButtonClasses = 'btn btn-default';","      }","      backButton = this.renderBackButton({","        taskId: taskId,","        courseId: courseId,","        review: review,","        panel: panel","      }, backButtonClasses);","    }","    return [continueButton, backButton];","  },","  renderDefaultButtons: function(arg) {","    var courseId, panel, review, taskId;","    taskId = arg.taskId, courseId = arg.courseId, review = arg.review, panel = arg.panel;","    return (typeof this.renderContinueButton === \"function\" ? this.renderContinueButton() : void 0) || this.renderBackButton({","      taskId: taskId,","      courseId: courseId","    });","  },","  renderButtons: function(arg) {","    var courseId, panel, renderButtonsForPanelMethod, review, stepId, taskId;","    stepId = arg.stepId, taskId = arg.taskId, courseId = arg.courseId, review = arg.review;","    panel = StepPanel.getPanel(stepId);","    renderButtonsForPanelMethod = camelCase(\"render-\" + panel + \"-buttons\");","    return (typeof this.renderFooterButtons === \"function\" ? this.renderFooterButtons() : void 0) || (typeof this[renderButtonsForPanelMethod] === \"function\" ? this[renderButtonsForPanelMethod]({","      taskId: taskId,","      courseId: courseId,","      review: review,","      panel: panel","    }) : void 0) || this.renderDefaultButtons({","      taskId: taskId,","      courseId: courseId,","      review: review,","      panel: panel","    });","  },","  getFooterClasses: function(arg) {","    var className, courseId, review, sections, stepId, taskId;","    stepId = arg.stepId, taskId = arg.taskId, courseId = arg.courseId, review = arg.review;","    sections = TaskStore.getRelatedSections(taskId);","    className = 'task-footer-details';","    if (sections.length) {","      className += ' has-sections';","    }","    return className;","  },","  renderFooter: function(arg) {","    var buttons, className, courseId, review, stepId, taskDetails, taskId;","    stepId = arg.stepId, taskId = arg.taskId, courseId = arg.courseId, review = arg.review;","    buttons = this.renderButtons({","      stepId: stepId,","      taskId: taskId,","      courseId: courseId,","      review: review","    });","    className = this.getFooterClasses({","      stepId: stepId,","      taskId: taskId,","      courseId: courseId,","      review: review","    });","    taskDetails = React.createElement(\"div\", {","      \"className\": className,","      \"key\": 'step-footer'","    }, this.renderTaskDetails({","      stepId: stepId,","      taskId: taskId,","      courseId: courseId,","      review: review","    }));","    return [buttons, taskDetails];","  },","  renderEndFooter: function(arg) {","    var backButton, className, courseId, panel, review, stepId, taskDetails, taskId;","    stepId = arg.stepId, taskId = arg.taskId, courseId = arg.courseId, review = arg.review;","    panel = StepPanel.getPanel(stepId);","    className = this.getFooterClasses({","      stepId: stepId,","      taskId: taskId,","      courseId: courseId,","      review: review","    });","    backButton = this.renderBackButton({","      taskId: taskId,","      courseId: courseId,","      review: review,","      panel: panel","    }, 'btn btn-primary');","    taskDetails = React.createElement(\"div\", {","      \"className\": className,","      \"key\": 'step-end-footer'","    }, this.renderTaskDetails({","      stepId: stepId,","      taskId: taskId,","      courseId: courseId,","      review: review","    }));","    return [backButton, taskDetails];","  }","};",""],"f":{"1":6,"2":3,"3":3,"4":9,"5":6,"6":0,"7":6,"8":6,"9":6,"10":0,"11":6,"12":6,"13":6,"14":0},"fnMap":{"1":{"line":27,"loc":{"end":{"column":46,"line":27},"start":{"column":32,"line":27}},"name":"(anonymous_1)"},"2":{"line":48,"loc":{"end":{"column":43,"line":48},"start":{"column":24,"line":48}},"name":"(anonymous_2)"},"3":{"line":49,"loc":{"end":{"column":48,"line":49},"start":{"column":32,"line":49}},"name":"(anonymous_3)"},"4":{"line":50,"loc":{"end":{"column":31,"line":50},"start":{"column":13,"line":50}},"name":"(anonymous_4)"},"5":{"line":65,"loc":{"end":{"column":38,"line":65},"start":{"column":24,"line":65}},"name":"(anonymous_5)"},"6":{"line":79,"loc":{"end":{"column":46,"line":79},"start":{"column":23,"line":79}},"name":"(anonymous_6)"},"7":{"line":95,"loc":{"end":{"column":35,"line":95},"start":{"column":21,"line":95}},"name":"(anonymous_7)"},"8":{"line":112,"loc":{"end":{"column":55,"line":112},"start":{"column":20,"line":112}},"name":"(anonymous_8)"},"9":{"line":137,"loc":{"end":{"column":46,"line":137},"start":{"column":32,"line":137}},"name":"(anonymous_9)"},"10":{"line":155,"loc":{"end":{"column":38,"line":155},"start":{"column":24,"line":155}},"name":"(anonymous_10)"},"11":{"line":163,"loc":{"end":{"column":31,"line":163},"start":{"column":17,"line":163}},"name":"(anonymous_11)"},"12":{"line":180,"loc":{"end":{"column":34,"line":180},"start":{"column":20,"line":180}},"name":"(anonymous_12)"},"13":{"line":190,"loc":{"end":{"column":30,"line":190},"start":{"column":16,"line":190}},"name":"(anonymous_13)"},"14":{"line":216,"loc":{"end":{"column":33,"line":216},"start":{"column":19,"line":216}},"name":"(anonymous_14)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-step/step-footer-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":6,"15":6,"16":6,"17":6,"18":6,"19":6,"20":3,"21":3,"22":9,"23":9,"24":9,"25":3,"26":6,"27":6,"28":6,"29":0,"30":6,"31":6,"32":6,"33":6,"34":0,"35":6,"36":6,"37":6,"38":6,"39":6,"40":6,"41":6,"42":6,"43":6,"44":6,"45":6,"46":6,"47":6,"48":6,"49":6,"50":6,"51":6,"52":6,"53":6,"54":6,"55":6,"56":6,"57":6,"58":6,"59":6,"60":0,"61":0,"62":0,"63":6,"64":6,"65":6,"66":6,"67":6,"68":6,"69":6,"70":6,"71":6,"72":6,"73":3,"74":6,"75":6,"76":6,"77":6,"78":6,"79":6,"80":6,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0},"statementMap":{"1":{"end":{"column":131,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":33,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":45,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":54,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":35,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":79,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":49,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":87,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":56,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":2,"line":243},"start":{"column":0,"line":25}},"14":{"end":{"column":54,"line":28},"start":{"column":4,"line":28}},"15":{"end":{"column":91,"line":29},"start":{"column":4,"line":29}},"16":{"end":{"column":5,"line":45},"start":{"column":4,"line":30}},"17":{"end":{"column":9,"line":36},"start":{"column":6,"line":31}},"18":{"end":{"column":8,"line":44},"start":{"column":6,"line":37}},"19":{"end":{"column":23,"line":46},"start":{"column":4,"line":46}},"20":{"end":{"column":14,"line":59},"start":{"column":4,"line":49}},"21":{"end":{"column":8,"line":58},"start":{"column":6,"line":50}},"22":{"end":{"column":21,"line":51},"start":{"column":8,"line":51}},"23":{"end":{"column":48,"line":52},"start":{"column":8,"line":52}},"24":{"end":{"column":21,"line":57},"start":{"column":8,"line":53}},"25":{"end":{"column":37,"line":63},"start":{"column":4,"line":60}},"26":{"end":{"column":109,"line":66},"start":{"column":4,"line":66}},"27":{"end":{"column":91,"line":67},"start":{"column":4,"line":67}},"28":{"end":{"column":5,"line":70},"start":{"column":4,"line":68}},"29":{"end":{"column":18,"line":69},"start":{"column":6,"line":69}},"30":{"end":{"column":33,"line":71},"start":{"column":4,"line":71}},"31":{"end":{"column":52,"line":72},"start":{"column":4,"line":72}},"32":{"end":{"column":86,"line":78},"start":{"column":4,"line":73}},"33":{"end":{"column":6,"line":81},"start":{"column":4,"line":79}},"34":{"end":{"column":39,"line":80},"start":{"column":6,"line":80}},"35":{"end":{"column":7,"line":86},"start":{"column":4,"line":82}},"36":{"end":{"column":7,"line":92},"start":{"column":4,"line":87}},"37":{"end":{"column":36,"line":93},"start":{"column":4,"line":93}},"38":{"end":{"column":77,"line":96},"start":{"column":4,"line":96}},"39":{"end":{"column":91,"line":97},"start":{"column":4,"line":97}},"40":{"end":{"column":39,"line":98},"start":{"column":4,"line":98}},"41":{"end":{"column":76,"line":99},"start":{"column":4,"line":99}},"42":{"end":{"column":7,"line":110},"start":{"column":4,"line":100}},"43":{"end":{"column":74,"line":113},"start":{"column":4,"line":113}},"44":{"end":{"column":89,"line":114},"start":{"column":4,"line":114}},"45":{"end":{"column":45,"line":115},"start":{"column":4,"line":115}},"46":{"end":{"column":28,"line":123},"start":{"column":4,"line":116}},"47":{"end":{"column":5,"line":134},"start":{"column":4,"line":124}},"48":{"end":{"column":47,"line":125},"start":{"column":6,"line":125}},"49":{"end":{"column":27,"line":133},"start":{"column":6,"line":126}},"50":{"end":{"column":22,"line":135},"start":{"column":4,"line":135}},"51":{"end":{"column":87,"line":138},"start":{"column":4,"line":138}},"52":{"end":{"column":89,"line":139},"start":{"column":4,"line":139}},"53":{"end":{"column":5,"line":152},"start":{"column":4,"line":140}},"54":{"end":{"column":141,"line":141},"start":{"column":6,"line":141}},"55":{"end":{"column":44,"line":142},"start":{"column":6,"line":142}},"56":{"end":{"column":7,"line":145},"start":{"column":6,"line":143}},"57":{"end":{"column":46,"line":144},"start":{"column":8,"line":144}},"58":{"end":{"column":28,"line":151},"start":{"column":6,"line":146}},"59":{"end":{"column":40,"line":153},"start":{"column":4,"line":153}},"60":{"end":{"column":40,"line":156},"start":{"column":4,"line":156}},"61":{"end":{"column":89,"line":157},"start":{"column":4,"line":157}},"62":{"end":{"column":7,"line":161},"start":{"column":4,"line":158}},"63":{"end":{"column":77,"line":164},"start":{"column":4,"line":164}},"64":{"end":{"column":91,"line":165},"start":{"column":4,"line":165}},"65":{"end":{"column":39,"line":166},"start":{"column":4,"line":166}},"66":{"end":{"column":76,"line":167},"start":{"column":4,"line":167}},"67":{"end":{"column":7,"line":178},"start":{"column":4,"line":168}},"68":{"end":{"column":62,"line":181},"start":{"column":4,"line":181}},"69":{"end":{"column":91,"line":182},"start":{"column":4,"line":182}},"70":{"end":{"column":52,"line":183},"start":{"column":4,"line":183}},"71":{"end":{"column":38,"line":184},"start":{"column":4,"line":184}},"72":{"end":{"column":5,"line":187},"start":{"column":4,"line":185}},"73":{"end":{"column":35,"line":186},"start":{"column":6,"line":186}},"74":{"end":{"column":21,"line":188},"start":{"column":4,"line":188}},"75":{"end":{"column":74,"line":191},"start":{"column":4,"line":191}},"76":{"end":{"column":91,"line":192},"start":{"column":4,"line":192}},"77":{"end":{"column":7,"line":198},"start":{"column":4,"line":193}},"78":{"end":{"column":7,"line":204},"start":{"column":4,"line":199}},"79":{"end":{"column":8,"line":213},"start":{"column":4,"line":205}},"80":{"end":{"column":34,"line":214},"start":{"column":4,"line":214}},"81":{"end":{"column":84,"line":217},"start":{"column":4,"line":217}},"82":{"end":{"column":91,"line":218},"start":{"column":4,"line":218}},"83":{"end":{"column":39,"line":219},"start":{"column":4,"line":219}},"84":{"end":{"column":7,"line":225},"start":{"column":4,"line":220}},"85":{"end":{"column":26,"line":231},"start":{"column":4,"line":226}},"86":{"end":{"column":8,"line":240},"start":{"column":4,"line":232}},"87":{"end":{"column":37,"line":241},"start":{"column":4,"line":241}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"28":6,"29":6,"30":6,"31":6,"37":6,"46":6,"49":3,"50":3,"51":9,"52":9,"53":9,"60":3,"66":6,"67":6,"68":6,"69":0,"71":6,"72":6,"73":6,"79":6,"80":0,"82":6,"87":6,"93":6,"96":6,"97":6,"98":6,"99":6,"100":6,"113":6,"114":6,"115":6,"116":6,"124":6,"125":6,"126":6,"135":6,"138":6,"139":6,"140":6,"141":6,"142":6,"143":6,"144":6,"146":6,"153":6,"156":0,"157":0,"158":0,"164":6,"165":6,"166":6,"167":6,"168":6,"181":6,"182":6,"183":6,"184":6,"185":6,"186":3,"188":6,"191":6,"192":6,"193":6,"199":6,"205":6,"214":6,"217":0,"218":0,"219":0,"220":0,"226":0,"232":0,"241":0}},
"/Users/phil/github/openstax/tutor-js/src/components/task-step/step-footer.cjsx":{"b":{"1":[0,3]},"branchMap":{"1":{"line":30,"locations":[{"end":{"column":4,"line":30},"start":{"column":4,"line":30}},{"end":{"column":4,"line":30},"start":{"column":4,"line":30}}],"type":"if"}},"code":["var BS, CardBody, React, StepFooter, StepFooterMixin, StepPanel, TaskStepStore, TaskStore, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","StepPanel = require('../../helpers/policies').StepPanel;","","CardBody = require('openstax-react-components').CardBody;","","TaskStore = require('../../flux/task').TaskStore;","","StepFooterMixin = require('./step-footer-mixin');","","TaskStepStore = require('../../flux/task-step').TaskStepStore;","","StepFooter = React.createClass({","  displayName: 'StepFooter',","  mixins: [StepFooterMixin],","  getDefaultProps: function() {","    return {","      controlButtons: null","    };","  },","  renderFooterButtons: function() {","    var controlButtons, panel, ref;","    ref = this.props, controlButtons = ref.controlButtons, panel = ref.panel;","    if (panel !== 'teacher-read-only') {","      return controlButtons;","    }","  },","  render: function() {","    var courseId, id, pinned, ref, review, taskId;","    ref = this.props, pinned = ref.pinned, courseId = ref.courseId, id = ref.id, taskId = ref.taskId, review = ref.review;","    return React.createElement(\"div\", {","      \"className\": '-step-footer'","    }, this.renderFooter({","      stepId: id,","      taskId: taskId,","      courseId: courseId,","      review: review","    }));","  }","});","","module.exports = StepFooter;",""],"f":{"1":21,"2":3,"3":3},"fnMap":{"1":{"line":22,"loc":{"end":{"column":30,"line":22},"start":{"column":19,"line":22}},"name":"(anonymous_1)"},"2":{"line":27,"loc":{"end":{"column":34,"line":27},"start":{"column":23,"line":27}},"name":"(anonymous_2)"},"3":{"line":34,"loc":{"end":{"column":21,"line":34},"start":{"column":10,"line":34}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-step/step-footer.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":3,"13":3,"14":3,"15":0,"16":3,"17":3,"18":3,"19":21},"statementMap":{"1":{"end":{"column":93,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":56,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":57,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":49,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":49,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":62,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":3,"line":46},"start":{"column":0,"line":19}},"11":{"end":{"column":6,"line":25},"start":{"column":4,"line":23}},"12":{"end":{"column":35,"line":28},"start":{"column":4,"line":28}},"13":{"end":{"column":77,"line":29},"start":{"column":4,"line":29}},"14":{"end":{"column":5,"line":32},"start":{"column":4,"line":30}},"15":{"end":{"column":28,"line":31},"start":{"column":6,"line":31}},"16":{"end":{"column":50,"line":35},"start":{"column":4,"line":35}},"17":{"end":{"column":122,"line":36},"start":{"column":4,"line":36}},"18":{"end":{"column":8,"line":44},"start":{"column":4,"line":37}},"19":{"end":{"column":28,"line":48},"start":{"column":0,"line":48}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"23":21,"28":3,"29":3,"30":3,"31":0,"35":3,"36":3,"37":3,"48":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-step/step-mixin.cjsx":{"b":{"1":[0,3],"2":[0,3],"3":[1,0,2],"4":[3,3],"5":[3,0],"6":[3,3],"7":[0,3],"8":[0,3]},"branchMap":{"1":{"line":20,"locations":[{"end":{"column":4,"line":20},"start":{"column":4,"line":20}},{"end":{"column":4,"line":20},"start":{"column":4,"line":20}}],"type":"if"},"2":{"line":20,"locations":[{"end":{"column":81,"line":20},"start":{"column":56,"line":20}},{"end":{"column":90,"line":20},"start":{"column":84,"line":20}}],"type":"cond-expr"},"3":{"line":24,"locations":[{"end":{"column":28,"line":26},"start":{"column":8,"line":25}},{"end":{"column":27,"line":28},"start":{"column":8,"line":27}},{"end":{"column":22,"line":30},"start":{"column":8,"line":29}}],"type":"switch"},"4":{"line":33,"locations":[{"end":{"column":58,"line":33},"start":{"column":21,"line":33}},{"end":{"column":145,"line":33},"start":{"column":62,"line":33}}],"type":"binary-expr"},"5":{"line":33,"locations":[{"end":{"column":135,"line":33},"start":{"column":111,"line":33}},{"end":{"column":144,"line":33},"start":{"column":138,"line":33}}],"type":"cond-expr"},"6":{"line":43,"locations":[{"end":{"column":90,"line":43},"start":{"column":8,"line":43}},{"end":{"column":105,"line":43},"start":{"column":95,"line":43}}],"type":"binary-expr"},"7":{"line":43,"locations":[{"end":{"column":81,"line":43},"start":{"column":56,"line":43}},{"end":{"column":90,"line":43},"start":{"column":84,"line":43}}],"type":"cond-expr"},"8":{"line":58,"locations":[{"end":{"column":85,"line":58},"start":{"column":67,"line":58}},{"end":{"column":94,"line":58},"start":{"column":88,"line":58}}],"type":"cond-expr"}},"code":["var AsyncButton, BS, CardBody, React, StepPanel, TaskStepStore, TaskStore, _, ref;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","StepPanel = require('../../helpers/policies').StepPanel;","","ref = require('openstax-react-components'), AsyncButton = ref.AsyncButton, CardBody = ref.CardBody;","","TaskStore = require('../../flux/task').TaskStore;","","TaskStepStore = require('../../flux/task-step').TaskStepStore;","","module.exports = {","  renderContinueButton: function() {","    var cannotContinue, waitingText;","    if (typeof this.hideContinueButton === \"function\" ? this.hideContinueButton() : void 0) {","      return null;","    }","    waitingText = (function() {","      switch (false) {","        case !TaskStepStore.isLoading(this.props.id):","          return \"Loading…\";","        case !TaskStepStore.isSaving(this.props.id):","          return \"Saving…\";","        default:","          return null;","      }","    }).call(this);","    cannotContinue = !StepPanel.canContinue(this.props.id) || !(typeof this.isContinueEnabled === \"function\" ? this.isContinueEnabled() : void 0);","    return React.createElement(AsyncButton, {","      \"bsStyle\": 'primary',","      \"className\": 'continue',","      \"key\": 'step-continue',","      \"onClick\": this.onContinue,","      \"disabled\": cannotContinue,","      \"isWaiting\": !!waitingText,","      \"waitingText\": waitingText,","      \"isFailed\": TaskStepStore.isFailed(this.props.id)","    }, (typeof this.continueButtonText === \"function\" ? this.continueButtonText() : void 0) || 'Continue');","  },","  render: function() {","    var courseId, footer, id, pinned, ref1, review, taskId;","    ref1 = this.props, pinned = ref1.pinned, courseId = ref1.courseId, id = ref1.id, taskId = ref1.taskId, review = ref1.review;","    footer = this.renderFooter({","      stepId: id,","      taskId: taskId,","      courseId: courseId,","      review: review","    });","    return React.createElement(CardBody, {","      \"className\": 'task-step',","      \"footer\": footer,","      \"pinned\": pinned","    }, this.renderBody(), typeof this.renderGroup === \"function\" ? this.renderGroup() : void 0);","  }","};",""],"f":{"1":3,"2":3,"3":3},"fnMap":{"1":{"line":18,"loc":{"end":{"column":35,"line":18},"start":{"column":24,"line":18}},"name":"(anonymous_1)"},"2":{"line":23,"loc":{"end":{"column":30,"line":23},"start":{"column":19,"line":23}},"name":"(anonymous_2)"},"3":{"line":45,"loc":{"end":{"column":21,"line":45},"start":{"column":10,"line":45}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-step/step-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":3,"11":3,"12":0,"13":3,"14":3,"15":1,"16":0,"17":2,"18":3,"19":3,"20":3,"21":3,"22":3,"23":3},"statementMap":{"1":{"end":{"column":82,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":56,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":99,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":49,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":62,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":2,"line":60},"start":{"column":0,"line":17}},"10":{"end":{"column":36,"line":19},"start":{"column":4,"line":19}},"11":{"end":{"column":5,"line":22},"start":{"column":4,"line":20}},"12":{"end":{"column":18,"line":21},"start":{"column":6,"line":21}},"13":{"end":{"column":18,"line":32},"start":{"column":4,"line":23}},"14":{"end":{"column":7,"line":31},"start":{"column":6,"line":24}},"15":{"end":{"column":28,"line":26},"start":{"column":10,"line":26}},"16":{"end":{"column":27,"line":28},"start":{"column":10,"line":28}},"17":{"end":{"column":22,"line":30},"start":{"column":10,"line":30}},"18":{"end":{"column":146,"line":33},"start":{"column":4,"line":33}},"19":{"end":{"column":107,"line":43},"start":{"column":4,"line":34}},"20":{"end":{"column":59,"line":46},"start":{"column":4,"line":46}},"21":{"end":{"column":128,"line":47},"start":{"column":4,"line":47}},"22":{"end":{"column":7,"line":53},"start":{"column":4,"line":48}},"23":{"end":{"column":96,"line":58},"start":{"column":4,"line":54}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":3,"20":3,"21":0,"23":3,"24":3,"26":1,"28":0,"30":2,"33":3,"34":3,"46":3,"47":3,"48":3,"54":3}},
"/Users/phil/github/openstax/tutor-js/src/components/task-step/step-with-reading-content.cjsx":{"b":{"1":[3,0],"2":[3,0]},"branchMap":{"1":{"line":23,"locations":[{"end":{"column":83,"line":23},"start":{"column":12,"line":23}},{"end":{"column":90,"line":23},"start":{"column":88,"line":23}}],"type":"binary-expr"},"2":{"line":23,"locations":[{"end":{"column":74,"line":23},"start":{"column":64,"line":23}},{"end":{"column":83,"line":23},"start":{"column":77,"line":23}}],"type":"cond-expr"}},"code":["var ArbitraryHtmlAndMath, BookContentMixin, ChapterSectionMixin, LinkContentMixin, React, ReadingStepContent, StepContent, TaskStepStore, _, ref, ref1;","","React = require('react');","","_ = require('underscore');","","TaskStepStore = require('../../flux/task-step').TaskStepStore;","","ref = require('openstax-react-components'), ArbitraryHtmlAndMath = ref.ArbitraryHtmlAndMath, ChapterSectionMixin = ref.ChapterSectionMixin;","","ref1 = require('../book-content-mixin'), BookContentMixin = ref1.BookContentMixin, LinkContentMixin = ref1.LinkContentMixin;","","ReadingStepContent = React.createClass({","  displayName: 'ReadingStepContent',","  propTypes: {","    id: React.PropTypes.string.isRequired,","    courseDataProps: React.PropTypes.object.isRequired,","    stepType: React.PropTypes.string.isRequired","  },","  mixins: [BookContentMixin, ChapterSectionMixin],","  getSplashTitle: function() {","    var ref2;","    return ((ref2 = TaskStepStore.get(this.props.id)) != null ? ref2.title : void 0) || '';","  },","  getCnxId: function() {","    return TaskStepStore.getCnxId(this.props.id);","  },","  shouldOpenNewTab: function() {","    return true;","  },","  render: function() {","    var content_html, courseDataProps, id, ref2, stepType;","    ref2 = this.props, id = ref2.id, courseDataProps = ref2.courseDataProps, stepType = ref2.stepType;","    content_html = TaskStepStore.get(id).content_html;","    return React.createElement(ArbitraryHtmlAndMath, React.__spread({}, courseDataProps, {","      \"className\": stepType + \"-step\",","      \"html\": content_html","    }));","  }","});","","StepContent = React.createClass({","  displayName: 'StepContent',","  propTypes: {","    id: React.PropTypes.string.isRequired,","    stepType: React.PropTypes.string.isRequired","  },","  mixins: [LinkContentMixin],","  getCnxId: function() {","    return TaskStepStore.getCnxId(this.props.id);","  },","  render: function() {","    var content_html, id, ref2, stepType;","    ref2 = this.props, id = ref2.id, stepType = ref2.stepType;","    content_html = TaskStepStore.get(id).content_html;","    return React.createElement(\"div\", {","      \"className\": stepType + \"-step\"","    }, React.createElement(ArbitraryHtmlAndMath, {","      \"className\": stepType + \"-content\",","      \"html\": content_html","    }));","  }","});","","module.exports = {","  StepContent: StepContent,","  ReadingStepContent: ReadingStepContent","};",""],"f":{"1":3,"2":0,"3":0,"4":3,"5":0,"6":0},"fnMap":{"1":{"line":21,"loc":{"end":{"column":29,"line":21},"start":{"column":18,"line":21}},"name":"(anonymous_1)"},"2":{"line":25,"loc":{"end":{"column":23,"line":25},"start":{"column":12,"line":25}},"name":"(anonymous_2)"},"3":{"line":28,"loc":{"end":{"column":31,"line":28},"start":{"column":20,"line":28}},"name":"(anonymous_3)"},"4":{"line":31,"loc":{"end":{"column":21,"line":31},"start":{"column":10,"line":31}},"name":"(anonymous_4)"},"5":{"line":49,"loc":{"end":{"column":23,"line":49},"start":{"column":12,"line":49}},"name":"(anonymous_5)"},"6":{"line":52,"loc":{"end":{"column":21,"line":52},"start":{"column":10,"line":52}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-step/step-with-reading-content.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":3,"9":3,"10":0,"11":0,"12":3,"13":3,"14":3,"15":3,"16":21,"17":0,"18":0,"19":0,"20":0,"21":0,"22":21},"statementMap":{"1":{"end":{"column":151,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":62,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":139,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":124,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":40},"start":{"column":0,"line":13}},"8":{"end":{"column":13,"line":22},"start":{"column":4,"line":22}},"9":{"end":{"column":91,"line":23},"start":{"column":4,"line":23}},"10":{"end":{"column":49,"line":26},"start":{"column":4,"line":26}},"11":{"end":{"column":16,"line":29},"start":{"column":4,"line":29}},"12":{"end":{"column":58,"line":32},"start":{"column":4,"line":32}},"13":{"end":{"column":102,"line":33},"start":{"column":4,"line":33}},"14":{"end":{"column":54,"line":34},"start":{"column":4,"line":34}},"15":{"end":{"column":8,"line":38},"start":{"column":4,"line":35}},"16":{"end":{"column":3,"line":63},"start":{"column":0,"line":42}},"17":{"end":{"column":49,"line":50},"start":{"column":4,"line":50}},"18":{"end":{"column":41,"line":53},"start":{"column":4,"line":53}},"19":{"end":{"column":62,"line":54},"start":{"column":4,"line":54}},"20":{"end":{"column":54,"line":55},"start":{"column":4,"line":55}},"21":{"end":{"column":8,"line":61},"start":{"column":4,"line":56}},"22":{"end":{"column":2,"line":68},"start":{"column":0,"line":65}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"22":3,"23":3,"26":0,"29":0,"32":3,"33":3,"34":3,"35":3,"42":21,"50":0,"53":0,"54":0,"55":0,"56":0,"65":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/breadcrumbs.cjsx":{"b":{},"branchMap":{},"code":["var BS, BackButton, BreadcrumbStatic, ChapterSectionMixin, CrumbMixin, React, _;","","React = require('react');","","BS = require('react-bootstrap');","","_ = require('underscore');","","CrumbMixin = require('./crumb-mixin');","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","BreadcrumbStatic = require('../breadcrumb').BreadcrumbStatic;","","BackButton = require('../buttons/back-button');","","module.exports = React.createClass({","  displayName: 'Breadcrumbs',","  mixins: [ChapterSectionMixin, CrumbMixin],","  propTypes: {","    id: React.PropTypes.string.isRequired,","    currentStep: React.PropTypes.number,","    goToStep: React.PropTypes.func.isRequired,","    title: React.PropTypes.string.isRequired,","    courseId: React.PropTypes.string.isRequired","  },","  render: function() {","    var backButton, courseId, crumbs, currentStep, fallbackLink, goToStep, ref, stepButtons, title;","    crumbs = this.getCrumableCrumbs();","    ref = this.props, currentStep = ref.currentStep, goToStep = ref.goToStep, title = ref.title, courseId = ref.courseId;","    stepButtons = _.map(crumbs, function(crumb) {","      return React.createElement(BreadcrumbStatic, {","        \"crumb\": crumb,","        \"currentStep\": currentStep,","        \"goToStep\": goToStep,","        \"key\": \"breadcrumb-\" + crumb.type + \"-\" + crumb.key","      });","    });","    fallbackLink = {","      to: 'taskplans',","      params: {","        courseId: courseId","      },","      text: 'Back to Calendar'","    };","    backButton = React.createElement(BackButton, {","      \"fallbackLink\": fallbackLink","    });","    return React.createElement(\"div\", {","      \"className\": 'task-breadcrumbs'","    }, stepButtons, backButton, React.createElement(\"div\", {","      \"className\": 'task-title'","    }, title));","  }","});",""],"f":{"1":2,"2":21},"fnMap":{"1":{"line":27,"loc":{"end":{"column":21,"line":27},"start":{"column":10,"line":27}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":48,"line":31},"start":{"column":32,"line":31}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/breadcrumbs.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":2,"11":2,"12":2,"13":2,"14":21,"15":2,"16":2,"17":2},"statementMap":{"1":{"end":{"column":80,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":38,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":79,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":61,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":47,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":55},"start":{"column":0,"line":17}},"10":{"end":{"column":99,"line":28},"start":{"column":4,"line":28}},"11":{"end":{"column":38,"line":29},"start":{"column":4,"line":29}},"12":{"end":{"column":121,"line":30},"start":{"column":4,"line":30}},"13":{"end":{"column":7,"line":38},"start":{"column":4,"line":31}},"14":{"end":{"column":9,"line":37},"start":{"column":6,"line":32}},"15":{"end":{"column":6,"line":45},"start":{"column":4,"line":39}},"16":{"end":{"column":7,"line":48},"start":{"column":4,"line":46}},"17":{"end":{"column":15,"line":53},"start":{"column":4,"line":49}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"28":2,"29":2,"30":2,"31":2,"32":21,"39":2,"46":2,"49":2}},
"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/crumb-mixin.cjsx":{"b":{"1":[2,12],"2":[12,2],"3":[14,133],"4":[14,133],"5":[147,147],"6":[147,0],"7":[147,0]},"branchMap":{"1":{"line":24,"locations":[{"end":{"column":4,"line":24},"start":{"column":4,"line":24}},{"end":{"column":4,"line":24},"start":{"column":4,"line":24}}],"type":"if"},"2":{"line":24,"locations":[{"end":{"column":35,"line":24},"start":{"column":26,"line":24}},{"end":{"column":44,"line":24},"start":{"column":38,"line":24}}],"type":"cond-expr"},"3":{"line":50,"locations":[{"end":{"column":4,"line":50},"start":{"column":4,"line":50}},{"end":{"column":4,"line":50},"start":{"column":4,"line":50}}],"type":"if"},"4":{"line":64,"locations":[{"end":{"column":4,"line":64},"start":{"column":4,"line":64}},{"end":{"column":4,"line":64},"start":{"column":4,"line":64}}],"type":"if"},"5":{"line":114,"locations":[{"end":{"column":30,"line":114},"start":{"column":11,"line":114}},{"end":{"column":35,"line":114},"start":{"column":34,"line":114}}],"type":"binary-expr"},"6":{"line":118,"locations":[{"end":{"column":4,"line":118},"start":{"column":4,"line":118}},{"end":{"column":4,"line":118},"start":{"column":4,"line":118}}],"type":"if"},"7":{"line":119,"locations":[{"end":{"column":135,"line":119},"start":{"column":71,"line":119}},{"end":{"column":144,"line":119},"start":{"column":138,"line":119}}],"type":"cond-expr"}},"code":["var TaskTeacherReviewStore, _, camelCase;","","_ = require('underscore');","","camelCase = require('camelcase');","","TaskTeacherReviewStore = require('../../flux/task-teacher-review').TaskTeacherReviewStore;","","module.exports = {","  _pages: ['current_pages', 'spaced_pages'],","  _setChapterSectionOnQuestions: function(page) {","    var chapter_section, title;","    chapter_section = page.chapter_section;","    title = page.title;","    return _.each(page.exercises, function(exercise) {","      exercise.chapter_section = chapter_section;","      exercise.title = title;","      return _.each(exercise.content.questions, function(question) {","        return question.chapter_section = chapter_section;","      });","    });","  },","  _getStatsForPeriod: function(review, period) {","    if ((period != null ? period.id : void 0) == null) {","      return _.first(review.stats);","    }","    return _.findWhere(review.stats, {","      period_id: period.id","    });","  },","  _getExercisesFromStats: function(stats) {","    var pagedExercises;","    pagedExercises = _.map(this._pages, (function(_this) {","      return function(page) {","        var exercises;","        exercises = _.chain(stats[page]).clone().each(_this._setChapterSectionOnQuestions).pluck('exercises').flatten(true).compact().value();","        exercises[\"for\"] = page;","        return exercises;","      };","    })(this));","    return _.flatten(pagedExercises, true);","  },","  _makeCrumb: function(data) {","    var crumb;","    crumb = {","      data: data,","      type: 'step',","      listeners: this._getStepListeners('exercise')","    };","    if (data.length) {","      crumb.sectionLabel = this._buildSectionLabel(data[0].chapter_section);","      _.each(crumb.data, function(data) {","        return data.sectionLabel = crumb.sectionLabel;","      });","    } else {","      crumb.sectionLabel = this._buildSectionLabel(data.chapter_section);","      crumb.data.sectionLabel = crumb.sectionLabel;","    }","    return crumb;","  },","  _indexCrumb: function(crumb, index) {","    crumb.key = index;","    crumb.crumb = this._shouldStepCrumb(index);","    if (crumb.data.length) {","      return _.each(crumb.data, function(data) {","        return data.key = crumb.key;","      });","    } else {","      return crumb.data.key = crumb.key;","    }","  },","  _getCrumbsForHomework: function(stats) {","    var crumbs, exercises;","    exercises = this._getExercisesFromStats(stats);","    return crumbs = _.chain(exercises).map(this._makeCrumb).each(this._indexCrumb).value();","  },","  _getCrumbsForReading: function(stats) {","    var crumbs, exercises;","    exercises = this._getExercisesFromStats(stats);","    crumbs = _.chain(exercises).groupBy('chapter_section').map(this._makeCrumb).each(this._indexCrumb).value();","    return crumbs;","  },","  _getCrumbsForExternal: function() {","    return [];","  },","  _getContentsForHomework: function(crumbs) {","    var contents;","    return contents = _.pluck(crumbs, 'data');","  },","  _getContentsForReading: function(crumbs) {","    return _.chain(crumbs).pluck('data').map(function(data) {","      var content, key, ref, sectionLabel, title;","      content = _.clone(data);","      ref = data[0], title = ref.title, key = ref.key, sectionLabel = ref.sectionLabel;","      content.unshift({","        sectionLabel: sectionLabel,","        title: title,","        key: key","      });","      return content;","    }).flatten(true).value();","  },","  _getContentsForExternal: function() {","    return [];","  },","  _shouldStepCrumb: function() {","    return true;","  },","  _getStepListeners: function(stepType) {","    var listeners;","    listeners = {","      placeholder: 3","    };","    return listeners[stepType] || 1;","  },","  _buildSectionLabel: function(chapter_section) {","    var sectionLabel;","    if (chapter_section != null) {","      return sectionLabel = typeof this.sectionFormat === \"function\" ? this.sectionFormat(chapter_section, this.props.sectionSeparator) : void 0;","    }","  },","  _generateCrumbsFromStats: function(stats, type) {","    var crumbs, getCrumbs;","    getCrumbs = camelCase(\"get-crumbs-for-\" + type);","    return crumbs = this[\"_\" + getCrumbs](stats);","  },","  _generateCrumbs: function(id, period) {","    var crumbs, review, stats;","    review = TaskTeacherReviewStore.get(id);","    stats = this._getStatsForPeriod(review, period);","    return crumbs = this._generateCrumbsFromStats(stats, review.type);","  },","  generateCrumbs: function() {","    var id, period, periodCrumbs, ref;","    ref = this.props, id = ref.id, period = ref.period;","    periodCrumbs = this._generateCrumbs(id, period);","    return _.sortBy(periodCrumbs, function(crumb) {","      return crumb.data.average_step_number;","    });","  },","  getContents: function() {","    var allCrumbs, contents, getContents, id, period, ref, review;","    ref = this.props, id = ref.id, period = ref.period;","    review = TaskTeacherReviewStore.get(id);","    allCrumbs = this.generateCrumbs();","    getContents = camelCase(\"get-contents-for-\" + review.type);","    return contents = this[\"_\" + getContents](allCrumbs);","  },","  getCrumableCrumbs: function() {","    var allCrumbs, crumbableCrumbs;","    allCrumbs = this.generateCrumbs();","    return crumbableCrumbs = _.where(allCrumbs, {","      crumb: true","    });","  },","  getMaxListeners: function() {","    var crumbs, listeners;","    crumbs = this.generateCrumbs();","    return listeners = _.reduce(crumbs, function(memo, crumb) {","      return memo + crumb.listeners;","    }, 0);","  },","  getDefaultCurrentStep: function() {","    return 0;","  }","};",""],"f":{"1":42,"2":189,"3":189,"4":14,"5":14,"6":14,"7":28,"8":147,"9":56,"10":147,"11":56,"12":7,"13":7,"14":0,"15":6,"16":6,"17":12,"18":0,"19":147,"20":147,"21":147,"22":14,"23":14,"24":14,"25":147,"26":12,"27":2,"28":0,"29":0,"30":0},"fnMap":{"1":{"line":11,"loc":{"end":{"column":48,"line":11},"start":{"column":33,"line":11}},"name":"(anonymous_1)"},"2":{"line":15,"loc":{"end":{"column":53,"line":15},"start":{"column":34,"line":15}},"name":"(anonymous_2)"},"3":{"line":18,"loc":{"end":{"column":67,"line":18},"start":{"column":48,"line":18}},"name":"(anonymous_3)"},"4":{"line":23,"loc":{"end":{"column":47,"line":23},"start":{"column":22,"line":23}},"name":"(anonymous_4)"},"5":{"line":31,"loc":{"end":{"column":42,"line":31},"start":{"column":26,"line":31}},"name":"(anonymous_5)"},"6":{"line":33,"loc":{"end":{"column":57,"line":33},"start":{"column":41,"line":33}},"name":"(anonymous_6)"},"7":{"line":34,"loc":{"end":{"column":28,"line":34},"start":{"column":13,"line":34}},"name":"(anonymous_7)"},"8":{"line":43,"loc":{"end":{"column":29,"line":43},"start":{"column":14,"line":43}},"name":"(anonymous_8)"},"9":{"line":52,"loc":{"end":{"column":40,"line":52},"start":{"column":25,"line":52}},"name":"(anonymous_9)"},"10":{"line":61,"loc":{"end":{"column":38,"line":61},"start":{"column":15,"line":61}},"name":"(anonymous_10)"},"11":{"line":65,"loc":{"end":{"column":47,"line":65},"start":{"column":32,"line":65}},"name":"(anonymous_11)"},"12":{"line":72,"loc":{"end":{"column":41,"line":72},"start":{"column":25,"line":72}},"name":"(anonymous_12)"},"13":{"line":77,"loc":{"end":{"column":40,"line":77},"start":{"column":24,"line":77}},"name":"(anonymous_13)"},"14":{"line":83,"loc":{"end":{"column":36,"line":83},"start":{"column":25,"line":83}},"name":"(anonymous_14)"},"15":{"line":86,"loc":{"end":{"column":44,"line":86},"start":{"column":27,"line":86}},"name":"(anonymous_15)"},"16":{"line":90,"loc":{"end":{"column":43,"line":90},"start":{"column":26,"line":90}},"name":"(anonymous_16)"},"17":{"line":91,"loc":{"end":{"column":60,"line":91},"start":{"column":45,"line":91}},"name":"(anonymous_17)"},"18":{"line":103,"loc":{"end":{"column":38,"line":103},"start":{"column":27,"line":103}},"name":"(anonymous_18)"},"19":{"line":106,"loc":{"end":{"column":31,"line":106},"start":{"column":20,"line":106}},"name":"(anonymous_19)"},"20":{"line":109,"loc":{"end":{"column":40,"line":109},"start":{"column":21,"line":109}},"name":"(anonymous_20)"},"21":{"line":116,"loc":{"end":{"column":48,"line":116},"start":{"column":22,"line":116}},"name":"(anonymous_21)"},"22":{"line":122,"loc":{"end":{"column":50,"line":122},"start":{"column":28,"line":122}},"name":"(anonymous_22)"},"23":{"line":127,"loc":{"end":{"column":40,"line":127},"start":{"column":19,"line":127}},"name":"(anonymous_23)"},"24":{"line":133,"loc":{"end":{"column":29,"line":133},"start":{"column":18,"line":133}},"name":"(anonymous_24)"},"25":{"line":137,"loc":{"end":{"column":50,"line":137},"start":{"column":34,"line":137}},"name":"(anonymous_25)"},"26":{"line":141,"loc":{"end":{"column":26,"line":141},"start":{"column":15,"line":141}},"name":"(anonymous_26)"},"27":{"line":149,"loc":{"end":{"column":32,"line":149},"start":{"column":21,"line":149}},"name":"(anonymous_27)"},"28":{"line":156,"loc":{"end":{"column":30,"line":156},"start":{"column":19,"line":156}},"name":"(anonymous_28)"},"29":{"line":159,"loc":{"end":{"column":62,"line":159},"start":{"column":40,"line":159}},"name":"(anonymous_29)"},"30":{"line":163,"loc":{"end":{"column":36,"line":163},"start":{"column":25,"line":163}},"name":"(anonymous_30)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/crumb-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":42,"7":42,"8":42,"9":42,"10":189,"11":189,"12":189,"13":189,"14":14,"15":2,"16":12,"17":14,"18":14,"19":14,"20":28,"21":28,"22":28,"23":28,"24":14,"25":147,"26":147,"27":147,"28":14,"29":14,"30":56,"31":133,"32":133,"33":147,"34":147,"35":147,"36":147,"37":14,"38":56,"39":133,"40":7,"41":7,"42":7,"43":7,"44":7,"45":7,"46":7,"47":0,"48":6,"49":6,"50":6,"51":12,"52":12,"53":12,"54":12,"55":12,"56":0,"57":147,"58":147,"59":147,"60":147,"61":147,"62":147,"63":147,"64":14,"65":14,"66":14,"67":14,"68":14,"69":14,"70":14,"71":14,"72":14,"73":14,"74":14,"75":147,"76":12,"77":12,"78":12,"79":12,"80":12,"81":12,"82":2,"83":2,"84":2,"85":0,"86":0,"87":0,"88":0,"89":0},"statementMap":{"1":{"end":{"column":41,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":90,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":166},"start":{"column":0,"line":9}},"6":{"end":{"column":31,"line":12},"start":{"column":4,"line":12}},"7":{"end":{"column":43,"line":13},"start":{"column":4,"line":13}},"8":{"end":{"column":23,"line":14},"start":{"column":4,"line":14}},"9":{"end":{"column":7,"line":21},"start":{"column":4,"line":15}},"10":{"end":{"column":49,"line":16},"start":{"column":6,"line":16}},"11":{"end":{"column":29,"line":17},"start":{"column":6,"line":17}},"12":{"end":{"column":9,"line":20},"start":{"column":6,"line":18}},"13":{"end":{"column":58,"line":19},"start":{"column":8,"line":19}},"14":{"end":{"column":5,"line":26},"start":{"column":4,"line":24}},"15":{"end":{"column":35,"line":25},"start":{"column":6,"line":25}},"16":{"end":{"column":7,"line":29},"start":{"column":4,"line":27}},"17":{"end":{"column":23,"line":32},"start":{"column":4,"line":32}},"18":{"end":{"column":14,"line":40},"start":{"column":4,"line":33}},"19":{"end":{"column":8,"line":39},"start":{"column":6,"line":34}},"20":{"end":{"column":22,"line":35},"start":{"column":8,"line":35}},"21":{"end":{"column":142,"line":36},"start":{"column":8,"line":36}},"22":{"end":{"column":32,"line":37},"start":{"column":8,"line":37}},"23":{"end":{"column":25,"line":38},"start":{"column":8,"line":38}},"24":{"end":{"column":43,"line":41},"start":{"column":4,"line":41}},"25":{"end":{"column":14,"line":44},"start":{"column":4,"line":44}},"26":{"end":{"column":6,"line":49},"start":{"column":4,"line":45}},"27":{"end":{"column":5,"line":58},"start":{"column":4,"line":50}},"28":{"end":{"column":76,"line":51},"start":{"column":6,"line":51}},"29":{"end":{"column":9,"line":54},"start":{"column":6,"line":52}},"30":{"end":{"column":54,"line":53},"start":{"column":8,"line":53}},"31":{"end":{"column":73,"line":56},"start":{"column":6,"line":56}},"32":{"end":{"column":51,"line":57},"start":{"column":6,"line":57}},"33":{"end":{"column":17,"line":59},"start":{"column":4,"line":59}},"34":{"end":{"column":22,"line":62},"start":{"column":4,"line":62}},"35":{"end":{"column":47,"line":63},"start":{"column":4,"line":63}},"36":{"end":{"column":5,"line":70},"start":{"column":4,"line":64}},"37":{"end":{"column":9,"line":67},"start":{"column":6,"line":65}},"38":{"end":{"column":36,"line":66},"start":{"column":8,"line":66}},"39":{"end":{"column":40,"line":69},"start":{"column":6,"line":69}},"40":{"end":{"column":26,"line":73},"start":{"column":4,"line":73}},"41":{"end":{"column":51,"line":74},"start":{"column":4,"line":74}},"42":{"end":{"column":91,"line":75},"start":{"column":4,"line":75}},"43":{"end":{"column":26,"line":78},"start":{"column":4,"line":78}},"44":{"end":{"column":51,"line":79},"start":{"column":4,"line":79}},"45":{"end":{"column":111,"line":80},"start":{"column":4,"line":80}},"46":{"end":{"column":18,"line":81},"start":{"column":4,"line":81}},"47":{"end":{"column":14,"line":84},"start":{"column":4,"line":84}},"48":{"end":{"column":17,"line":87},"start":{"column":4,"line":87}},"49":{"end":{"column":46,"line":88},"start":{"column":4,"line":88}},"50":{"end":{"column":29,"line":101},"start":{"column":4,"line":91}},"51":{"end":{"column":49,"line":92},"start":{"column":6,"line":92}},"52":{"end":{"column":30,"line":93},"start":{"column":6,"line":93}},"53":{"end":{"column":87,"line":94},"start":{"column":6,"line":94}},"54":{"end":{"column":9,"line":99},"start":{"column":6,"line":95}},"55":{"end":{"column":21,"line":100},"start":{"column":6,"line":100}},"56":{"end":{"column":14,"line":104},"start":{"column":4,"line":104}},"57":{"end":{"column":16,"line":107},"start":{"column":4,"line":107}},"58":{"end":{"column":18,"line":110},"start":{"column":4,"line":110}},"59":{"end":{"column":6,"line":113},"start":{"column":4,"line":111}},"60":{"end":{"column":36,"line":114},"start":{"column":4,"line":114}},"61":{"end":{"column":21,"line":117},"start":{"column":4,"line":117}},"62":{"end":{"column":5,"line":120},"start":{"column":4,"line":118}},"63":{"end":{"column":145,"line":119},"start":{"column":6,"line":119}},"64":{"end":{"column":26,"line":123},"start":{"column":4,"line":123}},"65":{"end":{"column":52,"line":124},"start":{"column":4,"line":124}},"66":{"end":{"column":49,"line":125},"start":{"column":4,"line":125}},"67":{"end":{"column":30,"line":128},"start":{"column":4,"line":128}},"68":{"end":{"column":44,"line":129},"start":{"column":4,"line":129}},"69":{"end":{"column":52,"line":130},"start":{"column":4,"line":130}},"70":{"end":{"column":70,"line":131},"start":{"column":4,"line":131}},"71":{"end":{"column":38,"line":134},"start":{"column":4,"line":134}},"72":{"end":{"column":55,"line":135},"start":{"column":4,"line":135}},"73":{"end":{"column":52,"line":136},"start":{"column":4,"line":136}},"74":{"end":{"column":7,"line":139},"start":{"column":4,"line":137}},"75":{"end":{"column":44,"line":138},"start":{"column":6,"line":138}},"76":{"end":{"column":66,"line":142},"start":{"column":4,"line":142}},"77":{"end":{"column":55,"line":143},"start":{"column":4,"line":143}},"78":{"end":{"column":44,"line":144},"start":{"column":4,"line":144}},"79":{"end":{"column":38,"line":145},"start":{"column":4,"line":145}},"80":{"end":{"column":63,"line":146},"start":{"column":4,"line":146}},"81":{"end":{"column":57,"line":147},"start":{"column":4,"line":147}},"82":{"end":{"column":35,"line":150},"start":{"column":4,"line":150}},"83":{"end":{"column":38,"line":151},"start":{"column":4,"line":151}},"84":{"end":{"column":7,"line":154},"start":{"column":4,"line":152}},"85":{"end":{"column":26,"line":157},"start":{"column":4,"line":157}},"86":{"end":{"column":35,"line":158},"start":{"column":4,"line":158}},"87":{"end":{"column":10,"line":161},"start":{"column":4,"line":159}},"88":{"end":{"column":36,"line":160},"start":{"column":6,"line":160}},"89":{"end":{"column":13,"line":164},"start":{"column":4,"line":164}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"12":42,"13":42,"14":42,"15":42,"16":189,"17":189,"18":189,"19":189,"24":14,"25":2,"27":12,"32":14,"33":14,"34":14,"35":28,"36":28,"37":28,"38":28,"41":14,"44":147,"45":147,"50":147,"51":14,"52":14,"53":56,"56":133,"57":133,"59":147,"62":147,"63":147,"64":147,"65":14,"66":56,"69":133,"73":7,"74":7,"75":7,"78":7,"79":7,"80":7,"81":7,"84":0,"87":6,"88":6,"91":6,"92":12,"93":12,"94":12,"95":12,"100":12,"104":0,"107":147,"110":147,"111":147,"114":147,"117":147,"118":147,"119":147,"123":14,"124":14,"125":14,"128":14,"129":14,"130":14,"131":14,"134":14,"135":14,"136":14,"137":14,"138":147,"142":12,"143":12,"144":12,"145":12,"146":12,"147":12,"150":2,"151":2,"152":2,"157":0,"158":0,"159":0,"160":0,"164":0}},
"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/exercise.cjsx":{"b":{"1":[0,138],"2":[0,138],"3":[138,24],"4":[138,0]},"branchMap":{"1":{"line":59,"locations":[{"end":{"column":4,"line":59},"start":{"column":4,"line":59}},{"end":{"column":4,"line":59},"start":{"column":4,"line":59}}],"type":"if"},"2":{"line":63,"locations":[{"end":{"column":4,"line":63},"start":{"column":4,"line":63}},{"end":{"column":4,"line":63},"start":{"column":4,"line":63}}],"type":"if"},"3":{"line":85,"locations":[{"end":{"column":4,"line":85},"start":{"column":4,"line":85}},{"end":{"column":4,"line":85},"start":{"column":4,"line":85}}],"type":"if"},"4":{"line":86,"locations":[{"end":{"column":67,"line":86},"start":{"column":42,"line":86}},{"end":{"column":97,"line":86},"start":{"column":70,"line":86}}],"type":"cond-expr"}},"code":["var ArbitraryHtmlAndMath, BS, CardBody, FreeResponse, Question, React, TaskTeacherReviewExercise, _, ref;","","React = require('react');","","_ = require('underscore');","","BS = require('react-bootstrap');","","ref = require('openstax-react-components'), ArbitraryHtmlAndMath = ref.ArbitraryHtmlAndMath, Question = ref.Question, CardBody = ref.CardBody, FreeResponse = ref.FreeResponse;","","TaskTeacherReviewExercise = React.createClass({","  displayName: 'TaskTeacherReviewExercise',","  propTypes: {","    content: React.PropTypes.object.isRequired,","    answers: React.PropTypes.array.isRequired,","    answered_count: React.PropTypes.number.isRequired","  },","  getInitialState: function() {","    return {","      showAnswers: false","    };","  },","  onChangeAnswerAttempt: function(answer) {","    return console.log('You cannot change an answer on a problem you\\'ve reviewed.', 'TODO: show warning in ui.');","  },","  toggleAnswers: function() {","    var showAnswers;","    showAnswers = this.state.showAnswers;","    return this.setState({","      showAnswers: !showAnswers","    });","  },","  getQuestion: function() {","    var content;","    content = this.props.content;","    return content.questions[0];","  },","  expectsFreeResponse: function() {","    var formats, question;","    question = this.getQuestion();","    formats = question.formats;","    return formats.indexOf('free-response') > -1;","  },","  renderNoFreeResponse: function() {","    var freeResponsesClasses, header;","    freeResponsesClasses = 'teacher-review-answers has-no-answers';","    header = React.createElement(\"i\", null, \"No student text responses\");","    return React.createElement(BS.Panel, {","      \"header\": header,","      \"className\": freeResponsesClasses","    });","  },","  renderFreeResponse: function() {","    var answers, freeResponses, freeResponsesClasses, question, showAnswers, toggleAnswersText;","    answers = this.props.answers;","    showAnswers = this.state.showAnswers;","    question = this.getQuestion();","    toggleAnswersText = \"View student text responses (\" + answers.length + \")\";","    if (showAnswers) {","      toggleAnswersText = 'Hide student text responses';","    }","    freeResponsesClasses = 'teacher-review-answers';","    if (showAnswers) {","      freeResponsesClasses += ' active';","    }","    freeResponses = _.map(answers, function(answer, index) {","      var freeResponseKey;","      freeResponseKey = \"free-response-\" + question.id + \"-\" + index;","      return React.createElement(FreeResponse, React.__spread({}, answer, {","        \"key\": freeResponseKey","      }));","    });","    return React.createElement(BS.Accordion, {","      \"onSelect\": this.toggleAnswers","    }, React.createElement(BS.Panel, {","      \"header\": toggleAnswersText,","      \"eventKey\": question.id,","      \"className\": freeResponsesClasses","    }, freeResponses));","  },","  render: function() {","    var answered_count, answers, question, ref1, studentResponses;","    ref1 = this.props, answers = ref1.answers, answered_count = ref1.answered_count;","    question = this.getQuestion();","    if (this.expectsFreeResponse()) {","      studentResponses = answers.length ? this.renderFreeResponse() : this.renderNoFreeResponse();","    }","    return React.createElement(CardBody, {","      \"className\": 'task-step openstax-exercise',","      \"pinned\": false","    }, React.createElement(Question, {","      \"model\": question,","      \"answered_count\": answered_count,","      \"type\": 'teacher-review',","      \"exercise_uid\": this.props.content.uid,","      \"onChangeAttempt\": this.onChangeAnswerAttempt","    }, studentResponses));","  }","});","","module.exports = TaskTeacherReviewExercise;",""],"f":{"1":27,"2":0,"3":0,"4":462,"5":162,"6":0,"7":138,"8":900,"9":162},"fnMap":{"1":{"line":18,"loc":{"end":{"column":30,"line":18},"start":{"column":19,"line":18}},"name":"(anonymous_1)"},"2":{"line":23,"loc":{"end":{"column":42,"line":23},"start":{"column":25,"line":23}},"name":"(anonymous_2)"},"3":{"line":26,"loc":{"end":{"column":28,"line":26},"start":{"column":17,"line":26}},"name":"(anonymous_3)"},"4":{"line":33,"loc":{"end":{"column":26,"line":33},"start":{"column":15,"line":33}},"name":"(anonymous_4)"},"5":{"line":38,"loc":{"end":{"column":34,"line":38},"start":{"column":23,"line":38}},"name":"(anonymous_5)"},"6":{"line":44,"loc":{"end":{"column":35,"line":44},"start":{"column":24,"line":44}},"name":"(anonymous_6)"},"7":{"line":53,"loc":{"end":{"column":33,"line":53},"start":{"column":22,"line":53}},"name":"(anonymous_7)"},"8":{"line":66,"loc":{"end":{"column":59,"line":66},"start":{"column":35,"line":66}},"name":"(anonymous_8)"},"9":{"line":81,"loc":{"end":{"column":21,"line":81},"start":{"column":10,"line":81}},"name":"(anonymous_9)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/exercise.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":27,"8":0,"9":0,"10":0,"11":0,"12":462,"13":462,"14":462,"15":162,"16":162,"17":162,"18":162,"19":0,"20":0,"21":0,"22":0,"23":138,"24":138,"25":138,"26":138,"27":138,"28":138,"29":0,"30":138,"31":138,"32":0,"33":138,"34":900,"35":900,"36":900,"37":138,"38":162,"39":162,"40":162,"41":162,"42":138,"43":162,"44":21},"statementMap":{"1":{"end":{"column":105,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":32,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":175,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":99},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":21},"start":{"column":4,"line":19}},"8":{"end":{"column":114,"line":24},"start":{"column":4,"line":24}},"9":{"end":{"column":20,"line":27},"start":{"column":4,"line":27}},"10":{"end":{"column":41,"line":28},"start":{"column":4,"line":28}},"11":{"end":{"column":7,"line":31},"start":{"column":4,"line":29}},"12":{"end":{"column":16,"line":34},"start":{"column":4,"line":34}},"13":{"end":{"column":33,"line":35},"start":{"column":4,"line":35}},"14":{"end":{"column":32,"line":36},"start":{"column":4,"line":36}},"15":{"end":{"column":26,"line":39},"start":{"column":4,"line":39}},"16":{"end":{"column":34,"line":40},"start":{"column":4,"line":40}},"17":{"end":{"column":31,"line":41},"start":{"column":4,"line":41}},"18":{"end":{"column":49,"line":42},"start":{"column":4,"line":42}},"19":{"end":{"column":37,"line":45},"start":{"column":4,"line":45}},"20":{"end":{"column":67,"line":46},"start":{"column":4,"line":46}},"21":{"end":{"column":73,"line":47},"start":{"column":4,"line":47}},"22":{"end":{"column":7,"line":51},"start":{"column":4,"line":48}},"23":{"end":{"column":95,"line":54},"start":{"column":4,"line":54}},"24":{"end":{"column":33,"line":55},"start":{"column":4,"line":55}},"25":{"end":{"column":41,"line":56},"start":{"column":4,"line":56}},"26":{"end":{"column":34,"line":57},"start":{"column":4,"line":57}},"27":{"end":{"column":79,"line":58},"start":{"column":4,"line":58}},"28":{"end":{"column":5,"line":61},"start":{"column":4,"line":59}},"29":{"end":{"column":56,"line":60},"start":{"column":6,"line":60}},"30":{"end":{"column":52,"line":62},"start":{"column":4,"line":62}},"31":{"end":{"column":5,"line":65},"start":{"column":4,"line":63}},"32":{"end":{"column":40,"line":64},"start":{"column":6,"line":64}},"33":{"end":{"column":7,"line":72},"start":{"column":4,"line":66}},"34":{"end":{"column":26,"line":67},"start":{"column":6,"line":67}},"35":{"end":{"column":69,"line":68},"start":{"column":6,"line":68}},"36":{"end":{"column":10,"line":71},"start":{"column":6,"line":69}},"37":{"end":{"column":23,"line":79},"start":{"column":4,"line":73}},"38":{"end":{"column":66,"line":82},"start":{"column":4,"line":82}},"39":{"end":{"column":84,"line":83},"start":{"column":4,"line":83}},"40":{"end":{"column":34,"line":84},"start":{"column":4,"line":84}},"41":{"end":{"column":5,"line":87},"start":{"column":4,"line":85}},"42":{"end":{"column":98,"line":86},"start":{"column":6,"line":86}},"43":{"end":{"column":26,"line":97},"start":{"column":4,"line":88}},"44":{"end":{"column":43,"line":101},"start":{"column":0,"line":101}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"19":27,"24":0,"27":0,"28":0,"29":0,"34":462,"35":462,"36":462,"39":162,"40":162,"41":162,"42":162,"45":0,"46":0,"47":0,"48":0,"54":138,"55":138,"56":138,"57":138,"58":138,"59":138,"60":0,"62":138,"63":138,"64":0,"66":138,"67":900,"68":900,"69":900,"73":138,"82":162,"83":162,"84":162,"85":162,"86":138,"88":162,"101":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/index.cjsx":{"b":{"1":[2,2],"2":[0,10],"3":[0,2],"4":[0,0],"5":[0,2],"6":[2,8],"7":[10,0]},"branchMap":{"1":{"line":35,"locations":[{"end":{"column":56,"line":35},"start":{"column":30,"line":35}},{"end":{"column":69,"line":35},"start":{"column":59,"line":35}}],"type":"cond-expr"},"2":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"3":{"line":75,"locations":[{"end":{"column":4,"line":75},"start":{"column":4,"line":75}},{"end":{"column":4,"line":75},"start":{"column":4,"line":75}}],"type":"if"},"4":{"line":90,"locations":[{"end":{"column":4,"line":90},"start":{"column":4,"line":90}},{"end":{"column":4,"line":90},"start":{"column":4,"line":90}}],"type":"if"},"5":{"line":97,"locations":[{"end":{"column":4,"line":97},"start":{"column":4,"line":97}},{"end":{"column":4,"line":97},"start":{"column":4,"line":97}}],"type":"if"},"6":{"line":119,"locations":[{"end":{"column":4,"line":119},"start":{"column":4,"line":119}},{"end":{"column":4,"line":119},"start":{"column":4,"line":119}}],"type":"if"},"7":{"line":147,"locations":[{"end":{"column":83,"line":147},"start":{"column":66,"line":147}},{"end":{"column":92,"line":147},"start":{"column":86,"line":147}}],"type":"cond-expr"}},"code":["var BS, Breadcrumbs, PinnedHeaderFooterCard, React, ReviewShell, Router, StatsModalShell, TaskTeacherReview, TaskTeacherReviewShell, TaskTeacherReviewStore, _, camelCase;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","Breadcrumbs = require('./breadcrumbs');","","ReviewShell = require('./review').ReviewShell;","","StatsModalShell = require('../plan-stats').StatsModalShell;","","PinnedHeaderFooterCard = require('openstax-react-components').PinnedHeaderFooterCard;","","_ = require('underscore');","","camelCase = require('camelcase');","","TaskTeacherReviewStore = require('../../flux/task-teacher-review').TaskTeacherReviewStore;","","TaskTeacherReview = React.createClass({","  propTypes: {","    id: React.PropTypes.string","  },","  displayName: 'TaskTeacherReview',","  contextTypes: {","    router: React.PropTypes.func","  },","  setStepKey: function() {","    var crumbKey, defaultKey, sectionIndex;","    sectionIndex = this.context.router.getCurrentParams().sectionIndex;","    defaultKey = null;","    crumbKey = sectionIndex ? parseInt(sectionIndex) - 1 : defaultKey;","    return this.setState({","      currentStep: crumbKey","    });","  },","  getPeriodIndex: function() {","    var periodIndex;","    periodIndex = this.context.router.getCurrentParams().periodIndex;","    if (periodIndex == null) {","      periodIndex = 1;","    }","    return parseInt(periodIndex) - 1;","  },","  setScrollState: function(scrollState) {","    return this.setState({","      scrollState: scrollState","    });","  },","  getInitialState: function() {","    var id;","    id = this.props.id;","    return {","      currentStep: null,","      scrollState: {},","      period: {},","      isReviewLoaded: TaskTeacherReviewStore.get(id) != null","    };","  },","  componentWillMount: function() {","    this.setStepKey();","    return TaskTeacherReviewStore.on('review.loaded', this.setIsReviewLoaded);","  },","  componentWillReceiveProps: function() {","    return this.setStepKey();","  },","  goToStep: function(stepKey) {","    var params;","    params = _.clone(this.context.router.getCurrentParams());","    params.sectionIndex = stepKey + 1;","    params.id = this.props.id;","    if (params.periodIndex == null) {","      params.periodIndex = 1;","    }","    return this.context.router.replaceWith('reviewTaskStep', params);","  },","  setPeriod: function(period) {","    return this.setState({","      period: period","    });","  },","  setPeriodIndex: function(key) {","    var params, periodKey;","    periodKey = key + 1;","    params = _.clone(this.context.router.getCurrentParams());","    params.periodIndex = periodKey;","    if (params.sectionIndex) {","      return this.context.router.replaceWith('reviewTaskStep', params);","    } else {","      return this.context.router.replaceWith('reviewTaskPeriod', params);","    }","  },","  setIsReviewLoaded: function(id) {","    if (id !== this.props.id) {","      return null;","    }","    TaskTeacherReviewStore.off('change', this.setIsReviewLoaded);","    return this.setState({","      isReviewLoaded: true","    });","  },","  render: function() {","    var breadcrumbs, courseId, id, panel, periodIndex, ref, ref1, task, taskClasses;","    ref = this.props, id = ref.id, courseId = ref.courseId;","    periodIndex = this.getPeriodIndex();","    panel = React.createElement(ReviewShell, {","      \"id\": id,","      \"review\": 'teacher',","      \"panel\": 'teacher-review',","      \"goToStep\": this.goToStep,","      \"setScrollState\": this.setScrollState,","      \"currentStep\": this.state.currentStep,","      \"period\": this.state.period","    });","    taskClasses = 'task-teacher-review';","    if (this.state.isReviewLoaded) {","      task = TaskTeacherReviewStore.get(id);","      taskClasses = \"task-teacher-review task-\" + task.type;","      breadcrumbs = React.createElement(Breadcrumbs, {","        \"id\": id,","        \"goToStep\": this.goToStep,","        \"currentStep\": this.state.currentStep,","        \"title\": task.title,","        \"courseId\": courseId,","        \"key\": \"task-\" + id + \"-breadcrumbs\"","      });","    }","    return React.createElement(PinnedHeaderFooterCard, {","      \"className\": taskClasses,","      \"fixedOffset\": 0.,","      \"header\": breadcrumbs,","      \"cardType\": 'task'","    }, React.createElement(BS.Grid, {","      \"fluid\": true","    }, React.createElement(BS.Row, null, React.createElement(BS.Col, {","      \"sm\": 8.","    }, panel), React.createElement(BS.Col, {","      \"sm\": 4.","    }, React.createElement(StatsModalShell, {","      \"id\": id,","      \"courseId\": courseId,","      \"initialActivePeriod\": periodIndex,","      \"shouldOverflowData\": true,","      \"activeSection\": ((ref1 = this.state.scrollState) != null ? ref1.sectionLabel : void 0),","      \"handlePeriodSelect\": this.setPeriod,","      \"handlePeriodKeyUpdate\": this.setPeriodIndex","    })))));","  }","});","","TaskTeacherReviewShell = React.createClass({displayName: \"TaskTeacherReviewShell\",","  contextTypes: {","    router: React.PropTypes.func","  },","  render: function() {","    var courseId, id, ref;","    ref = this.context.router.getCurrentParams(), id = ref.id, courseId = ref.courseId;","    return React.createElement(TaskTeacherReview, {","      \"key\": id,","      \"id\": id,","      \"courseId\": courseId","    });","  }","});","","module.exports = {","  TaskTeacherReview: TaskTeacherReview,","  TaskTeacherReviewShell: TaskTeacherReviewShell","};",""],"f":{"1":4,"2":10,"3":4,"4":2,"5":2,"6":2,"7":2,"8":2,"9":0,"10":2,"11":10,"12":4},"fnMap":{"1":{"line":31,"loc":{"end":{"column":25,"line":31},"start":{"column":14,"line":31}},"name":"(anonymous_1)"},"2":{"line":40,"loc":{"end":{"column":29,"line":40},"start":{"column":18,"line":40}},"name":"(anonymous_2)"},"3":{"line":48,"loc":{"end":{"column":40,"line":48},"start":{"column":18,"line":48}},"name":"(anonymous_3)"},"4":{"line":53,"loc":{"end":{"column":30,"line":53},"start":{"column":19,"line":53}},"name":"(anonymous_4)"},"5":{"line":63,"loc":{"end":{"column":33,"line":63},"start":{"column":22,"line":63}},"name":"(anonymous_5)"},"6":{"line":67,"loc":{"end":{"column":40,"line":67},"start":{"column":29,"line":67}},"name":"(anonymous_6)"},"7":{"line":70,"loc":{"end":{"column":30,"line":70},"start":{"column":12,"line":70}},"name":"(anonymous_7)"},"8":{"line":80,"loc":{"end":{"column":30,"line":80},"start":{"column":13,"line":80}},"name":"(anonymous_8)"},"9":{"line":85,"loc":{"end":{"column":32,"line":85},"start":{"column":18,"line":85}},"name":"(anonymous_9)"},"10":{"line":96,"loc":{"end":{"column":34,"line":96},"start":{"column":21,"line":96}},"name":"(anonymous_10)"},"11":{"line":105,"loc":{"end":{"column":21,"line":105},"start":{"column":10,"line":105}},"name":"(anonymous_11)"},"12":{"line":158,"loc":{"end":{"column":21,"line":158},"start":{"column":10,"line":158}},"name":"(anonymous_12)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":4,"14":4,"15":4,"16":4,"17":4,"18":10,"19":10,"20":10,"21":0,"22":10,"23":4,"24":2,"25":2,"26":2,"27":2,"28":2,"29":2,"30":2,"31":2,"32":2,"33":2,"34":2,"35":0,"36":2,"37":2,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":2,"46":0,"47":2,"48":2,"49":10,"50":10,"51":10,"52":10,"53":10,"54":10,"55":2,"56":2,"57":2,"58":10,"59":21,"60":4,"61":4,"62":4,"63":21},"statementMap":{"1":{"end":{"column":170,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":39,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":46,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":59,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":85,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":26,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":33,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":90,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":152},"start":{"column":0,"line":23}},"13":{"end":{"column":43,"line":32},"start":{"column":4,"line":32}},"14":{"end":{"column":71,"line":33},"start":{"column":4,"line":33}},"15":{"end":{"column":22,"line":34},"start":{"column":4,"line":34}},"16":{"end":{"column":70,"line":35},"start":{"column":4,"line":35}},"17":{"end":{"column":7,"line":38},"start":{"column":4,"line":36}},"18":{"end":{"column":20,"line":41},"start":{"column":4,"line":41}},"19":{"end":{"column":69,"line":42},"start":{"column":4,"line":42}},"20":{"end":{"column":5,"line":45},"start":{"column":4,"line":43}},"21":{"end":{"column":22,"line":44},"start":{"column":6,"line":44}},"22":{"end":{"column":37,"line":46},"start":{"column":4,"line":46}},"23":{"end":{"column":7,"line":51},"start":{"column":4,"line":49}},"24":{"end":{"column":11,"line":54},"start":{"column":4,"line":54}},"25":{"end":{"column":23,"line":55},"start":{"column":4,"line":55}},"26":{"end":{"column":6,"line":61},"start":{"column":4,"line":56}},"27":{"end":{"column":22,"line":64},"start":{"column":4,"line":64}},"28":{"end":{"column":78,"line":65},"start":{"column":4,"line":65}},"29":{"end":{"column":29,"line":68},"start":{"column":4,"line":68}},"30":{"end":{"column":15,"line":71},"start":{"column":4,"line":71}},"31":{"end":{"column":61,"line":72},"start":{"column":4,"line":72}},"32":{"end":{"column":38,"line":73},"start":{"column":4,"line":73}},"33":{"end":{"column":30,"line":74},"start":{"column":4,"line":74}},"34":{"end":{"column":5,"line":77},"start":{"column":4,"line":75}},"35":{"end":{"column":29,"line":76},"start":{"column":6,"line":76}},"36":{"end":{"column":69,"line":78},"start":{"column":4,"line":78}},"37":{"end":{"column":7,"line":83},"start":{"column":4,"line":81}},"38":{"end":{"column":26,"line":86},"start":{"column":4,"line":86}},"39":{"end":{"column":24,"line":87},"start":{"column":4,"line":87}},"40":{"end":{"column":61,"line":88},"start":{"column":4,"line":88}},"41":{"end":{"column":35,"line":89},"start":{"column":4,"line":89}},"42":{"end":{"column":5,"line":94},"start":{"column":4,"line":90}},"43":{"end":{"column":71,"line":91},"start":{"column":6,"line":91}},"44":{"end":{"column":73,"line":93},"start":{"column":6,"line":93}},"45":{"end":{"column":5,"line":99},"start":{"column":4,"line":97}},"46":{"end":{"column":18,"line":98},"start":{"column":6,"line":98}},"47":{"end":{"column":65,"line":100},"start":{"column":4,"line":100}},"48":{"end":{"column":7,"line":103},"start":{"column":4,"line":101}},"49":{"end":{"column":84,"line":106},"start":{"column":4,"line":106}},"50":{"end":{"column":59,"line":107},"start":{"column":4,"line":107}},"51":{"end":{"column":40,"line":108},"start":{"column":4,"line":108}},"52":{"end":{"column":7,"line":117},"start":{"column":4,"line":109}},"53":{"end":{"column":40,"line":118},"start":{"column":4,"line":118}},"54":{"end":{"column":5,"line":130},"start":{"column":4,"line":119}},"55":{"end":{"column":44,"line":120},"start":{"column":6,"line":120}},"56":{"end":{"column":60,"line":121},"start":{"column":6,"line":121}},"57":{"end":{"column":9,"line":129},"start":{"column":6,"line":122}},"58":{"end":{"column":11,"line":150},"start":{"column":4,"line":131}},"59":{"end":{"column":3,"line":167},"start":{"column":0,"line":154}},"60":{"end":{"column":26,"line":159},"start":{"column":4,"line":159}},"61":{"end":{"column":87,"line":160},"start":{"column":4,"line":160}},"62":{"end":{"column":7,"line":165},"start":{"column":4,"line":161}},"63":{"end":{"column":2,"line":172},"start":{"column":0,"line":169}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"32":4,"33":4,"34":4,"35":4,"36":4,"41":10,"42":10,"43":10,"44":0,"46":10,"49":4,"54":2,"55":2,"56":2,"64":2,"65":2,"68":2,"71":2,"72":2,"73":2,"74":2,"75":2,"76":0,"78":2,"81":2,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"93":0,"97":2,"98":0,"100":2,"101":2,"106":10,"107":10,"108":10,"109":10,"118":10,"119":10,"120":2,"121":2,"122":2,"131":10,"154":21,"159":4,"160":4,"161":4,"169":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/review.cjsx":{"b":{"1":[12,162],"2":[162,12],"3":[162,0]},"branchMap":{"1":{"line":38,"locations":[{"end":{"column":4,"line":38},"start":{"column":4,"line":38}},{"end":{"column":4,"line":38},"start":{"column":4,"line":38}}],"type":"if"},"2":{"line":68,"locations":[{"end":{"column":8,"line":68},"start":{"column":8,"line":68}},{"end":{"column":8,"line":68},"start":{"column":8,"line":68}}],"type":"if"},"3":{"line":71,"locations":[{"end":{"column":33,"line":71},"start":{"column":28,"line":71}},{"end":{"column":48,"line":71},"start":{"column":37,"line":71}}],"type":"binary-expr"}},"code":["var ChapterSectionMixin, CrumbMixin, LoadableItem, React, Review, ReviewShell, ReviewTracker, ScrollListenerMixin, ScrollTracker, ScrollTrackerParentMixin, TaskTeacherReviewActions, TaskTeacherReviewExercise, TaskTeacherReviewStore, _, ref, ref1;","","React = require('react');","","_ = require('underscore');","","TaskTeacherReviewExercise = require('./exercise');","","ref = require('../scroll-tracker'), ScrollTracker = ref.ScrollTracker, ScrollTrackerParentMixin = ref.ScrollTrackerParentMixin;","","LoadableItem = require('../loadable-item');","","CrumbMixin = require('./crumb-mixin');","","ChapterSectionMixin = require('openstax-react-components').ChapterSectionMixin;","","ScrollListenerMixin = require('react-scroll-components').ScrollListenerMixin;","","ref1 = require('../../flux/task-teacher-review'), TaskTeacherReviewActions = ref1.TaskTeacherReviewActions, TaskTeacherReviewStore = ref1.TaskTeacherReviewStore;","","ReviewTracker = React.createClass({","  displayName: 'ReviewTracker',","  mixins: [ScrollTracker],","  renderQuestion: function() {","    return React.createElement(TaskTeacherReviewExercise, React.__spread({}, this.props));","  },","  renderHeading: function() {","    var ref2, sectionLabel, title;","    ref2 = this.props, sectionLabel = ref2.sectionLabel, title = ref2.title;","    return React.createElement(\"h2\", null, React.createElement(\"span\", {","      \"className\": 'text-success'","    }, sectionLabel), \" \", title);","  },","  render: function() {","    var content, renderFn;","    content = this.props.content;","    renderFn = 'renderQuestion';","    if (content == null) {","      renderFn = 'renderHeading';","    }","    return this[renderFn]();","  }","});","","Review = React.createClass({","  displayName: 'Review',","  mixins: [ChapterSectionMixin, CrumbMixin, ScrollListenerMixin, ScrollTrackerParentMixin],","  propTypes: {","    id: React.PropTypes.string.isRequired,","    focus: React.PropTypes.bool.isRequired,","    period: React.PropTypes.object.isRequired,","    currentStep: React.PropTypes.number","  },","  getDefaultProps: function() {","    return {","      focus: false","    };","  },","  render: function() {","    var focus, id, ref2, steps, stepsList, stepsProps;","    ref2 = this.props, id = ref2.id, focus = ref2.focus;","    steps = this.getContents();","    stepsProps = _.omit(this.props, 'focus');","    stepsList = _.map(steps, (function(_this) {","      return function(step, index) {","        var item, scrollState, stepProps;","        scrollState = _.pick(step, 'key', 'sectionLabel');","        if (step.content != null) {","          stepProps = _.extend({}, stepsProps, step);","          stepProps.key = \"task-review-question-\" + step.content.questions[0].id + \"-\" + index;","          stepProps.focus = focus && index === 0;","        } else {","          stepProps = step;","          stepProps.key = \"task-review-heading-\" + step.sectionLabel;","        }","        return item = React.createElement(ReviewTracker, React.__spread({}, stepProps, {","          \"scrollState\": scrollState,","          \"setScrollPoint\": _this.setScrollPoint,","          \"unsetScrollPoint\": _this.unsetScrollPoint","        }));","      };","    })(this));","    return React.createElement(\"div\", null, stepsList);","  }","});","","ReviewShell = React.createClass({displayName: \"ReviewShell\",","  render: function() {","    var id;","    id = this.props.id;","    return React.createElement(LoadableItem, {","      \"id\": id,","      \"store\": TaskTeacherReviewStore,","      \"actions\": TaskTeacherReviewActions,","      \"renderItem\": ((function(_this) {","        return function() {","          return React.createElement(Review, React.__spread({}, _this.props, {","            \"review\": 'teacher',","            \"panel\": 'teacher-review'","          }));","        };","      })(this))","    });","  }","});","","module.exports = {","  Review: Review,","  ReviewShell: ReviewShell","};",""],"f":{"1":162,"2":12,"3":174,"4":21,"5":12,"6":12,"7":174,"8":10,"9":10,"10":10},"fnMap":{"1":{"line":24,"loc":{"end":{"column":29,"line":24},"start":{"column":18,"line":24}},"name":"(anonymous_1)"},"2":{"line":27,"loc":{"end":{"column":28,"line":27},"start":{"column":17,"line":27}},"name":"(anonymous_2)"},"3":{"line":34,"loc":{"end":{"column":21,"line":34},"start":{"column":10,"line":34}},"name":"(anonymous_3)"},"4":{"line":54,"loc":{"end":{"column":30,"line":54},"start":{"column":19,"line":54}},"name":"(anonymous_4)"},"5":{"line":59,"loc":{"end":{"column":21,"line":59},"start":{"column":10,"line":59}},"name":"(anonymous_5)"},"6":{"line":64,"loc":{"end":{"column":46,"line":64},"start":{"column":30,"line":64}},"name":"(anonymous_6)"},"7":{"line":65,"loc":{"end":{"column":35,"line":65},"start":{"column":13,"line":65}},"name":"(anonymous_7)"},"8":{"line":88,"loc":{"end":{"column":21,"line":88},"start":{"column":10,"line":88}},"name":"(anonymous_8)"},"9":{"line":95,"loc":{"end":{"column":38,"line":95},"start":{"column":22,"line":95}},"name":"(anonymous_9)"},"10":{"line":96,"loc":{"end":{"column":26,"line":96},"start":{"column":15,"line":96}},"name":"(anonymous_10)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task-teacher-review/review.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":162,"13":12,"14":12,"15":12,"16":174,"17":174,"18":174,"19":174,"20":12,"21":174,"22":21,"23":21,"24":12,"25":12,"26":12,"27":12,"28":12,"29":12,"30":174,"31":174,"32":174,"33":162,"34":162,"35":162,"36":12,"37":12,"38":174,"39":12,"40":21,"41":10,"42":10,"43":10,"44":10,"45":10,"46":21},"statementMap":{"1":{"end":{"column":246,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":50,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":127,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":43,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":38,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":79,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":77,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":161,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":3,"line":43},"start":{"column":0,"line":21}},"12":{"end":{"column":90,"line":25},"start":{"column":4,"line":25}},"13":{"end":{"column":34,"line":28},"start":{"column":4,"line":28}},"14":{"end":{"column":76,"line":29},"start":{"column":4,"line":29}},"15":{"end":{"column":34,"line":32},"start":{"column":4,"line":30}},"16":{"end":{"column":26,"line":35},"start":{"column":4,"line":35}},"17":{"end":{"column":33,"line":36},"start":{"column":4,"line":36}},"18":{"end":{"column":32,"line":37},"start":{"column":4,"line":37}},"19":{"end":{"column":5,"line":40},"start":{"column":4,"line":38}},"20":{"end":{"column":33,"line":39},"start":{"column":6,"line":39}},"21":{"end":{"column":28,"line":41},"start":{"column":4,"line":41}},"22":{"end":{"column":3,"line":85},"start":{"column":0,"line":45}},"23":{"end":{"column":6,"line":57},"start":{"column":4,"line":55}},"24":{"end":{"column":54,"line":60},"start":{"column":4,"line":60}},"25":{"end":{"column":56,"line":61},"start":{"column":4,"line":61}},"26":{"end":{"column":31,"line":62},"start":{"column":4,"line":62}},"27":{"end":{"column":45,"line":63},"start":{"column":4,"line":63}},"28":{"end":{"column":14,"line":82},"start":{"column":4,"line":64}},"29":{"end":{"column":8,"line":81},"start":{"column":6,"line":65}},"30":{"end":{"column":41,"line":66},"start":{"column":8,"line":66}},"31":{"end":{"column":58,"line":67},"start":{"column":8,"line":67}},"32":{"end":{"column":9,"line":75},"start":{"column":8,"line":68}},"33":{"end":{"column":53,"line":69},"start":{"column":10,"line":69}},"34":{"end":{"column":95,"line":70},"start":{"column":10,"line":70}},"35":{"end":{"column":49,"line":71},"start":{"column":10,"line":71}},"36":{"end":{"column":27,"line":73},"start":{"column":10,"line":73}},"37":{"end":{"column":69,"line":74},"start":{"column":10,"line":74}},"38":{"end":{"column":12,"line":80},"start":{"column":8,"line":76}},"39":{"end":{"column":55,"line":83},"start":{"column":4,"line":83}},"40":{"end":{"column":3,"line":105},"start":{"column":0,"line":87}},"41":{"end":{"column":11,"line":89},"start":{"column":4,"line":89}},"42":{"end":{"column":23,"line":90},"start":{"column":4,"line":90}},"43":{"end":{"column":7,"line":103},"start":{"column":4,"line":91}},"44":{"end":{"column":10,"line":101},"start":{"column":8,"line":96}},"45":{"end":{"column":14,"line":100},"start":{"column":10,"line":97}},"46":{"end":{"column":2,"line":110},"start":{"column":0,"line":107}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"25":162,"28":12,"29":12,"30":12,"35":174,"36":174,"37":174,"38":174,"39":12,"41":174,"45":21,"55":21,"60":12,"61":12,"62":12,"63":12,"64":12,"65":12,"66":174,"67":174,"68":174,"69":162,"70":162,"71":162,"73":12,"74":12,"76":174,"83":12,"87":21,"89":10,"90":10,"91":10,"96":10,"97":10,"107":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task/breadcrumbs.cjsx":{"b":{"1":[2,0],"2":[2,2],"3":[2,0],"4":[2,0],"5":[4,4],"6":[0,39],"7":[8,6],"8":[1,9]},"branchMap":{"1":{"line":36,"locations":[{"end":{"column":4,"line":36},"start":{"column":4,"line":36}},{"end":{"column":4,"line":36},"start":{"column":4,"line":36}}],"type":"if"},"2":{"line":36,"locations":[{"end":{"column":26,"line":36},"start":{"column":9,"line":36}},{"end":{"column":51,"line":36},"start":{"column":31,"line":36}}],"type":"binary-expr"},"3":{"line":48,"locations":[{"end":{"column":4,"line":48},"start":{"column":4,"line":48}},{"end":{"column":4,"line":48},"start":{"column":4,"line":48}}],"type":"if"},"4":{"line":59,"locations":[{"end":{"column":6,"line":59},"start":{"column":6,"line":59}},{"end":{"column":6,"line":59},"start":{"column":6,"line":59}}],"type":"if"},"5":{"line":72,"locations":[{"end":{"column":4,"line":72},"start":{"column":4,"line":72}},{"end":{"column":4,"line":72},"start":{"column":4,"line":72}}],"type":"if"},"6":{"line":82,"locations":[{"end":{"column":4,"line":82},"start":{"column":4,"line":82}},{"end":{"column":4,"line":82},"start":{"column":4,"line":82}}],"type":"if"},"7":{"line":87,"locations":[{"end":{"column":61,"line":87},"start":{"column":11,"line":87}},{"end":{"column":127,"line":87},"start":{"column":65,"line":87}}],"type":"binary-expr"},"8":{"line":138,"locations":[{"end":{"column":4,"line":138},"start":{"column":4,"line":138}},{"end":{"column":4,"line":138},"start":{"column":4,"line":138}}],"type":"if"}},"code":["var BreadcrumbTaskDynamic, ChapterSectionMixin, CrumbMixin, React, ResizeListenerMixin, TaskStepActions, TaskStepStore, TaskStore, _, ref1, ref2;","","React = require('react');","","ref1 = require('../../flux/task-step'), TaskStepActions = ref1.TaskStepActions, TaskStepStore = ref1.TaskStepStore;","","TaskStore = require('../../flux/task').TaskStore;","","_ = require('underscore');","","CrumbMixin = require('./crumb-mixin');","","ref2 = require('openstax-react-components'), ChapterSectionMixin = ref2.ChapterSectionMixin, ResizeListenerMixin = ref2.ResizeListenerMixin;","","BreadcrumbTaskDynamic = require('../breadcrumb').BreadcrumbTaskDynamic;","","module.exports = React.createClass({","  displayName: 'Breadcrumbs',","  mixins: [ChapterSectionMixin, CrumbMixin, ResizeListenerMixin],","  propTypes: {","    id: React.PropTypes.string.isRequired,","    currentStep: React.PropTypes.number.isRequired,","    goToStep: React.PropTypes.func.isRequired","  },","  getInitialState: function() {","    return {","      updateOnNext: true,","      hoverCrumb: this.props.currentStep,","      shouldShrink: null,","      crumbsWidth: null","    };","  },","  componentWillMount: function() {","    var crumbs, listeners;","    listeners = this.getMaxListeners();","    if ((listeners != null) && (listeners + 1) > 10) {","      TaskStepStore.setMaxListeners(listeners + 1);","    }","    TaskStore.on('task.beforeRecovery', this.stopUpdate);","    TaskStore.on('task.afterRecovery', this.update);","    return crumbs = this.getCrumableCrumbs();","  },","  componentDidMount: function() {","    return this.calculateCrumbsWidth();","  },","  calculateCrumbsWidth: function(crumbDOM) {","    var crumbsWidth, currentCrumbWidth;","    if (this.isMounted()) {","      currentCrumbWidth = 0;","      crumbsWidth = _.reduce(this.refs, function(memo, ref) {","        var computedStyle, refDOM, refDOMBox;","        refDOM = ref.getDOMNode();","        computedStyle = window.getComputedStyle(refDOM);","        refDOMBox = refDOM.getBoundingClientRect();","        currentCrumbWidth = refDOMBox.width + parseInt(computedStyle.marginRight) + parseInt(computedStyle.marginLeft);","        return currentCrumbWidth + memo;","      }, 0);","      crumbsWidth += currentCrumbWidth;","      if (crumbsWidth > this.state.crumbsWidth) {","        return this.setState({","          crumbsWidth: crumbsWidth","        });","      }","    }","  },","  componentWillUnmount: function() {","    TaskStepStore.setMaxListeners(10);","    TaskStore.off('task.beforeRecovery', this.stopUpdate);","    return TaskStore.off('task.afterRecovery', this.update);","  },","  componentDidUpdate: function(prevProps, prevState) {","    if (this.didWidthChange(prevState, this.state)) {","      return this.setShouldShrink(this.state);","    }","  },","  componentWillReceiveProps: function(nextProps) {","    return this.setState({","      hoverCrumb: nextProps.currentStep","    });","  },","  crumbMounted: function() {","    if (this.state.crumbsWidth != null) {","      return this.calculateCrumbsWidth();","    }","  },","  didWidthChange: function(prevState, currentState) {","    return currentState.crumbsWidth !== prevState.crumbsWidth || currentState.componentEl.width !== prevState.componentEl.width;","  },","  setShouldShrink: function(sizes) {","    var shouldShrink;","    shouldShrink = sizes.componentEl.width < this.state.crumbsWidth;","    return this.setState({","      shouldShrink: shouldShrink","    });","  },","  shouldComponentUpdate: function(nextProps, nextState) {","    return nextState.updateOnNext;","  },","  update: function() {","    return this.setState({","      updateOnNext: true","    });","  },","  stopUpdate: function() {","    return this.setState({","      updateOnNext: false","    });","  },","  updateHoverCrumb: function(hover) {","    return this.setState({","      hoverCrumb: hover","    });","  },","  render: function() {","    var classes, crumbs, currentStep, goToStep, ref3, stepButtons;","    crumbs = this.getCrumableCrumbs();","    ref3 = this.props, currentStep = ref3.currentStep, goToStep = ref3.goToStep;","    stepButtons = _.map(crumbs, (function(_this) {","      return function(crumb, crumbIndex) {","        var crumbStyle;","        crumbStyle = {","          zIndex: crumbs.length - Math.abs(_this.state.hoverCrumb - crumbIndex)","        };","        return React.createElement(BreadcrumbTaskDynamic, {","          \"onMouseEnter\": _this.updateHoverCrumb.bind(_this, crumbIndex),","          \"onMouseLeave\": _this.updateHoverCrumb.bind(_this, _this.props.currentStep),","          \"onMount\": _this.crumbMounted,","          \"style\": crumbStyle,","          \"crumb\": crumb,","          \"currentStep\": currentStep,","          \"goToStep\": goToStep,","          \"key\": \"breadcrumb-\" + crumb.type + \"-\" + crumb.key,","          \"ref\": \"breadcrumb-\" + crumb.type + \"-\" + crumb.key","        });","      };","    })(this));","    classes = 'task-breadcrumbs';","    if (this.state.shouldShrink) {","      classes += ' shrink';","    }","    return React.createElement(\"div\", {","      \"className\": classes","    }, stepButtons);","  }","});",""],"f":{"1":2,"2":2,"3":2,"4":2,"5":39,"6":2,"7":8,"8":0,"9":39,"10":8,"11":4,"12":8,"13":0,"14":0,"15":0,"16":10,"17":10,"18":195},"fnMap":{"1":{"line":25,"loc":{"end":{"column":30,"line":25},"start":{"column":19,"line":25}},"name":"(anonymous_1)"},"2":{"line":33,"loc":{"end":{"column":33,"line":33},"start":{"column":22,"line":33}},"name":"(anonymous_2)"},"3":{"line":43,"loc":{"end":{"column":32,"line":43},"start":{"column":21,"line":43}},"name":"(anonymous_3)"},"4":{"line":46,"loc":{"end":{"column":43,"line":46},"start":{"column":24,"line":46}},"name":"(anonymous_4)"},"5":{"line":50,"loc":{"end":{"column":60,"line":50},"start":{"column":40,"line":50}},"name":"(anonymous_5)"},"6":{"line":66,"loc":{"end":{"column":35,"line":66},"start":{"column":24,"line":66}},"name":"(anonymous_6)"},"7":{"line":71,"loc":{"end":{"column":53,"line":71},"start":{"column":22,"line":71}},"name":"(anonymous_7)"},"8":{"line":76,"loc":{"end":{"column":49,"line":76},"start":{"column":29,"line":76}},"name":"(anonymous_8)"},"9":{"line":81,"loc":{"end":{"column":27,"line":81},"start":{"column":16,"line":81}},"name":"(anonymous_9)"},"10":{"line":86,"loc":{"end":{"column":52,"line":86},"start":{"column":18,"line":86}},"name":"(anonymous_10)"},"11":{"line":89,"loc":{"end":{"column":35,"line":89},"start":{"column":19,"line":89}},"name":"(anonymous_11)"},"12":{"line":96,"loc":{"end":{"column":56,"line":96},"start":{"column":25,"line":96}},"name":"(anonymous_12)"},"13":{"line":99,"loc":{"end":{"column":21,"line":99},"start":{"column":10,"line":99}},"name":"(anonymous_13)"},"14":{"line":104,"loc":{"end":{"column":25,"line":104},"start":{"column":14,"line":104}},"name":"(anonymous_14)"},"15":{"line":109,"loc":{"end":{"column":36,"line":109},"start":{"column":20,"line":109}},"name":"(anonymous_15)"},"16":{"line":114,"loc":{"end":{"column":21,"line":114},"start":{"column":10,"line":114}},"name":"(anonymous_16)"},"17":{"line":118,"loc":{"end":{"column":49,"line":118},"start":{"column":33,"line":118}},"name":"(anonymous_17)"},"18":{"line":119,"loc":{"end":{"column":41,"line":119},"start":{"column":13,"line":119}},"name":"(anonymous_18)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task/breadcrumbs.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":2,"19":2,"20":2,"21":2,"22":2,"23":39,"24":39,"25":39,"26":39,"27":39,"28":39,"29":2,"30":2,"31":2,"32":2,"33":2,"34":2,"35":8,"36":4,"37":0,"38":39,"39":0,"40":8,"41":4,"42":4,"43":4,"44":8,"45":0,"46":0,"47":0,"48":10,"49":10,"50":10,"51":10,"52":10,"53":195,"54":195,"55":195,"56":10,"57":10,"58":1,"59":10},"statementMap":{"1":{"end":{"column":145,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":115,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":49,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":38,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":140,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":71,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":3,"line":145},"start":{"column":0,"line":17}},"10":{"end":{"column":6,"line":31},"start":{"column":4,"line":26}},"11":{"end":{"column":26,"line":34},"start":{"column":4,"line":34}},"12":{"end":{"column":39,"line":35},"start":{"column":4,"line":35}},"13":{"end":{"column":5,"line":38},"start":{"column":4,"line":36}},"14":{"end":{"column":51,"line":37},"start":{"column":6,"line":37}},"15":{"end":{"column":57,"line":39},"start":{"column":4,"line":39}},"16":{"end":{"column":52,"line":40},"start":{"column":4,"line":40}},"17":{"end":{"column":45,"line":41},"start":{"column":4,"line":41}},"18":{"end":{"column":39,"line":44},"start":{"column":4,"line":44}},"19":{"end":{"column":39,"line":47},"start":{"column":4,"line":47}},"20":{"end":{"column":5,"line":64},"start":{"column":4,"line":48}},"21":{"end":{"column":28,"line":49},"start":{"column":6,"line":49}},"22":{"end":{"column":12,"line":57},"start":{"column":6,"line":50}},"23":{"end":{"column":45,"line":51},"start":{"column":8,"line":51}},"24":{"end":{"column":34,"line":52},"start":{"column":8,"line":52}},"25":{"end":{"column":56,"line":53},"start":{"column":8,"line":53}},"26":{"end":{"column":51,"line":54},"start":{"column":8,"line":54}},"27":{"end":{"column":119,"line":55},"start":{"column":8,"line":55}},"28":{"end":{"column":40,"line":56},"start":{"column":8,"line":56}},"29":{"end":{"column":39,"line":58},"start":{"column":6,"line":58}},"30":{"end":{"column":7,"line":63},"start":{"column":6,"line":59}},"31":{"end":{"column":11,"line":62},"start":{"column":8,"line":60}},"32":{"end":{"column":38,"line":67},"start":{"column":4,"line":67}},"33":{"end":{"column":58,"line":68},"start":{"column":4,"line":68}},"34":{"end":{"column":60,"line":69},"start":{"column":4,"line":69}},"35":{"end":{"column":5,"line":74},"start":{"column":4,"line":72}},"36":{"end":{"column":46,"line":73},"start":{"column":6,"line":73}},"37":{"end":{"column":7,"line":79},"start":{"column":4,"line":77}},"38":{"end":{"column":5,"line":84},"start":{"column":4,"line":82}},"39":{"end":{"column":41,"line":83},"start":{"column":6,"line":83}},"40":{"end":{"column":128,"line":87},"start":{"column":4,"line":87}},"41":{"end":{"column":21,"line":90},"start":{"column":4,"line":90}},"42":{"end":{"column":68,"line":91},"start":{"column":4,"line":91}},"43":{"end":{"column":7,"line":94},"start":{"column":4,"line":92}},"44":{"end":{"column":34,"line":97},"start":{"column":4,"line":97}},"45":{"end":{"column":7,"line":102},"start":{"column":4,"line":100}},"46":{"end":{"column":7,"line":107},"start":{"column":4,"line":105}},"47":{"end":{"column":7,"line":112},"start":{"column":4,"line":110}},"48":{"end":{"column":66,"line":115},"start":{"column":4,"line":115}},"49":{"end":{"column":38,"line":116},"start":{"column":4,"line":116}},"50":{"end":{"column":80,"line":117},"start":{"column":4,"line":117}},"51":{"end":{"column":14,"line":136},"start":{"column":4,"line":118}},"52":{"end":{"column":8,"line":135},"start":{"column":6,"line":119}},"53":{"end":{"column":23,"line":120},"start":{"column":8,"line":120}},"54":{"end":{"column":10,"line":123},"start":{"column":8,"line":121}},"55":{"end":{"column":11,"line":134},"start":{"column":8,"line":124}},"56":{"end":{"column":33,"line":137},"start":{"column":4,"line":137}},"57":{"end":{"column":5,"line":140},"start":{"column":4,"line":138}},"58":{"end":{"column":27,"line":139},"start":{"column":6,"line":139}},"59":{"end":{"column":20,"line":143},"start":{"column":4,"line":141}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"26":2,"34":2,"35":2,"36":2,"37":2,"39":2,"40":2,"41":2,"44":2,"47":2,"48":2,"49":2,"50":2,"51":39,"52":39,"53":39,"54":39,"55":39,"56":39,"58":2,"59":2,"60":2,"67":2,"68":2,"69":2,"72":8,"73":4,"77":0,"82":39,"83":0,"87":8,"90":4,"91":4,"92":4,"97":8,"100":0,"105":0,"110":0,"115":10,"116":10,"117":10,"118":10,"119":10,"120":195,"121":195,"124":195,"137":10,"138":10,"139":1,"141":10}},
"/Users/phil/github/openstax/tutor-js/src/components/task/crumb-mixin.cjsx":{"b":{"1":[118,244],"2":[118,0],"3":[360,243],"4":[360,360],"5":[153,180],"6":[153,0],"7":[288,45],"8":[9,9],"9":[225,225],"10":[9,0]},"branchMap":{"1":{"line":15,"locations":[{"end":{"column":4,"line":15},"start":{"column":4,"line":15}},{"end":{"column":4,"line":15},"start":{"column":4,"line":15}}],"type":"if"},"2":{"line":16,"locations":[{"end":{"column":6,"line":16},"start":{"column":6,"line":16}},{"end":{"column":6,"line":16},"start":{"column":6,"line":16}}],"type":"if"},"3":{"line":29,"locations":[{"end":{"column":28,"line":29},"start":{"column":11,"line":29}},{"end":{"column":52,"line":29},"start":{"column":32,"line":29}}],"type":"binary-expr"},"4":{"line":36,"locations":[{"end":{"column":30,"line":36},"start":{"column":11,"line":36}},{"end":{"column":35,"line":36},"start":{"column":34,"line":36}}],"type":"binary-expr"},"5":{"line":40,"locations":[{"end":{"column":4,"line":40},"start":{"column":4,"line":40}},{"end":{"column":4,"line":40},"start":{"column":4,"line":40}}],"type":"if"},"6":{"line":41,"locations":[{"end":{"column":128,"line":41},"start":{"column":64,"line":41}},{"end":{"column":137,"line":41},"start":{"column":131,"line":41}}],"type":"cond-expr"},"7":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"8":{"line":87,"locations":[{"end":{"column":4,"line":87},"start":{"column":4,"line":87}},{"end":{"column":4,"line":87},"start":{"column":4,"line":87}}],"type":"if"},"9":{"line":89,"locations":[{"end":{"column":37,"line":89},"start":{"column":16,"line":89}},{"end":{"column":78,"line":89},"start":{"column":42,"line":89}}],"type":"binary-expr"},"10":{"line":91,"locations":[{"end":{"column":6,"line":91},"start":{"column":6,"line":91}},{"end":{"column":6,"line":91},"start":{"column":6,"line":91}}],"type":"if"}},"code":["var TaskStepStore, TaskStore, _;","","_ = require('underscore');","","TaskStore = require('../../flux/task').TaskStore;","","TaskStepStore = require('../../flux/task-step').TaskStepStore;","","module.exports = {","  getDefaultCurrentStep: function() {","    var defaultIndex, id, steps;","    id = this.props.id;","    defaultIndex = TaskStore.getDefaultStepIndex(id);","    steps = TaskStore.getSteps(id);","    if (defaultIndex === -1) {","      if (TaskStore.isTaskCompleted(id)) {","        defaultIndex = steps.length;","      } else {","        defaultIndex = 0;","      }","    }","    return defaultIndex;","  },","  _shouldStepCrumb: function(index) {","    var doesAllowSeeAhead, id, latestIndex;","    id = this.props.id;","    latestIndex = this.getDefaultCurrentStep();","    doesAllowSeeAhead = TaskStore.doesAllowSeeAhead(id);","    return doesAllowSeeAhead || index <= latestIndex;","  },","  _getStepListeners: function(stepType) {","    var listeners;","    listeners = {","      placeholder: 3","    };","    return listeners[stepType] || 1;","  },","  _buildSectionLabel: function(chapter_section, crumbs) {","    var sectionLabel;","    if (chapter_section != null) {","      sectionLabel = typeof this.sectionFormat === \"function\" ? this.sectionFormat(chapter_section, this.props.sectionSeparator) : void 0;","    }","    if (_.findWhere(crumbs, {","      sectionLabel: sectionLabel","    }) != null) {","      sectionLabel = null;","    }","    return sectionLabel;","  },","  _generateCrumbsFromSteps: function(task, steps) {","    var crumbType, crumbs;","    crumbs = [];","    task.is_completed = TaskStore.isTaskCompleted(task.id);","    _.each(steps, (function(_this) {","      return function(step, index) {","        return crumbs.push({","          key: index,","          data: step,","          crumb: _this._shouldStepCrumb(index),","          sectionLabel: _this._buildSectionLabel(step.chapter_section, crumbs),","          type: 'step',","          listeners: _this._getStepListeners(step.type)","        });","      };","    })(this));","    crumbType = 'end';","    crumbs.push({","      key: steps.length,","      data: task,","      crumb: this._shouldStepCrumb(steps.length),","      type: crumbType,","      listeners: this._getStepListeners(crumbType)","    });","    return crumbs;","  },","  _generateCrumbs: function(id) {","    var crumbs, steps, task;","    task = TaskStore.get(id);","    steps = TaskStore.getSteps(id);","    crumbs = this._generateCrumbsFromSteps(task, steps);","    this._modifyCrumbs(task, crumbs);","    return crumbs;","  },","  _modifyCrumbs: function(task, crumbs) {","    var crumbType, currentStep, notCore, spacerCrumb;","    currentStep = this.props.currentStep;","    if (task.type === 'reading') {","      notCore = _.find(crumbs, function(crumb) {","        return (crumb.type === 'step') && !TaskStepStore.isCore(crumb.data.id);","      });","      if (notCore != null) {","        crumbType = 'spacer';","        spacerCrumb = {","          data: {","            task_id: task.id,","            type: 'coach'","          },","          crumb: this._shouldStepCrumb(notCore.key),","          type: crumbType,","          listeners: this._getStepListeners(crumbType)","        };","        crumbs.splice(notCore.key, 0, spacerCrumb);","        return _.each(crumbs, function(crumb, index) {","          return crumb.key = index;","        });","      }","    }","  },","  generateCrumbs: function() {","    var id;","    id = this.props.id;","    return this._generateCrumbs(id);","  },","  getCrumableCrumbs: function() {","    var allCrumbs, crumbableCrumbs;","    allCrumbs = this.generateCrumbs();","    return crumbableCrumbs = _.where(allCrumbs, {","      crumb: true","    });","  },","  getMaxListeners: function() {","    var crumbs, listeners;","    crumbs = this.generateCrumbs();","    return listeners = _.reduce(crumbs, function(memo, crumb) {","      return memo + crumb.listeners;","    }, 0);","  }","};",""],"f":{"1":362,"2":360,"3":360,"4":333,"5":18,"6":18,"7":333,"8":18,"9":18,"10":225,"11":243,"12":18,"13":12,"14":2,"15":40},"fnMap":{"1":{"line":10,"loc":{"end":{"column":36,"line":10},"start":{"column":25,"line":10}},"name":"(anonymous_1)"},"2":{"line":24,"loc":{"end":{"column":36,"line":24},"start":{"column":20,"line":24}},"name":"(anonymous_2)"},"3":{"line":31,"loc":{"end":{"column":40,"line":31},"start":{"column":21,"line":31}},"name":"(anonymous_3)"},"4":{"line":38,"loc":{"end":{"column":56,"line":38},"start":{"column":22,"line":38}},"name":"(anonymous_4)"},"5":{"line":50,"loc":{"end":{"column":50,"line":50},"start":{"column":28,"line":50}},"name":"(anonymous_5)"},"6":{"line":54,"loc":{"end":{"column":35,"line":54},"start":{"column":19,"line":54}},"name":"(anonymous_6)"},"7":{"line":55,"loc":{"end":{"column":35,"line":55},"start":{"column":13,"line":55}},"name":"(anonymous_7)"},"8":{"line":76,"loc":{"end":{"column":32,"line":76},"start":{"column":19,"line":76}},"name":"(anonymous_8)"},"9":{"line":84,"loc":{"end":{"column":40,"line":84},"start":{"column":17,"line":84}},"name":"(anonymous_9)"},"10":{"line":88,"loc":{"end":{"column":47,"line":88},"start":{"column":31,"line":88}},"name":"(anonymous_10)"},"11":{"line":103,"loc":{"end":{"column":53,"line":103},"start":{"column":30,"line":103}},"name":"(anonymous_11)"},"12":{"line":109,"loc":{"end":{"column":29,"line":109},"start":{"column":18,"line":109}},"name":"(anonymous_12)"},"13":{"line":114,"loc":{"end":{"column":32,"line":114},"start":{"column":21,"line":114}},"name":"(anonymous_13)"},"14":{"line":121,"loc":{"end":{"column":30,"line":121},"start":{"column":19,"line":121}},"name":"(anonymous_14)"},"15":{"line":124,"loc":{"end":{"column":62,"line":124},"start":{"column":40,"line":124}},"name":"(anonymous_15)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task/crumb-mixin.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":362,"7":362,"8":362,"9":362,"10":362,"11":118,"12":118,"13":0,"14":362,"15":360,"16":360,"17":360,"18":360,"19":360,"20":360,"21":360,"22":360,"23":333,"24":333,"25":153,"26":333,"27":288,"28":333,"29":18,"30":18,"31":18,"32":18,"33":18,"34":333,"35":18,"36":18,"37":18,"38":18,"39":18,"40":18,"41":18,"42":18,"43":18,"44":18,"45":18,"46":18,"47":9,"48":225,"49":9,"50":9,"51":9,"52":9,"53":9,"54":243,"55":18,"56":18,"57":18,"58":12,"59":12,"60":12,"61":2,"62":2,"63":2,"64":40},"statementMap":{"1":{"end":{"column":32,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":49,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":62,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":128},"start":{"column":0,"line":9}},"6":{"end":{"column":32,"line":11},"start":{"column":4,"line":11}},"7":{"end":{"column":23,"line":12},"start":{"column":4,"line":12}},"8":{"end":{"column":53,"line":13},"start":{"column":4,"line":13}},"9":{"end":{"column":35,"line":14},"start":{"column":4,"line":14}},"10":{"end":{"column":5,"line":21},"start":{"column":4,"line":15}},"11":{"end":{"column":7,"line":20},"start":{"column":6,"line":16}},"12":{"end":{"column":36,"line":17},"start":{"column":8,"line":17}},"13":{"end":{"column":25,"line":19},"start":{"column":8,"line":19}},"14":{"end":{"column":24,"line":22},"start":{"column":4,"line":22}},"15":{"end":{"column":43,"line":25},"start":{"column":4,"line":25}},"16":{"end":{"column":23,"line":26},"start":{"column":4,"line":26}},"17":{"end":{"column":47,"line":27},"start":{"column":4,"line":27}},"18":{"end":{"column":56,"line":28},"start":{"column":4,"line":28}},"19":{"end":{"column":53,"line":29},"start":{"column":4,"line":29}},"20":{"end":{"column":18,"line":32},"start":{"column":4,"line":32}},"21":{"end":{"column":6,"line":35},"start":{"column":4,"line":33}},"22":{"end":{"column":36,"line":36},"start":{"column":4,"line":36}},"23":{"end":{"column":21,"line":39},"start":{"column":4,"line":39}},"24":{"end":{"column":5,"line":42},"start":{"column":4,"line":40}},"25":{"end":{"column":138,"line":41},"start":{"column":6,"line":41}},"26":{"end":{"column":5,"line":47},"start":{"column":4,"line":43}},"27":{"end":{"column":26,"line":46},"start":{"column":6,"line":46}},"28":{"end":{"column":24,"line":48},"start":{"column":4,"line":48}},"29":{"end":{"column":26,"line":51},"start":{"column":4,"line":51}},"30":{"end":{"column":16,"line":52},"start":{"column":4,"line":52}},"31":{"end":{"column":59,"line":53},"start":{"column":4,"line":53}},"32":{"end":{"column":14,"line":65},"start":{"column":4,"line":54}},"33":{"end":{"column":8,"line":64},"start":{"column":6,"line":55}},"34":{"end":{"column":11,"line":63},"start":{"column":8,"line":56}},"35":{"end":{"column":22,"line":66},"start":{"column":4,"line":66}},"36":{"end":{"column":7,"line":73},"start":{"column":4,"line":67}},"37":{"end":{"column":18,"line":74},"start":{"column":4,"line":74}},"38":{"end":{"column":28,"line":77},"start":{"column":4,"line":77}},"39":{"end":{"column":29,"line":78},"start":{"column":4,"line":78}},"40":{"end":{"column":35,"line":79},"start":{"column":4,"line":79}},"41":{"end":{"column":56,"line":80},"start":{"column":4,"line":80}},"42":{"end":{"column":37,"line":81},"start":{"column":4,"line":81}},"43":{"end":{"column":18,"line":82},"start":{"column":4,"line":82}},"44":{"end":{"column":53,"line":85},"start":{"column":4,"line":85}},"45":{"end":{"column":41,"line":86},"start":{"column":4,"line":86}},"46":{"end":{"column":5,"line":107},"start":{"column":4,"line":87}},"47":{"end":{"column":9,"line":90},"start":{"column":6,"line":88}},"48":{"end":{"column":79,"line":89},"start":{"column":8,"line":89}},"49":{"end":{"column":7,"line":106},"start":{"column":6,"line":91}},"50":{"end":{"column":29,"line":92},"start":{"column":8,"line":92}},"51":{"end":{"column":10,"line":101},"start":{"column":8,"line":93}},"52":{"end":{"column":51,"line":102},"start":{"column":8,"line":102}},"53":{"end":{"column":11,"line":105},"start":{"column":8,"line":103}},"54":{"end":{"column":35,"line":104},"start":{"column":10,"line":104}},"55":{"end":{"column":11,"line":110},"start":{"column":4,"line":110}},"56":{"end":{"column":23,"line":111},"start":{"column":4,"line":111}},"57":{"end":{"column":36,"line":112},"start":{"column":4,"line":112}},"58":{"end":{"column":35,"line":115},"start":{"column":4,"line":115}},"59":{"end":{"column":38,"line":116},"start":{"column":4,"line":116}},"60":{"end":{"column":7,"line":119},"start":{"column":4,"line":117}},"61":{"end":{"column":26,"line":122},"start":{"column":4,"line":122}},"62":{"end":{"column":35,"line":123},"start":{"column":4,"line":123}},"63":{"end":{"column":10,"line":126},"start":{"column":4,"line":124}},"64":{"end":{"column":36,"line":125},"start":{"column":6,"line":125}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":362,"12":362,"13":362,"14":362,"15":362,"16":118,"17":118,"19":0,"22":362,"25":360,"26":360,"27":360,"28":360,"29":360,"32":360,"33":360,"36":360,"39":333,"40":333,"41":153,"43":333,"46":288,"48":333,"51":18,"52":18,"53":18,"54":18,"55":18,"56":333,"66":18,"67":18,"74":18,"77":18,"78":18,"79":18,"80":18,"81":18,"82":18,"85":18,"86":18,"87":18,"88":9,"89":225,"91":9,"92":9,"93":9,"102":9,"103":9,"104":243,"110":18,"111":18,"112":18,"115":12,"116":12,"117":12,"122":2,"123":2,"124":2,"125":40}},
"/Users/phil/github/openstax/tutor-js/src/components/task/details.cjsx":{"b":{"1":[2,0],"2":[0,0],"3":[0,6],"4":[0,6],"5":[0,6]},"branchMap":{"1":{"line":33,"locations":[{"end":{"column":4,"line":33},"start":{"column":4,"line":33}},{"end":{"column":4,"line":33},"start":{"column":4,"line":33}}],"type":"if"},"2":{"line":49,"locations":[{"end":{"column":15,"line":49},"start":{"column":7,"line":49}},{"end":{"column":39,"line":49},"start":{"column":19,"line":49}}],"type":"binary-expr"},"3":{"line":74,"locations":[{"end":{"column":4,"line":74},"start":{"column":4,"line":74}},{"end":{"column":4,"line":74},"start":{"column":4,"line":74}}],"type":"if"},"4":{"line":78,"locations":[{"end":{"column":4,"line":78},"start":{"column":4,"line":78}},{"end":{"column":4,"line":78},"start":{"column":4,"line":78}}],"type":"if"},"5":{"line":81,"locations":[{"end":{"column":4,"line":81},"start":{"column":4,"line":81}},{"end":{"column":4,"line":81},"start":{"column":4,"line":81}}],"type":"if"}},"code":["var BS, Details, Instructions, Markdown, React, Time, _;","","React = require('react');","","BS = require('react-bootstrap');","","Time = require('../time');","","Markdown = require('../markdown');","","_ = require('underscore');","","Instructions = React.createClass({","  displayName: 'Instructions',","  propTypes: {","    task: React.PropTypes.object.isRequired,","    title: React.PropTypes.string,","    trigger: React.PropTypes.string,","    placement: React.PropTypes.string,","    popverClassName: React.PropTypes.string","  },","  getDefaultProps: function() {","    return {","      title: 'Instructions',","      trigger: 'hover',","      placement: 'top',","      popverClassName: 'task-details-popover'","    };","  },","  render: function() {","    var children, defaultTriggerButton, instructionsPopover, placement, popverClassName, ref, task, title, trigger;","    ref = this.props, task = ref.task, title = ref.title, trigger = ref.trigger, placement = ref.placement, popverClassName = ref.popverClassName, children = ref.children;","    if (task.description == null) {","      return null;","    }","    instructionsPopover = React.createElement(BS.Popover, {","      \"className\": popverClassName,","      \"title\": title","    }, React.createElement(Markdown, {","      \"text\": task.description","    }));","    defaultTriggerButton = React.createElement(\"button\", {","      \"className\": 'task-details-instructions'","    });","    return React.createElement(BS.OverlayTrigger, {","      \"trigger\": trigger,","      \"placement\": placement,","      \"overlay\": instructionsPopover","    }, children || defaultTriggerButton);","  }","});","","Details = React.createClass({","  displayName: 'Details',","  propTypes: {","    task: React.PropTypes.object.isRequired,","    title: React.PropTypes.string,","    dateFormat: React.PropTypes.string,","    dateLabel: React.PropTypes.string,","    trigger: React.PropTypes.string,","    placement: React.PropTypes.string,","    className: React.PropTypes.string,","    lateStatus: React.PropTypes.element","  },","  getDefaultProps: function() {","    return {","      dateFormat: 'ddd MMM Do',","      dateLabel: 'Due'","    };","  },","  render: function() {","    var className, dateFormat, dateLabel, details, instructionsProps, lateStatus, ref, task;","    ref = this.props, task = ref.task, dateFormat = ref.dateFormat, dateLabel = ref.dateLabel, lateStatus = ref.lateStatus, className = ref.className;","    if (className == null) {","      className = '';","    }","    className += ' task-details';","    if (task.due_at == null) {","      return null;","    }","    if (task.description) {","      instructionsProps = _.pick(this.props, 'task', 'title', 'trigger', 'placement');","      details = React.createElement(\"div\", {","        \"className\": className","      }, React.createElement(\"div\", null, dateLabel, \" \", React.createElement(Time, {","        \"date\": task.due_at,","        \"format\": dateFormat","      }), lateStatus, React.createElement(Instructions, React.__spread({}, instructionsProps))));","    } else {","      details = React.createElement(\"div\", {","        \"className\": className","      }, React.createElement(\"div\", {","        \"className\": 'task-details-due-date'","      }, dateLabel, \" \", React.createElement(Time, {","        \"date\": task.due_at,","        \"format\": dateFormat","      }), lateStatus));","    }","    return details;","  }","});","","module.exports = {","  Details: Details,","  Instructions: Instructions","};",""],"f":{"1":21,"2":2,"3":21,"4":6},"fnMap":{"1":{"line":22,"loc":{"end":{"column":30,"line":22},"start":{"column":19,"line":22}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":21,"line":30},"start":{"column":10,"line":30}},"name":"(anonymous_2)"},"3":{"line":65,"loc":{"end":{"column":30,"line":65},"start":{"column":19,"line":65}},"name":"(anonymous_3)"},"4":{"line":71,"loc":{"end":{"column":21,"line":71},"start":{"column":10,"line":71}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task/details.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":2,"10":2,"11":2,"12":2,"13":0,"14":0,"15":0,"16":21,"17":21,"18":6,"19":6,"20":6,"21":0,"22":6,"23":6,"24":0,"25":6,"26":0,"27":0,"28":6,"29":6,"30":21},"statementMap":{"1":{"end":{"column":56,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":34,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":26,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":51},"start":{"column":0,"line":13}},"8":{"end":{"column":6,"line":28},"start":{"column":4,"line":23}},"9":{"end":{"column":115,"line":31},"start":{"column":4,"line":31}},"10":{"end":{"column":171,"line":32},"start":{"column":4,"line":32}},"11":{"end":{"column":5,"line":35},"start":{"column":4,"line":33}},"12":{"end":{"column":18,"line":34},"start":{"column":6,"line":34}},"13":{"end":{"column":8,"line":41},"start":{"column":4,"line":36}},"14":{"end":{"column":7,"line":44},"start":{"column":4,"line":42}},"15":{"end":{"column":41,"line":49},"start":{"column":4,"line":45}},"16":{"end":{"column":3,"line":101},"start":{"column":0,"line":53}},"17":{"end":{"column":6,"line":69},"start":{"column":4,"line":66}},"18":{"end":{"column":92,"line":72},"start":{"column":4,"line":72}},"19":{"end":{"column":150,"line":73},"start":{"column":4,"line":73}},"20":{"end":{"column":5,"line":76},"start":{"column":4,"line":74}},"21":{"end":{"column":21,"line":75},"start":{"column":6,"line":75}},"22":{"end":{"column":33,"line":77},"start":{"column":4,"line":77}},"23":{"end":{"column":5,"line":80},"start":{"column":4,"line":78}},"24":{"end":{"column":18,"line":79},"start":{"column":6,"line":79}},"25":{"end":{"column":5,"line":98},"start":{"column":4,"line":81}},"26":{"end":{"column":86,"line":82},"start":{"column":6,"line":82}},"27":{"end":{"column":97,"line":88},"start":{"column":6,"line":83}},"28":{"end":{"column":23,"line":97},"start":{"column":6,"line":90}},"29":{"end":{"column":19,"line":99},"start":{"column":4,"line":99}},"30":{"end":{"column":2,"line":106},"start":{"column":0,"line":103}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"23":21,"31":2,"32":2,"33":2,"34":2,"36":0,"42":0,"45":0,"53":21,"66":21,"72":6,"73":6,"74":6,"75":0,"77":6,"78":6,"79":0,"81":6,"82":0,"83":0,"90":6,"99":6,"103":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task/index.cjsx":{"b":{"1":[2,0],"2":[2,0],"3":[2,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,2],"18":[2,0],"19":[0,2],"20":[2,0],"21":[2,0],"22":[1,1],"23":[2,0]},"branchMap":{"1":{"line":48,"locations":[{"end":{"column":50,"line":48},"start":{"column":27,"line":48}},{"end":{"column":63,"line":48},"start":{"column":53,"line":48}}],"type":"cond-expr"},"2":{"line":50,"locations":[{"end":{"column":4,"line":50},"start":{"column":4,"line":50}},{"end":{"column":4,"line":50},"start":{"column":4,"line":50}}],"type":"if"},"3":{"line":50,"locations":[{"end":{"column":35,"line":50},"start":{"column":24,"line":50}},{"end":{"column":44,"line":50},"start":{"column":38,"line":50}}],"type":"cond-expr"},"4":{"line":84,"locations":[{"end":{"column":39,"line":84},"start":{"column":11,"line":84}},{"end":{"column":69,"line":84},"start":{"column":43,"line":84}}],"type":"binary-expr"},"5":{"line":87,"locations":[{"end":{"column":38,"line":87},"start":{"column":11,"line":87}},{"end":{"column":67,"line":87},"start":{"column":42,"line":87}}],"type":"binary-expr"},"6":{"line":90,"locations":[{"end":{"column":37,"line":90},"start":{"column":11,"line":90}},{"end":{"column":67,"line":90},"start":{"column":41,"line":90}}],"type":"binary-expr"},"7":{"line":93,"locations":[{"end":{"column":31,"line":93},"start":{"column":11,"line":93}},{"end":{"column":84,"line":93},"start":{"column":35,"line":93}}],"type":"binary-expr"},"8":{"line":107,"locations":[{"end":{"column":4,"line":107},"start":{"column":4,"line":107}},{"end":{"column":4,"line":107},"start":{"column":4,"line":107}}],"type":"if"},"9":{"line":110,"locations":[{"end":{"column":4,"line":110},"start":{"column":4,"line":110}},{"end":{"column":4,"line":110},"start":{"column":4,"line":110}}],"type":"if"},"10":{"line":114,"locations":[{"end":{"column":4,"line":114},"start":{"column":4,"line":114}},{"end":{"column":4,"line":114},"start":{"column":4,"line":114}}],"type":"if"},"11":{"line":115,"locations":[{"end":{"column":6,"line":115},"start":{"column":6,"line":115}},{"end":{"column":6,"line":115},"start":{"column":6,"line":115}}],"type":"if"},"12":{"line":121,"locations":[{"end":{"column":4,"line":121},"start":{"column":4,"line":121}},{"end":{"column":4,"line":121},"start":{"column":4,"line":121}}],"type":"if"},"13":{"line":150,"locations":[{"end":{"column":4,"line":150},"start":{"column":4,"line":150}},{"end":{"column":4,"line":150},"start":{"column":4,"line":150}}],"type":"if"},"14":{"line":159,"locations":[{"end":{"column":4,"line":159},"start":{"column":4,"line":159}},{"end":{"column":4,"line":159},"start":{"column":4,"line":159}}],"type":"if"},"15":{"line":165,"locations":[{"end":{"column":4,"line":165},"start":{"column":4,"line":165}},{"end":{"column":4,"line":165},"start":{"column":4,"line":165}}],"type":"if"},"16":{"line":205,"locations":[{"end":{"column":32,"line":205},"start":{"column":23,"line":205}},{"end":{"column":41,"line":205},"start":{"column":35,"line":205}}],"type":"cond-expr"},"17":{"line":228,"locations":[{"end":{"column":4,"line":228},"start":{"column":4,"line":228}},{"end":{"column":4,"line":228},"start":{"column":4,"line":228}}],"type":"if"},"18":{"line":232,"locations":[{"end":{"column":72,"line":232},"start":{"column":65,"line":232}},{"end":{"column":81,"line":232},"start":{"column":75,"line":232}}],"type":"cond-expr"},"19":{"line":234,"locations":[{"end":{"column":4,"line":234},"start":{"column":4,"line":234}},{"end":{"column":4,"line":234},"start":{"column":4,"line":234}}],"type":"if"},"20":{"line":240,"locations":[{"end":{"column":94,"line":240},"start":{"column":60,"line":240}},{"end":{"column":103,"line":240},"start":{"column":97,"line":240}}],"type":"cond-expr"},"21":{"line":242,"locations":[{"end":{"column":4,"line":242},"start":{"column":4,"line":242}},{"end":{"column":4,"line":242},"start":{"column":4,"line":242}}],"type":"if"},"22":{"line":245,"locations":[{"end":{"column":4,"line":245},"start":{"column":4,"line":245}},{"end":{"column":4,"line":245},"start":{"column":4,"line":245}}],"type":"if"},"23":{"line":248,"locations":[{"end":{"column":4,"line":248},"start":{"column":4,"line":248}},{"end":{"column":4,"line":248},"start":{"column":4,"line":248}}],"type":"if"}},"code":["var BS, Breadcrumbs, CrumbMixin, Ends, PinnedHeaderFooterCard, React, Router, Spacer, StepFooterMixin, StepPanel, TaskActions, TaskStep, TaskStepActions, TaskStepStore, TaskStore, UnsavedStateMixin, _, camelCase, ref, ref1;","","React = require('react');","","BS = require('react-bootstrap');","","Router = require('react-router');","","_ = require('underscore');","","camelCase = require('camelcase');","","ref = require('../../flux/task'), TaskActions = ref.TaskActions, TaskStore = ref.TaskStore;","","ref1 = require('../../flux/task-step'), TaskStepActions = ref1.TaskStepActions, TaskStepStore = ref1.TaskStepStore;","","CrumbMixin = require('./crumb-mixin');","","StepFooterMixin = require('../task-step/step-footer-mixin');","","TaskStep = require('../task-step');","","Spacer = require('../task-step/all-steps').Spacer;","","Ends = require('../task-step/ends');","","Breadcrumbs = require('./breadcrumbs');","","StepPanel = require('../../helpers/policies').StepPanel;","","UnsavedStateMixin = require('../unsaved-state').UnsavedStateMixin;","","PinnedHeaderFooterCard = require('openstax-react-components').PinnedHeaderFooterCard;","","module.exports = React.createClass({","  propTypes: {","    id: React.PropTypes.string","  },","  displayName: 'Task',","  mixins: [StepFooterMixin, CrumbMixin, UnsavedStateMixin],","  contextTypes: {","    router: React.PropTypes.func","  },","  setStepKey: function() {","    var crumb, crumbKey, defaultKey, stepIndex;","    stepIndex = this.context.router.getCurrentParams().stepIndex;","    defaultKey = this.getDefaultCurrentStep();","    crumbKey = stepIndex ? parseInt(stepIndex) - 1 : defaultKey;","    crumb = this.getCrumb(crumbKey);","    if (crumb != null ? crumb.crumb : void 0) {","      return this.setState({","        currentStep: crumbKey","      });","    } else {","      return this.goToStep(defaultKey, true);","    }","  },","  getInitialState: function() {","    return {","      currentStep: 0,","      refreshFrom: false,","      refreshTo: false,","      recoverForStepId: false,","      recoveredStepId: false","    };","  },","  hasUnsavedState: function() {","    return TaskStore.hasAnyStepChanged(this.props.id);","  },","  unsavedStateMessages: function() {","    return 'The assignment has unsaved changes';","  },","  componentWillMount: function() {","    this.setStepKey();","    return TaskStepStore.on('step.recovered', this.prepareToRecover);","  },","  componentWillUnmount: function() {","    return TaskStepStore.off('step.recovered', this.prepareToRecover);","  },","  componentWillReceiveProps: function() {","    return this.setStepKey();","  },","  _stepRecoveryQueued: function(nextState) {","    return !this.state.recoverForStepId && nextState.recoverForStepId;","  },","  _stepRecovered: function(nextState) {","    return !this.state.recoveredStepId && nextState.recoveredStepId;","  },","  _taskRecoveredStep: function(nextState) {","    return this.state.recoveredStepId && !nextState.recoveredStepId;","  },","  _leavingRefreshingStep: function(nextState) {","    return this.state.refreshTo && !(nextState.currentStep === this.state.refreshTo);","  },","  prepareToRecover: function(recoveredStep) {","    var id;","    id = recoveredStep.id;","    TaskStore.emit('task.beforeRecovery', id);","    TaskStepStore.on('step.loaded', this.recoverStep);","    return this.setState({","      recoveredStepId: id","    });","  },","  shouldComponentUpdate: function(nextProps, nextState) {","    var id;","    id = this.props.id;","    if (this._stepRecoveryQueued(nextState)) {","      return false;","    }","    if (this._stepRecovered(nextState)) {","      TaskActions.load(id);","      return false;","    }","    if (this._taskRecoveredStep(nextState)) {","      if (!this.state.refreshTo) {","        this.onNextStep();","      }","      TaskStore.emit('task.afterRecovery', id);","      return false;","    }","    if (this._leavingRefreshingStep(nextState)) {","      this.continueAfterRefreshStep();","      return false;","    }","    return true;","  },","  refreshStep: function(refreshTo, stepId) {","    this.setState({","      refreshFrom: this.state.currentStep,","      refreshTo: refreshTo,","      recoverForStepId: stepId","    });","    return this.goToStep(refreshTo);","  },","  continueAfterRefreshStep: function() {","    this.goToStep(this.state.refreshFrom + 1);","    return this.setState({","      refreshFrom: false,","      refreshTo: false,","      recoverForStepId: false","    });","  },","  recoverFor: function(stepId) {","    this.setState({","      recoverForStepId: stepId","    });","    return TaskStepActions.loadRecovery(stepId);","  },","  recoverStep: function(loadedStepId) {","    if (loadedStepId === this.state.recoveredStepId) {","      this.setState({","        recoveredStepId: false","      });","      return TaskStepStore.off('step.loaded', this.recoverStep);","    }","  },","  goToStep: function(stepKey, silent) {","    var params;","    if (silent == null) {","      silent = false;","    }","    params = _.clone(this.context.router.getCurrentParams());","    params.stepIndex = stepKey + 1;","    params.id = this.props.id;","    if (silent) {","      return this.context.router.replaceWith('viewTaskStep', params);","    } else {","      return this.context.router.transitionTo('viewTaskStep', params);","    }","  },","  getCrumb: function(crumbKey) {","    var crumbs;","    crumbs = this.generateCrumbs();","    return _.findWhere(crumbs, {","      key: crumbKey","    });","  },","  renderStep: function(data) {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return React.createElement(TaskStep, {","      \"id\": data.id,","      \"taskId\": this.props.id,","      \"courseId\": courseId,","      \"goToStep\": this.goToStep,","      \"onNextStep\": this.onNextStep,","      \"refreshStep\": this.refreshStep,","      \"recoverFor\": this.recoverFor","    });","  },","  renderDefaultEndFooter: function(data) {","    var courseId, id, taskFooterParams;","    id = this.props.id;","    courseId = this.context.router.getCurrentParams().courseId;","    taskFooterParams = {","      stepId: data.id,","      taskId: id,","      courseId: courseId","    };","    return this.renderEndFooter(taskFooterParams);","  },","  renderEnd: function(data) {","    var End, courseId, footer, panel, type;","    courseId = this.context.router.getCurrentParams().courseId;","    type = data.type ? data.type : 'task';","    End = Ends.get(type);","    footer = this.renderDefaultEndFooter(data);","    return panel = React.createElement(End, {","      \"courseId\": courseId,","      \"taskId\": data.id,","      \"reloadPractice\": this.reloadTask,","      \"footer\": footer","    });","  },","  renderSpacer: function(data) {","    var courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    return React.createElement(Spacer, {","      \"onNextStep\": this.onNextStep,","      \"taskId\": this.props.id,","      \"courseId\": courseId","    });","  },","  render: function() {","    var breadcrumbs, crumb, id, panel, panelData, panelType, ref2, renderPanelMethod, task, taskClasses;","    id = this.props.id;","    task = TaskStore.get(id);","    if (task == null) {","      return null;","    }","    crumb = this.getCrumb(this.state.currentStep);","    panelType = StepPanel.getPanel((ref2 = crumb.data) != null ? ref2.id : void 0);","    renderPanelMethod = camelCase(\"render-\" + crumb.type);","    if (this[renderPanelMethod] == null) {","      throw new Error(\"BUG: panel \" + crumb.type + \" for \" + task.type + \" does not have a render method\");","    }","    panelData = _.extend({}, crumb.data, {","      panelType: panelType","    });","    panel = typeof this[renderPanelMethod] === \"function\" ? this[renderPanelMethod](panelData) : void 0;","    taskClasses = \"task task-\" + task.type;","    if (panelType != null) {","      taskClasses += \" task-\" + panelType;","    }","    if (TaskStore.isTaskCompleted(id)) {","      taskClasses += ' task-completed';","    }","    if (TaskStore.hasCrumbs(id)) {","      breadcrumbs = React.createElement(Breadcrumbs, {","        \"id\": id,","        \"goToStep\": this.goToStep,","        \"currentStep\": this.state.currentStep,","        \"key\": \"task-\" + id + \"-breadcrumbs\"","      });","    }","    return React.createElement(PinnedHeaderFooterCard, {","      \"forceShy\": true,","      \"className\": taskClasses,","      \"fixedOffset\": 0.,","      \"header\": breadcrumbs,","      \"cardType\": 'task'","    }, panel);","  },","  reloadTask: function() {","    return this.setState({","      currentStep: 0","    });","  },","  onNextStep: function() {","    return this.goToStep(this.state.currentStep + 1);","  }","});",""],"f":{"1":2,"2":2,"3":0,"4":0,"5":2,"6":2,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":4,"20":2,"21":0,"22":0,"23":0,"24":2,"25":0,"26":0},"fnMap":{"1":{"line":44,"loc":{"end":{"column":25,"line":44},"start":{"column":14,"line":44}},"name":"(anonymous_1)"},"2":{"line":58,"loc":{"end":{"column":30,"line":58},"start":{"column":19,"line":58}},"name":"(anonymous_2)"},"3":{"line":67,"loc":{"end":{"column":30,"line":67},"start":{"column":19,"line":67}},"name":"(anonymous_3)"},"4":{"line":70,"loc":{"end":{"column":35,"line":70},"start":{"column":24,"line":70}},"name":"(anonymous_4)"},"5":{"line":73,"loc":{"end":{"column":33,"line":73},"start":{"column":22,"line":73}},"name":"(anonymous_5)"},"6":{"line":77,"loc":{"end":{"column":35,"line":77},"start":{"column":24,"line":77}},"name":"(anonymous_6)"},"7":{"line":80,"loc":{"end":{"column":40,"line":80},"start":{"column":29,"line":80}},"name":"(anonymous_7)"},"8":{"line":83,"loc":{"end":{"column":43,"line":83},"start":{"column":23,"line":83}},"name":"(anonymous_8)"},"9":{"line":86,"loc":{"end":{"column":38,"line":86},"start":{"column":18,"line":86}},"name":"(anonymous_9)"},"10":{"line":89,"loc":{"end":{"column":42,"line":89},"start":{"column":22,"line":89}},"name":"(anonymous_10)"},"11":{"line":92,"loc":{"end":{"column":46,"line":92},"start":{"column":26,"line":92}},"name":"(anonymous_11)"},"12":{"line":95,"loc":{"end":{"column":44,"line":95},"start":{"column":20,"line":95}},"name":"(anonymous_12)"},"13":{"line":104,"loc":{"end":{"column":56,"line":104},"start":{"column":25,"line":104}},"name":"(anonymous_13)"},"14":{"line":127,"loc":{"end":{"column":43,"line":127},"start":{"column":15,"line":127}},"name":"(anonymous_14)"},"15":{"line":135,"loc":{"end":{"column":39,"line":135},"start":{"column":28,"line":135}},"name":"(anonymous_15)"},"16":{"line":143,"loc":{"end":{"column":31,"line":143},"start":{"column":14,"line":143}},"name":"(anonymous_16)"},"17":{"line":149,"loc":{"end":{"column":38,"line":149},"start":{"column":15,"line":149}},"name":"(anonymous_17)"},"18":{"line":157,"loc":{"end":{"column":38,"line":157},"start":{"column":12,"line":157}},"name":"(anonymous_18)"},"19":{"line":171,"loc":{"end":{"column":31,"line":171},"start":{"column":12,"line":171}},"name":"(anonymous_19)"},"20":{"line":178,"loc":{"end":{"column":29,"line":178},"start":{"column":14,"line":178}},"name":"(anonymous_20)"},"21":{"line":191,"loc":{"end":{"column":41,"line":191},"start":{"column":26,"line":191}},"name":"(anonymous_21)"},"22":{"line":202,"loc":{"end":{"column":28,"line":202},"start":{"column":13,"line":202}},"name":"(anonymous_22)"},"23":{"line":215,"loc":{"end":{"column":31,"line":215},"start":{"column":16,"line":215}},"name":"(anonymous_23)"},"24":{"line":224,"loc":{"end":{"column":21,"line":224},"start":{"column":10,"line":224}},"name":"(anonymous_24)"},"25":{"line":264,"loc":{"end":{"column":25,"line":264},"start":{"column":14,"line":264}},"name":"(anonymous_25)"},"26":{"line":269,"loc":{"end":{"column":25,"line":269},"start":{"column":14,"line":269}},"name":"(anonymous_26)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task/index.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":2,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":0,"27":2,"28":0,"29":0,"30":2,"31":2,"32":2,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":4,"78":4,"79":4,"80":2,"81":2,"82":2,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":2,"98":2,"99":2,"100":2,"101":0,"102":2,"103":2,"104":2,"105":2,"106":0,"107":2,"108":2,"109":2,"110":2,"111":2,"112":2,"113":1,"114":2,"115":2,"116":2,"117":0,"118":0},"statementMap":{"1":{"end":{"column":223,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":33,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":91,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":115,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":38,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":60,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":35,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":50,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":36,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":39,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":56,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":66,"line":31},"start":{"column":0,"line":31}},"17":{"end":{"column":85,"line":33},"start":{"column":0,"line":33}},"18":{"end":{"column":3,"line":272},"start":{"column":0,"line":35}},"19":{"end":{"column":47,"line":45},"start":{"column":4,"line":45}},"20":{"end":{"column":65,"line":46},"start":{"column":4,"line":46}},"21":{"end":{"column":46,"line":47},"start":{"column":4,"line":47}},"22":{"end":{"column":64,"line":48},"start":{"column":4,"line":48}},"23":{"end":{"column":36,"line":49},"start":{"column":4,"line":49}},"24":{"end":{"column":5,"line":56},"start":{"column":4,"line":50}},"25":{"end":{"column":9,"line":53},"start":{"column":6,"line":51}},"26":{"end":{"column":45,"line":55},"start":{"column":6,"line":55}},"27":{"end":{"column":6,"line":65},"start":{"column":4,"line":59}},"28":{"end":{"column":54,"line":68},"start":{"column":4,"line":68}},"29":{"end":{"column":48,"line":71},"start":{"column":4,"line":71}},"30":{"end":{"column":22,"line":74},"start":{"column":4,"line":74}},"31":{"end":{"column":69,"line":75},"start":{"column":4,"line":75}},"32":{"end":{"column":70,"line":78},"start":{"column":4,"line":78}},"33":{"end":{"column":29,"line":81},"start":{"column":4,"line":81}},"34":{"end":{"column":70,"line":84},"start":{"column":4,"line":84}},"35":{"end":{"column":68,"line":87},"start":{"column":4,"line":87}},"36":{"end":{"column":68,"line":90},"start":{"column":4,"line":90}},"37":{"end":{"column":85,"line":93},"start":{"column":4,"line":93}},"38":{"end":{"column":11,"line":96},"start":{"column":4,"line":96}},"39":{"end":{"column":26,"line":97},"start":{"column":4,"line":97}},"40":{"end":{"column":46,"line":98},"start":{"column":4,"line":98}},"41":{"end":{"column":54,"line":99},"start":{"column":4,"line":99}},"42":{"end":{"column":7,"line":102},"start":{"column":4,"line":100}},"43":{"end":{"column":11,"line":105},"start":{"column":4,"line":105}},"44":{"end":{"column":23,"line":106},"start":{"column":4,"line":106}},"45":{"end":{"column":5,"line":109},"start":{"column":4,"line":107}},"46":{"end":{"column":19,"line":108},"start":{"column":6,"line":108}},"47":{"end":{"column":5,"line":113},"start":{"column":4,"line":110}},"48":{"end":{"column":27,"line":111},"start":{"column":6,"line":111}},"49":{"end":{"column":19,"line":112},"start":{"column":6,"line":112}},"50":{"end":{"column":5,"line":120},"start":{"column":4,"line":114}},"51":{"end":{"column":7,"line":117},"start":{"column":6,"line":115}},"52":{"end":{"column":26,"line":116},"start":{"column":8,"line":116}},"53":{"end":{"column":47,"line":118},"start":{"column":6,"line":118}},"54":{"end":{"column":19,"line":119},"start":{"column":6,"line":119}},"55":{"end":{"column":5,"line":124},"start":{"column":4,"line":121}},"56":{"end":{"column":38,"line":122},"start":{"column":6,"line":122}},"57":{"end":{"column":19,"line":123},"start":{"column":6,"line":123}},"58":{"end":{"column":16,"line":125},"start":{"column":4,"line":125}},"59":{"end":{"column":7,"line":132},"start":{"column":4,"line":128}},"60":{"end":{"column":36,"line":133},"start":{"column":4,"line":133}},"61":{"end":{"column":46,"line":136},"start":{"column":4,"line":136}},"62":{"end":{"column":7,"line":141},"start":{"column":4,"line":137}},"63":{"end":{"column":7,"line":146},"start":{"column":4,"line":144}},"64":{"end":{"column":48,"line":147},"start":{"column":4,"line":147}},"65":{"end":{"column":5,"line":155},"start":{"column":4,"line":150}},"66":{"end":{"column":9,"line":153},"start":{"column":6,"line":151}},"67":{"end":{"column":64,"line":154},"start":{"column":6,"line":154}},"68":{"end":{"column":15,"line":158},"start":{"column":4,"line":158}},"69":{"end":{"column":5,"line":161},"start":{"column":4,"line":159}},"70":{"end":{"column":21,"line":160},"start":{"column":6,"line":160}},"71":{"end":{"column":61,"line":162},"start":{"column":4,"line":162}},"72":{"end":{"column":35,"line":163},"start":{"column":4,"line":163}},"73":{"end":{"column":30,"line":164},"start":{"column":4,"line":164}},"74":{"end":{"column":5,"line":169},"start":{"column":4,"line":165}},"75":{"end":{"column":69,"line":166},"start":{"column":6,"line":166}},"76":{"end":{"column":70,"line":168},"start":{"column":6,"line":168}},"77":{"end":{"column":15,"line":172},"start":{"column":4,"line":172}},"78":{"end":{"column":35,"line":173},"start":{"column":4,"line":173}},"79":{"end":{"column":7,"line":176},"start":{"column":4,"line":174}},"80":{"end":{"column":17,"line":179},"start":{"column":4,"line":179}},"81":{"end":{"column":63,"line":180},"start":{"column":4,"line":180}},"82":{"end":{"column":7,"line":189},"start":{"column":4,"line":181}},"83":{"end":{"column":39,"line":192},"start":{"column":4,"line":192}},"84":{"end":{"column":23,"line":193},"start":{"column":4,"line":193}},"85":{"end":{"column":63,"line":194},"start":{"column":4,"line":194}},"86":{"end":{"column":6,"line":199},"start":{"column":4,"line":195}},"87":{"end":{"column":50,"line":200},"start":{"column":4,"line":200}},"88":{"end":{"column":43,"line":203},"start":{"column":4,"line":203}},"89":{"end":{"column":63,"line":204},"start":{"column":4,"line":204}},"90":{"end":{"column":42,"line":205},"start":{"column":4,"line":205}},"91":{"end":{"column":25,"line":206},"start":{"column":4,"line":206}},"92":{"end":{"column":47,"line":207},"start":{"column":4,"line":207}},"93":{"end":{"column":7,"line":213},"start":{"column":4,"line":208}},"94":{"end":{"column":17,"line":216},"start":{"column":4,"line":216}},"95":{"end":{"column":63,"line":217},"start":{"column":4,"line":217}},"96":{"end":{"column":7,"line":222},"start":{"column":4,"line":218}},"97":{"end":{"column":104,"line":225},"start":{"column":4,"line":225}},"98":{"end":{"column":23,"line":226},"start":{"column":4,"line":226}},"99":{"end":{"column":29,"line":227},"start":{"column":4,"line":227}},"100":{"end":{"column":5,"line":230},"start":{"column":4,"line":228}},"101":{"end":{"column":18,"line":229},"start":{"column":6,"line":229}},"102":{"end":{"column":50,"line":231},"start":{"column":4,"line":231}},"103":{"end":{"column":83,"line":232},"start":{"column":4,"line":232}},"104":{"end":{"column":58,"line":233},"start":{"column":4,"line":233}},"105":{"end":{"column":5,"line":236},"start":{"column":4,"line":234}},"106":{"end":{"column":107,"line":235},"start":{"column":6,"line":235}},"107":{"end":{"column":7,"line":239},"start":{"column":4,"line":237}},"108":{"end":{"column":104,"line":240},"start":{"column":4,"line":240}},"109":{"end":{"column":43,"line":241},"start":{"column":4,"line":241}},"110":{"end":{"column":5,"line":244},"start":{"column":4,"line":242}},"111":{"end":{"column":42,"line":243},"start":{"column":6,"line":243}},"112":{"end":{"column":5,"line":247},"start":{"column":4,"line":245}},"113":{"end":{"column":39,"line":246},"start":{"column":6,"line":246}},"114":{"end":{"column":5,"line":255},"start":{"column":4,"line":248}},"115":{"end":{"column":9,"line":254},"start":{"column":6,"line":249}},"116":{"end":{"column":14,"line":262},"start":{"column":4,"line":256}},"117":{"end":{"column":7,"line":267},"start":{"column":4,"line":265}},"118":{"end":{"column":53,"line":270},"start":{"column":4,"line":270}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"33":21,"35":21,"45":2,"46":2,"47":2,"48":2,"49":2,"50":2,"51":2,"55":0,"59":2,"68":0,"71":0,"74":2,"75":2,"78":2,"81":0,"84":0,"87":0,"90":0,"93":0,"96":0,"97":0,"98":0,"99":0,"100":0,"105":0,"106":0,"107":0,"108":0,"110":0,"111":0,"112":0,"114":0,"115":0,"116":0,"118":0,"119":0,"121":0,"122":0,"123":0,"125":0,"128":0,"133":0,"136":0,"137":0,"144":0,"147":0,"150":0,"151":0,"154":0,"158":0,"159":0,"160":0,"162":0,"163":0,"164":0,"165":0,"166":0,"168":0,"172":4,"173":4,"174":4,"179":2,"180":2,"181":2,"192":0,"193":0,"194":0,"195":0,"200":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"216":0,"217":0,"218":0,"225":2,"226":2,"227":2,"228":2,"229":0,"231":2,"232":2,"233":2,"234":2,"235":0,"237":2,"240":2,"241":2,"242":2,"243":2,"245":2,"246":1,"248":2,"249":2,"256":2,"265":0,"270":0}},
"/Users/phil/github/openstax/tutor-js/src/components/task/review.cjsx":{"b":{"1":[0,0]},"branchMap":{"1":{"line":34,"locations":[{"end":{"column":22,"line":34},"start":{"column":17,"line":34}},{"end":{"column":37,"line":34},"start":{"column":26,"line":34}}],"type":"binary-expr"}},"code":["var React, ReactCSSTransitionGroup, Review, TaskStep, _;","","React = require('react/addons');","","_ = require('underscore');","","TaskStep = require('../task-step');","","ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;","","Review = React.createClass({","  displayName: 'Review',","  propTypes: {","    taskId: React.PropTypes.string.isRequired,","    focus: React.PropTypes.bool.isRequired","  },","  getDefaultProps: function() {","    return {","      focus: false","    };","  },","  render: function() {","    var focus, ref, stepProps, steps, stepsList, taskId;","    ref = this.props, taskId = ref.taskId, steps = ref.steps, focus = ref.focus;","    stepProps = _.omit(this.props, 'steps', 'focus');","    stepsList = _.map(steps, function(step, index) {","      return React.createElement(TaskStep, React.__spread({}, stepProps, {","        \"id\": step.id,","        \"key\": \"task-review-\" + step.id,","        \"focus\": true,","        \"on\": true,","        \"first\": true,","        \"problem\": true,","        \"focus\": focus && index === 0,","        \"pinned\": false","      }));","    });","    return React.createElement(ReactCSSTransitionGroup, {","      \"transitionName\": \"homework-review-problem\"","    }, stepsList);","  }","});","","module.exports = Review;",""],"f":{"1":21,"2":0,"3":0},"fnMap":{"1":{"line":17,"loc":{"end":{"column":30,"line":17},"start":{"column":19,"line":17}},"name":"(anonymous_1)"},"2":{"line":22,"loc":{"end":{"column":21,"line":22},"start":{"column":10,"line":22}},"name":"(anonymous_2)"},"3":{"line":26,"loc":{"end":{"column":51,"line":26},"start":{"column":29,"line":26}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task/review.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":21},"statementMap":{"1":{"end":{"column":56,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":32,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":35,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":58,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":42},"start":{"column":0,"line":11}},"7":{"end":{"column":6,"line":20},"start":{"column":4,"line":18}},"8":{"end":{"column":56,"line":23},"start":{"column":4,"line":23}},"9":{"end":{"column":80,"line":24},"start":{"column":4,"line":24}},"10":{"end":{"column":53,"line":25},"start":{"column":4,"line":25}},"11":{"end":{"column":7,"line":37},"start":{"column":4,"line":26}},"12":{"end":{"column":10,"line":36},"start":{"column":6,"line":27}},"13":{"end":{"column":18,"line":40},"start":{"column":4,"line":38}},"14":{"end":{"column":24,"line":44},"start":{"column":0,"line":44}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"18":21,"23":0,"24":0,"25":0,"26":0,"27":0,"38":0,"44":21}},
"/Users/phil/github/openstax/tutor-js/src/components/task/viewing-as-student-name.cjsx":{"b":{"1":[6,2],"2":[0,4],"3":[0,2],"4":[6,0]},"branchMap":{"1":{"line":23,"locations":[{"end":{"column":16,"line":23},"start":{"column":11,"line":23}},{"end":{"column":30,"line":23},"start":{"column":20,"line":23}}],"type":"binary-expr"},"2":{"line":30,"locations":[{"end":{"column":4,"line":30},"start":{"column":4,"line":30}},{"end":{"column":4,"line":30},"start":{"column":4,"line":30}}],"type":"if"},"3":{"line":39,"locations":[{"end":{"column":4,"line":39},"start":{"column":4,"line":39}},{"end":{"column":4,"line":39},"start":{"column":4,"line":39}}],"type":"if"},"4":{"line":53,"locations":[{"end":{"column":4,"line":53},"start":{"column":4,"line":53}},{"end":{"column":4,"line":53},"start":{"column":4,"line":53}}],"type":"if"}},"code":["var LoadableItem, Name, React, ScoresActions, ScoresStore, ViewingAsStudentName, ref;","","React = require('react');","","LoadableItem = require('../loadable-item');","","Name = require('../name');","","ref = require('../../flux/scores'), ScoresStore = ref.ScoresStore, ScoresActions = ref.ScoresActions;","","ViewingAsStudentName = React.createClass({","  displayName: 'ViewingAsStudentName',","  propTypes: {","    courseId: React.PropTypes.string.isRequired,","    taskId: React.PropTypes.string.isRequired,","    className: React.PropTypes.string","  },","  getInitialState: function() {","    return this.getStudentState();","  },","  getStudentState: function(props) {","    var courseId, ref1, student, taskId;","    ref1 = props || this.props, courseId = ref1.courseId, taskId = ref1.taskId;","    student = ScoresStore.getStudentOfTask(courseId, taskId);","    return {","      student: student","    };","  },","  updateStudent: function(props) {","    if (props == null) {","      props = this.props;","    }","    return this.setState(this.getStudentState(props));","  },","  componentWillMount: function() {","    var courseId, ref1, student, taskId;","    ref1 = this.props, courseId = ref1.courseId, taskId = ref1.taskId;","    student = this.state.student;","    if (student == null) {","      ScoresStore.once('change', this.updateStudent);","      return ScoresActions.load(courseId);","    }","  },","  componentWillReceiveProps: function(nextProps) {","    return this.updateStudent(nextProps);","  },","  render: function() {","    var className, student, studentName;","    className = this.props.className;","    studentName = null;","    className += ' task-student';","    student = this.state.student;","    if (student != null) {","      studentName = React.createElement(\"div\", {","        \"className\": className","      }, React.createElement(Name, React.__spread({}, student)));","    }","    return studentName;","  }","});","","module.exports = {","  ViewingAsStudentName: ViewingAsStudentName","};",""],"f":{"1":2,"2":6,"3":4,"4":2,"5":4,"6":6},"fnMap":{"1":{"line":18,"loc":{"end":{"column":30,"line":18},"start":{"column":19,"line":18}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":35,"line":21},"start":{"column":19,"line":21}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":33,"line":29},"start":{"column":17,"line":29}},"name":"(anonymous_3)"},"4":{"line":35,"loc":{"end":{"column":33,"line":35},"start":{"column":22,"line":35}},"name":"(anonymous_4)"},"5":{"line":44,"loc":{"end":{"column":49,"line":44},"start":{"column":29,"line":44}},"name":"(anonymous_5)"},"6":{"line":47,"loc":{"end":{"column":21,"line":47},"start":{"column":10,"line":47}},"name":"(anonymous_6)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/task/viewing-as-student-name.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":2,"8":6,"9":6,"10":6,"11":6,"12":4,"13":0,"14":4,"15":2,"16":2,"17":2,"18":2,"19":0,"20":0,"21":4,"22":6,"23":6,"24":6,"25":6,"26":6,"27":6,"28":6,"29":6,"30":21},"statementMap":{"1":{"end":{"column":85,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":43,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":101,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":60},"start":{"column":0,"line":11}},"7":{"end":{"column":34,"line":19},"start":{"column":4,"line":19}},"8":{"end":{"column":40,"line":22},"start":{"column":4,"line":22}},"9":{"end":{"column":79,"line":23},"start":{"column":4,"line":23}},"10":{"end":{"column":61,"line":24},"start":{"column":4,"line":24}},"11":{"end":{"column":6,"line":27},"start":{"column":4,"line":25}},"12":{"end":{"column":5,"line":32},"start":{"column":4,"line":30}},"13":{"end":{"column":25,"line":31},"start":{"column":6,"line":31}},"14":{"end":{"column":54,"line":33},"start":{"column":4,"line":33}},"15":{"end":{"column":40,"line":36},"start":{"column":4,"line":36}},"16":{"end":{"column":70,"line":37},"start":{"column":4,"line":37}},"17":{"end":{"column":33,"line":38},"start":{"column":4,"line":38}},"18":{"end":{"column":5,"line":42},"start":{"column":4,"line":39}},"19":{"end":{"column":53,"line":40},"start":{"column":6,"line":40}},"20":{"end":{"column":42,"line":41},"start":{"column":6,"line":41}},"21":{"end":{"column":41,"line":45},"start":{"column":4,"line":45}},"22":{"end":{"column":40,"line":48},"start":{"column":4,"line":48}},"23":{"end":{"column":37,"line":49},"start":{"column":4,"line":49}},"24":{"end":{"column":23,"line":50},"start":{"column":4,"line":50}},"25":{"end":{"column":33,"line":51},"start":{"column":4,"line":51}},"26":{"end":{"column":33,"line":52},"start":{"column":4,"line":52}},"27":{"end":{"column":5,"line":57},"start":{"column":4,"line":53}},"28":{"end":{"column":65,"line":56},"start":{"column":6,"line":54}},"29":{"end":{"column":23,"line":58},"start":{"column":4,"line":58}},"30":{"end":{"column":2,"line":64},"start":{"column":0,"line":62}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"19":2,"22":6,"23":6,"24":6,"25":6,"30":4,"31":0,"33":4,"36":2,"37":2,"38":2,"39":2,"40":0,"41":0,"45":4,"48":6,"49":6,"50":6,"51":6,"52":6,"53":6,"54":6,"58":6,"62":21}},
"/Users/phil/github/openstax/tutor-js/src/components/time-difference.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"branchMap":{"1":{"line":29,"locations":[{"end":{"column":15,"line":29},"start":{"column":4,"line":29}},{"end":{"column":52,"line":29},"start":{"column":20,"line":29}}],"type":"binary-expr"},"2":{"line":36,"locations":[{"end":{"column":4,"line":36},"start":{"column":4,"line":36}},{"end":{"column":4,"line":36},"start":{"column":4,"line":36}}],"type":"if"},"3":{"line":38,"locations":[{"end":{"column":6,"line":38},"start":{"column":6,"line":38}},{"end":{"column":6,"line":38},"start":{"column":6,"line":38}}],"type":"if"}},"code":["var React, TimeStore, moment;","","moment = require('moment');","","TimeStore = require('../flux/time').TimeStore;","","React = require('react');","","module.exports = React.createClass({","  displayName: 'TimeDifference',","  propTypes: {","    date: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.instanceOf(Date)]).isRequired,","    compareWith: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.instanceOf(Date)]),","    compare: React.PropTypes.oneOf(['from', 'to']),","    toleranceMS: React.PropTypes.number,","    defaultText: React.PropTypes.string","  },","  getDefaultProps: function() {","    return {","      compare: 'from',","      customSuffix: void 0,","      toleranceMS: 60000,","      defaultText: 'just now'","    };","  },","  shouldRenderDifference: function() {","    var compareWith, date, ref, toleranceMS;","    ref = this.props, date = ref.date, compareWith = ref.compareWith, toleranceMS = ref.toleranceMS;","    compareWith || (compareWith = TimeStore.getNow());","    return Math.abs(moment(date).diff(compareWith)) > toleranceMS;","  },","  render: function() {","    var compare, compareWith, customSuffix, date, defaultText, differenceText, ref;","    ref = this.props, date = ref.date, compareWith = ref.compareWith, compare = ref.compare, customSuffix = ref.customSuffix, defaultText = ref.defaultText;","    differenceText = defaultText;","    if (this.shouldRenderDifference()) {","      differenceText = moment(date)[compare](compareWith, customSuffix != null);","      if (customSuffix != null) {","        differenceText += customSuffix;","      }","    }","    return React.createElement(\"span\", null, differenceText);","  }","});",""],"f":{"1":21,"2":0,"3":0},"fnMap":{"1":{"line":18,"loc":{"end":{"column":30,"line":18},"start":{"column":19,"line":18}},"name":"(anonymous_1)"},"2":{"line":26,"loc":{"end":{"column":37,"line":26},"start":{"column":26,"line":26}},"name":"(anonymous_2)"},"3":{"line":32,"loc":{"end":{"column":21,"line":32},"start":{"column":10,"line":32}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/time-difference.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"statementMap":{"1":{"end":{"column":29,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":27,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":46,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":25,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":44},"start":{"column":0,"line":9}},"6":{"end":{"column":6,"line":24},"start":{"column":4,"line":19}},"7":{"end":{"column":44,"line":27},"start":{"column":4,"line":27}},"8":{"end":{"column":100,"line":28},"start":{"column":4,"line":28}},"9":{"end":{"column":54,"line":29},"start":{"column":4,"line":29}},"10":{"end":{"column":66,"line":30},"start":{"column":4,"line":30}},"11":{"end":{"column":83,"line":33},"start":{"column":4,"line":33}},"12":{"end":{"column":156,"line":34},"start":{"column":4,"line":34}},"13":{"end":{"column":33,"line":35},"start":{"column":4,"line":35}},"14":{"end":{"column":5,"line":41},"start":{"column":4,"line":36}},"15":{"end":{"column":80,"line":37},"start":{"column":6,"line":37}},"16":{"end":{"column":7,"line":40},"start":{"column":6,"line":38}},"17":{"end":{"column":39,"line":39},"start":{"column":8,"line":39}},"18":{"end":{"column":61,"line":42},"start":{"column":4,"line":42}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"19":21,"27":0,"28":0,"29":0,"30":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"42":0}},
"/Users/phil/github/openstax/tutor-js/src/components/time.cjsx":{"b":{"1":[109,6,0,6]},"branchMap":{"1":{"line":25,"locations":[{"end":{"column":23,"line":27},"start":{"column":8,"line":26}},{"end":{"column":32,"line":29},"start":{"column":8,"line":28}},{"end":{"column":49,"line":31},"start":{"column":8,"line":30}},{"end":{"column":35,"line":33},"start":{"column":8,"line":32}}],"type":"switch"}},"code":["var React, TimeStore, moment;","","moment = require('moment');","","TimeStore = require('../flux/time').TimeStore;","","React = require('react');","","module.exports = React.createClass({","  displayName: 'Time',","  propTypes: {","    date: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.instanceOf(Date)]).isRequired,","    format: React.PropTypes.string","  },","  getDefaultProps: function() {","    return {","      format: 'short',","      date: TimeStore.getNow()","    };","  },","  render: function() {","    var date, format, ref;","    ref = this.props, format = ref.format, date = ref.date;","    format = (function() {","      switch (this.props.format) {","        case 'shortest':","          return 'M/D';","        case 'short':","          return 'MMM DD, YYYY';","        case 'long':","          return 'dddd, MMMM Do YYYY, h:mm:ss a';","        default:","          return this.props.format;","      }","    }).call(this);","    return React.createElement(\"time\", null, moment(date).format(format));","  }","});",""],"f":{"1":21,"2":121,"3":121},"fnMap":{"1":{"line":15,"loc":{"end":{"column":30,"line":15},"start":{"column":19,"line":15}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":21,"line":21},"start":{"column":10,"line":21}},"name":"(anonymous_2)"},"3":{"line":24,"loc":{"end":{"column":25,"line":24},"start":{"column":14,"line":24}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/time.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":121,"8":121,"9":121,"10":121,"11":109,"12":6,"13":0,"14":6,"15":121},"statementMap":{"1":{"end":{"column":29,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":27,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":46,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":25,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":38},"start":{"column":0,"line":9}},"6":{"end":{"column":6,"line":19},"start":{"column":4,"line":16}},"7":{"end":{"column":26,"line":22},"start":{"column":4,"line":22}},"8":{"end":{"column":59,"line":23},"start":{"column":4,"line":23}},"9":{"end":{"column":18,"line":35},"start":{"column":4,"line":24}},"10":{"end":{"column":7,"line":34},"start":{"column":6,"line":25}},"11":{"end":{"column":23,"line":27},"start":{"column":10,"line":27}},"12":{"end":{"column":32,"line":29},"start":{"column":10,"line":29}},"13":{"end":{"column":49,"line":31},"start":{"column":10,"line":31}},"14":{"end":{"column":35,"line":33},"start":{"column":10,"line":33}},"15":{"end":{"column":74,"line":36},"start":{"column":4,"line":36}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"16":21,"22":121,"23":121,"24":121,"25":121,"27":109,"29":6,"31":0,"33":6,"36":121}},
"/Users/phil/github/openstax/tutor-js/src/components/tutor-dialog.cjsx":{"b":{"1":[0,0],"2":[2,2],"3":[2,2],"4":[0,2],"5":[0,0],"6":[0,0],"7":[0,2],"8":[0,0],"9":[0,0]},"branchMap":{"1":{"line":30,"locations":[{"end":{"column":4,"line":30},"start":{"column":4,"line":30}},{"end":{"column":4,"line":30},"start":{"column":4,"line":30}}],"type":"if"},"2":{"line":47,"locations":[{"end":{"column":4,"line":47},"start":{"column":4,"line":47}},{"end":{"column":4,"line":47},"start":{"column":4,"line":47}}],"type":"if"},"3":{"line":50,"locations":[{"end":{"column":32,"line":50},"start":{"column":14,"line":50}},{"end":{"column":5,"line":61},"start":{"column":36,"line":50}}],"type":"binary-expr"},"4":{"line":63,"locations":[{"end":{"column":4,"line":63},"start":{"column":4,"line":63}},{"end":{"column":4,"line":63},"start":{"column":4,"line":63}}],"type":"if"},"5":{"line":88,"locations":[{"end":{"column":97,"line":88},"start":{"column":65,"line":88}},{"end":{"column":106,"line":88},"start":{"column":100,"line":88}}],"type":"cond-expr"},"6":{"line":90,"locations":[{"end":{"column":104,"line":90},"start":{"column":68,"line":90}},{"end":{"column":113,"line":90},"start":{"column":107,"line":90}}],"type":"cond-expr"},"7":{"line":111,"locations":[{"end":{"column":10,"line":111},"start":{"column":10,"line":111}},{"end":{"column":10,"line":111},"start":{"column":10,"line":111}}],"type":"if"},"8":{"line":124,"locations":[{"end":{"column":53,"line":124},"start":{"column":43,"line":124}},{"end":{"column":62,"line":124},"start":{"column":56,"line":124}}],"type":"cond-expr"},"9":{"line":128,"locations":[{"end":{"column":62,"line":128},"start":{"column":43,"line":128}},{"end":{"column":71,"line":128},"start":{"column":65,"line":128}}],"type":"cond-expr"}},"code":["var BS, DetachedTutorDialog, DialogProperties, Promise, React, TutorDialog, _;","","BS = require('react-bootstrap');","","React = require('react');","","_ = require('underscore');","","Promise = require('es6-promise').Promise;","","DialogProperties = {","  title: React.PropTypes.string.isRequired,","  onOk: React.PropTypes.func.isRequired,","  onCancel: React.PropTypes.func.isRequired,","  body: React.PropTypes.element.isRequired,","  show: React.PropTypes.bool,","  buttons: React.PropTypes.arrayOf(React.PropTypes.element),","  className: React.PropTypes.string","};","","DetachedTutorDialog = React.createClass({","  displayName: 'DetachedTutorDialog',","  propTypes: DialogProperties,","  getInitialState: function() {","    return {","      show: true","    };","  },","  componentWillReceiveProps: function(nextProps) {","    if (nextProps.show != null) {","      return this.setState({","        show: nextProps.show","      });","    }","  },","  _hide: function() {","    return this.setState({","      show: false","    });","  },","  hide: function() {","    this._hide();","    return this.props.onCancel();","  },","  render: function() {","    var buttons, classes;","    if (!this.state.show) {","      return null;","    }","    buttons = this.props.buttons || [","      React.createElement(BS.Button, {","        \"key\": 'ok',","        \"className\": 'ok',","        \"onClick\": _.compose(this.props.onOk, this._hide),","        \"bsStyle\": 'primary'","      }, \"OK\"), React.createElement(BS.Button, {","        \"key\": 'cancel',","        \"className\": 'cancel',","        \"onClick\": _.compose(this.props.onCancel, this._hide)","      }, \"Cancel\")","    ];","    classes = ['tutor-dialog'];","    if (this.props.className) {","      classes.push(this.props.className);","    }","    return React.createElement(BS.Modal, {","      \"className\": classes.join(' '),","      \"onRequestHide\": this.hide,","      \"title\": this.props.title","    }, React.createElement(\"div\", {","      \"className\": 'modal-body'","    }, this.props.body), React.createElement(\"div\", {","      \"className\": 'modal-footer'","    }, buttons));","  }","});","","module.exports = TutorDialog = React.createClass({","  displayName: 'TutorDialog',","  propTypes: _.omit(DialogProperties, 'body'),","  componentDidMount: function() {","    var base;","    return TutorDialog.show(_.extend({}, this.props, {","      body: this.props.children","    })).then(((function(_this) {","      return function() {","        var base;","        return typeof (base = _this.props).onOk === \"function\" ? base.onOk.apply(base, arguments) : void 0;","      };","    })(this)), typeof (base = this.props).onCancel === \"function\" ? base.onCancel.apply(base, arguments) : void 0);","  },","  componentWillUnmount: function() {","    return TutorDialog.hide(this.props);","  },","  componentWillReceiveProps: function(newProps) {","    return TutorDialog.update(newProps);","  },","  render: function() {","    return null;","  },","  statics: {","    show: function(props) {","      return new Promise((function(_this) {","        return function(onOk, onCancel) {","          var div;","          props = _.extend(_.clone(props), {","            onOk: onOk,","            onCancel: onCancel,","            show: true","          });","          if (_this.dialog) {","            _this.dialog.replaceProps(props);","          } else {","            div = document.body.appendChild(document.createElement('div'));","            div.className = '-tutor-dialog-parent';","            _this.dialog = React.render(React.createElement(DetachedTutorDialog, props), div);","          }","          return _this.dialog;","        };","      })(this));","    },","    hide: function() {","      var ref;","      return (ref = this.dialog) != null ? ref.hide() : void 0;","    },","    update: function(props) {","      var ref;","      return (ref = this.dialog) != null ? ref.setProps(props) : void 0;","    }","  }","});",""],"f":{"1":2,"2":0,"3":2,"4":0,"5":4,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":2,"13":2,"14":2,"15":0,"16":0},"fnMap":{"1":{"line":24,"loc":{"end":{"column":30,"line":24},"start":{"column":19,"line":24}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":49,"line":29},"start":{"column":29,"line":29}},"name":"(anonymous_2)"},"3":{"line":36,"loc":{"end":{"column":20,"line":36},"start":{"column":9,"line":36}},"name":"(anonymous_3)"},"4":{"line":41,"loc":{"end":{"column":19,"line":41},"start":{"column":8,"line":41}},"name":"(anonymous_4)"},"5":{"line":45,"loc":{"end":{"column":21,"line":45},"start":{"column":10,"line":45}},"name":"(anonymous_5)"},"6":{"line":81,"loc":{"end":{"column":32,"line":81},"start":{"column":21,"line":81}},"name":"(anonymous_6)"},"7":{"line":85,"loc":{"end":{"column":31,"line":85},"start":{"column":15,"line":85}},"name":"(anonymous_7)"},"8":{"line":86,"loc":{"end":{"column":24,"line":86},"start":{"column":13,"line":86}},"name":"(anonymous_8)"},"9":{"line":92,"loc":{"end":{"column":35,"line":92},"start":{"column":24,"line":92}},"name":"(anonymous_9)"},"10":{"line":95,"loc":{"end":{"column":48,"line":95},"start":{"column":29,"line":95}},"name":"(anonymous_10)"},"11":{"line":98,"loc":{"end":{"column":21,"line":98},"start":{"column":10,"line":98}},"name":"(anonymous_11)"},"12":{"line":102,"loc":{"end":{"column":26,"line":102},"start":{"column":10,"line":102}},"name":"(anonymous_12)"},"13":{"line":103,"loc":{"end":{"column":42,"line":103},"start":{"column":26,"line":103}},"name":"(anonymous_13)"},"14":{"line":104,"loc":{"end":{"column":40,"line":104},"start":{"column":15,"line":104}},"name":"(anonymous_14)"},"15":{"line":122,"loc":{"end":{"column":21,"line":122},"start":{"column":10,"line":122}},"name":"(anonymous_15)"},"16":{"line":126,"loc":{"end":{"column":28,"line":126},"start":{"column":12,"line":126}},"name":"(anonymous_16)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/tutor-dialog.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":2,"9":0,"10":0,"11":2,"12":0,"13":0,"14":4,"15":4,"16":2,"17":2,"18":2,"19":2,"20":0,"21":2,"22":21,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":2,"32":2,"33":2,"34":2,"35":2,"36":0,"37":2,"38":2,"39":2,"40":2,"41":0,"42":0,"43":0,"44":0},"statementMap":{"1":{"end":{"column":78,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":32,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":25,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":41,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":19},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":76},"start":{"column":0,"line":21}},"8":{"end":{"column":6,"line":27},"start":{"column":4,"line":25}},"9":{"end":{"column":5,"line":34},"start":{"column":4,"line":30}},"10":{"end":{"column":9,"line":33},"start":{"column":6,"line":31}},"11":{"end":{"column":7,"line":39},"start":{"column":4,"line":37}},"12":{"end":{"column":17,"line":42},"start":{"column":4,"line":42}},"13":{"end":{"column":33,"line":43},"start":{"column":4,"line":43}},"14":{"end":{"column":25,"line":46},"start":{"column":4,"line":46}},"15":{"end":{"column":5,"line":49},"start":{"column":4,"line":47}},"16":{"end":{"column":18,"line":48},"start":{"column":6,"line":48}},"17":{"end":{"column":6,"line":61},"start":{"column":4,"line":50}},"18":{"end":{"column":31,"line":62},"start":{"column":4,"line":62}},"19":{"end":{"column":5,"line":65},"start":{"column":4,"line":63}},"20":{"end":{"column":41,"line":64},"start":{"column":6,"line":64}},"21":{"end":{"column":17,"line":74},"start":{"column":4,"line":66}},"22":{"end":{"column":3,"line":131},"start":{"column":0,"line":78}},"23":{"end":{"column":13,"line":82},"start":{"column":4,"line":82}},"24":{"end":{"column":115,"line":90},"start":{"column":4,"line":83}},"25":{"end":{"column":8,"line":89},"start":{"column":6,"line":86}},"26":{"end":{"column":17,"line":87},"start":{"column":8,"line":87}},"27":{"end":{"column":107,"line":88},"start":{"column":8,"line":88}},"28":{"end":{"column":40,"line":93},"start":{"column":4,"line":93}},"29":{"end":{"column":40,"line":96},"start":{"column":4,"line":96}},"30":{"end":{"column":16,"line":99},"start":{"column":4,"line":99}},"31":{"end":{"column":16,"line":120},"start":{"column":6,"line":103}},"32":{"end":{"column":10,"line":119},"start":{"column":8,"line":104}},"33":{"end":{"column":18,"line":105},"start":{"column":10,"line":105}},"34":{"end":{"column":13,"line":110},"start":{"column":10,"line":106}},"35":{"end":{"column":11,"line":117},"start":{"column":10,"line":111}},"36":{"end":{"column":45,"line":112},"start":{"column":12,"line":112}},"37":{"end":{"column":75,"line":114},"start":{"column":12,"line":114}},"38":{"end":{"column":51,"line":115},"start":{"column":12,"line":115}},"39":{"end":{"column":94,"line":116},"start":{"column":12,"line":116}},"40":{"end":{"column":30,"line":118},"start":{"column":10,"line":118}},"41":{"end":{"column":14,"line":123},"start":{"column":6,"line":123}},"42":{"end":{"column":63,"line":124},"start":{"column":6,"line":124}},"43":{"end":{"column":14,"line":127},"start":{"column":6,"line":127}},"44":{"end":{"column":72,"line":128},"start":{"column":6,"line":128}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"21":21,"25":2,"30":0,"31":0,"37":2,"42":0,"43":0,"46":4,"47":4,"48":2,"50":2,"62":2,"63":2,"64":0,"66":2,"78":21,"82":0,"83":0,"86":0,"87":0,"88":0,"93":0,"96":0,"99":0,"103":2,"104":2,"105":2,"106":2,"111":2,"112":0,"114":2,"115":2,"116":2,"118":2,"123":0,"124":0,"127":0,"128":0}},
"/Users/phil/github/openstax/tutor-js/src/components/tutor-errors.cjsx":{"b":{},"branchMap":{},"code":["var React, TutorPeriodNameExists, TutorRequired, TutorUrl;","","React = require('react');","","TutorRequired = React.createClass({displayName: \"TutorRequired\",","  render: function() {","    return React.createElement(\"div\", {","      \"className\": 'hint required-hint'","    }, \"Required Field \", React.createElement(\"i\", {","      \"className\": 'fa fa-exclamation-circle'","    }));","  }","});","","TutorUrl = React.createClass({displayName: \"TutorUrl\",","  render: function() {","    return React.createElement(\"div\", {","      \"className\": 'hint'","    }, \"Please type in a url.\");","  }","});","","TutorPeriodNameExists = React.createClass({displayName: \"TutorPeriodNameExists\",","  render: function() {","    return React.createElement(\"div\", {","      \"className\": 'hint'","    }, \"Name already exists.\");","  }","});","","module.exports = {","  required: TutorRequired,","  url: TutorUrl,","  periodNameExists: TutorPeriodNameExists","};",""],"f":{"1":20,"2":0,"3":0},"fnMap":{"1":{"line":6,"loc":{"end":{"column":21,"line":6},"start":{"column":10,"line":6}},"name":"(anonymous_1)"},"2":{"line":16,"loc":{"end":{"column":21,"line":16},"start":{"column":10,"line":16}},"name":"(anonymous_2)"},"3":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/tutor-errors.cjsx","s":{"1":21,"2":21,"3":21,"4":20,"5":21,"6":0,"7":21,"8":0,"9":21},"statementMap":{"1":{"end":{"column":58,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":3,"line":13},"start":{"column":0,"line":5}},"4":{"end":{"column":8,"line":11},"start":{"column":4,"line":7}},"5":{"end":{"column":3,"line":21},"start":{"column":0,"line":15}},"6":{"end":{"column":32,"line":19},"start":{"column":4,"line":17}},"7":{"end":{"column":3,"line":29},"start":{"column":0,"line":23}},"8":{"end":{"column":31,"line":27},"start":{"column":4,"line":25}},"9":{"end":{"column":2,"line":35},"start":{"column":0,"line":31}}},"l":{"1":21,"3":21,"5":21,"7":20,"15":21,"17":0,"23":21,"25":0,"31":21}},
"/Users/phil/github/openstax/tutor-js/src/components/tutor-input.cjsx":{"b":{"1":[7,27],"2":[34,27],"3":[11,3],"4":[24,0],"5":[24,0],"6":[24,0],"7":[0,0],"8":[128,0],"9":[0,20],"10":[0,4],"11":[4,4],"12":[0,4],"13":[4,1],"14":[0,4],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[206,45],"20":[0,206],"21":[161,45],"22":[206,161,161],"23":[206,0],"24":[206,0],"25":[102,104],"26":[206,0],"27":[0,0],"28":[0,10],"29":[0,10],"30":[0,0],"31":[0,0]},"branchMap":{"1":{"line":35,"locations":[{"end":{"column":8,"line":35},"start":{"column":8,"line":35}},{"end":{"column":8,"line":35},"start":{"column":8,"line":35}}],"type":"if"},"2":{"line":35,"locations":[{"end":{"column":33,"line":35},"start":{"column":15,"line":35}},{"end":{"column":59,"line":35},"start":{"column":38,"line":35}}],"type":"binary-expr"},"3":{"line":46,"locations":[{"end":{"column":20,"line":46},"start":{"column":14,"line":46}},{"end":{"column":26,"line":46},"start":{"column":24,"line":46}}],"type":"binary-expr"},"4":{"line":51,"locations":[{"end":{"column":64,"line":51},"start":{"column":55,"line":51}},{"end":{"column":73,"line":51},"start":{"column":67,"line":51}}],"type":"cond-expr"},"5":{"line":52,"locations":[{"end":{"column":67,"line":52},"start":{"column":57,"line":52}},{"end":{"column":76,"line":52},"start":{"column":70,"line":52}}],"type":"cond-expr"},"6":{"line":57,"locations":[{"end":{"column":4,"line":57},"start":{"column":4,"line":57}},{"end":{"column":4,"line":57},"start":{"column":4,"line":57}}],"type":"if"},"7":{"line":66,"locations":[{"end":{"column":75,"line":66},"start":{"column":64,"line":66}},{"end":{"column":84,"line":66},"start":{"column":78,"line":66}}],"type":"cond-expr"},"8":{"line":83,"locations":[{"end":{"column":65,"line":83},"start":{"column":55,"line":83}},{"end":{"column":74,"line":83},"start":{"column":68,"line":83}}],"type":"cond-expr"},"9":{"line":87,"locations":[{"end":{"column":6,"line":87},"start":{"column":6,"line":87}},{"end":{"column":6,"line":87},"start":{"column":6,"line":87}}],"type":"if"},"10":{"line":149,"locations":[{"end":{"column":4,"line":149},"start":{"column":4,"line":149}},{"end":{"column":4,"line":149},"start":{"column":4,"line":149}}],"type":"if"},"11":{"line":149,"locations":[{"end":{"column":22,"line":149},"start":{"column":8,"line":149}},{"end":{"column":63,"line":149},"start":{"column":26,"line":149}}],"type":"binary-expr"},"12":{"line":152,"locations":[{"end":{"column":4,"line":152},"start":{"column":4,"line":152}},{"end":{"column":4,"line":152},"start":{"column":4,"line":152}}],"type":"if"},"13":{"line":152,"locations":[{"end":{"column":22,"line":152},"start":{"column":8,"line":152}},{"end":{"column":62,"line":152},"start":{"column":26,"line":152}}],"type":"binary-expr"},"14":{"line":160,"locations":[{"end":{"column":4,"line":160},"start":{"column":4,"line":160}},{"end":{"column":4,"line":160},"start":{"column":4,"line":160}}],"type":"if"},"15":{"line":161,"locations":[{"end":{"column":36,"line":161},"start":{"column":14,"line":161}},{"end":{"column":44,"line":161},"start":{"column":40,"line":161}}],"type":"binary-expr"},"16":{"line":172,"locations":[{"end":{"column":27,"line":172},"start":{"column":11,"line":172}},{"end":{"column":47,"line":172},"start":{"column":31,"line":172}}],"type":"binary-expr"},"17":{"line":180,"locations":[{"end":{"column":4,"line":180},"start":{"column":4,"line":180}},{"end":{"column":4,"line":180},"start":{"column":4,"line":180}}],"type":"if"},"18":{"line":180,"locations":[{"end":{"column":40,"line":180},"start":{"column":8,"line":180}},{"end":{"column":70,"line":180},"start":{"column":44,"line":180}}],"type":"binary-expr"},"19":{"line":194,"locations":[{"end":{"column":30,"line":194},"start":{"column":13,"line":194}},{"end":{"column":54,"line":194},"start":{"column":34,"line":194}}],"type":"binary-expr"},"20":{"line":198,"locations":[{"end":{"column":65,"line":198},"start":{"column":55,"line":198}},{"end":{"column":74,"line":198},"start":{"column":68,"line":198}}],"type":"cond-expr"},"21":{"line":203,"locations":[{"end":{"column":103,"line":203},"start":{"column":64,"line":203}},{"end":{"column":110,"line":203},"start":{"column":106,"line":203}}],"type":"cond-expr"},"22":{"line":203,"locations":[{"end":{"column":17,"line":203},"start":{"column":12,"line":203}},{"end":{"column":34,"line":203},"start":{"column":21,"line":203}},{"end":{"column":61,"line":203},"start":{"column":38,"line":203}}],"type":"binary-expr"},"23":{"line":204,"locations":[{"end":{"column":46,"line":204},"start":{"column":27,"line":204}},{"end":{"column":55,"line":204},"start":{"column":50,"line":204}}],"type":"binary-expr"},"24":{"line":205,"locations":[{"end":{"column":49,"line":205},"start":{"column":27,"line":205}},{"end":{"column":85,"line":205},"start":{"column":52,"line":205}}],"type":"cond-expr"},"25":{"line":206,"locations":[{"end":{"column":49,"line":206},"start":{"column":27,"line":206}},{"end":{"column":80,"line":206},"start":{"column":52,"line":206}}],"type":"cond-expr"},"26":{"line":207,"locations":[{"end":{"column":4,"line":207},"start":{"column":4,"line":207}},{"end":{"column":4,"line":207},"start":{"column":4,"line":207}}],"type":"if"},"27":{"line":223,"locations":[{"end":{"column":11,"line":223},"start":{"column":11,"line":223}},{"end":{"column":11,"line":223},"start":{"column":11,"line":223}}],"type":"if"},"28":{"line":262,"locations":[{"end":{"column":4,"line":262},"start":{"column":4,"line":262}},{"end":{"column":4,"line":262},"start":{"column":4,"line":262}}],"type":"if"},"29":{"line":262,"locations":[{"end":{"column":59,"line":262},"start":{"column":49,"line":262}},{"end":{"column":68,"line":262},"start":{"column":62,"line":262}}],"type":"cond-expr"},"30":{"line":268,"locations":[{"end":{"column":71,"line":268},"start":{"column":62,"line":268}},{"end":{"column":80,"line":268},"start":{"column":74,"line":268}}],"type":"cond-expr"},"31":{"line":272,"locations":[{"end":{"column":78,"line":272},"start":{"column":67,"line":272}},{"end":{"column":87,"line":272},"start":{"column":81,"line":272}}],"type":"cond-expr"}},"code":["var BS, DatePicker, React, TimeHelper, TimeStore, TutorDateFormat, TutorDateInput, TutorErrors, TutorInput, TutorTextArea, _, classnames, moment;","","React = require('react');","","BS = require('react-bootstrap');","","moment = require('moment-timezone');","","_ = require('underscore');","","classnames = require('classnames');","","TimeStore = require('../flux/time').TimeStore;","","TimeHelper = require('../helpers/time');","","TutorDateFormat = TimeStore.getFormat();","","DatePicker = require('react-datepicker');","","TutorErrors = require('./tutor-errors');","","TutorInput = React.createClass({displayName: \"TutorInput\",","  propTypes: {","    label: React.PropTypes.node.isRequired,","    id: React.PropTypes.string,","    className: React.PropTypes.string,","    type: React.PropTypes.string,","    onChange: React.PropTypes.func,","    validate: React.PropTypes.func","  },","  getDefaultProps: function() {","    return {","      validate: function(inputValue) {","        if (!((inputValue != null) && inputValue.length > 0)) {","          return ['required'];","        }","      },","      type: 'text'","    };","  },","  getInitialState: function() {","    var errors;","    errors = this.props.validate(this.props[\"default\"]);","    return {","      errors: errors || []","    };","  },","  onChange: function(event) {","    var ref, ref1;","    this.props.onChange((ref = event.target) != null ? ref.value : void 0, event.target);","    return this.validate((ref1 = event.target) != null ? ref1.value : void 0);","  },","  validate: function(inputValue) {","    var errors;","    errors = this.props.validate(inputValue);","    if (errors == null) {","      errors = [];","    }","    return this.setState({","      errors: errors","    });","  },","  focus: function() {","    var ref;","    return (ref = React.findDOMNode(this.refs.input)) != null ? ref.focus() : void 0;","  },","  cursorToEnd: function() {","    var input;","    input = React.findDOMNode(this.refs.input);","    return input.selectionStart = input.selectionEnd = input.value.length;","  },","  forwardLabelClick: function() {","    return this.focus();","  },","  render: function() {","    var classes, errors, inputProps, ref, wrapperClasses;","    classes = classnames('form-control', this.props[\"class\"], {","      empty: !this.props[\"default\"]","    });","    wrapperClasses = classnames('form-control-wrapper', 'tutor-input', this.props.className, {","      'is-required': this.props.required,","      'has-error': (ref = this.state.errors) != null ? ref.length : void 0","    });","    errors = _.map(this.state.errors, function(error) {","      var ErrorWarning;","      if (TutorErrors[error] == null) {","        return;","      }","      ErrorWarning = TutorErrors[error];","      return React.createElement(ErrorWarning, {","        \"key\": error","      });","    });","    inputProps = _.omit(this.props, 'label', 'className', 'onChange', 'validate', 'default', 'value');","    return React.createElement(\"div\", {","      \"className\": wrapperClasses","    }, React.createElement(\"input\", React.__spread({}, inputProps, {","      \"ref\": 'input',","      \"className\": classes,","      \"defaultValue\": this.props[\"default\"],","      \"onChange\": this.onChange","    })), React.createElement(\"div\", {","      \"className\": 'floating-label',","      \"onClick\": this.forwardLabelClick","    }, this.props.label), errors);","  }","});","","TutorDateInput = React.createClass({","  displayName: 'TutorDateInput',","  propTypes: {","    currentLocale: React.PropTypes.shape({","      abbr: React.PropTypes.string,","      week: React.PropTypes.object,","      weekdaysMin: React.PropTypes.array","    })","  },","  getDefaultProps: function() {","    var currentLocale;","    currentLocale = TimeHelper.getCurrentLocales();","    return {","      currentLocale: currentLocale","    };","  },","  getInitialState: function() {","    return {","      expandCalendar: false","    };","  },","  componentWillUnmount: function() {","    return this.restoreLocales();","  },","  restoreLocales: function() {","    var abbr, localeOptions;","    abbr = this.props.currentLocale.abbr;","    localeOptions = _.omit(this.props.currentLocale, 'abbr');","    return moment.locale(abbr, localeOptions);","  },","  expandCalendar: function() {","    return this.setState({","      expandCalendar: true,","      hasFocus: true","    });","  },","  isValid: function(value) {","    var valid;","    valid = true;","    if (this.props.min && value.isBefore(this.props.min, 'day')) {","      valid = false;","    }","    if (this.props.max && value.isAfter(this.props.max, 'day')) {","      valid = false;","    }","    return valid;","  },","  dateSelected: function(value) {","    var date, valid;","    valid = this.isValid(value);","    if (!valid) {","      value = moment(this.props.min) || null;","    }","    date = value.format(TutorDateFormat);","    this.props.onChange(date);","    return this.setState({","      expandCalendar: false,","      valid: valid,","      value: date","    });","  },","  getValue: function() {","    return this.props.value || this.state.value;","  },","  onToggle: function(open) {","    return this.setState({","      expandCalendar: open","    });","  },","  clickHandler: function(event) {","    if (event.target.tagName === \"INPUT\" && !this.state.expandCalendar) {","      return this.setState({","        expandCalendar: true","      });","    }","  },","  onBlur: function(event) {","    return this.setState({","      hasFocus: false","    });","  },","  render: function() {","    var classes, dateElem, displayValue, isDatePickerDisabled, max, min, now, ref, value, wrapperClasses;","    classes = classnames('form-control', {","      empty: !this.props.value && !this.state.hasFocus","    });","    wrapperClasses = classnames('form-control-wrapper', 'tutor-input', '-tutor-date-input', this.props.className, {","      'is-required': this.props.required,","      'has-error': (ref = this.state.errors) != null ? ref.length : void 0,","      'disabled-datepicker': isDatePickerDisabled","    });","    now = TimeStore.getNow();","    value = this.props.value;","    value = value && value.getTime && !isNaN(value.getTime()) ? TimeHelper.getMomentPreserveDate(value) : null;","    isDatePickerDisabled = this.props.disabled && value;","    min = this.props.min ? moment(this.props.min) : moment(now).subtract(10, 'years');","    max = this.props.max ? moment(this.props.max) : moment(now).add(10, 'years');","    if (!this.props.disabled) {","      dateElem = React.createElement(DatePicker, {","        \"moment\": moment,","        \"minDate\": min,","        \"maxDate\": max,","        \"onFocus\": this.expandCalendar,","        \"dateFormat\": TutorDateFormat,","        \"onBlur\": this.onBlur,","        \"key\": this.props.id,","        \"ref\": \"picker\",","        \"className\": classes,","        \"onChange\": this.dateSelected,","        \"disabled\": this.props.disabled,","        \"selected\": value,","        \"weekStart\": this.props.currentLocale.week.dow","      });","    } else if (isDatePickerDisabled) {","      displayValue = value.format(TutorDateFormat);","    }","    return React.createElement(\"div\", {","      \"className\": wrapperClasses","    }, React.createElement(\"input\", {","      \"type\": 'text',","      \"disabled\": true,","      \"className\": classes,","      \"value\": displayValue","    }), React.createElement(\"div\", {","      \"className\": \"floating-label\"","    }, this.props.label), React.createElement(\"div\", {","      \"className\": \"hint required-hint\"","    }, \"Required Field \", React.createElement(\"i\", {","      \"className\": \"fa fa-exclamation-circle\"","    })), React.createElement(\"div\", {","      \"className\": \"date-wrapper\"","    }, dateElem, React.createElement(\"i\", {","      \"className\": \"fa fa-calendar\"","    })));","  }","});","","TutorTextArea = React.createClass({displayName: \"TutorTextArea\",","  propTypes: {","    label: React.PropTypes.string.isRequired,","    id: React.PropTypes.string,","    className: React.PropTypes.string,","    onChange: React.PropTypes.func","  },","  resize: function(event) {","    var textarea;","    textarea = this.refs.textarea.getDOMNode();","    textarea.style.height = '';","    return textarea.style.height = textarea.scrollHeight + \"px\";","  },","  componentDidMount: function() {","    var ref;","    if (((ref = this.props[\"default\"]) != null ? ref.length : void 0) > 0) {","      return this.resize();","    }","  },","  onChange: function(event) {","    var ref;","    return this.props.onChange((ref = event.target) != null ? ref.value : void 0, event.target);","  },","  focus: function() {","    var ref;","    return (ref = React.findDOMNode(this.refs.textarea)) != null ? ref.focus() : void 0;","  },","  forwardLabelClick: function() {","    return this.focus();","  },","  render: function() {","    var classes, wrapperClasses;","    classes = classnames('form-control', this.props.inputClass, {","      empty: !this.props[\"default\"]","    });","    wrapperClasses = classnames(\"form-control-wrapper\", \"tutor-input\", this.props.className, {","      'is-required': this.props.required","    });","    return React.createElement(\"div\", {","      \"className\": wrapperClasses","    }, React.createElement(\"textarea\", {","      \"id\": this.props.inputId,","      \"ref\": 'textarea',","      \"type\": 'text',","      \"onKeyUp\": this.resize,","      \"onPaste\": this.resize,","      \"className\": classes,","      \"defaultValue\": this.props[\"default\"],","      \"disabled\": this.props.disabled,","      \"onChange\": this.onChange","    }), React.createElement(\"div\", {","      \"className\": \"floating-label\",","      \"onClick\": this.forwardLabelClick","    }, this.props.label), React.createElement(\"div\", {","      \"className\": \"hint required-hint\"","    }, \"Required Field \", React.createElement(\"i\", {","      \"className\": \"fa fa-exclamation-circle\"","    })));","  }","});","","module.exports = {","  TutorInput: TutorInput,","  TutorDateInput: TutorDateInput,","  TutorDateFormat: TutorDateFormat,","  TutorTextArea: TutorTextArea","};",""],"f":{"1":21,"2":34,"3":11,"4":24,"5":24,"6":0,"7":0,"8":0,"9":128,"10":20,"11":21,"12":20,"13":20,"14":20,"15":0,"16":4,"17":4,"18":0,"19":0,"20":0,"21":0,"22":206,"23":0,"24":10,"25":0,"26":0,"27":0,"28":101},"fnMap":{"1":{"line":32,"loc":{"end":{"column":30,"line":32},"start":{"column":19,"line":32}},"name":"(anonymous_1)"},"2":{"line":34,"loc":{"end":{"column":37,"line":34},"start":{"column":16,"line":34}},"name":"(anonymous_2)"},"3":{"line":42,"loc":{"end":{"column":30,"line":42},"start":{"column":19,"line":42}},"name":"(anonymous_3)"},"4":{"line":49,"loc":{"end":{"column":28,"line":49},"start":{"column":12,"line":49}},"name":"(anonymous_4)"},"5":{"line":54,"loc":{"end":{"column":33,"line":54},"start":{"column":12,"line":54}},"name":"(anonymous_5)"},"6":{"line":64,"loc":{"end":{"column":20,"line":64},"start":{"column":9,"line":64}},"name":"(anonymous_6)"},"7":{"line":68,"loc":{"end":{"column":26,"line":68},"start":{"column":15,"line":68}},"name":"(anonymous_7)"},"8":{"line":73,"loc":{"end":{"column":32,"line":73},"start":{"column":21,"line":73}},"name":"(anonymous_8)"},"9":{"line":76,"loc":{"end":{"column":21,"line":76},"start":{"column":10,"line":76}},"name":"(anonymous_9)"},"10":{"line":85,"loc":{"end":{"column":54,"line":85},"start":{"column":38,"line":85}},"name":"(anonymous_10)"},"11":{"line":119,"loc":{"end":{"column":30,"line":119},"start":{"column":19,"line":119}},"name":"(anonymous_11)"},"12":{"line":126,"loc":{"end":{"column":30,"line":126},"start":{"column":19,"line":126}},"name":"(anonymous_12)"},"13":{"line":131,"loc":{"end":{"column":35,"line":131},"start":{"column":24,"line":131}},"name":"(anonymous_13)"},"14":{"line":134,"loc":{"end":{"column":29,"line":134},"start":{"column":18,"line":134}},"name":"(anonymous_14)"},"15":{"line":140,"loc":{"end":{"column":29,"line":140},"start":{"column":18,"line":140}},"name":"(anonymous_15)"},"16":{"line":146,"loc":{"end":{"column":27,"line":146},"start":{"column":11,"line":146}},"name":"(anonymous_16)"},"17":{"line":157,"loc":{"end":{"column":32,"line":157},"start":{"column":16,"line":157}},"name":"(anonymous_17)"},"18":{"line":171,"loc":{"end":{"column":23,"line":171},"start":{"column":12,"line":171}},"name":"(anonymous_18)"},"19":{"line":174,"loc":{"end":{"column":27,"line":174},"start":{"column":12,"line":174}},"name":"(anonymous_19)"},"20":{"line":179,"loc":{"end":{"column":32,"line":179},"start":{"column":16,"line":179}},"name":"(anonymous_20)"},"21":{"line":186,"loc":{"end":{"column":26,"line":186},"start":{"column":10,"line":186}},"name":"(anonymous_21)"},"22":{"line":191,"loc":{"end":{"column":21,"line":191},"start":{"column":10,"line":191}},"name":"(anonymous_22)"},"23":{"line":254,"loc":{"end":{"column":26,"line":254},"start":{"column":10,"line":254}},"name":"(anonymous_23)"},"24":{"line":260,"loc":{"end":{"column":32,"line":260},"start":{"column":21,"line":260}},"name":"(anonymous_24)"},"25":{"line":266,"loc":{"end":{"column":28,"line":266},"start":{"column":12,"line":266}},"name":"(anonymous_25)"},"26":{"line":270,"loc":{"end":{"column":20,"line":270},"start":{"column":9,"line":270}},"name":"(anonymous_26)"},"27":{"line":274,"loc":{"end":{"column":32,"line":274},"start":{"column":21,"line":274}},"name":"(anonymous_27)"},"28":{"line":277,"loc":{"end":{"column":21,"line":277},"start":{"column":10,"line":277}},"name":"(anonymous_28)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/tutor-input.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":34,"15":7,"16":11,"17":11,"18":11,"19":24,"20":24,"21":24,"22":24,"23":24,"24":24,"25":24,"26":24,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":128,"34":128,"35":128,"36":128,"37":20,"38":20,"39":0,"40":20,"41":20,"42":128,"43":128,"44":21,"45":21,"46":21,"47":21,"48":20,"49":20,"50":20,"51":20,"52":20,"53":20,"54":0,"55":4,"56":4,"57":4,"58":0,"59":4,"60":0,"61":4,"62":4,"63":4,"64":4,"65":0,"66":4,"67":4,"68":4,"69":0,"70":0,"71":0,"72":0,"73":0,"74":206,"75":206,"76":206,"77":206,"78":206,"79":206,"80":206,"81":206,"82":206,"83":206,"84":206,"85":0,"86":0,"87":206,"88":21,"89":0,"90":0,"91":0,"92":0,"93":10,"94":10,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":101,"102":101,"103":101,"104":101,"105":21},"statementMap":{"1":{"end":{"column":145,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":36,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":35,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":46,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":40,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":40,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":41,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":40,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":3,"line":108},"start":{"column":0,"line":23}},"13":{"end":{"column":6,"line":40},"start":{"column":4,"line":33}},"14":{"end":{"column":9,"line":37},"start":{"column":8,"line":35}},"15":{"end":{"column":30,"line":36},"start":{"column":10,"line":36}},"16":{"end":{"column":15,"line":43},"start":{"column":4,"line":43}},"17":{"end":{"column":56,"line":44},"start":{"column":4,"line":44}},"18":{"end":{"column":6,"line":47},"start":{"column":4,"line":45}},"19":{"end":{"column":18,"line":50},"start":{"column":4,"line":50}},"20":{"end":{"column":89,"line":51},"start":{"column":4,"line":51}},"21":{"end":{"column":78,"line":52},"start":{"column":4,"line":52}},"22":{"end":{"column":15,"line":55},"start":{"column":4,"line":55}},"23":{"end":{"column":45,"line":56},"start":{"column":4,"line":56}},"24":{"end":{"column":5,"line":59},"start":{"column":4,"line":57}},"25":{"end":{"column":18,"line":58},"start":{"column":6,"line":58}},"26":{"end":{"column":7,"line":62},"start":{"column":4,"line":60}},"27":{"end":{"column":12,"line":65},"start":{"column":4,"line":65}},"28":{"end":{"column":85,"line":66},"start":{"column":4,"line":66}},"29":{"end":{"column":14,"line":69},"start":{"column":4,"line":69}},"30":{"end":{"column":47,"line":70},"start":{"column":4,"line":70}},"31":{"end":{"column":74,"line":71},"start":{"column":4,"line":71}},"32":{"end":{"column":24,"line":74},"start":{"column":4,"line":74}},"33":{"end":{"column":57,"line":77},"start":{"column":4,"line":77}},"34":{"end":{"column":7,"line":80},"start":{"column":4,"line":78}},"35":{"end":{"column":7,"line":84},"start":{"column":4,"line":81}},"36":{"end":{"column":7,"line":94},"start":{"column":4,"line":85}},"37":{"end":{"column":23,"line":86},"start":{"column":6,"line":86}},"38":{"end":{"column":7,"line":89},"start":{"column":6,"line":87}},"39":{"end":{"column":15,"line":88},"start":{"column":8,"line":88}},"40":{"end":{"column":40,"line":90},"start":{"column":6,"line":90}},"41":{"end":{"column":9,"line":93},"start":{"column":6,"line":91}},"42":{"end":{"column":102,"line":95},"start":{"column":4,"line":95}},"43":{"end":{"column":34,"line":106},"start":{"column":4,"line":96}},"44":{"end":{"column":3,"line":245},"start":{"column":0,"line":110}},"45":{"end":{"column":22,"line":120},"start":{"column":4,"line":120}},"46":{"end":{"column":51,"line":121},"start":{"column":4,"line":121}},"47":{"end":{"column":6,"line":124},"start":{"column":4,"line":122}},"48":{"end":{"column":6,"line":129},"start":{"column":4,"line":127}},"49":{"end":{"column":33,"line":132},"start":{"column":4,"line":132}},"50":{"end":{"column":28,"line":135},"start":{"column":4,"line":135}},"51":{"end":{"column":41,"line":136},"start":{"column":4,"line":136}},"52":{"end":{"column":61,"line":137},"start":{"column":4,"line":137}},"53":{"end":{"column":46,"line":138},"start":{"column":4,"line":138}},"54":{"end":{"column":7,"line":144},"start":{"column":4,"line":141}},"55":{"end":{"column":14,"line":147},"start":{"column":4,"line":147}},"56":{"end":{"column":17,"line":148},"start":{"column":4,"line":148}},"57":{"end":{"column":5,"line":151},"start":{"column":4,"line":149}},"58":{"end":{"column":20,"line":150},"start":{"column":6,"line":150}},"59":{"end":{"column":5,"line":154},"start":{"column":4,"line":152}},"60":{"end":{"column":20,"line":153},"start":{"column":6,"line":153}},"61":{"end":{"column":17,"line":155},"start":{"column":4,"line":155}},"62":{"end":{"column":20,"line":158},"start":{"column":4,"line":158}},"63":{"end":{"column":32,"line":159},"start":{"column":4,"line":159}},"64":{"end":{"column":5,"line":162},"start":{"column":4,"line":160}},"65":{"end":{"column":45,"line":161},"start":{"column":6,"line":161}},"66":{"end":{"column":41,"line":163},"start":{"column":4,"line":163}},"67":{"end":{"column":30,"line":164},"start":{"column":4,"line":164}},"68":{"end":{"column":7,"line":169},"start":{"column":4,"line":165}},"69":{"end":{"column":48,"line":172},"start":{"column":4,"line":172}},"70":{"end":{"column":7,"line":177},"start":{"column":4,"line":175}},"71":{"end":{"column":5,"line":184},"start":{"column":4,"line":180}},"72":{"end":{"column":9,"line":183},"start":{"column":6,"line":181}},"73":{"end":{"column":7,"line":189},"start":{"column":4,"line":187}},"74":{"end":{"column":105,"line":192},"start":{"column":4,"line":192}},"75":{"end":{"column":7,"line":195},"start":{"column":4,"line":193}},"76":{"end":{"column":7,"line":200},"start":{"column":4,"line":196}},"77":{"end":{"column":29,"line":201},"start":{"column":4,"line":201}},"78":{"end":{"column":29,"line":202},"start":{"column":4,"line":202}},"79":{"end":{"column":111,"line":203},"start":{"column":4,"line":203}},"80":{"end":{"column":56,"line":204},"start":{"column":4,"line":204}},"81":{"end":{"column":86,"line":205},"start":{"column":4,"line":205}},"82":{"end":{"column":81,"line":206},"start":{"column":4,"line":206}},"83":{"end":{"column":5,"line":225},"start":{"column":4,"line":207}},"84":{"end":{"column":9,"line":222},"start":{"column":6,"line":208}},"85":{"end":{"column":5,"line":225},"start":{"column":11,"line":223}},"86":{"end":{"column":51,"line":224},"start":{"column":6,"line":224}},"87":{"end":{"column":9,"line":243},"start":{"column":4,"line":226}},"88":{"end":{"column":3,"line":306},"start":{"column":0,"line":247}},"89":{"end":{"column":17,"line":255},"start":{"column":4,"line":255}},"90":{"end":{"column":47,"line":256},"start":{"column":4,"line":256}},"91":{"end":{"column":31,"line":257},"start":{"column":4,"line":257}},"92":{"end":{"column":64,"line":258},"start":{"column":4,"line":258}},"93":{"end":{"column":12,"line":261},"start":{"column":4,"line":261}},"94":{"end":{"column":5,"line":264},"start":{"column":4,"line":262}},"95":{"end":{"column":27,"line":263},"start":{"column":6,"line":263}},"96":{"end":{"column":12,"line":267},"start":{"column":4,"line":267}},"97":{"end":{"column":96,"line":268},"start":{"column":4,"line":268}},"98":{"end":{"column":12,"line":271},"start":{"column":4,"line":271}},"99":{"end":{"column":88,"line":272},"start":{"column":4,"line":272}},"100":{"end":{"column":24,"line":275},"start":{"column":4,"line":275}},"101":{"end":{"column":32,"line":278},"start":{"column":4,"line":278}},"102":{"end":{"column":7,"line":281},"start":{"column":4,"line":279}},"103":{"end":{"column":7,"line":284},"start":{"column":4,"line":282}},"104":{"end":{"column":9,"line":304},"start":{"column":4,"line":285}},"105":{"end":{"column":2,"line":313},"start":{"column":0,"line":308}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"33":21,"35":34,"36":7,"43":11,"44":11,"45":11,"50":24,"51":24,"52":24,"55":24,"56":24,"57":24,"58":24,"60":24,"65":0,"66":0,"69":0,"70":0,"71":0,"74":0,"77":128,"78":128,"81":128,"85":128,"86":20,"87":20,"88":0,"90":20,"91":20,"95":128,"96":128,"110":21,"120":21,"121":21,"122":21,"127":20,"132":20,"135":20,"136":20,"137":20,"138":20,"141":0,"147":4,"148":4,"149":4,"150":0,"152":4,"153":0,"155":4,"158":4,"159":4,"160":4,"161":0,"163":4,"164":4,"165":4,"172":0,"175":0,"180":0,"181":0,"187":0,"192":206,"193":206,"196":206,"201":206,"202":206,"203":206,"204":206,"205":206,"206":206,"207":206,"208":206,"223":0,"224":0,"226":206,"247":21,"255":0,"256":0,"257":0,"258":0,"261":10,"262":10,"263":0,"267":0,"268":0,"271":0,"272":0,"275":0,"278":101,"279":101,"282":101,"285":101,"308":21}},
"/Users/phil/github/openstax/tutor-js/src/components/tutor-popover.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"branchMap":{"1":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"2":{"line":43,"locations":[{"end":{"column":37,"line":43},"start":{"column":9,"line":43}},{"end":{"column":62,"line":43},"start":{"column":42,"line":43}}],"type":"binary-expr"},"3":{"line":47,"locations":[{"end":{"column":10,"line":47},"start":{"column":10,"line":47}},{"end":{"column":10,"line":47},"start":{"column":10,"line":47}}],"type":"if"},"4":{"line":47,"locations":[{"end":{"column":37,"line":47},"start":{"column":17,"line":47}},{"end":{"column":56,"line":47},"start":{"column":42,"line":47}}],"type":"binary-expr"},"5":{"line":66,"locations":[{"end":{"column":4,"line":66},"start":{"column":4,"line":66}},{"end":{"column":4,"line":66},"start":{"column":4,"line":66}}],"type":"if"},"6":{"line":69,"locations":[{"end":{"column":4,"line":69},"start":{"column":4,"line":69}},{"end":{"column":4,"line":69},"start":{"column":4,"line":69}}],"type":"if"},"7":{"line":81,"locations":[{"end":{"column":4,"line":81},"start":{"column":4,"line":81}},{"end":{"column":4,"line":81},"start":{"column":4,"line":81}}],"type":"if"},"8":{"line":84,"locations":[{"end":{"column":99,"line":84},"start":{"column":64,"line":84}},{"end":{"column":108,"line":84},"start":{"column":102,"line":84}}],"type":"cond-expr"},"9":{"line":85,"locations":[{"end":{"column":4,"line":85},"start":{"column":4,"line":85}},{"end":{"column":4,"line":85},"start":{"column":4,"line":85}}],"type":"if"},"10":{"line":105,"locations":[{"end":{"column":8,"line":105},"start":{"column":8,"line":105}},{"end":{"column":8,"line":105},"start":{"column":8,"line":105}}],"type":"if"},"11":{"line":110,"locations":[{"end":{"column":8,"line":110},"start":{"column":8,"line":110}},{"end":{"column":8,"line":110},"start":{"column":8,"line":110}}],"type":"if"},"12":{"line":115,"locations":[{"end":{"column":8,"line":115},"start":{"column":8,"line":115}},{"end":{"column":8,"line":115},"start":{"column":8,"line":115}}],"type":"if"},"13":{"line":115,"locations":[{"end":{"column":34,"line":115},"start":{"column":12,"line":115}},{"end":{"column":49,"line":115},"start":{"column":38,"line":115}}],"type":"binary-expr"},"14":{"line":129,"locations":[{"end":{"column":4,"line":129},"start":{"column":4,"line":129}},{"end":{"column":4,"line":129},"start":{"column":4,"line":129}}],"type":"if"},"15":{"line":140,"locations":[{"end":{"column":4,"line":140},"start":{"column":4,"line":140}},{"end":{"column":4,"line":140},"start":{"column":4,"line":140}}],"type":"if"},"16":{"line":163,"locations":[{"end":{"column":4,"line":163},"start":{"column":4,"line":163}},{"end":{"column":4,"line":163},"start":{"column":4,"line":163}}],"type":"if"},"17":{"line":164,"locations":[{"end":{"column":41,"line":164},"start":{"column":29,"line":164}},{"end":{"column":47,"line":164},"start":{"column":45,"line":164}}],"type":"binary-expr"},"18":{"line":165,"locations":[{"end":{"column":6,"line":165},"start":{"column":6,"line":165}},{"end":{"column":6,"line":165},"start":{"column":6,"line":165}}],"type":"if"},"19":{"line":170,"locations":[{"end":{"column":4,"line":170},"start":{"column":4,"line":170}},{"end":{"column":4,"line":170},"start":{"column":4,"line":170}}],"type":"if"}},"code":["var BS, React, TutorPopover, _;","","React = require('react/addons');","","BS = require('react-bootstrap');","","_ = require('underscore');","","TutorPopover = React.createClass({","  displayName: 'TutorPopover',","  getInitialState: function() {","    return {","      firstShow: true,","      placement: 'right',","      show: false,","      scrollable: false,","      imagesLoading: []","    };","  },","  propTypes: function() {","    return {","      content: React.PropTypes.node.isRequired,","      popoverProps: React.PropTypes.object,","      contentProps: React.PropTypes.object,","      overlayProps: React.PropTypes.object,","      windowImpl: React.PropTypes.object,","      maxHeightMultiplier: React.PropTypes.number,","      maxWidthMultiplier: React.PropTypes.number","    };","  },","  getDefaultProps: function() {","    return {","      maxHeightMultiplier: 0.75,","      maxWidthMultiplier: 0.75,","      windowImpl: window","    };","  },","  componentDidMount: function() {","    return this.updateOverlayPositioning();","  },","  componentDidUpdate: function() {","    var images, imagesLoading;","    if ((this.refs.popcontent != null) && this.state.firstShow) {","      images = this.getImages();","      imagesLoading = _.map(images, (function(_this) {","        return function(image, iter) {","          if (!((image.onload != null) || image.complete)) {","            image.onload = _.partial(_this.imageLoaded, iter);","          }","          return !image.complete;","        };","      })(this));","      return this.setState({","        imagesLoading: imagesLoading,","        firstShow: false","      });","    }","  },","  getImages: function() {","    var content;","    content = this.refs.popcontent.getDOMNode();","    return content.querySelectorAll('img');","  },","  imageLoaded: function(iter) {","    var currentImageStatus, imagesLoading, ref;","    if (!this.isMounted()) {","      return;","    }","    if ((ref = this.refs.popper) != null) {","      ref.updateOverlayPosition();","    }","    imagesLoading = this.state.imagesLoading;","    currentImageStatus = _.clone(imagesLoading);","    currentImageStatus[iter] = false;","    return this.setState({","      imagesLoading: currentImageStatus","    });","  },","  setMaxImageWidth: function(image, maxWidth) {","    var width;","    if (image == null) {","      return;","    }","    width = typeof image.getBoundingClientRect === \"function\" ? image.getBoundingClientRect().width : void 0;","    if (width > maxWidth) {","      return image.width = maxWidth;","    }","  },","  areImagesLoading: function() {","    return _.compact(this.state.imagesLoading).length !== 0;","  },","  updateOverlayPositioning: function() {","    var updateOverlayPosition, windowImpl;","    windowImpl = this.props.windowImpl;","    updateOverlayPosition = this.refs.popper.updateOverlayPosition;","    return this.refs.popper.updateOverlayPosition = (function(_this) {","      return function() {","        var height, images, ref, scrollable, viewer, width;","        updateOverlayPosition();","        viewer = _this.refs.popper.getOverlayDOMNode();","        images = _this.getImages();","        ref = viewer.getBoundingClientRect(), height = ref.height, width = ref.width;","        _.each(images, _.partial(_this.setMaxImageWidth, _, width - 30));","        scrollable = false;","        if (height > windowImpl.innerHeight) {","          scrollable = true;","          viewer.style.height = _this.props.maxHeightMultiplier * windowImpl.innerHeight + 'px';","          updateOverlayPosition();","        }","        if (width > windowImpl.innerWidth) {","          scrollable = true;","          viewer.style.width = _this.props.maxWidthMultiplier * windowImpl.innerWidth + 'px';","          updateOverlayPosition();","        }","        if (_this.state.scrollable && !scrollable) {","          viewer.style.height = 'auto';","          viewer.style.width = 'auto';","        }","        _this.setState({","          scrollable: scrollable","        });","        return updateOverlayPosition();","      };","    })(this);","  },","  setPlacement: function() {","    var placement;","    placement = this.guessPlacement();","    if (this.state.placement !== placement) {","      return this.setState({","        placement: placement","      });","    }","  },","  guessPlacement: function() {","    var midWindow, overlayLeft, windowImpl;","    windowImpl = this.props.windowImpl;","    overlayLeft = this.refs.popper.calcOverlayPosition().overlayLeft;","    midWindow = windowImpl.innerWidth / 2;","    if (overlayLeft > midWindow) {","      return 'left';","    } else {","      return 'right';","    }","  },","  show: function() {","    this.setPlacement();","    this.setState({","      show: true","    });","    return this.refs.popper.show();","  },","  hide: function() {","    this.setState({","      show: false","    });","    return this.refs.popper.hide();","  },","  render: function() {","    var children, content, contentClassName, overlayProps, placement, popover, popoverProps, ref, ref1, scrollable;","    ref = this.props, children = ref.children, content = ref.content, popoverProps = ref.popoverProps, overlayProps = ref.overlayProps;","    ref1 = this.state, scrollable = ref1.scrollable, placement = ref1.placement;","    if (scrollable) {","      popoverProps = _.clone(popoverProps || {});","      if (popoverProps.className == null) {","        popoverProps.className = '';","      }","      popoverProps.className += ' scrollable';","    }","    if (this.areImagesLoading()) {","      contentClassName = 'image-loading';","    }","    content = React.addons.cloneWithProps(content, {","      className: contentClassName","    });","    popover = React.createElement(BS.Popover, React.__spread({}, popoverProps, {","      \"ref\": 'popover'","    }), React.createElement(\"div\", {","      \"ref\": 'popcontent'","    }, content));","    return React.createElement(BS.OverlayTrigger, React.__spread({}, overlayProps, {","      \"placement\": placement,","      \"overlay\": popover,","      \"trigger\": 'manual',","      \"ref\": 'popper'","    }), children);","  }","});","","module.exports = TutorPopover;",""],"f":{"1":0,"2":0,"3":21,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"line":11,"loc":{"end":{"column":30,"line":11},"start":{"column":19,"line":11}},"name":"(anonymous_1)"},"2":{"line":20,"loc":{"end":{"column":24,"line":20},"start":{"column":13,"line":20}},"name":"(anonymous_2)"},"3":{"line":31,"loc":{"end":{"column":30,"line":31},"start":{"column":19,"line":31}},"name":"(anonymous_3)"},"4":{"line":38,"loc":{"end":{"column":32,"line":38},"start":{"column":21,"line":38}},"name":"(anonymous_4)"},"5":{"line":41,"loc":{"end":{"column":33,"line":41},"start":{"column":22,"line":41}},"name":"(anonymous_5)"},"6":{"line":45,"loc":{"end":{"column":53,"line":45},"start":{"column":37,"line":45}},"name":"(anonymous_6)"},"7":{"line":46,"loc":{"end":{"column":37,"line":46},"start":{"column":15,"line":46}},"name":"(anonymous_7)"},"8":{"line":59,"loc":{"end":{"column":24,"line":59},"start":{"column":13,"line":59}},"name":"(anonymous_8)"},"9":{"line":64,"loc":{"end":{"column":30,"line":64},"start":{"column":15,"line":64}},"name":"(anonymous_9)"},"10":{"line":79,"loc":{"end":{"column":46,"line":79},"start":{"column":20,"line":79}},"name":"(anonymous_10)"},"11":{"line":89,"loc":{"end":{"column":31,"line":89},"start":{"column":20,"line":89}},"name":"(anonymous_11)"},"12":{"line":92,"loc":{"end":{"column":39,"line":92},"start":{"column":28,"line":92}},"name":"(anonymous_12)"},"13":{"line":96,"loc":{"end":{"column":69,"line":96},"start":{"column":53,"line":96}},"name":"(anonymous_13)"},"14":{"line":97,"loc":{"end":{"column":24,"line":97},"start":{"column":13,"line":97}},"name":"(anonymous_14)"},"15":{"line":126,"loc":{"end":{"column":27,"line":126},"start":{"column":16,"line":126}},"name":"(anonymous_15)"},"16":{"line":135,"loc":{"end":{"column":29,"line":135},"start":{"column":18,"line":135}},"name":"(anonymous_16)"},"17":{"line":146,"loc":{"end":{"column":19,"line":146},"start":{"column":8,"line":146}},"name":"(anonymous_17)"},"18":{"line":153,"loc":{"end":{"column":19,"line":153},"start":{"column":8,"line":153}},"name":"(anonymous_18)"},"19":{"line":159,"loc":{"end":{"column":21,"line":159},"start":{"column":10,"line":159}},"name":"(anonymous_19)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/tutor-popover.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":21,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":21},"statementMap":{"1":{"end":{"column":31,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":32,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":3,"line":188},"start":{"column":0,"line":9}},"6":{"end":{"column":6,"line":18},"start":{"column":4,"line":12}},"7":{"end":{"column":6,"line":29},"start":{"column":4,"line":21}},"8":{"end":{"column":6,"line":36},"start":{"column":4,"line":32}},"9":{"end":{"column":43,"line":39},"start":{"column":4,"line":39}},"10":{"end":{"column":30,"line":42},"start":{"column":4,"line":42}},"11":{"end":{"column":5,"line":57},"start":{"column":4,"line":43}},"12":{"end":{"column":32,"line":44},"start":{"column":6,"line":44}},"13":{"end":{"column":16,"line":52},"start":{"column":6,"line":45}},"14":{"end":{"column":10,"line":51},"start":{"column":8,"line":46}},"15":{"end":{"column":11,"line":49},"start":{"column":10,"line":47}},"16":{"end":{"column":62,"line":48},"start":{"column":12,"line":48}},"17":{"end":{"column":33,"line":50},"start":{"column":10,"line":50}},"18":{"end":{"column":9,"line":56},"start":{"column":6,"line":53}},"19":{"end":{"column":16,"line":60},"start":{"column":4,"line":60}},"20":{"end":{"column":48,"line":61},"start":{"column":4,"line":61}},"21":{"end":{"column":43,"line":62},"start":{"column":4,"line":62}},"22":{"end":{"column":47,"line":65},"start":{"column":4,"line":65}},"23":{"end":{"column":5,"line":68},"start":{"column":4,"line":66}},"24":{"end":{"column":13,"line":67},"start":{"column":6,"line":67}},"25":{"end":{"column":5,"line":71},"start":{"column":4,"line":69}},"26":{"end":{"column":34,"line":70},"start":{"column":6,"line":70}},"27":{"end":{"column":45,"line":72},"start":{"column":4,"line":72}},"28":{"end":{"column":48,"line":73},"start":{"column":4,"line":73}},"29":{"end":{"column":37,"line":74},"start":{"column":4,"line":74}},"30":{"end":{"column":7,"line":77},"start":{"column":4,"line":75}},"31":{"end":{"column":14,"line":80},"start":{"column":4,"line":80}},"32":{"end":{"column":5,"line":83},"start":{"column":4,"line":81}},"33":{"end":{"column":13,"line":82},"start":{"column":6,"line":82}},"34":{"end":{"column":109,"line":84},"start":{"column":4,"line":84}},"35":{"end":{"column":5,"line":87},"start":{"column":4,"line":85}},"36":{"end":{"column":36,"line":86},"start":{"column":6,"line":86}},"37":{"end":{"column":60,"line":90},"start":{"column":4,"line":90}},"38":{"end":{"column":42,"line":93},"start":{"column":4,"line":93}},"39":{"end":{"column":39,"line":94},"start":{"column":4,"line":94}},"40":{"end":{"column":67,"line":95},"start":{"column":4,"line":95}},"41":{"end":{"column":13,"line":124},"start":{"column":4,"line":96}},"42":{"end":{"column":8,"line":123},"start":{"column":6,"line":97}},"43":{"end":{"column":59,"line":98},"start":{"column":8,"line":98}},"44":{"end":{"column":32,"line":99},"start":{"column":8,"line":99}},"45":{"end":{"column":55,"line":100},"start":{"column":8,"line":100}},"46":{"end":{"column":35,"line":101},"start":{"column":8,"line":101}},"47":{"end":{"column":85,"line":102},"start":{"column":8,"line":102}},"48":{"end":{"column":73,"line":103},"start":{"column":8,"line":103}},"49":{"end":{"column":27,"line":104},"start":{"column":8,"line":104}},"50":{"end":{"column":9,"line":109},"start":{"column":8,"line":105}},"51":{"end":{"column":28,"line":106},"start":{"column":10,"line":106}},"52":{"end":{"column":96,"line":107},"start":{"column":10,"line":107}},"53":{"end":{"column":34,"line":108},"start":{"column":10,"line":108}},"54":{"end":{"column":9,"line":114},"start":{"column":8,"line":110}},"55":{"end":{"column":28,"line":111},"start":{"column":10,"line":111}},"56":{"end":{"column":93,"line":112},"start":{"column":10,"line":112}},"57":{"end":{"column":34,"line":113},"start":{"column":10,"line":113}},"58":{"end":{"column":9,"line":118},"start":{"column":8,"line":115}},"59":{"end":{"column":39,"line":116},"start":{"column":10,"line":116}},"60":{"end":{"column":38,"line":117},"start":{"column":10,"line":117}},"61":{"end":{"column":11,"line":121},"start":{"column":8,"line":119}},"62":{"end":{"column":39,"line":122},"start":{"column":8,"line":122}},"63":{"end":{"column":18,"line":127},"start":{"column":4,"line":127}},"64":{"end":{"column":38,"line":128},"start":{"column":4,"line":128}},"65":{"end":{"column":5,"line":133},"start":{"column":4,"line":129}},"66":{"end":{"column":9,"line":132},"start":{"column":6,"line":130}},"67":{"end":{"column":43,"line":136},"start":{"column":4,"line":136}},"68":{"end":{"column":39,"line":137},"start":{"column":4,"line":137}},"69":{"end":{"column":69,"line":138},"start":{"column":4,"line":138}},"70":{"end":{"column":42,"line":139},"start":{"column":4,"line":139}},"71":{"end":{"column":5,"line":144},"start":{"column":4,"line":140}},"72":{"end":{"column":20,"line":141},"start":{"column":6,"line":141}},"73":{"end":{"column":21,"line":143},"start":{"column":6,"line":143}},"74":{"end":{"column":24,"line":147},"start":{"column":4,"line":147}},"75":{"end":{"column":7,"line":150},"start":{"column":4,"line":148}},"76":{"end":{"column":35,"line":151},"start":{"column":4,"line":151}},"77":{"end":{"column":7,"line":156},"start":{"column":4,"line":154}},"78":{"end":{"column":35,"line":157},"start":{"column":4,"line":157}},"79":{"end":{"column":115,"line":160},"start":{"column":4,"line":160}},"80":{"end":{"column":135,"line":161},"start":{"column":4,"line":161}},"81":{"end":{"column":80,"line":162},"start":{"column":4,"line":162}},"82":{"end":{"column":5,"line":169},"start":{"column":4,"line":163}},"83":{"end":{"column":49,"line":164},"start":{"column":6,"line":164}},"84":{"end":{"column":7,"line":167},"start":{"column":6,"line":165}},"85":{"end":{"column":36,"line":166},"start":{"column":8,"line":166}},"86":{"end":{"column":46,"line":168},"start":{"column":6,"line":168}},"87":{"end":{"column":5,"line":172},"start":{"column":4,"line":170}},"88":{"end":{"column":41,"line":171},"start":{"column":6,"line":171}},"89":{"end":{"column":7,"line":175},"start":{"column":4,"line":173}},"90":{"end":{"column":17,"line":180},"start":{"column":4,"line":176}},"91":{"end":{"column":18,"line":186},"start":{"column":4,"line":181}},"92":{"end":{"column":30,"line":190},"start":{"column":0,"line":190}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"12":0,"21":0,"32":21,"39":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"53":0,"60":0,"61":0,"62":0,"65":0,"66":0,"67":0,"69":0,"70":0,"72":0,"73":0,"74":0,"75":0,"80":0,"81":0,"82":0,"84":0,"85":0,"86":0,"90":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"110":0,"111":0,"112":0,"113":0,"115":0,"116":0,"117":0,"119":0,"122":0,"127":0,"128":0,"129":0,"130":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"143":0,"147":0,"148":0,"151":0,"154":0,"157":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"168":0,"170":0,"171":0,"173":0,"176":0,"181":0,"190":21}},
"/Users/phil/github/openstax/tutor-js/src/components/unsaved-state.cjsx":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"branchMap":{"1":{"line":23,"locations":[{"end":{"column":78,"line":23},"start":{"column":56,"line":23}},{"end":{"column":87,"line":23},"start":{"column":81,"line":23}}],"type":"cond-expr"},"2":{"line":26,"locations":[{"end":{"column":98,"line":26},"start":{"column":12,"line":26}},{"end":{"column":155,"line":26},"start":{"column":103,"line":26}}],"type":"binary-expr"},"3":{"line":26,"locations":[{"end":{"column":89,"line":26},"start":{"column":62,"line":26}},{"end":{"column":98,"line":26},"start":{"column":92,"line":26}}],"type":"cond-expr"},"4":{"line":43,"locations":[{"end":{"column":8,"line":43},"start":{"column":8,"line":43}},{"end":{"column":8,"line":43},"start":{"column":8,"line":43}}],"type":"if"},"5":{"line":70,"locations":[{"end":{"column":26,"line":70},"start":{"column":11,"line":70}},{"end":{"column":81,"line":70},"start":{"column":30,"line":70}}],"type":"binary-expr"},"6":{"line":76,"locations":[{"end":{"column":8,"line":76},"start":{"column":8,"line":76}},{"end":{"column":8,"line":76},"start":{"column":8,"line":76}}],"type":"if"},"7":{"line":76,"locations":[{"end":{"column":35,"line":76},"start":{"column":14,"line":76}},{"end":{"column":62,"line":76},"start":{"column":39,"line":76}}],"type":"binary-expr"}},"code":["var ACTIVE, Promise, React, TransitionAssistant, TutorDialog, UnsavedStateMixin, _, moment;","","ACTIVE = [];","","_ = require('underscore');","","Promise = require('es6-promise').Promise;","","moment = require('moment');","","React = require('react');","","TutorDialog = require('./tutor-dialog');","","UnsavedStateMixin = {","  componentWillMount: function() {","    return ACTIVE.push(this);","  },","  componentWillUnmount: function() {","    return ACTIVE.splice(ACTIVE.indexOf(this), 1);","  },","  _cannotTransition: function() {","    return typeof this.hasUnsavedState === \"function\" ? this.hasUnsavedState() : void 0;","  },","  _unsavedMessages: function() {","    return (typeof this.unsavedStateMessages === \"function\" ? this.unsavedStateMessages() : void 0) || [this.constructor.displayName + \" has unsaved data\"];","  }","};","","TransitionAssistant = {","  canTransition: function() {","    return !_.any(ACTIVE, function(c) {","      return c._cannotTransition();","    });","  },","  unsavedMessages: function() {","    return _.flatten(_.invoke(ACTIVE, '_unsavedMessages'), 1);","  },","  checkTransitionStateTo: function(destination) {","    return new Promise((function(_this) {","      return function(onOk, onCancel) {","        var body, i, message;","        if (_this.canTransition()) {","          return onOk();","        } else {","          body = React.createElement(\"div\", null, (function() {","            var j, len, ref, results;","            ref = this.unsavedMessages();","            results = [];","            for (i = j = 0, len = ref.length; j < len; i = ++j) {","              message = ref[i];","              results.push(React.createElement(\"p\", {","                \"key\": i","              }, message));","            }","            return results;","          }).call(_this));","          return TutorDialog.show({","            title: \"Proceed to \" + destination + \" ?\",","            body: body","          }).then(function() {","            _this.lastCancel = moment();","            return onOk();","          }, onCancel);","        }","      };","    })(this));","  },","  wasJustApproved: function() {","    return this.lastCancel && this.lastCancel.isBefore(moment().add(1, 'second'));","  },","  startMonitoring: function() {","    delete this.startMonitoring;","    return window.onbeforeunload = (function(_this) {","      return function() {","        if (!(_this.canTransition() || _this.wasJustApproved())) {","          return _this.unsavedMessages().join(\"\\n\");","        }","      };","    })(this);","  }","};","","module.exports = {","  UnsavedStateMixin: UnsavedStateMixin,","  TransitionAssistant: TransitionAssistant","};",""],"f":{"1":12,"2":12,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":21,"15":21,"16":0},"fnMap":{"1":{"line":16,"loc":{"end":{"column":33,"line":16},"start":{"column":22,"line":16}},"name":"(anonymous_1)"},"2":{"line":19,"loc":{"end":{"column":35,"line":19},"start":{"column":24,"line":19}},"name":"(anonymous_2)"},"3":{"line":22,"loc":{"end":{"column":32,"line":22},"start":{"column":21,"line":22}},"name":"(anonymous_3)"},"4":{"line":25,"loc":{"end":{"column":31,"line":25},"start":{"column":20,"line":25}},"name":"(anonymous_4)"},"5":{"line":31,"loc":{"end":{"column":28,"line":31},"start":{"column":17,"line":31}},"name":"(anonymous_5)"},"6":{"line":32,"loc":{"end":{"column":38,"line":32},"start":{"column":26,"line":32}},"name":"(anonymous_6)"},"7":{"line":36,"loc":{"end":{"column":30,"line":36},"start":{"column":19,"line":36}},"name":"(anonymous_7)"},"8":{"line":39,"loc":{"end":{"column":48,"line":39},"start":{"column":26,"line":39}},"name":"(anonymous_8)"},"9":{"line":40,"loc":{"end":{"column":40,"line":40},"start":{"column":24,"line":40}},"name":"(anonymous_9)"},"10":{"line":41,"loc":{"end":{"column":38,"line":41},"start":{"column":13,"line":41}},"name":"(anonymous_10)"},"11":{"line":46,"loc":{"end":{"column":62,"line":46},"start":{"column":51,"line":46}},"name":"(anonymous_11)"},"12":{"line":61,"loc":{"end":{"column":29,"line":61},"start":{"column":18,"line":61}},"name":"(anonymous_12)"},"13":{"line":69,"loc":{"end":{"column":30,"line":69},"start":{"column":19,"line":69}},"name":"(anonymous_13)"},"14":{"line":72,"loc":{"end":{"column":30,"line":72},"start":{"column":19,"line":72}},"name":"(anonymous_14)"},"15":{"line":74,"loc":{"end":{"column":52,"line":74},"start":{"column":36,"line":74}},"name":"(anonymous_15)"},"16":{"line":75,"loc":{"end":{"column":24,"line":75},"start":{"column":13,"line":75}},"name":"(anonymous_16)"}},"path":"/Users/phil/github/openstax/tutor-js/src/components/unsaved-state.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":12,"10":12,"11":0,"12":0,"13":21,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":21,"35":21,"36":21,"37":0,"38":0,"39":21},"statementMap":{"1":{"end":{"column":91,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":12,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":41,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":27,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":25,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":2,"line":28},"start":{"column":0,"line":15}},"9":{"end":{"column":29,"line":17},"start":{"column":4,"line":17}},"10":{"end":{"column":50,"line":20},"start":{"column":4,"line":20}},"11":{"end":{"column":88,"line":23},"start":{"column":4,"line":23}},"12":{"end":{"column":156,"line":26},"start":{"column":4,"line":26}},"13":{"end":{"column":2,"line":82},"start":{"column":0,"line":30}},"14":{"end":{"column":7,"line":34},"start":{"column":4,"line":32}},"15":{"end":{"column":35,"line":33},"start":{"column":6,"line":33}},"16":{"end":{"column":62,"line":37},"start":{"column":4,"line":37}},"17":{"end":{"column":14,"line":67},"start":{"column":4,"line":40}},"18":{"end":{"column":8,"line":66},"start":{"column":6,"line":41}},"19":{"end":{"column":29,"line":42},"start":{"column":8,"line":42}},"20":{"end":{"column":9,"line":65},"start":{"column":8,"line":43}},"21":{"end":{"column":24,"line":44},"start":{"column":10,"line":44}},"22":{"end":{"column":26,"line":57},"start":{"column":10,"line":46}},"23":{"end":{"column":37,"line":47},"start":{"column":12,"line":47}},"24":{"end":{"column":41,"line":48},"start":{"column":12,"line":48}},"25":{"end":{"column":25,"line":49},"start":{"column":12,"line":49}},"26":{"end":{"column":13,"line":55},"start":{"column":12,"line":50}},"27":{"end":{"column":31,"line":51},"start":{"column":14,"line":51}},"28":{"end":{"column":27,"line":54},"start":{"column":14,"line":52}},"29":{"end":{"column":27,"line":56},"start":{"column":12,"line":56}},"30":{"end":{"column":23,"line":64},"start":{"column":10,"line":58}},"31":{"end":{"column":40,"line":62},"start":{"column":12,"line":62}},"32":{"end":{"column":26,"line":63},"start":{"column":12,"line":63}},"33":{"end":{"column":82,"line":70},"start":{"column":4,"line":70}},"34":{"end":{"column":32,"line":73},"start":{"column":4,"line":73}},"35":{"end":{"column":13,"line":80},"start":{"column":4,"line":74}},"36":{"end":{"column":8,"line":79},"start":{"column":6,"line":75}},"37":{"end":{"column":9,"line":78},"start":{"column":8,"line":76}},"38":{"end":{"column":52,"line":77},"start":{"column":10,"line":77}},"39":{"end":{"column":2,"line":87},"start":{"column":0,"line":84}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":12,"20":12,"23":0,"26":0,"30":21,"32":0,"33":0,"37":0,"40":0,"41":0,"42":0,"43":0,"44":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"56":0,"58":0,"62":0,"63":0,"70":0,"73":21,"74":21,"75":21,"76":0,"77":0,"84":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/app.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"branchMap":{"1":{"line":13,"locations":[{"end":{"column":4,"line":13},"start":{"column":4,"line":13}},{"end":{"column":4,"line":13},"start":{"column":4,"line":13}}],"type":"if"},"2":{"line":34,"locations":[{"end":{"column":6,"line":34},"start":{"column":6,"line":34}},{"end":{"column":6,"line":34},"start":{"column":6,"line":34}}],"type":"if"},"3":{"line":38,"locations":[{"end":{"column":6,"line":38},"start":{"column":6,"line":38}},{"end":{"column":6,"line":38},"start":{"column":6,"line":38}}],"type":"if"},"4":{"line":43,"locations":[{"end":{"column":37,"line":43},"start":{"column":19,"line":43}},{"end":{"column":65,"line":43},"start":{"column":41,"line":43}}],"type":"binary-expr"},"5":{"line":44,"locations":[{"end":{"column":38,"line":44},"start":{"column":21,"line":44}},{"end":{"column":58,"line":44},"start":{"column":42,"line":44}}],"type":"binary-expr"},"6":{"line":46,"locations":[{"end":{"column":33,"line":46},"start":{"column":24,"line":46}},{"end":{"column":46,"line":46},"start":{"column":37,"line":46}}],"type":"binary-expr"}},"code":["var AppConfig, _, actions, flux, makeSimpleStore, ref, store;","","flux = require('flux-react');","","_ = require('underscore');","","makeSimpleStore = require('./helpers').makeSimpleStore;","","AppConfig = {","  setServerError: function(statusCode, message, requestDetails) {","    var opts, request, sparseOpts, url;","    url = requestDetails.url, opts = requestDetails.opts;","    if (!opts.displayError) {","      return;","    }","    sparseOpts = _.pick(opts, 'method', 'data');","    request = {","      url: url,","      opts: sparseOpts","    };","    this._currentServerError = {","      statusCode: statusCode,","      message: message,","      request: request","    };","    return this.emit('server-error', statusCode, message);","  },","  exports: {","    getError: function() {","      return this._currentServerError;","    },","    errorNavigation: function() {","      var isGET404, isInRange, ref, request, statusCode;","      if (!this._currentServerError) {","        return {};","      }","      ref = this._currentServerError, statusCode = ref.statusCode, request = ref.request;","      if (statusCode === 403) {","        return {","          href: '/'","        };","      } else {","        isGET404 = statusCode === 404 && request.method === 'GET';","        isInRange = (400 <= statusCode && statusCode < 600);","        return {","          shouldReload: isInRange && !isGET404","        };","      }","    }","  }","};","","ref = makeSimpleStore(AppConfig), actions = ref.actions, store = ref.store;","","module.exports = {","  AppActions: actions,","  AppStore: store","};",""],"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"line":10,"loc":{"end":{"column":64,"line":10},"start":{"column":18,"line":10}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":25,"line":29},"start":{"column":14,"line":29}},"name":"(anonymous_2)"},"3":{"line":32,"loc":{"end":{"column":32,"line":32},"start":{"column":21,"line":32}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/app.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":21,"25":21},"statementMap":{"1":{"end":{"column":61,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":29,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":55,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":51},"start":{"column":0,"line":9}},"6":{"end":{"column":39,"line":11},"start":{"column":4,"line":11}},"7":{"end":{"column":57,"line":12},"start":{"column":4,"line":12}},"8":{"end":{"column":5,"line":15},"start":{"column":4,"line":13}},"9":{"end":{"column":13,"line":14},"start":{"column":6,"line":14}},"10":{"end":{"column":48,"line":16},"start":{"column":4,"line":16}},"11":{"end":{"column":6,"line":20},"start":{"column":4,"line":17}},"12":{"end":{"column":6,"line":25},"start":{"column":4,"line":21}},"13":{"end":{"column":58,"line":26},"start":{"column":4,"line":26}},"14":{"end":{"column":38,"line":30},"start":{"column":6,"line":30}},"15":{"end":{"column":56,"line":33},"start":{"column":6,"line":33}},"16":{"end":{"column":7,"line":36},"start":{"column":6,"line":34}},"17":{"end":{"column":18,"line":35},"start":{"column":8,"line":35}},"18":{"end":{"column":89,"line":37},"start":{"column":6,"line":37}},"19":{"end":{"column":7,"line":48},"start":{"column":6,"line":38}},"20":{"end":{"column":10,"line":41},"start":{"column":8,"line":39}},"21":{"end":{"column":66,"line":43},"start":{"column":8,"line":43}},"22":{"end":{"column":60,"line":44},"start":{"column":8,"line":44}},"23":{"end":{"column":10,"line":47},"start":{"column":8,"line":45}},"24":{"end":{"column":75,"line":53},"start":{"column":0,"line":53}},"25":{"end":{"column":2,"line":58},"start":{"column":0,"line":55}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"21":0,"26":0,"30":0,"33":0,"34":0,"35":0,"37":0,"38":0,"39":0,"43":0,"44":0,"45":0,"53":21,"55":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/cc-dashboard.coffee":{"b":{"1":[7,0],"2":[7,0],"3":[15,0],"4":[15,0],"5":[8,0],"6":[8,0],"7":[0,8],"8":[0,0],"9":[0,0]},"branchMap":{"1":{"line":17,"locations":[{"end":{"column":111,"line":17},"start":{"column":59,"line":17}},{"end":{"column":120,"line":17},"start":{"column":114,"line":17}}],"type":"cond-expr"},"2":{"line":17,"locations":[{"end":{"column":102,"line":17},"start":{"column":90,"line":17}},{"end":{"column":111,"line":17},"start":{"column":105,"line":17}}],"type":"cond-expr"},"3":{"line":21,"locations":[{"end":{"column":122,"line":21},"start":{"column":70,"line":21}},{"end":{"column":131,"line":21},"start":{"column":125,"line":21}}],"type":"cond-expr"},"4":{"line":21,"locations":[{"end":{"column":113,"line":21},"start":{"column":101,"line":21}},{"end":{"column":122,"line":21},"start":{"column":116,"line":21}}],"type":"cond-expr"},"5":{"line":25,"locations":[{"end":{"column":118,"line":25},"start":{"column":66,"line":25}},{"end":{"column":127,"line":25},"start":{"column":121,"line":25}}],"type":"cond-expr"},"6":{"line":25,"locations":[{"end":{"column":109,"line":25},"start":{"column":97,"line":25}},{"end":{"column":118,"line":25},"start":{"column":112,"line":25}}],"type":"cond-expr"},"7":{"line":28,"locations":[{"end":{"column":6,"line":28},"start":{"column":6,"line":28}},{"end":{"column":6,"line":28},"start":{"column":6,"line":28}}],"type":"if"},"8":{"line":40,"locations":[{"end":{"column":40,"line":40},"start":{"column":17,"line":40}},{"end":{"column":45,"line":40},"start":{"column":44,"line":40}}],"type":"binary-expr"},"9":{"line":46,"locations":[{"end":{"column":68,"line":46},"start":{"column":57,"line":46}},{"end":{"column":77,"line":46},"start":{"column":71,"line":46}}],"type":"cond-expr"}},"code":["var CrudConfig, DEFAULT_COURSE_TIMEZONE, DashboardConfig, PeriodHelper, TaskActions, TaskStore, _, actions, extendConfig, makeSimpleStore, ref, ref1, ref2, store;","","_ = require('underscore');","","ref = require('./task'), TaskActions = ref.TaskActions, TaskStore = ref.TaskStore;","","ref1 = require('./helpers'), CrudConfig = ref1.CrudConfig, makeSimpleStore = ref1.makeSimpleStore, extendConfig = ref1.extendConfig;","","PeriodHelper = require('../helpers/period');","","DEFAULT_COURSE_TIMEZONE = 'US/Central';","","DashboardConfig = {","  exports: {","    isBlank: function(courseId) {","      var ref2, ref3;","      return !_.any((ref2 = this._get(courseId)) != null ? (ref3 = ref2.course) != null ? ref3.periods : void 0 : void 0);","    },","    getPeriods: function(courseId) {","      var ref2, ref3;","      return PeriodHelper.sort((ref2 = this._get(courseId)) != null ? (ref3 = ref2.course) != null ? ref3.periods : void 0 : void 0);","    },","    chaptersForDisplay: function(courseId, periodId) {","      var chapters, period, ref2, ref3;","      period = _.findWhere((ref2 = this._get(courseId)) != null ? (ref3 = ref2.course) != null ? ref3.periods : void 0 : void 0, {","        id: periodId","      });","      if (!period) {","        return [];","      }","      chapters = _.map(period.chapters, function(chapter) {","        var valid_sections;","        valid_sections = _.select(chapter.pages, function(page) {","          var total;","          total = page.completed + page.in_progress + page.not_started;","          page.completed_percentage = page.completed / total;","          return page.completed_percentage > 0.1;","        });","        chapter.valid_sections = _.sortBy(valid_sections, function(page) {","          return page.chapter_section[1] || 0;","        }).reverse();","        return chapter;","      });","      return _.select(chapters.reverse(), function(chapter) {","        var ref4;","        return (ref4 = chapter.valid_sections) != null ? ref4.length : void 0;","      });","    }","  }","};","","extendConfig(DashboardConfig, new CrudConfig());","","ref2 = makeSimpleStore(DashboardConfig), actions = ref2.actions, store = ref2.store;","","module.exports = {","  CCDashboardActions: actions,","  CCDashboardStore: store","};",""],"f":{"1":7,"2":15,"3":8,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"line":15,"loc":{"end":{"column":32,"line":15},"start":{"column":13,"line":15}},"name":"(anonymous_1)"},"2":{"line":19,"loc":{"end":{"column":35,"line":19},"start":{"column":16,"line":19}},"name":"(anonymous_2)"},"3":{"line":23,"loc":{"end":{"column":53,"line":23},"start":{"column":24,"line":23}},"name":"(anonymous_3)"},"4":{"line":31,"loc":{"end":{"column":58,"line":31},"start":{"column":40,"line":31}},"name":"(anonymous_4)"},"5":{"line":33,"loc":{"end":{"column":64,"line":33},"start":{"column":49,"line":33}},"name":"(anonymous_5)"},"6":{"line":39,"loc":{"end":{"column":73,"line":39},"start":{"column":58,"line":39}},"name":"(anonymous_6)"},"7":{"line":44,"loc":{"end":{"column":60,"line":44},"start":{"column":42,"line":44}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/cc-dashboard.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":7,"9":7,"10":15,"11":15,"12":8,"13":8,"14":8,"15":0,"16":8,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":8,"27":0,"28":0,"29":21,"30":21,"31":21},"statementMap":{"1":{"end":{"column":162,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":82,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":132,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":44,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":39,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":2,"line":50},"start":{"column":0,"line":13}},"8":{"end":{"column":21,"line":16},"start":{"column":6,"line":16}},"9":{"end":{"column":122,"line":17},"start":{"column":6,"line":17}},"10":{"end":{"column":21,"line":20},"start":{"column":6,"line":20}},"11":{"end":{"column":133,"line":21},"start":{"column":6,"line":21}},"12":{"end":{"column":39,"line":24},"start":{"column":6,"line":24}},"13":{"end":{"column":9,"line":27},"start":{"column":6,"line":25}},"14":{"end":{"column":7,"line":30},"start":{"column":6,"line":28}},"15":{"end":{"column":18,"line":29},"start":{"column":8,"line":29}},"16":{"end":{"column":9,"line":43},"start":{"column":6,"line":31}},"17":{"end":{"column":27,"line":32},"start":{"column":8,"line":32}},"18":{"end":{"column":11,"line":38},"start":{"column":8,"line":33}},"19":{"end":{"column":20,"line":34},"start":{"column":10,"line":34}},"20":{"end":{"column":71,"line":35},"start":{"column":10,"line":35}},"21":{"end":{"column":61,"line":36},"start":{"column":10,"line":36}},"22":{"end":{"column":49,"line":37},"start":{"column":10,"line":37}},"23":{"end":{"column":21,"line":41},"start":{"column":8,"line":39}},"24":{"end":{"column":46,"line":40},"start":{"column":10,"line":40}},"25":{"end":{"column":23,"line":42},"start":{"column":8,"line":42}},"26":{"end":{"column":9,"line":47},"start":{"column":6,"line":44}},"27":{"end":{"column":17,"line":45},"start":{"column":8,"line":45}},"28":{"end":{"column":78,"line":46},"start":{"column":8,"line":46}},"29":{"end":{"column":48,"line":52},"start":{"column":0,"line":52}},"30":{"end":{"column":84,"line":54},"start":{"column":0,"line":54}},"31":{"end":{"column":2,"line":59},"start":{"column":0,"line":56}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"16":7,"17":7,"20":15,"21":15,"24":8,"25":8,"28":8,"29":0,"31":8,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"39":0,"40":0,"42":0,"44":8,"45":0,"46":0,"52":21,"54":21,"56":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/course-listing.coffee":{"b":{"1":[21,0],"2":[0,0]},"branchMap":{"1":{"line":66,"locations":[{"end":{"column":6,"line":66},"start":{"column":6,"line":66}},{"end":{"column":6,"line":66},"start":{"column":6,"line":66}}],"type":"if"},"2":{"line":69,"locations":[{"end":{"column":8,"line":69},"start":{"column":8,"line":69}},{"end":{"column":8,"line":69},"start":{"column":8,"line":69}}],"type":"if"}},"code":["var CourseActions, CourseListingActions, CourseListingStore, CourseStore, DELETED, DELETING, FAILED, LOADED, LOADING, _, flux, ref;","","_ = require('underscore');","","flux = require('flux-react');","","ref = require('./course'), CourseActions = ref.CourseActions, CourseStore = ref.CourseStore;","","LOADING = 'loading';","","LOADED = 'loaded';","","FAILED = 'failed';","","DELETING = 'deleting';","","DELETED = 'deleted';","","CourseListingActions = flux.createActions(['load', 'loaded', 'reset', 'FAILED', 'delete', 'deleted']);","","CourseListingStore = flux.createStore({","  actions: _.values(CourseListingActions),","  _asyncStatus: null,","  load: function() {","    this._asyncStatus = LOADING;","    return this.emit('load');","  },","  reset: function() {","    this._course_ids = [];","    CourseActions.reset();","    this._asyncStatus = null;","    return this.emitChange();","  },","  FAILED: function() {","    this._asyncStatus = FAILED;","    return this.emit('failed');","  },","  loaded: function(courses) {","    this._course_ids = _.map(courses, function(course) {","      CourseActions.loaded(course, course.id);","      return course.id;","    });","    this._asyncStatus = LOADED;","    return this.emit('loaded');","  },","  \"delete\": function(courseId) {","    this._asyncStatus[courseId] = DELETING;","    this._course_ids = _.without(this._course_ids, courseId);","    return this.emit(DELETING);","  },","  deleted: function(courseId) {","    this._asyncStatus[courseId] = DELETED;","    return this.emit(DELETED);","  },","  exports: {","    isLoading: function() {","      return this._asyncStatus === LOADING;","    },","    isLoaded: function() {","      return this._asyncStatus === LOADED;","    },","    isFailed: function() {","      return this._asyncStatus === FAILED;","    },","    ensureLoaded: function() {","      if (CourseListingStore.isLoaded()) {","        return false;","      } else {","        if (!CourseListingStore.isLoading()) {","          CourseListingActions.load();","        }","        return true;","      }","    },","    allCourses: function() {","      return _.compact(_.map(this._course_ids, CourseStore.get));","    }","  }","});","","module.exports = {","  CourseListingActions: CourseListingActions,","  CourseListingStore: CourseListingStore","};",""],"f":{"1":0,"2":0,"3":0,"4":21,"5":63,"6":0,"7":0,"8":0,"9":79,"10":29,"11":21,"12":113},"fnMap":{"1":{"line":24,"loc":{"end":{"column":19,"line":24},"start":{"column":8,"line":24}},"name":"(anonymous_1)"},"2":{"line":28,"loc":{"end":{"column":20,"line":28},"start":{"column":9,"line":28}},"name":"(anonymous_2)"},"3":{"line":34,"loc":{"end":{"column":21,"line":34},"start":{"column":10,"line":34}},"name":"(anonymous_3)"},"4":{"line":38,"loc":{"end":{"column":28,"line":38},"start":{"column":10,"line":38}},"name":"(anonymous_4)"},"5":{"line":39,"loc":{"end":{"column":55,"line":39},"start":{"column":38,"line":39}},"name":"(anonymous_5)"},"6":{"line":46,"loc":{"end":{"column":31,"line":46},"start":{"column":12,"line":46}},"name":"(anonymous_6)"},"7":{"line":51,"loc":{"end":{"column":30,"line":51},"start":{"column":11,"line":51}},"name":"(anonymous_7)"},"8":{"line":56,"loc":{"end":{"column":26,"line":56},"start":{"column":15,"line":56}},"name":"(anonymous_8)"},"9":{"line":59,"loc":{"end":{"column":25,"line":59},"start":{"column":14,"line":59}},"name":"(anonymous_9)"},"10":{"line":62,"loc":{"end":{"column":25,"line":62},"start":{"column":14,"line":62}},"name":"(anonymous_10)"},"11":{"line":65,"loc":{"end":{"column":29,"line":65},"start":{"column":18,"line":65}},"name":"(anonymous_11)"},"12":{"line":75,"loc":{"end":{"column":27,"line":75},"start":{"column":16,"line":75}},"name":"(anonymous_12)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/course-listing.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":21,"21":63,"22":63,"23":21,"24":21,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":79,"32":29,"33":21,"34":21,"35":0,"36":0,"37":0,"38":113,"39":21},"statementMap":{"1":{"end":{"column":131,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":29,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":92,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":20,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":18,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":18,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":22,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":20,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":102,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":3,"line":79},"start":{"column":0,"line":21}},"12":{"end":{"column":32,"line":25},"start":{"column":4,"line":25}},"13":{"end":{"column":29,"line":26},"start":{"column":4,"line":26}},"14":{"end":{"column":26,"line":29},"start":{"column":4,"line":29}},"15":{"end":{"column":26,"line":30},"start":{"column":4,"line":30}},"16":{"end":{"column":29,"line":31},"start":{"column":4,"line":31}},"17":{"end":{"column":29,"line":32},"start":{"column":4,"line":32}},"18":{"end":{"column":31,"line":35},"start":{"column":4,"line":35}},"19":{"end":{"column":31,"line":36},"start":{"column":4,"line":36}},"20":{"end":{"column":7,"line":42},"start":{"column":4,"line":39}},"21":{"end":{"column":46,"line":40},"start":{"column":6,"line":40}},"22":{"end":{"column":23,"line":41},"start":{"column":6,"line":41}},"23":{"end":{"column":31,"line":43},"start":{"column":4,"line":43}},"24":{"end":{"column":31,"line":44},"start":{"column":4,"line":44}},"25":{"end":{"column":43,"line":47},"start":{"column":4,"line":47}},"26":{"end":{"column":61,"line":48},"start":{"column":4,"line":48}},"27":{"end":{"column":31,"line":49},"start":{"column":4,"line":49}},"28":{"end":{"column":42,"line":52},"start":{"column":4,"line":52}},"29":{"end":{"column":30,"line":53},"start":{"column":4,"line":53}},"30":{"end":{"column":43,"line":57},"start":{"column":6,"line":57}},"31":{"end":{"column":42,"line":60},"start":{"column":6,"line":60}},"32":{"end":{"column":42,"line":63},"start":{"column":6,"line":63}},"33":{"end":{"column":7,"line":73},"start":{"column":6,"line":66}},"34":{"end":{"column":21,"line":67},"start":{"column":8,"line":67}},"35":{"end":{"column":9,"line":71},"start":{"column":8,"line":69}},"36":{"end":{"column":38,"line":70},"start":{"column":10,"line":70}},"37":{"end":{"column":20,"line":72},"start":{"column":8,"line":72}},"38":{"end":{"column":65,"line":76},"start":{"column":6,"line":76}},"39":{"end":{"column":2,"line":84},"start":{"column":0,"line":81}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"25":0,"26":0,"29":0,"30":0,"31":0,"32":0,"35":0,"36":0,"39":21,"40":63,"41":63,"43":21,"44":21,"47":0,"48":0,"49":0,"52":0,"53":0,"57":0,"60":79,"63":29,"66":21,"67":21,"69":0,"70":0,"72":0,"76":113,"81":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/course.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[133,0],"12":[133,0],"13":[125,0],"14":[125,0],"15":[91,0],"16":[92,92],"17":[68,24],"18":[0,0]},"branchMap":{"1":{"line":47,"locations":[{"end":{"column":4,"line":47},"start":{"column":4,"line":47}},{"end":{"column":4,"line":47},"start":{"column":4,"line":47}}],"type":"if"},"2":{"line":65,"locations":[{"end":{"column":35,"line":65},"start":{"column":13,"line":65}},{"end":{"column":10,"line":67},"start":{"column":39,"line":65}}],"type":"binary-expr"},"3":{"line":83,"locations":[{"end":{"column":65,"line":83},"start":{"column":58,"line":83}},{"end":{"column":74,"line":83},"start":{"column":68,"line":83}}],"type":"cond-expr"},"4":{"line":87,"locations":[{"end":{"column":116,"line":87},"start":{"column":58,"line":87}},{"end":{"column":125,"line":87},"start":{"column":119,"line":87}}],"type":"cond-expr"},"5":{"line":87,"locations":[{"end":{"column":107,"line":87},"start":{"column":94,"line":87}},{"end":{"column":116,"line":87},"start":{"column":110,"line":87}}],"type":"cond-expr"},"6":{"line":94,"locations":[{"end":{"column":6,"line":94},"start":{"column":6,"line":94}},{"end":{"column":6,"line":94},"start":{"column":6,"line":94}}],"type":"if"},"7":{"line":104,"locations":[{"end":{"column":8,"line":104},"start":{"column":8,"line":104}},{"end":{"column":8,"line":104},"start":{"column":8,"line":104}}],"type":"if"},"8":{"line":105,"locations":[{"end":{"column":10,"line":105},"start":{"column":10,"line":105}},{"end":{"column":10,"line":105},"start":{"column":10,"line":105}}],"type":"if"},"9":{"line":109,"locations":[{"end":{"column":8,"line":109},"start":{"column":8,"line":109}},{"end":{"column":8,"line":109},"start":{"column":8,"line":109}}],"type":"if"},"10":{"line":109,"locations":[{"end":{"column":25,"line":109},"start":{"column":13,"line":109}},{"end":{"column":41,"line":109},"start":{"column":30,"line":109}}],"type":"binary-expr"},"11":{"line":116,"locations":[{"end":{"column":82,"line":116},"start":{"column":14,"line":116}},{"end":{"column":96,"line":116},"start":{"column":87,"line":116}}],"type":"binary-expr"},"12":{"line":116,"locations":[{"end":{"column":73,"line":116},"start":{"column":53,"line":116}},{"end":{"column":82,"line":116},"start":{"column":76,"line":116}}],"type":"cond-expr"},"13":{"line":120,"locations":[{"end":{"column":71,"line":120},"start":{"column":14,"line":120}},{"end":{"column":78,"line":120},"start":{"column":76,"line":120}}],"type":"binary-expr"},"14":{"line":120,"locations":[{"end":{"column":62,"line":120},"start":{"column":53,"line":120}},{"end":{"column":71,"line":120},"start":{"column":65,"line":120}}],"type":"cond-expr"},"15":{"line":124,"locations":[{"end":{"column":43,"line":124},"start":{"column":16,"line":124}},{"end":{"column":49,"line":124},"start":{"column":47,"line":124}}],"type":"binary-expr"},"16":{"line":129,"locations":[{"end":{"column":75,"line":129},"start":{"column":14,"line":129}},{"end":{"column":103,"line":129},"start":{"column":80,"line":129}}],"type":"binary-expr"},"17":{"line":129,"locations":[{"end":{"column":66,"line":129},"start":{"column":53,"line":129}},{"end":{"column":75,"line":129},"start":{"column":69,"line":129}}],"type":"cond-expr"},"18":{"line":133,"locations":[{"end":{"column":76,"line":133},"start":{"column":66,"line":133}},{"end":{"column":85,"line":133},"start":{"column":79,"line":133}}],"type":"cond-expr"}},"code":["var CourseConfig, CrudConfig, DEFAULT_COURSE_TIMEZONE, PeriodHelper, TaskActions, TaskStore, _, actions, extendConfig, makeSimpleStore, ref, ref1, ref2, store;","","_ = require('underscore');","","ref = require('./task'), TaskActions = ref.TaskActions, TaskStore = ref.TaskStore;","","ref1 = require('./helpers'), CrudConfig = ref1.CrudConfig, makeSimpleStore = ref1.makeSimpleStore, extendConfig = ref1.extendConfig;","","PeriodHelper = require('../helpers/period');","","DEFAULT_COURSE_TIMEZONE = 'US/Central';","","CourseConfig = {","  _practices: {},","  _asyncStatusPractices: {},","  _isPractice: function(obj) {","    return obj.steps != null;","  },","  createPractice: function(courseId, params) {},","  createdPractice: function(obj, courseId, params) {","    obj.created_for = params;","    return this._loadedPractice(obj, courseId);","  },","  _guides: {},","  _asyncStatusGuides: {},","  loadGuide: function(courseId) {","    delete this._guides[courseId];","    this._asyncStatusGuides[courseId] = 'loading';","    return this.emitChange();","  },","  loadedGuide: function(obj, courseId) {","    this._guides[courseId] = obj;","    this._asyncStatusGuides[courseId] = 'loaded';","    return this.emitChange();","  },","  loadPractice: function(courseId) {","    delete this._practices[courseId];","    this._asyncStatusPractices[courseId] = 'loading';","    return this.emitChange();","  },","  loadedPractice: function(obj, courseId) {","    this._loadedPractice(obj, courseId);","    this._asyncStatusPractices[courseId] = 'loaded';","    return this.emitChange();","  },","  _loadedPractice: function(obj, courseId) {","    if (obj.type == null) {","      obj.type = 'practice';","    }","    this._practices[courseId] = obj;","    TaskActions.loaded(obj, obj.id);","    return this.emit('practice.loaded', obj.id);","  },","  _loaded: function(obj, id) {","    return this.emit('course.loaded', obj.id);","  },","  _reset: function() {","    this._guides = {};","    this._asyncStatusGuides = {};","    this._practices = {};","    return this._asyncStatusPractices = {};","  },","  exports: {","    getGuide: function(courseId) {","      return this._guides[courseId] || (function() {","        throw new Error('BUG: Not loaded yet');","      })();","    },","    isGuideLoading: function(courseId) {","      return this._asyncStatusGuides[courseId] === 'loading';","    },","    isGuideLoaded: function(courseId) {","      return !!this._guides[courseId];","    },","    isPracticeLoading: function(courseId) {","      return this._asyncStatusPractices[courseId] === 'loading';","    },","    isPracticeLoaded: function(courseId) {","      return !!this._practices[courseId];","    },","    getPracticeId: function(courseId) {","      var ref2;","      return (ref2 = this._practices[courseId]) != null ? ref2.id : void 0;","    },","    getPracticePageIds: function(courseId) {","      var ref2, ref3;","      return (ref2 = this._practices[courseId]) != null ? (ref3 = ref2.created_for) != null ? ref3.page_ids : void 0 : void 0;","    },","    hasPractice: function(courseId) {","      return this._practices[courseId] != null;","    },","    getPractice: function(courseId) {","      var id, task;","      if (this._practices[courseId] != null) {","        id = this._practices[courseId].id;","        task = TaskStore.get(id);","      }","      return task;","    },","    validateCourseName: function(name, courses, active) {","      var course, i, len;","      for (i = 0, len = courses.length; i < len; i++) {","        course = courses[i];","        if (course.name === name) {","          if (name !== active) {","            return ['courseNameExists'];","          }","        }","        if ((name == null) || name === '') {","          return ['required'];","        }","      }","    },","    getAppearanceCode: function(courseId) {","      var ref2;","      return ((ref2 = this._get(courseId)) != null ? ref2.appearance_code : void 0) || 'default';","    },","    getName: function(courseId) {","      var ref2;","      return ((ref2 = this._get(courseId)) != null ? ref2.name : void 0) || \"\";","    },","    getPeriods: function(courseId) {","      var periods, sortedPeriods;","      periods = this._get(courseId).periods || [];","      return sortedPeriods = PeriodHelper.sort(periods);","    },","    getTimezone: function(courseId) {","      var ref2;","      return ((ref2 = this._get(courseId)) != null ? ref2.timezone : void 0) || DEFAULT_COURSE_TIMEZONE;","    },","    isTeacher: function(courseId) {","      var ref2;","      return !!_.findWhere((ref2 = this._get(courseId)) != null ? ref2.roles : void 0, {","        type: 'teacher'","      });","    },","    getByEcosystemId: function(ecosystemId) {","      return _.findWhere(this._local, {","        ecosystem_id: ecosystemId","      });","    }","  }","};","","extendConfig(CourseConfig, new CrudConfig());","","ref2 = makeSimpleStore(CourseConfig), actions = ref2.actions, store = ref2.store;","","module.exports = {","  CourseActions: actions,","  CourseStore: store","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":72,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":133,"23":125,"24":91,"25":92,"26":0,"27":0},"fnMap":{"1":{"line":16,"loc":{"end":{"column":29,"line":16},"start":{"column":15,"line":16}},"name":"(anonymous_1)"},"2":{"line":19,"loc":{"end":{"column":45,"line":19},"start":{"column":18,"line":19}},"name":"(anonymous_2)"},"3":{"line":20,"loc":{"end":{"column":51,"line":20},"start":{"column":19,"line":20}},"name":"(anonymous_3)"},"4":{"line":26,"loc":{"end":{"column":32,"line":26},"start":{"column":13,"line":26}},"name":"(anonymous_4)"},"5":{"line":31,"loc":{"end":{"column":39,"line":31},"start":{"column":15,"line":31}},"name":"(anonymous_5)"},"6":{"line":36,"loc":{"end":{"column":35,"line":36},"start":{"column":16,"line":36}},"name":"(anonymous_6)"},"7":{"line":41,"loc":{"end":{"column":42,"line":41},"start":{"column":18,"line":41}},"name":"(anonymous_7)"},"8":{"line":46,"loc":{"end":{"column":43,"line":46},"start":{"column":19,"line":46}},"name":"(anonymous_8)"},"9":{"line":54,"loc":{"end":{"column":29,"line":54},"start":{"column":11,"line":54}},"name":"(anonymous_9)"},"10":{"line":57,"loc":{"end":{"column":21,"line":57},"start":{"column":10,"line":57}},"name":"(anonymous_10)"},"11":{"line":64,"loc":{"end":{"column":33,"line":64},"start":{"column":14,"line":64}},"name":"(anonymous_11)"},"12":{"line":65,"loc":{"end":{"column":51,"line":65},"start":{"column":40,"line":65}},"name":"(anonymous_12)"},"13":{"line":69,"loc":{"end":{"column":39,"line":69},"start":{"column":20,"line":69}},"name":"(anonymous_13)"},"14":{"line":72,"loc":{"end":{"column":38,"line":72},"start":{"column":19,"line":72}},"name":"(anonymous_14)"},"15":{"line":75,"loc":{"end":{"column":42,"line":75},"start":{"column":23,"line":75}},"name":"(anonymous_15)"},"16":{"line":78,"loc":{"end":{"column":41,"line":78},"start":{"column":22,"line":78}},"name":"(anonymous_16)"},"17":{"line":81,"loc":{"end":{"column":38,"line":81},"start":{"column":19,"line":81}},"name":"(anonymous_17)"},"18":{"line":85,"loc":{"end":{"column":43,"line":85},"start":{"column":24,"line":85}},"name":"(anonymous_18)"},"19":{"line":89,"loc":{"end":{"column":36,"line":89},"start":{"column":17,"line":89}},"name":"(anonymous_19)"},"20":{"line":92,"loc":{"end":{"column":36,"line":92},"start":{"column":17,"line":92}},"name":"(anonymous_20)"},"21":{"line":100,"loc":{"end":{"column":56,"line":100},"start":{"column":24,"line":100}},"name":"(anonymous_21)"},"22":{"line":114,"loc":{"end":{"column":42,"line":114},"start":{"column":23,"line":114}},"name":"(anonymous_22)"},"23":{"line":118,"loc":{"end":{"column":32,"line":118},"start":{"column":13,"line":118}},"name":"(anonymous_23)"},"24":{"line":122,"loc":{"end":{"column":35,"line":122},"start":{"column":16,"line":122}},"name":"(anonymous_24)"},"25":{"line":127,"loc":{"end":{"column":36,"line":127},"start":{"column":17,"line":127}},"name":"(anonymous_25)"},"26":{"line":131,"loc":{"end":{"column":34,"line":131},"start":{"column":15,"line":131}},"name":"(anonymous_26)"},"27":{"line":137,"loc":{"end":{"column":44,"line":137},"start":{"column":22,"line":137}},"name":"(anonymous_27)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/course.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":72,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":133,"58":133,"59":125,"60":125,"61":91,"62":91,"63":91,"64":92,"65":92,"66":0,"67":0,"68":0,"69":21,"70":21,"71":21},"statementMap":{"1":{"end":{"column":159,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":82,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":132,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":44,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":39,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":2,"line":143},"start":{"column":0,"line":13}},"8":{"end":{"column":29,"line":17},"start":{"column":4,"line":17}},"9":{"end":{"column":29,"line":21},"start":{"column":4,"line":21}},"10":{"end":{"column":47,"line":22},"start":{"column":4,"line":22}},"11":{"end":{"column":34,"line":27},"start":{"column":4,"line":27}},"12":{"end":{"column":50,"line":28},"start":{"column":4,"line":28}},"13":{"end":{"column":29,"line":29},"start":{"column":4,"line":29}},"14":{"end":{"column":33,"line":32},"start":{"column":4,"line":32}},"15":{"end":{"column":49,"line":33},"start":{"column":4,"line":33}},"16":{"end":{"column":29,"line":34},"start":{"column":4,"line":34}},"17":{"end":{"column":37,"line":37},"start":{"column":4,"line":37}},"18":{"end":{"column":53,"line":38},"start":{"column":4,"line":38}},"19":{"end":{"column":29,"line":39},"start":{"column":4,"line":39}},"20":{"end":{"column":40,"line":42},"start":{"column":4,"line":42}},"21":{"end":{"column":52,"line":43},"start":{"column":4,"line":43}},"22":{"end":{"column":29,"line":44},"start":{"column":4,"line":44}},"23":{"end":{"column":5,"line":49},"start":{"column":4,"line":47}},"24":{"end":{"column":28,"line":48},"start":{"column":6,"line":48}},"25":{"end":{"column":36,"line":50},"start":{"column":4,"line":50}},"26":{"end":{"column":36,"line":51},"start":{"column":4,"line":51}},"27":{"end":{"column":48,"line":52},"start":{"column":4,"line":52}},"28":{"end":{"column":46,"line":55},"start":{"column":4,"line":55}},"29":{"end":{"column":22,"line":58},"start":{"column":4,"line":58}},"30":{"end":{"column":33,"line":59},"start":{"column":4,"line":59}},"31":{"end":{"column":25,"line":60},"start":{"column":4,"line":60}},"32":{"end":{"column":43,"line":61},"start":{"column":4,"line":61}},"33":{"end":{"column":11,"line":67},"start":{"column":6,"line":65}},"34":{"end":{"column":47,"line":66},"start":{"column":8,"line":66}},"35":{"end":{"column":61,"line":70},"start":{"column":6,"line":70}},"36":{"end":{"column":38,"line":73},"start":{"column":6,"line":73}},"37":{"end":{"column":64,"line":76},"start":{"column":6,"line":76}},"38":{"end":{"column":41,"line":79},"start":{"column":6,"line":79}},"39":{"end":{"column":15,"line":82},"start":{"column":6,"line":82}},"40":{"end":{"column":75,"line":83},"start":{"column":6,"line":83}},"41":{"end":{"column":21,"line":86},"start":{"column":6,"line":86}},"42":{"end":{"column":126,"line":87},"start":{"column":6,"line":87}},"43":{"end":{"column":47,"line":90},"start":{"column":6,"line":90}},"44":{"end":{"column":19,"line":93},"start":{"column":6,"line":93}},"45":{"end":{"column":7,"line":97},"start":{"column":6,"line":94}},"46":{"end":{"column":42,"line":95},"start":{"column":8,"line":95}},"47":{"end":{"column":33,"line":96},"start":{"column":8,"line":96}},"48":{"end":{"column":18,"line":98},"start":{"column":6,"line":98}},"49":{"end":{"column":25,"line":101},"start":{"column":6,"line":101}},"50":{"end":{"column":7,"line":112},"start":{"column":6,"line":102}},"51":{"end":{"column":28,"line":103},"start":{"column":8,"line":103}},"52":{"end":{"column":9,"line":108},"start":{"column":8,"line":104}},"53":{"end":{"column":11,"line":107},"start":{"column":10,"line":105}},"54":{"end":{"column":40,"line":106},"start":{"column":12,"line":106}},"55":{"end":{"column":9,"line":111},"start":{"column":8,"line":109}},"56":{"end":{"column":30,"line":110},"start":{"column":10,"line":110}},"57":{"end":{"column":15,"line":115},"start":{"column":6,"line":115}},"58":{"end":{"column":97,"line":116},"start":{"column":6,"line":116}},"59":{"end":{"column":15,"line":119},"start":{"column":6,"line":119}},"60":{"end":{"column":79,"line":120},"start":{"column":6,"line":120}},"61":{"end":{"column":33,"line":123},"start":{"column":6,"line":123}},"62":{"end":{"column":50,"line":124},"start":{"column":6,"line":124}},"63":{"end":{"column":56,"line":125},"start":{"column":6,"line":125}},"64":{"end":{"column":15,"line":128},"start":{"column":6,"line":128}},"65":{"end":{"column":104,"line":129},"start":{"column":6,"line":129}},"66":{"end":{"column":15,"line":132},"start":{"column":6,"line":132}},"67":{"end":{"column":9,"line":135},"start":{"column":6,"line":133}},"68":{"end":{"column":9,"line":140},"start":{"column":6,"line":138}},"69":{"end":{"column":45,"line":145},"start":{"column":0,"line":145}},"70":{"end":{"column":81,"line":147},"start":{"column":0,"line":147}},"71":{"end":{"column":2,"line":152},"start":{"column":0,"line":149}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"17":0,"21":0,"22":0,"27":0,"28":0,"29":0,"32":0,"33":0,"34":0,"37":0,"38":0,"39":0,"42":0,"43":0,"44":0,"47":0,"48":0,"50":0,"51":0,"52":0,"55":72,"58":0,"59":0,"60":0,"61":0,"65":0,"66":0,"70":0,"73":0,"76":0,"79":0,"82":0,"83":0,"86":0,"87":0,"90":0,"93":0,"94":0,"95":0,"96":0,"98":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"109":0,"110":0,"115":133,"116":133,"119":125,"120":125,"123":91,"124":91,"125":91,"128":92,"129":92,"132":0,"133":0,"138":0,"145":21,"147":21,"149":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/current-user.coffee":{"b":{"1":[21,0],"2":[0,21],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,558],"7":[98,55],"8":[809,335],"9":[0,417],"10":[63,495],"11":[558,162],"12":[396,162],"13":[153,405],"14":[0,21],"15":[21,0],"16":[19,104],"17":[63,0],"18":[219,0],"19":[98,55],"20":[22,76],"21":[0,55],"22":[153,0],"23":[153,459],"24":[417,173]},"branchMap":{"1":{"line":11,"locations":[{"end":{"column":113,"line":11},"start":{"column":85,"line":11}},{"end":{"column":122,"line":11},"start":{"column":116,"line":11}}],"type":"cond-expr"},"2":{"line":13,"locations":[{"end":{"column":0,"line":13},"start":{"column":0,"line":13}},{"end":{"column":0,"line":13},"start":{"column":0,"line":13}}],"type":"if"},"3":{"line":14,"locations":[{"end":{"column":2,"line":14},"start":{"column":2,"line":14}},{"end":{"column":2,"line":14},"start":{"column":2,"line":14}}],"type":"if"},"4":{"line":14,"locations":[{"end":{"column":36,"line":14},"start":{"column":6,"line":14}},{"end":{"column":56,"line":14},"start":{"column":40,"line":14}}],"type":"binary-expr"},"5":{"line":15,"locations":[{"end":{"column":4,"line":15},"start":{"column":4,"line":15}},{"end":{"column":4,"line":15},"start":{"column":4,"line":15}}],"type":"if"},"6":{"line":26,"locations":[{"end":{"column":2,"line":26},"start":{"column":2,"line":26}},{"end":{"column":2,"line":26},"start":{"column":2,"line":26}}],"type":"if"},"7":{"line":44,"locations":[{"end":{"column":55,"line":44},"start":{"column":32,"line":44}},{"end":{"column":64,"line":44},"start":{"column":58,"line":44}}],"type":"cond-expr"},"8":{"line":77,"locations":[{"end":{"column":44,"line":77},"start":{"column":11,"line":77}},{"end":{"column":82,"line":77},"start":{"column":48,"line":77}}],"type":"binary-expr"},"9":{"line":80,"locations":[{"end":{"column":4,"line":80},"start":{"column":4,"line":80}},{"end":{"column":4,"line":80},"start":{"column":4,"line":80}}],"type":"if"},"10":{"line":90,"locations":[{"end":{"column":4,"line":90},"start":{"column":4,"line":90}},{"end":{"column":4,"line":90},"start":{"column":4,"line":90}}],"type":"if"},"11":{"line":94,"locations":[{"end":{"column":57,"line":94},"start":{"column":19,"line":94}},{"end":{"column":5,"line":98},"start":{"column":62,"line":94}}],"type":"binary-expr"},"12":{"line":94,"locations":[{"end":{"column":48,"line":94},"start":{"column":36,"line":94}},{"end":{"column":57,"line":94},"start":{"column":51,"line":94}}],"type":"cond-expr"},"13":{"line":102,"locations":[{"end":{"column":4,"line":102},"start":{"column":4,"line":102}},{"end":{"column":4,"line":102},"start":{"column":4,"line":102}}],"type":"if"},"14":{"line":155,"locations":[{"end":{"column":6,"line":155},"start":{"column":6,"line":155}},{"end":{"column":6,"line":155},"start":{"column":6,"line":155}}],"type":"if"},"15":{"line":155,"locations":[{"end":{"column":24,"line":155},"start":{"column":12,"line":155}},{"end":{"column":41,"line":155},"start":{"column":28,"line":155}}],"type":"binary-expr"},"16":{"line":160,"locations":[{"end":{"column":6,"line":160},"start":{"column":6,"line":160}},{"end":{"column":6,"line":160},"start":{"column":6,"line":160}}],"type":"if"},"17":{"line":166,"locations":[{"end":{"column":6,"line":166},"start":{"column":6,"line":166}},{"end":{"column":6,"line":166},"start":{"column":6,"line":166}}],"type":"if"},"18":{"line":172,"locations":[{"end":{"column":6,"line":172},"start":{"column":6,"line":172}},{"end":{"column":6,"line":172},"start":{"column":6,"line":172}}],"type":"if"},"19":{"line":181,"locations":[{"end":{"column":6,"line":181},"start":{"column":6,"line":181}},{"end":{"column":6,"line":181},"start":{"column":6,"line":181}}],"type":"if"},"20":{"line":182,"locations":[{"end":{"column":8,"line":182},"start":{"column":8,"line":182}},{"end":{"column":8,"line":182},"start":{"column":8,"line":182}}],"type":"if"},"21":{"line":189,"locations":[{"end":{"column":8,"line":189},"start":{"column":8,"line":189}},{"end":{"column":8,"line":189},"start":{"column":8,"line":189}}],"type":"if"},"22":{"line":200,"locations":[{"end":{"column":6,"line":200},"start":{"column":6,"line":200}},{"end":{"column":6,"line":200},"start":{"column":6,"line":200}}],"type":"if"},"23":{"line":206,"locations":[{"end":{"column":103,"line":206},"start":{"column":73,"line":206}},{"end":{"column":112,"line":206},"start":{"column":106,"line":206}}],"type":"cond-expr"},"24":{"line":213,"locations":[{"end":{"column":10,"line":213},"start":{"column":10,"line":213}},{"end":{"column":10,"line":213},"start":{"column":10,"line":213}}],"type":"if"}},"code":["var CONCEPT_COACH_HELP, CSRF_Token, CourseActions, CourseListingStore, CourseStore, CurrentUserActions, CurrentUserStore, RANKS, ROUTES, TUTOR_HELP, _, flux, getRankByRole, ref, ref1;","","_ = require('underscore');","","flux = require('flux-react');","","CourseListingStore = require('./course-listing').CourseListingStore;","","ref = require('./course'), CourseActions = ref.CourseActions, CourseStore = ref.CourseStore;","","CSRF_Token = (ref1 = document.head.querySelector('meta[name=csrf-token]')) != null ? ref1.getAttribute(\"content\") : void 0;","","if (!CSRF_Token) {","  if (typeof console !== \"undefined\" && console !== null) {","    if (typeof console.warn === \"function\") {","      console.warn(\"CSRF token was not found, proceeding without CSRF protection\");","    }","  }","}","","RANKS = ['guest', 'student', 'teacher', 'admin'];","","getRankByRole = function(roleType) {","  var rank;","  rank = RANKS.indexOf(roleType);","  if (rank < 0) {","    console.warn(\"Warning: \" + roleType + \" does not exist.  Rank of -1 assigned.  Check session status.\");","  }","  return rank;","};","","ROUTES = {","  dashboard: {","    label: 'Dashboard',","    roles: {","      teacher: 'taskplans',","      student: 'viewStudentDashboard',","      \"default\": 'app'","    }","  },","  guide: {","    label: 'Performance Forecast',","    allowedForCourse: function(course) {","      return !(course != null ? course.is_concept_coach : void 0) === true;","    },","    roles: {","      student: 'viewPerformanceForecast',","      teacher: 'viewTeacherPerformanceForecast'","    }","  },","  scores: {","    label: 'Student Scores',","    roles: {","      teacher: 'viewScores'","    }","  },","  course: {","    label: 'Course Roster',","    roles: {","      teacher: 'courseSettings'","    }","  }","};","","CurrentUserActions = flux.createActions(['setToken', 'load', 'loaded', 'logout', 'reset']);","","TUTOR_HELP = 'https://openstaxtutor.zendesk.com';","","CONCEPT_COACH_HELP = 'https://openstaxcc.zendesk.com/hc/en-us';","","CurrentUserStore = flux.createStore({","  actions: [CurrentUserActions.setToken, CurrentUserActions.load, CurrentUserActions.loaded, CurrentUserActions.reset],","  _user: {},","  _token: null,","  _viewingCourseId: null,","  _getRouteByRole: function(routeType, menuRole) {","    return ROUTES[routeType].roles[menuRole] || ROUTES[routeType].roles[\"default\"];","  },","  _getParamsForRoute: function(courseId, routeType, menuRole) {","    if (_.isFunction(ROUTES[routeType].params)) {","      return ROUTES[routeType].params(courseId, menuRole);","    } else {","      return {","        courseId: courseId","      };","    }","  },","  _getCourseRole: function(courseId, silent) {","    var course, courseRoles, role;","    if (silent == null) {","      silent = true;","    }","    course = CourseStore.get(courseId);","    courseRoles = (course != null ? course.roles : void 0) || [","      {","        type: 'guest'","      }","    ];","    role = _.chain(courseRoles).pluck('type').sortBy(function(roleType) {","      return -1 * getRankByRole(roleType);","    }).first().value();","    if (!silent) {","      this._setViewingCourse(courseId);","    }","    return role;","  },","  _setViewingCourse: function(courseId) {","    return this._viewingCourseId = courseId;","  },","  _unsetViewingCourse: function() {","    return this._viewingCourseId = null;","  },","  setToken: function(_token) {","    this._token = _token;","  },","  load: function() {","    return this._loading = true;","  },","  loaded: function(results) {","    this._user = results;","    this._loaded = true;","    this._loading = false;","    return this.emitChange();","  },","  reset: function() {","    this._token = null;","    this._user.name = 'Guest';","    this._user.profile_url = null;","    this._viewingCourseId = null;","    return this.emitChange();","  },","  exports: {","    getToken: function() {","      return this._token;","    },","    getCSRFToken: function() {","      return CSRF_Token;","    },","    getName: function() {","      return this._user.name;","    },","    isAdmin: function() {","      return this._user.is_admin;","    },","    isContentAnalyst: function() {","      return this._user.is_content_analyst;","    },","    isCustomerService: function() {","      return this._user.is_customer_service;","    },","    getProfileUrl: function() {","      return this._user.profile_url;","    },","    ensureLoaded: function() {","      if (!(this._loaded || this._loading)) {","        return CurrentUserActions.load();","      }","    },","    getCourseRole: function(courseId, silent) {","      if (silent == null) {","        silent = true;","      }","      return this._getCourseRole(courseId, silent);","    },","    getViewingCourseRole: function() {","      if (this._viewingCourseId != null) {","        return this._getCourseRole(this._viewingCourseId);","      }","    },","    getDashboardRoute: function(courseId, silent) {","      var menuRole;","      if (silent == null) {","        silent = true;","      }","      menuRole = this._getCourseRole(courseId, silent);","      return this._getRouteByRole('dashboard', menuRole);","    },","    getHelpLink: function(courseId) {","      var course, courses;","      course = CourseStore.get(courseId);","      if (course) {","        if (course.is_concept_coach) {","          return CONCEPT_COACH_HELP;","        } else {","          return TUTOR_HELP;","        }","      } else {","        courses = CourseListingStore.allCourses();","        if (_.all(courses, function(course) {","          return !course.is_concept_coach;","        })) {","          return TUTOR_HELP;","        } else {","          return CONCEPT_COACH_HELP;","        }","      }","    },","    getCourseMenuRoutes: function(courseId, silent) {","      var course, menuRole, routes, validRoutes;","      if (silent == null) {","        silent = false;","      }","      course = CourseStore.get(courseId);","      menuRole = this._getCourseRole(courseId, silent);","      validRoutes = _.pick(ROUTES, function(route) {","        return false !== (typeof route.allowedForCourse === \"function\" ? route.allowedForCourse(course) : void 0);","      });","      routes = _.keys(validRoutes);","      return _.chain(routes).map((function(_this) {","        return function(routeType) {","          var routeName;","          routeName = _this._getRouteByRole(routeType, menuRole);","          if (routeName != null) {","            return {","              name: routeName,","              params: _this._getParamsForRoute(courseId, routeType, menuRole),","              label: ROUTES[routeType].label","            };","          }","        };","      })(this)).compact().value();","    }","  }","});","","module.exports = {","  CurrentUserActions: CurrentUserActions,","  CurrentUserStore: CurrentUserStore","};",""],"f":{"1":558,"2":153,"3":809,"4":417,"5":558,"6":558,"7":153,"8":0,"9":0,"10":0,"11":21,"12":0,"13":116,"14":137,"15":153,"16":153,"17":153,"18":153,"19":348,"20":21,"21":123,"22":63,"23":219,"24":153,"25":110,"26":153,"27":612,"28":153,"29":590},"fnMap":{"1":{"line":23,"loc":{"end":{"column":35,"line":23},"start":{"column":16,"line":23}},"name":"(anonymous_1)"},"2":{"line":43,"loc":{"end":{"column":39,"line":43},"start":{"column":22,"line":43}},"name":"(anonymous_2)"},"3":{"line":76,"loc":{"end":{"column":49,"line":76},"start":{"column":19,"line":76}},"name":"(anonymous_3)"},"4":{"line":79,"loc":{"end":{"column":62,"line":79},"start":{"column":22,"line":79}},"name":"(anonymous_4)"},"5":{"line":88,"loc":{"end":{"column":45,"line":88},"start":{"column":18,"line":88}},"name":"(anonymous_5)"},"6":{"line":99,"loc":{"end":{"column":72,"line":99},"start":{"column":53,"line":99}},"name":"(anonymous_6)"},"7":{"line":107,"loc":{"end":{"column":40,"line":107},"start":{"column":21,"line":107}},"name":"(anonymous_7)"},"8":{"line":110,"loc":{"end":{"column":34,"line":110},"start":{"column":23,"line":110}},"name":"(anonymous_8)"},"9":{"line":113,"loc":{"end":{"column":29,"line":113},"start":{"column":12,"line":113}},"name":"(anonymous_9)"},"10":{"line":116,"loc":{"end":{"column":19,"line":116},"start":{"column":8,"line":116}},"name":"(anonymous_10)"},"11":{"line":119,"loc":{"end":{"column":28,"line":119},"start":{"column":10,"line":119}},"name":"(anonymous_11)"},"12":{"line":125,"loc":{"end":{"column":20,"line":125},"start":{"column":9,"line":125}},"name":"(anonymous_12)"},"13":{"line":133,"loc":{"end":{"column":25,"line":133},"start":{"column":14,"line":133}},"name":"(anonymous_13)"},"14":{"line":136,"loc":{"end":{"column":29,"line":136},"start":{"column":18,"line":136}},"name":"(anonymous_14)"},"15":{"line":139,"loc":{"end":{"column":24,"line":139},"start":{"column":13,"line":139}},"name":"(anonymous_15)"},"16":{"line":142,"loc":{"end":{"column":24,"line":142},"start":{"column":13,"line":142}},"name":"(anonymous_16)"},"17":{"line":145,"loc":{"end":{"column":33,"line":145},"start":{"column":22,"line":145}},"name":"(anonymous_17)"},"18":{"line":148,"loc":{"end":{"column":34,"line":148},"start":{"column":23,"line":148}},"name":"(anonymous_18)"},"19":{"line":151,"loc":{"end":{"column":30,"line":151},"start":{"column":19,"line":151}},"name":"(anonymous_19)"},"20":{"line":154,"loc":{"end":{"column":29,"line":154},"start":{"column":18,"line":154}},"name":"(anonymous_20)"},"21":{"line":159,"loc":{"end":{"column":46,"line":159},"start":{"column":19,"line":159}},"name":"(anonymous_21)"},"22":{"line":165,"loc":{"end":{"column":37,"line":165},"start":{"column":26,"line":165}},"name":"(anonymous_22)"},"23":{"line":170,"loc":{"end":{"column":50,"line":170},"start":{"column":23,"line":170}},"name":"(anonymous_23)"},"24":{"line":178,"loc":{"end":{"column":36,"line":178},"start":{"column":17,"line":178}},"name":"(anonymous_24)"},"25":{"line":189,"loc":{"end":{"column":44,"line":189},"start":{"column":27,"line":189}},"name":"(anonymous_25)"},"26":{"line":198,"loc":{"end":{"column":52,"line":198},"start":{"column":25,"line":198}},"name":"(anonymous_26)"},"27":{"line":205,"loc":{"end":{"column":51,"line":205},"start":{"column":35,"line":205}},"name":"(anonymous_27)"},"28":{"line":209,"loc":{"end":{"column":50,"line":209},"start":{"column":34,"line":209}},"name":"(anonymous_28)"},"29":{"line":210,"loc":{"end":{"column":35,"line":210},"start":{"column":15,"line":210}},"name":"(anonymous_29)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/current-user.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":21,"12":21,"13":558,"14":558,"15":558,"16":0,"17":558,"18":21,"19":153,"20":21,"21":21,"22":21,"23":21,"24":809,"25":417,"26":0,"27":417,"28":558,"29":558,"30":63,"31":558,"32":558,"33":558,"34":558,"35":558,"36":153,"37":558,"38":153,"39":0,"40":0,"41":0,"42":21,"43":21,"44":21,"45":21,"46":0,"47":0,"48":0,"49":0,"50":0,"51":116,"52":137,"53":153,"54":153,"55":153,"56":153,"57":348,"58":21,"59":0,"60":123,"61":19,"62":123,"63":63,"64":63,"65":219,"66":219,"67":219,"68":219,"69":219,"70":153,"71":153,"72":153,"73":98,"74":22,"75":76,"76":55,"77":55,"78":110,"79":0,"80":55,"81":153,"82":153,"83":153,"84":153,"85":153,"86":153,"87":612,"88":153,"89":153,"90":153,"91":590,"92":590,"93":590,"94":417,"95":21},"statementMap":{"1":{"end":{"column":183,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":29,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":68,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":92,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":123,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":1,"line":19},"start":{"column":0,"line":13}},"8":{"end":{"column":3,"line":18},"start":{"column":2,"line":14}},"9":{"end":{"column":5,"line":17},"start":{"column":4,"line":15}},"10":{"end":{"column":83,"line":16},"start":{"column":6,"line":16}},"11":{"end":{"column":49,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":2,"line":30},"start":{"column":0,"line":23}},"13":{"end":{"column":11,"line":24},"start":{"column":2,"line":24}},"14":{"end":{"column":33,"line":25},"start":{"column":2,"line":25}},"15":{"end":{"column":3,"line":28},"start":{"column":2,"line":26}},"16":{"end":{"column":107,"line":27},"start":{"column":4,"line":27}},"17":{"end":{"column":14,"line":29},"start":{"column":2,"line":29}},"18":{"end":{"column":2,"line":63},"start":{"column":0,"line":32}},"19":{"end":{"column":75,"line":44},"start":{"column":6,"line":44}},"20":{"end":{"column":91,"line":65},"start":{"column":0,"line":65}},"21":{"end":{"column":49,"line":67},"start":{"column":0,"line":67}},"22":{"end":{"column":63,"line":69},"start":{"column":0,"line":69}},"23":{"end":{"column":3,"line":224},"start":{"column":0,"line":71}},"24":{"end":{"column":83,"line":77},"start":{"column":4,"line":77}},"25":{"end":{"column":5,"line":86},"start":{"column":4,"line":80}},"26":{"end":{"column":58,"line":81},"start":{"column":6,"line":81}},"27":{"end":{"column":8,"line":85},"start":{"column":6,"line":83}},"28":{"end":{"column":34,"line":89},"start":{"column":4,"line":89}},"29":{"end":{"column":5,"line":92},"start":{"column":4,"line":90}},"30":{"end":{"column":20,"line":91},"start":{"column":6,"line":91}},"31":{"end":{"column":39,"line":93},"start":{"column":4,"line":93}},"32":{"end":{"column":6,"line":98},"start":{"column":4,"line":94}},"33":{"end":{"column":23,"line":101},"start":{"column":4,"line":99}},"34":{"end":{"column":42,"line":100},"start":{"column":6,"line":100}},"35":{"end":{"column":5,"line":104},"start":{"column":4,"line":102}},"36":{"end":{"column":39,"line":103},"start":{"column":6,"line":103}},"37":{"end":{"column":16,"line":105},"start":{"column":4,"line":105}},"38":{"end":{"column":44,"line":108},"start":{"column":4,"line":108}},"39":{"end":{"column":40,"line":111},"start":{"column":4,"line":111}},"40":{"end":{"column":25,"line":114},"start":{"column":4,"line":114}},"41":{"end":{"column":32,"line":117},"start":{"column":4,"line":117}},"42":{"end":{"column":25,"line":120},"start":{"column":4,"line":120}},"43":{"end":{"column":24,"line":121},"start":{"column":4,"line":121}},"44":{"end":{"column":26,"line":122},"start":{"column":4,"line":122}},"45":{"end":{"column":29,"line":123},"start":{"column":4,"line":123}},"46":{"end":{"column":23,"line":126},"start":{"column":4,"line":126}},"47":{"end":{"column":30,"line":127},"start":{"column":4,"line":127}},"48":{"end":{"column":34,"line":128},"start":{"column":4,"line":128}},"49":{"end":{"column":33,"line":129},"start":{"column":4,"line":129}},"50":{"end":{"column":29,"line":130},"start":{"column":4,"line":130}},"51":{"end":{"column":25,"line":134},"start":{"column":6,"line":134}},"52":{"end":{"column":24,"line":137},"start":{"column":6,"line":137}},"53":{"end":{"column":29,"line":140},"start":{"column":6,"line":140}},"54":{"end":{"column":33,"line":143},"start":{"column":6,"line":143}},"55":{"end":{"column":43,"line":146},"start":{"column":6,"line":146}},"56":{"end":{"column":44,"line":149},"start":{"column":6,"line":149}},"57":{"end":{"column":36,"line":152},"start":{"column":6,"line":152}},"58":{"end":{"column":7,"line":157},"start":{"column":6,"line":155}},"59":{"end":{"column":41,"line":156},"start":{"column":8,"line":156}},"60":{"end":{"column":7,"line":162},"start":{"column":6,"line":160}},"61":{"end":{"column":22,"line":161},"start":{"column":8,"line":161}},"62":{"end":{"column":51,"line":163},"start":{"column":6,"line":163}},"63":{"end":{"column":7,"line":168},"start":{"column":6,"line":166}},"64":{"end":{"column":58,"line":167},"start":{"column":8,"line":167}},"65":{"end":{"column":19,"line":171},"start":{"column":6,"line":171}},"66":{"end":{"column":7,"line":174},"start":{"column":6,"line":172}},"67":{"end":{"column":22,"line":173},"start":{"column":8,"line":173}},"68":{"end":{"column":55,"line":175},"start":{"column":6,"line":175}},"69":{"end":{"column":57,"line":176},"start":{"column":6,"line":176}},"70":{"end":{"column":26,"line":179},"start":{"column":6,"line":179}},"71":{"end":{"column":41,"line":180},"start":{"column":6,"line":180}},"72":{"end":{"column":7,"line":196},"start":{"column":6,"line":181}},"73":{"end":{"column":9,"line":186},"start":{"column":8,"line":182}},"74":{"end":{"column":36,"line":183},"start":{"column":10,"line":183}},"75":{"end":{"column":28,"line":185},"start":{"column":10,"line":185}},"76":{"end":{"column":50,"line":188},"start":{"column":8,"line":188}},"77":{"end":{"column":9,"line":195},"start":{"column":8,"line":189}},"78":{"end":{"column":42,"line":190},"start":{"column":10,"line":190}},"79":{"end":{"column":28,"line":192},"start":{"column":10,"line":192}},"80":{"end":{"column":36,"line":194},"start":{"column":10,"line":194}},"81":{"end":{"column":48,"line":199},"start":{"column":6,"line":199}},"82":{"end":{"column":7,"line":202},"start":{"column":6,"line":200}},"83":{"end":{"column":23,"line":201},"start":{"column":8,"line":201}},"84":{"end":{"column":41,"line":203},"start":{"column":6,"line":203}},"85":{"end":{"column":55,"line":204},"start":{"column":6,"line":204}},"86":{"end":{"column":9,"line":207},"start":{"column":6,"line":205}},"87":{"end":{"column":114,"line":206},"start":{"column":8,"line":206}},"88":{"end":{"column":35,"line":208},"start":{"column":6,"line":208}},"89":{"end":{"column":34,"line":221},"start":{"column":6,"line":209}},"90":{"end":{"column":10,"line":220},"start":{"column":8,"line":210}},"91":{"end":{"column":24,"line":211},"start":{"column":10,"line":211}},"92":{"end":{"column":65,"line":212},"start":{"column":10,"line":212}},"93":{"end":{"column":11,"line":219},"start":{"column":10,"line":213}},"94":{"end":{"column":14,"line":218},"start":{"column":12,"line":214}},"95":{"end":{"column":2,"line":229},"start":{"column":0,"line":226}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"14":0,"15":0,"16":0,"21":21,"23":21,"24":558,"25":558,"26":558,"27":0,"29":558,"32":21,"44":153,"65":21,"67":21,"69":21,"71":21,"77":809,"80":417,"81":0,"83":417,"89":558,"90":558,"91":63,"93":558,"94":558,"99":558,"100":558,"102":558,"103":153,"105":558,"108":153,"111":0,"114":0,"117":0,"120":21,"121":21,"122":21,"123":21,"126":0,"127":0,"128":0,"129":0,"130":0,"134":116,"137":137,"140":153,"143":153,"146":153,"149":153,"152":348,"155":21,"156":0,"160":123,"161":19,"163":123,"166":63,"167":63,"171":219,"172":219,"173":219,"175":219,"176":219,"179":153,"180":153,"181":153,"182":98,"183":22,"185":76,"188":55,"189":55,"190":110,"192":0,"194":55,"199":153,"200":153,"201":153,"203":153,"204":153,"205":153,"206":612,"208":153,"209":153,"210":153,"211":590,"212":590,"213":590,"214":417,"226":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/ecosystems.coffee":{"b":{},"branchMap":{},"code":["var EcosystemsActions, EcosystemsStore, FAILED, LOADING, _, flux;","","_ = require('underscore');","","flux = require('flux-react');","","LOADING = 'loading';","","FAILED = 'failed';","","EcosystemsActions = flux.createActions(['load', 'loaded', 'FAILED']);","","EcosystemsStore = flux.createStore({","  actions: _.values(EcosystemsActions),","  _asyncStatus: null,","  load: function() {","    this._asyncStatus = LOADING;","    return this.emit('load');","  },","  loaded: function(ecosystems) {","    this._ecosystems = ecosystems;","    return this.emit('loaded');","  },","  FAILED: function() {","    this._asyncStatus = FAILED;","    return this.emit('failed');","  },","  exports: {","    isLoaded: function() {","      return !_.isEmpty(this._ecosystems);","    },","    isLoading: function() {","      return this._asyncStatus === LOADING;","    },","    isFailed: function() {","      return this._asyncStatus === FAILED;","    },","    allBooks: function() {","      return _.map(this._ecosystems, function(ecosystem) {","        return _.extend(_.first(ecosystem.books), {","          ecosystemId: \"\" + ecosystem.id,","          ecosystemComments: ecosystem.comments","        });","      });","    },","    first: function() {","      return _.first(this._ecosystems);","    },","    getBook: function(ecosystemId) {","      return _.first(_.findWhere(this._ecosystems, {","        id: parseInt(ecosystemId, 10)","      }).books);","    }","  }","});","","module.exports = {","  EcosystemsActions: EcosystemsActions,","  EcosystemsStore: EcosystemsStore","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"line":16,"loc":{"end":{"column":19,"line":16},"start":{"column":8,"line":16}},"name":"(anonymous_1)"},"2":{"line":20,"loc":{"end":{"column":31,"line":20},"start":{"column":10,"line":20}},"name":"(anonymous_2)"},"3":{"line":24,"loc":{"end":{"column":21,"line":24},"start":{"column":10,"line":24}},"name":"(anonymous_3)"},"4":{"line":29,"loc":{"end":{"column":25,"line":29},"start":{"column":14,"line":29}},"name":"(anonymous_4)"},"5":{"line":32,"loc":{"end":{"column":26,"line":32},"start":{"column":15,"line":32}},"name":"(anonymous_5)"},"6":{"line":35,"loc":{"end":{"column":25,"line":35},"start":{"column":14,"line":35}},"name":"(anonymous_6)"},"7":{"line":38,"loc":{"end":{"column":25,"line":38},"start":{"column":14,"line":38}},"name":"(anonymous_7)"},"8":{"line":39,"loc":{"end":{"column":57,"line":39},"start":{"column":37,"line":39}},"name":"(anonymous_8)"},"9":{"line":46,"loc":{"end":{"column":22,"line":46},"start":{"column":11,"line":46}},"name":"(anonymous_9)"},"10":{"line":49,"loc":{"end":{"column":35,"line":49},"start":{"column":13,"line":49}},"name":"(anonymous_10)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/ecosystems.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":21},"statementMap":{"1":{"end":{"column":65,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":29,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":20,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":18,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":69,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":55},"start":{"column":0,"line":13}},"8":{"end":{"column":32,"line":17},"start":{"column":4,"line":17}},"9":{"end":{"column":29,"line":18},"start":{"column":4,"line":18}},"10":{"end":{"column":34,"line":21},"start":{"column":4,"line":21}},"11":{"end":{"column":31,"line":22},"start":{"column":4,"line":22}},"12":{"end":{"column":31,"line":25},"start":{"column":4,"line":25}},"13":{"end":{"column":31,"line":26},"start":{"column":4,"line":26}},"14":{"end":{"column":42,"line":30},"start":{"column":6,"line":30}},"15":{"end":{"column":43,"line":33},"start":{"column":6,"line":33}},"16":{"end":{"column":42,"line":36},"start":{"column":6,"line":36}},"17":{"end":{"column":9,"line":44},"start":{"column":6,"line":39}},"18":{"end":{"column":11,"line":43},"start":{"column":8,"line":40}},"19":{"end":{"column":39,"line":47},"start":{"column":6,"line":47}},"20":{"end":{"column":16,"line":52},"start":{"column":6,"line":50}},"21":{"end":{"column":2,"line":60},"start":{"column":0,"line":57}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"17":0,"18":0,"21":0,"22":0,"25":0,"26":0,"30":0,"33":0,"36":0,"39":0,"40":0,"47":0,"50":0,"57":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/exercise.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"branchMap":{"1":{"line":29,"locations":[{"end":{"column":4,"line":29},"start":{"column":4,"line":29}},{"end":{"column":4,"line":29},"start":{"column":4,"line":29}}],"type":"if"},"2":{"line":31,"locations":[{"end":{"column":11,"line":31},"start":{"column":11,"line":31}},{"end":{"column":11,"line":31},"start":{"column":11,"line":31}}],"type":"if"},"3":{"line":52,"locations":[{"end":{"column":4,"line":52},"start":{"column":4,"line":52}},{"end":{"column":4,"line":52},"start":{"column":4,"line":52}}],"type":"if"},"4":{"line":52,"locations":[{"end":{"column":28,"line":52},"start":{"column":8,"line":52}},{"end":{"column":56,"line":52},"start":{"column":32,"line":52}}],"type":"binary-expr"},"5":{"line":71,"locations":[{"end":{"column":48,"line":71},"start":{"column":13,"line":71}},{"end":{"column":10,"line":73},"start":{"column":52,"line":71}}],"type":"binary-expr"},"6":{"line":82,"locations":[{"end":{"column":48,"line":82},"start":{"column":29,"line":82}},{"end":{"column":57,"line":82},"start":{"column":51,"line":82}}],"type":"cond-expr"},"7":{"line":98,"locations":[{"end":{"column":66,"line":98},"start":{"column":42,"line":98}},{"end":{"column":75,"line":98},"start":{"column":69,"line":98}}],"type":"cond-expr"},"8":{"line":106,"locations":[{"end":{"column":31,"line":106},"start":{"column":16,"line":106}},{"end":{"column":41,"line":106},"start":{"column":35,"line":106}}],"type":"binary-expr"},"9":{"line":138,"locations":[{"end":{"column":36,"line":138},"start":{"column":13,"line":138}},{"end":{"column":42,"line":138},"start":{"column":40,"line":138}}],"type":"binary-expr"}},"code":["var EXERCISE_TAGS, ExerciseConfig, TocStore, _, actions, flux, getImportantTags, getTagName, makeSimpleStore, ref, store;","","flux = require('flux-react');","","_ = require('underscore');","","TocStore = require('./toc').TocStore;","","makeSimpleStore = require('./helpers').makeSimpleStore;","","EXERCISE_TAGS = {","  TEKS: 'teks',","  LO: ['lo', 'aplo'],","  GENERIC: ['blooms', 'dok', 'length']","};","","getTagName = function(tag) {","  return [tag.name, tag.description].join(' ');","};","","getImportantTags = function(tags) {","  var obj;","  obj = {","    lo: \"\",","    section: \"\",","    tagString: []","  };","  return _.reduce(_.sortBy(tags, 'name'), function(memo, tag) {","    if (_.include(EXERCISE_TAGS.GENERIC, tag.type)) {","      memo.tagString.push(tag.name);","    } else if (_.include(EXERCISE_TAGS.LO, tag.type)) {","      memo.lo = getTagName(tag);","      memo.section = tag.chapter_section;","    }","    return memo;","  }, obj);","};","","ExerciseConfig = {","  _exercises: [],","  FAILED: function() {","    return console.error('BUG: could not load exercises');","  },","  reset: function() {","    this._exercises = [];","    return this._exerciseCache = [];","  },","  load: function(courseId, pageIds) {},","  loaded: function(obj, courseId, pageIds) {","    var _exerciseCache, key;","    key = pageIds.toString();","    if (this._exercises[key] && this._HACK_DO_NOT_RELOAD) {","      return;","    }","    this._exercises[key] = obj.items;","    _exerciseCache = [];","    _.each(obj.items, function(exercise) {","      return _exerciseCache[exercise.id] = exercise;","    });","    this._exerciseCache = _exerciseCache;","    return this.emitChange();","  },","  HACK_DO_NOT_RELOAD: function(bool) {","    return this._HACK_DO_NOT_RELOAD = bool;","  },","  exports: {","    isLoaded: function(pageIds) {","      return !!this._exercises[pageIds.toString()];","    },","    get: function(pageIds) {","      return this._exercises[pageIds.toString()] || (function() {","        throw new Error('BUG: Invalid page ids');","      })();","    },","    getGroupedExercises: function(pageIds) {","      var byChapterSection, exercises;","      byChapterSection = function(exercise) {","        var tag;","        tag = _.find(exercise.tags, function(t) {","          return _.include(EXERCISE_TAGS.LO, t.type);","        });","        return tag != null ? tag.chapter_section : void 0;","      };","      exercises = _.sortBy(this._exercises[pageIds.toString()], byChapterSection);","      return _.groupBy(exercises, byChapterSection);","    },","    getExerciseById: function(exercise_id) {","      return this._exerciseCache[exercise_id];","    },","    getTeksString: function(exercise_id) {","      var tags, teksTags;","      tags = this._exerciseCache[exercise_id].tags;","      teksTags = _.where(tags, {","        type: EXERCISE_TAGS.TEKS","      });","      return _.map(teksTags, function(tag) {","        var ref;","        return (ref = tag.name) != null ? ref.replace(/[()]/g, '') : void 0;","      }).join(\" / \");","    },","    getContent: function(exercise_id) {","      return this._exerciseCache[exercise_id].content.questions[0].stem_html;","    },","    getTagContent: function(tag) {","      var content, isLO;","      content = getTagName(tag) || tag.id;","      isLO = _.include(EXERCISE_TAGS.LO, tag.type);","      return {","        content: content,","        isLO: isLO","      };","    },","    getTagStrings: function(exercise_id) {","      var tags;","      tags = this._exerciseCache[exercise_id].tags;","      return getImportantTags(tags);","    },","    removeTopicExercises: function(exercise_ids, topic_id) {","      var cache, topic_chapter_section;","      cache = this._exerciseCache;","      topic_chapter_section = TocStore.getChapterSection(topic_id);","      return _.reject(exercise_ids, function(exercise_id) {","        var exercise, section;","        exercise = cache[exercise_id];","        section = getImportantTags(exercise.tags).section;","        return section.toString() === topic_chapter_section.toString();","      });","    },","    getPagePoolTypes: function(pageId) {","      var types;","      types = _.unique(_.flatten(_.pluck(this._exercises[pageId], 'pool_types')));","      return _.without(types, 'all_exercises').sort();","    },","    poolTypes: function(exercise) {","      return _.without(exercise.pool_types, 'all_exercises');","    },","    allForPage: function(pageId) {","      return this._exercises[pageId] || [];","    }","  }","};","","ref = makeSimpleStore(ExerciseConfig), actions = ref.actions, store = ref.store;","","module.exports = {","  ExerciseActions: actions,","  ExerciseStore: store","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":10,"23":0,"24":0,"25":0,"26":0},"fnMap":{"1":{"line":17,"loc":{"end":{"column":27,"line":17},"start":{"column":13,"line":17}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":34,"line":21},"start":{"column":19,"line":21}},"name":"(anonymous_2)"},"3":{"line":28,"loc":{"end":{"column":62,"line":28},"start":{"column":42,"line":28}},"name":"(anonymous_3)"},"4":{"line":41,"loc":{"end":{"column":21,"line":41},"start":{"column":10,"line":41}},"name":"(anonymous_4)"},"5":{"line":44,"loc":{"end":{"column":20,"line":44},"start":{"column":9,"line":44}},"name":"(anonymous_5)"},"6":{"line":48,"loc":{"end":{"column":36,"line":48},"start":{"column":8,"line":48}},"name":"(anonymous_6)"},"7":{"line":49,"loc":{"end":{"column":43,"line":49},"start":{"column":10,"line":49}},"name":"(anonymous_7)"},"8":{"line":57,"loc":{"end":{"column":41,"line":57},"start":{"column":22,"line":57}},"name":"(anonymous_8)"},"9":{"line":63,"loc":{"end":{"column":37,"line":63},"start":{"column":22,"line":63}},"name":"(anonymous_9)"},"10":{"line":67,"loc":{"end":{"column":32,"line":67},"start":{"column":14,"line":67}},"name":"(anonymous_10)"},"11":{"line":70,"loc":{"end":{"column":27,"line":70},"start":{"column":9,"line":70}},"name":"(anonymous_11)"},"12":{"line":71,"loc":{"end":{"column":64,"line":71},"start":{"column":53,"line":71}},"name":"(anonymous_12)"},"13":{"line":75,"loc":{"end":{"column":43,"line":75},"start":{"column":25,"line":75}},"name":"(anonymous_13)"},"14":{"line":77,"loc":{"end":{"column":44,"line":77},"start":{"column":25,"line":77}},"name":"(anonymous_14)"},"15":{"line":79,"loc":{"end":{"column":48,"line":79},"start":{"column":36,"line":79}},"name":"(anonymous_15)"},"16":{"line":87,"loc":{"end":{"column":43,"line":87},"start":{"column":21,"line":87}},"name":"(anonymous_16)"},"17":{"line":90,"loc":{"end":{"column":41,"line":90},"start":{"column":19,"line":90}},"name":"(anonymous_17)"},"18":{"line":96,"loc":{"end":{"column":43,"line":96},"start":{"column":29,"line":96}},"name":"(anonymous_18)"},"19":{"line":101,"loc":{"end":{"column":38,"line":101},"start":{"column":16,"line":101}},"name":"(anonymous_19)"},"20":{"line":104,"loc":{"end":{"column":33,"line":104},"start":{"column":19,"line":104}},"name":"(anonymous_20)"},"21":{"line":113,"loc":{"end":{"column":41,"line":113},"start":{"column":19,"line":113}},"name":"(anonymous_21)"},"22":{"line":118,"loc":{"end":{"column":59,"line":118},"start":{"column":26,"line":118}},"name":"(anonymous_22)"},"23":{"line":122,"loc":{"end":{"column":58,"line":122},"start":{"column":36,"line":122}},"name":"(anonymous_23)"},"24":{"line":129,"loc":{"end":{"column":39,"line":129},"start":{"column":22,"line":129}},"name":"(anonymous_24)"},"25":{"line":134,"loc":{"end":{"column":34,"line":134},"start":{"column":15,"line":134}},"name":"(anonymous_25)"},"26":{"line":137,"loc":{"end":{"column":33,"line":137},"start":{"column":16,"line":137}},"name":"(anonymous_26)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/exercise.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":21,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":21,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":10,"61":10,"62":10,"63":10,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":21,"74":21},"statementMap":{"1":{"end":{"column":121,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":29,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":37,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":55,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":15},"start":{"column":0,"line":11}},"7":{"end":{"column":2,"line":19},"start":{"column":0,"line":17}},"8":{"end":{"column":47,"line":18},"start":{"column":2,"line":18}},"9":{"end":{"column":2,"line":37},"start":{"column":0,"line":21}},"10":{"end":{"column":10,"line":22},"start":{"column":2,"line":22}},"11":{"end":{"column":4,"line":27},"start":{"column":2,"line":23}},"12":{"end":{"column":10,"line":36},"start":{"column":2,"line":28}},"13":{"end":{"column":5,"line":34},"start":{"column":4,"line":29}},"14":{"end":{"column":36,"line":30},"start":{"column":6,"line":30}},"15":{"end":{"column":5,"line":34},"start":{"column":11,"line":31}},"16":{"end":{"column":32,"line":32},"start":{"column":6,"line":32}},"17":{"end":{"column":41,"line":33},"start":{"column":6,"line":33}},"18":{"end":{"column":16,"line":35},"start":{"column":4,"line":35}},"19":{"end":{"column":2,"line":141},"start":{"column":0,"line":39}},"20":{"end":{"column":58,"line":42},"start":{"column":4,"line":42}},"21":{"end":{"column":25,"line":45},"start":{"column":4,"line":45}},"22":{"end":{"column":36,"line":46},"start":{"column":4,"line":46}},"23":{"end":{"column":28,"line":50},"start":{"column":4,"line":50}},"24":{"end":{"column":29,"line":51},"start":{"column":4,"line":51}},"25":{"end":{"column":5,"line":54},"start":{"column":4,"line":52}},"26":{"end":{"column":13,"line":53},"start":{"column":6,"line":53}},"27":{"end":{"column":37,"line":55},"start":{"column":4,"line":55}},"28":{"end":{"column":24,"line":56},"start":{"column":4,"line":56}},"29":{"end":{"column":7,"line":59},"start":{"column":4,"line":57}},"30":{"end":{"column":52,"line":58},"start":{"column":6,"line":58}},"31":{"end":{"column":41,"line":60},"start":{"column":4,"line":60}},"32":{"end":{"column":29,"line":61},"start":{"column":4,"line":61}},"33":{"end":{"column":43,"line":64},"start":{"column":4,"line":64}},"34":{"end":{"column":51,"line":68},"start":{"column":6,"line":68}},"35":{"end":{"column":11,"line":73},"start":{"column":6,"line":71}},"36":{"end":{"column":49,"line":72},"start":{"column":8,"line":72}},"37":{"end":{"column":38,"line":76},"start":{"column":6,"line":76}},"38":{"end":{"column":8,"line":83},"start":{"column":6,"line":77}},"39":{"end":{"column":16,"line":78},"start":{"column":8,"line":78}},"40":{"end":{"column":11,"line":81},"start":{"column":8,"line":79}},"41":{"end":{"column":53,"line":80},"start":{"column":10,"line":80}},"42":{"end":{"column":58,"line":82},"start":{"column":8,"line":82}},"43":{"end":{"column":82,"line":84},"start":{"column":6,"line":84}},"44":{"end":{"column":52,"line":85},"start":{"column":6,"line":85}},"45":{"end":{"column":46,"line":88},"start":{"column":6,"line":88}},"46":{"end":{"column":25,"line":91},"start":{"column":6,"line":91}},"47":{"end":{"column":51,"line":92},"start":{"column":6,"line":92}},"48":{"end":{"column":9,"line":95},"start":{"column":6,"line":93}},"49":{"end":{"column":21,"line":99},"start":{"column":6,"line":96}},"50":{"end":{"column":16,"line":97},"start":{"column":8,"line":97}},"51":{"end":{"column":76,"line":98},"start":{"column":8,"line":98}},"52":{"end":{"column":77,"line":102},"start":{"column":6,"line":102}},"53":{"end":{"column":24,"line":105},"start":{"column":6,"line":105}},"54":{"end":{"column":42,"line":106},"start":{"column":6,"line":106}},"55":{"end":{"column":51,"line":107},"start":{"column":6,"line":107}},"56":{"end":{"column":8,"line":111},"start":{"column":6,"line":108}},"57":{"end":{"column":15,"line":114},"start":{"column":6,"line":114}},"58":{"end":{"column":51,"line":115},"start":{"column":6,"line":115}},"59":{"end":{"column":36,"line":116},"start":{"column":6,"line":116}},"60":{"end":{"column":39,"line":119},"start":{"column":6,"line":119}},"61":{"end":{"column":34,"line":120},"start":{"column":6,"line":120}},"62":{"end":{"column":67,"line":121},"start":{"column":6,"line":121}},"63":{"end":{"column":9,"line":127},"start":{"column":6,"line":122}},"64":{"end":{"column":30,"line":123},"start":{"column":8,"line":123}},"65":{"end":{"column":38,"line":124},"start":{"column":8,"line":124}},"66":{"end":{"column":58,"line":125},"start":{"column":8,"line":125}},"67":{"end":{"column":71,"line":126},"start":{"column":8,"line":126}},"68":{"end":{"column":16,"line":130},"start":{"column":6,"line":130}},"69":{"end":{"column":82,"line":131},"start":{"column":6,"line":131}},"70":{"end":{"column":54,"line":132},"start":{"column":6,"line":132}},"71":{"end":{"column":61,"line":135},"start":{"column":6,"line":135}},"72":{"end":{"column":43,"line":138},"start":{"column":6,"line":138}},"73":{"end":{"column":80,"line":143},"start":{"column":0,"line":143}},"74":{"end":{"column":2,"line":148},"start":{"column":0,"line":145}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"17":21,"18":0,"21":21,"22":0,"23":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"35":0,"39":21,"42":0,"45":0,"46":0,"50":0,"51":0,"52":0,"53":0,"55":0,"56":0,"57":0,"58":0,"60":0,"61":0,"64":0,"68":0,"71":0,"72":0,"76":0,"77":0,"78":0,"79":0,"80":0,"82":0,"84":0,"85":0,"88":0,"91":0,"92":0,"93":0,"96":0,"97":0,"98":0,"102":0,"105":0,"106":0,"107":0,"108":0,"114":0,"115":0,"116":0,"119":10,"120":10,"121":10,"122":10,"123":0,"124":0,"125":0,"126":0,"130":0,"131":0,"132":0,"135":0,"138":0,"143":21,"145":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/helpers.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[0,112],"4":[112,50],"5":[0,190],"6":[190,38,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[190,0],"13":[190,118],"14":[157,33],"15":[3,0],"16":[3,0],"17":[3,0],"18":[0,7],"19":[0,7],"20":[3,70],"21":[545,23334],"22":[23879,545],"23":[377,22957],"24":[20,0],"25":[12579,9345],"26":[63,441]},"branchMap":{"1":{"line":42,"locations":[{"end":{"column":6,"line":42},"start":{"column":6,"line":42}},{"end":{"column":6,"line":42},"start":{"column":6,"line":42}}],"type":"if"},"2":{"line":50,"locations":[{"end":{"column":6,"line":50},"start":{"column":6,"line":50}},{"end":{"column":6,"line":50},"start":{"column":6,"line":50}}],"type":"if"},"3":{"line":56,"locations":[{"end":{"column":6,"line":56},"start":{"column":6,"line":56}},{"end":{"column":6,"line":56},"start":{"column":6,"line":56}}],"type":"if"},"4":{"line":56,"locations":[{"end":{"column":42,"line":56},"start":{"column":10,"line":56}},{"end":{"column":70,"line":56},"start":{"column":46,"line":56}}],"type":"binary-expr"},"5":{"line":66,"locations":[{"end":{"column":6,"line":66},"start":{"column":6,"line":66}},{"end":{"column":6,"line":66},"start":{"column":6,"line":66}}],"type":"if"},"6":{"line":66,"locations":[{"end":{"column":25,"line":66},"start":{"column":10,"line":66}},{"end":{"column":59,"line":66},"start":{"column":29,"line":66}},{"end":{"column":84,"line":66},"start":{"column":63,"line":66}}],"type":"binary-expr"},"7":{"line":70,"locations":[{"end":{"column":10,"line":70},"start":{"column":10,"line":70}},{"end":{"column":10,"line":70},"start":{"column":10,"line":70}}],"type":"if"},"8":{"line":70,"locations":[{"end":{"column":31,"line":70},"start":{"column":14,"line":70}},{"end":{"column":181,"line":70},"start":{"column":36,"line":70}},{"end":{"column":209,"line":70},"start":{"column":186,"line":70}}],"type":"binary-expr"},"9":{"line":70,"locations":[{"end":{"column":163,"line":70},"start":{"column":69,"line":70}},{"end":{"column":172,"line":70},"start":{"column":166,"line":70}}],"type":"cond-expr"},"10":{"line":70,"locations":[{"end":{"column":154,"line":70},"start":{"column":103,"line":70}},{"end":{"column":163,"line":70},"start":{"column":157,"line":70}}],"type":"cond-expr"},"11":{"line":70,"locations":[{"end":{"column":145,"line":70},"start":{"column":130,"line":70}},{"end":{"column":154,"line":70},"start":{"column":148,"line":70}}],"type":"cond-expr"},"12":{"line":76,"locations":[{"end":{"column":6,"line":76},"start":{"column":6,"line":76}},{"end":{"column":6,"line":76},"start":{"column":6,"line":76}}],"type":"if"},"13":{"line":77,"locations":[{"end":{"column":94,"line":77},"start":{"column":27,"line":77}},{"end":{"column":102,"line":77},"start":{"column":99,"line":77}}],"type":"binary-expr"},"14":{"line":77,"locations":[{"end":{"column":85,"line":77},"start":{"column":64,"line":77}},{"end":{"column":94,"line":77},"start":{"column":88,"line":77}}],"type":"cond-expr"},"15":{"line":88,"locations":[{"end":{"column":71,"line":88},"start":{"column":48,"line":88}},{"end":{"column":80,"line":88},"start":{"column":74,"line":88}}],"type":"cond-expr"},"16":{"line":89,"locations":[{"end":{"column":6,"line":89},"start":{"column":6,"line":89}},{"end":{"column":6,"line":89},"start":{"column":6,"line":89}}],"type":"if"},"17":{"line":92,"locations":[{"end":{"column":6,"line":92},"start":{"column":6,"line":92}},{"end":{"column":6,"line":92},"start":{"column":6,"line":92}}],"type":"if"},"18":{"line":105,"locations":[{"end":{"column":6,"line":105},"start":{"column":6,"line":105}},{"end":{"column":6,"line":105},"start":{"column":6,"line":105}}],"type":"if"},"19":{"line":108,"locations":[{"end":{"column":6,"line":108},"start":{"column":6,"line":108}},{"end":{"column":6,"line":108},"start":{"column":6,"line":108}}],"type":"if"},"20":{"line":124,"locations":[{"end":{"column":6,"line":124},"start":{"column":6,"line":124}},{"end":{"column":6,"line":124},"start":{"column":6,"line":124}}],"type":"if"},"21":{"line":150,"locations":[{"end":{"column":6,"line":150},"start":{"column":6,"line":150}},{"end":{"column":6,"line":150},"start":{"column":6,"line":150}}],"type":"if"},"22":{"line":150,"locations":[{"end":{"column":15,"line":150},"start":{"column":12,"line":150}},{"end":{"column":51,"line":150},"start":{"column":19,"line":150}}],"type":"binary-expr"},"23":{"line":153,"locations":[{"end":{"column":6,"line":153},"start":{"column":6,"line":153}},{"end":{"column":6,"line":153},"start":{"column":6,"line":153}}],"type":"if"},"24":{"line":188,"locations":[{"end":{"column":32,"line":188},"start":{"column":15,"line":188}},{"end":{"column":38,"line":188},"start":{"column":36,"line":188}}],"type":"binary-expr"},"25":{"line":206,"locations":[{"end":{"column":38,"line":206},"start":{"column":11,"line":206}},{"end":{"column":59,"line":206},"start":{"column":42,"line":206}}],"type":"binary-expr"},"26":{"line":219,"locations":[{"end":{"column":2,"line":219},"start":{"column":2,"line":219}},{"end":{"column":2,"line":219},"start":{"column":2,"line":219}}],"type":"if"}},"code":["var CREATE_KEY, CrudConfig, DELETED, DELETING, FAILED, LOADED, LOADING, SAVING, _, extendConfig, flux, idCounter, isNew, makeSimpleStore;","","_ = require('underscore');","","flux = require('flux-react');","","LOADING = 'loading';","","LOADED = 'loaded';","","FAILED = 'failed';","","SAVING = 'saving';","","DELETING = 'deleting';","","DELETED = 'deleted';","","idCounter = 0;","","CREATE_KEY = function() {","  return \"_CREATING_\" + (idCounter++);","};","","isNew = function(id) {","  return /_CREATING_/.test(id);","};","","CrudConfig = function() {","  return {","    _asyncStatus: {},","    _local: {},","    _changed: {},","    _errors: {},","    _reload: {},","    reset: function() {","      this._asyncStatus = {};","      this._local = {};","      this._changed = {};","      this._errors = {};","      this._reload = {};","      if (typeof this._reset === \"function\") {","        this._reset();","      }","      return this.emitChange();","    },","    FAILED: function(status, msg, id) {","      this._asyncStatus[id] = FAILED;","      this._errors[id] = msg;","      if (status !== 0) {","        delete this._local[id];","        return this.emitChange();","      }","    },","    load: function(id) {","      if (this._asyncStatus[id] === LOADED && this._HACK_DO_NOT_RELOAD) {","        return;","      }","      this._reload[id] = false;","      this._asyncStatus[id] = LOADING;","      return this.emitChange();","    },","    loaded: function(obj, id) {","      var i, len, ref, ref1, ref2, ref3, step;","      this._asyncStatus[id] = LOADED;","      if (this._local[id] && obj.HACK_LOCAL_STEP_COMPLETION && this._local[id].steps) {","        ref = this._local[id].steps;","        for (i = 0, len = ref.length; i < len; i++) {","          step = ref[i];","          if (step.is_completed && (((ref1 = step.content) != null ? (ref2 = ref1.questions) != null ? (ref3 = ref2[0]) != null ? ref3.answers[0] : void 0 : void 0 : void 0) != null) && !step.correct_answer_id) {","            step.correct_answer_id = step.content.questions[0].answers[0].id;","            step.feedback_html = 'Some <em>FAKE</em> feedback';","          }","        }","      }","      if (obj) {","        this._local[id] = (typeof this._loaded === \"function\" ? this._loaded(obj, id) : void 0) || obj;","      }","      return this.emitChange();","    },","    save: function(id, obj) {","      this._asyncStatus[id] = SAVING;","      return this.emitChange();","    },","    saved: function(result, id) {","      var obj;","      this._asyncStatus[id] = LOADED;","      obj = typeof this._saved === \"function\" ? this._saved(result, id) : void 0;","      if (obj) {","        result = obj;","      }","      if (result) {","        this._local[id] = result;","        this._local[result.id] = result;","        delete this._changed[result.id];","      } else {","        console.warn('API WARN: Server did not return JSON after saving. Patching locally');","        this._local[id] = _.extend(this._local[id], this._changed[id]);","      }","      delete this._changed[id];","      delete this._errors[id];","      return this.emitChange();","    },","    create: function(localId, attributes) {","      if (attributes == null) {","        attributes = {};","      }","      if (!isNew(localId)) {","        throw new Error('BUG: MUST provide a local id');","      }","      this._local[localId] = {};","      this._changed[localId] = attributes;","      return this._asyncStatus[localId] = LOADED;","    },","    created: function(result, localId) {","      this._local[localId] = result;","      this._local[result.id] = result;","      this._asyncStatus[localId] = LOADED;","      this._asyncStatus[result.id] = LOADED;","      return this.emitChange();","    },","    _change: function(id, obj) {","      var base;","      if ((base = this._changed)[id] == null) {","        base[id] = {};","      }","      _.extend(this._changed[id], obj);","      return this.emitChange();","    },","    _save: function(id) {","      return this._asyncStatus[id] = SAVING;","    },","    \"delete\": function(id) {","      return this._asyncStatus[id] = DELETING;","    },","    deleted: function(result, id) {","      this._asyncStatus[id] = DELETED;","      delete this._local[id];","      return this.emitChange();","    },","    clearChanged: function(id) {","      return delete this._changed[id];","    },","    HACK_DO_NOT_RELOAD: function(bool) {","      return this._HACK_DO_NOT_RELOAD = bool;","    },","    _get: function(id) {","      var val;","      val = this._local[id];","      if (!(val || this._asyncStatus[id] === SAVING)) {","        return null;","      }","      if (_.isArray(val)) {","        return val;","      } else {","        return _.extend({}, val, this._changed[id]);","      }","    },","    exports: {","      isUnknown: function(id) {","        return !this._asyncStatus[id];","      },","      isLoading: function(id) {","        return this._asyncStatus[id] === LOADING;","      },","      isLoaded: function(id) {","        return this._asyncStatus[id] === LOADED;","      },","      isDeleting: function(id) {","        return this._asyncStatus[id] === DELETING;","      },","      isSaving: function(id) {","        return this._asyncStatus[id] === SAVING;","      },","      isFailed: function(id) {","        return this._asyncStatus[id] === FAILED;","      },","      getAsyncStatus: function(id) {","        return this._asyncStatus[id];","      },","      get: function(id) {","        return this._get(id);","      },","      isChanged: function(id) {","        return !_.isEmpty(this._changed[id]);","      },","      getChanged: function(id) {","        return this._changed[id] || {};","      },","      freshLocalId: function() {","        return CREATE_KEY();","      },","      isNew: function(id) {","        return isNew(id);","      },","      reload: function(id) {","        return this._reload[id];","      }","    }","  };","};","","makeSimpleStore = function(storeConfig) {","  var actions, actionsConfig, store;","  actionsConfig = _.omit(storeConfig, function(value, key) {","    return typeof value !== 'function' || key === 'exports';","  });","  actionsConfig = _.keys(actionsConfig);","  actions = flux.createActions(actionsConfig);","  storeConfig.actions = _.values(actions);","  store = flux.createStore(storeConfig);","  return {","    actions: actions,","    store: store","  };","};","","extendConfig = function(newConfig, origConfig) {","  if (newConfig.exports == null) {","    newConfig.exports = {};","  }","  _.defaults(newConfig, origConfig);","  _.defaults(newConfig.exports, origConfig.exports);","  return newConfig;","};","","module.exports = {","  CrudConfig: CrudConfig,","  makeSimpleStore: makeSimpleStore,","  extendConfig: extendConfig","};",""],"f":{"1":7,"2":439,"3":462,"4":0,"5":0,"6":112,"7":190,"8":3,"9":3,"10":7,"11":0,"12":73,"13":0,"14":3,"15":0,"16":4,"17":0,"18":23879,"19":46,"20":112,"21":463,"22":23,"23":124,"24":293,"25":0,"26":22663,"27":0,"28":20,"29":7,"30":432,"31":0,"32":567,"33":12579,"34":504},"fnMap":{"1":{"line":21,"loc":{"end":{"column":24,"line":21},"start":{"column":13,"line":21}},"name":"(anonymous_1)"},"2":{"line":25,"loc":{"end":{"column":21,"line":25},"start":{"column":8,"line":25}},"name":"(anonymous_2)"},"3":{"line":29,"loc":{"end":{"column":24,"line":29},"start":{"column":13,"line":29}},"name":"(anonymous_3)"},"4":{"line":36,"loc":{"end":{"column":22,"line":36},"start":{"column":11,"line":36}},"name":"(anonymous_4)"},"5":{"line":47,"loc":{"end":{"column":38,"line":47},"start":{"column":12,"line":47}},"name":"(anonymous_5)"},"6":{"line":55,"loc":{"end":{"column":23,"line":55},"start":{"column":10,"line":55}},"name":"(anonymous_6)"},"7":{"line":63,"loc":{"end":{"column":30,"line":63},"start":{"column":12,"line":63}},"name":"(anonymous_7)"},"8":{"line":81,"loc":{"end":{"column":28,"line":81},"start":{"column":10,"line":81}},"name":"(anonymous_8)"},"9":{"line":85,"loc":{"end":{"column":32,"line":85},"start":{"column":11,"line":85}},"name":"(anonymous_9)"},"10":{"line":104,"loc":{"end":{"column":42,"line":104},"start":{"column":12,"line":104}},"name":"(anonymous_10)"},"11":{"line":115,"loc":{"end":{"column":39,"line":115},"start":{"column":13,"line":115}},"name":"(anonymous_11)"},"12":{"line":122,"loc":{"end":{"column":31,"line":122},"start":{"column":13,"line":122}},"name":"(anonymous_12)"},"13":{"line":130,"loc":{"end":{"column":24,"line":130},"start":{"column":11,"line":130}},"name":"(anonymous_13)"},"14":{"line":133,"loc":{"end":{"column":27,"line":133},"start":{"column":14,"line":133}},"name":"(anonymous_14)"},"15":{"line":136,"loc":{"end":{"column":34,"line":136},"start":{"column":13,"line":136}},"name":"(anonymous_15)"},"16":{"line":141,"loc":{"end":{"column":31,"line":141},"start":{"column":18,"line":141}},"name":"(anonymous_16)"},"17":{"line":144,"loc":{"end":{"column":39,"line":144},"start":{"column":24,"line":144}},"name":"(anonymous_17)"},"18":{"line":147,"loc":{"end":{"column":23,"line":147},"start":{"column":10,"line":147}},"name":"(anonymous_18)"},"19":{"line":160,"loc":{"end":{"column":30,"line":160},"start":{"column":17,"line":160}},"name":"(anonymous_19)"},"20":{"line":163,"loc":{"end":{"column":30,"line":163},"start":{"column":17,"line":163}},"name":"(anonymous_20)"},"21":{"line":166,"loc":{"end":{"column":29,"line":166},"start":{"column":16,"line":166}},"name":"(anonymous_21)"},"22":{"line":169,"loc":{"end":{"column":31,"line":169},"start":{"column":18,"line":169}},"name":"(anonymous_22)"},"23":{"line":172,"loc":{"end":{"column":29,"line":172},"start":{"column":16,"line":172}},"name":"(anonymous_23)"},"24":{"line":175,"loc":{"end":{"column":29,"line":175},"start":{"column":16,"line":175}},"name":"(anonymous_24)"},"25":{"line":178,"loc":{"end":{"column":35,"line":178},"start":{"column":22,"line":178}},"name":"(anonymous_25)"},"26":{"line":181,"loc":{"end":{"column":24,"line":181},"start":{"column":11,"line":181}},"name":"(anonymous_26)"},"27":{"line":184,"loc":{"end":{"column":30,"line":184},"start":{"column":17,"line":184}},"name":"(anonymous_27)"},"28":{"line":187,"loc":{"end":{"column":31,"line":187},"start":{"column":18,"line":187}},"name":"(anonymous_28)"},"29":{"line":190,"loc":{"end":{"column":31,"line":190},"start":{"column":20,"line":190}},"name":"(anonymous_29)"},"30":{"line":193,"loc":{"end":{"column":26,"line":193},"start":{"column":13,"line":193}},"name":"(anonymous_30)"},"31":{"line":196,"loc":{"end":{"column":27,"line":196},"start":{"column":14,"line":196}},"name":"(anonymous_31)"},"32":{"line":203,"loc":{"end":{"column":40,"line":203},"start":{"column":18,"line":203}},"name":"(anonymous_32)"},"33":{"line":205,"loc":{"end":{"column":59,"line":205},"start":{"column":38,"line":205}},"name":"(anonymous_33)"},"34":{"line":218,"loc":{"end":{"column":47,"line":218},"start":{"column":15,"line":218}},"name":"(anonymous_34)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/helpers.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":7,"13":21,"14":439,"15":21,"16":462,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":112,"31":0,"32":112,"33":112,"34":112,"35":190,"36":190,"37":190,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":190,"45":190,"46":190,"47":3,"48":3,"49":3,"50":3,"51":3,"52":3,"53":3,"54":3,"55":3,"56":3,"57":3,"58":0,"59":0,"60":3,"61":3,"62":3,"63":7,"64":0,"65":7,"66":0,"67":7,"68":7,"69":7,"70":0,"71":0,"72":0,"73":0,"74":0,"75":73,"76":73,"77":3,"78":73,"79":73,"80":0,"81":3,"82":0,"83":0,"84":0,"85":4,"86":0,"87":23879,"88":23879,"89":23879,"90":545,"91":23334,"92":377,"93":22957,"94":46,"95":112,"96":463,"97":23,"98":124,"99":293,"100":0,"101":22663,"102":0,"103":20,"104":7,"105":432,"106":0,"107":21,"108":567,"109":567,"110":12579,"111":567,"112":567,"113":567,"114":567,"115":567,"116":21,"117":504,"118":63,"119":504,"120":504,"121":504,"122":21},"statementMap":{"1":{"end":{"column":137,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":29,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":20,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":18,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":18,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":18,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":22,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":20,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":14,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":2,"line":23},"start":{"column":0,"line":21}},"12":{"end":{"column":38,"line":22},"start":{"column":2,"line":22}},"13":{"end":{"column":2,"line":27},"start":{"column":0,"line":25}},"14":{"end":{"column":31,"line":26},"start":{"column":2,"line":26}},"15":{"end":{"column":2,"line":201},"start":{"column":0,"line":29}},"16":{"end":{"column":4,"line":200},"start":{"column":2,"line":30}},"17":{"end":{"column":29,"line":37},"start":{"column":6,"line":37}},"18":{"end":{"column":23,"line":38},"start":{"column":6,"line":38}},"19":{"end":{"column":25,"line":39},"start":{"column":6,"line":39}},"20":{"end":{"column":24,"line":40},"start":{"column":6,"line":40}},"21":{"end":{"column":24,"line":41},"start":{"column":6,"line":41}},"22":{"end":{"column":7,"line":44},"start":{"column":6,"line":42}},"23":{"end":{"column":22,"line":43},"start":{"column":8,"line":43}},"24":{"end":{"column":31,"line":45},"start":{"column":6,"line":45}},"25":{"end":{"column":37,"line":48},"start":{"column":6,"line":48}},"26":{"end":{"column":29,"line":49},"start":{"column":6,"line":49}},"27":{"end":{"column":7,"line":53},"start":{"column":6,"line":50}},"28":{"end":{"column":31,"line":51},"start":{"column":8,"line":51}},"29":{"end":{"column":33,"line":52},"start":{"column":8,"line":52}},"30":{"end":{"column":7,"line":58},"start":{"column":6,"line":56}},"31":{"end":{"column":15,"line":57},"start":{"column":8,"line":57}},"32":{"end":{"column":31,"line":59},"start":{"column":6,"line":59}},"33":{"end":{"column":38,"line":60},"start":{"column":6,"line":60}},"34":{"end":{"column":31,"line":61},"start":{"column":6,"line":61}},"35":{"end":{"column":46,"line":64},"start":{"column":6,"line":64}},"36":{"end":{"column":37,"line":65},"start":{"column":6,"line":65}},"37":{"end":{"column":7,"line":75},"start":{"column":6,"line":66}},"38":{"end":{"column":36,"line":67},"start":{"column":8,"line":67}},"39":{"end":{"column":9,"line":74},"start":{"column":8,"line":68}},"40":{"end":{"column":24,"line":69},"start":{"column":10,"line":69}},"41":{"end":{"column":11,"line":73},"start":{"column":10,"line":70}},"42":{"end":{"column":77,"line":71},"start":{"column":12,"line":71}},"43":{"end":{"column":63,"line":72},"start":{"column":12,"line":72}},"44":{"end":{"column":7,"line":78},"start":{"column":6,"line":76}},"45":{"end":{"column":103,"line":77},"start":{"column":8,"line":77}},"46":{"end":{"column":31,"line":79},"start":{"column":6,"line":79}},"47":{"end":{"column":37,"line":82},"start":{"column":6,"line":82}},"48":{"end":{"column":31,"line":83},"start":{"column":6,"line":83}},"49":{"end":{"column":14,"line":86},"start":{"column":6,"line":86}},"50":{"end":{"column":37,"line":87},"start":{"column":6,"line":87}},"51":{"end":{"column":81,"line":88},"start":{"column":6,"line":88}},"52":{"end":{"column":7,"line":91},"start":{"column":6,"line":89}},"53":{"end":{"column":21,"line":90},"start":{"column":8,"line":90}},"54":{"end":{"column":7,"line":99},"start":{"column":6,"line":92}},"55":{"end":{"column":33,"line":93},"start":{"column":8,"line":93}},"56":{"end":{"column":40,"line":94},"start":{"column":8,"line":94}},"57":{"end":{"column":40,"line":95},"start":{"column":8,"line":95}},"58":{"end":{"column":92,"line":97},"start":{"column":8,"line":97}},"59":{"end":{"column":71,"line":98},"start":{"column":8,"line":98}},"60":{"end":{"column":31,"line":100},"start":{"column":6,"line":100}},"61":{"end":{"column":30,"line":101},"start":{"column":6,"line":101}},"62":{"end":{"column":31,"line":102},"start":{"column":6,"line":102}},"63":{"end":{"column":7,"line":107},"start":{"column":6,"line":105}},"64":{"end":{"column":24,"line":106},"start":{"column":8,"line":106}},"65":{"end":{"column":7,"line":110},"start":{"column":6,"line":108}},"66":{"end":{"column":56,"line":109},"start":{"column":8,"line":109}},"67":{"end":{"column":32,"line":111},"start":{"column":6,"line":111}},"68":{"end":{"column":42,"line":112},"start":{"column":6,"line":112}},"69":{"end":{"column":49,"line":113},"start":{"column":6,"line":113}},"70":{"end":{"column":36,"line":116},"start":{"column":6,"line":116}},"71":{"end":{"column":38,"line":117},"start":{"column":6,"line":117}},"72":{"end":{"column":42,"line":118},"start":{"column":6,"line":118}},"73":{"end":{"column":44,"line":119},"start":{"column":6,"line":119}},"74":{"end":{"column":31,"line":120},"start":{"column":6,"line":120}},"75":{"end":{"column":15,"line":123},"start":{"column":6,"line":123}},"76":{"end":{"column":7,"line":126},"start":{"column":6,"line":124}},"77":{"end":{"column":22,"line":125},"start":{"column":8,"line":125}},"78":{"end":{"column":39,"line":127},"start":{"column":6,"line":127}},"79":{"end":{"column":31,"line":128},"start":{"column":6,"line":128}},"80":{"end":{"column":44,"line":131},"start":{"column":6,"line":131}},"81":{"end":{"column":46,"line":134},"start":{"column":6,"line":134}},"82":{"end":{"column":38,"line":137},"start":{"column":6,"line":137}},"83":{"end":{"column":29,"line":138},"start":{"column":6,"line":138}},"84":{"end":{"column":31,"line":139},"start":{"column":6,"line":139}},"85":{"end":{"column":38,"line":142},"start":{"column":6,"line":142}},"86":{"end":{"column":45,"line":145},"start":{"column":6,"line":145}},"87":{"end":{"column":14,"line":148},"start":{"column":6,"line":148}},"88":{"end":{"column":28,"line":149},"start":{"column":6,"line":149}},"89":{"end":{"column":7,"line":152},"start":{"column":6,"line":150}},"90":{"end":{"column":20,"line":151},"start":{"column":8,"line":151}},"91":{"end":{"column":7,"line":157},"start":{"column":6,"line":153}},"92":{"end":{"column":19,"line":154},"start":{"column":8,"line":154}},"93":{"end":{"column":52,"line":156},"start":{"column":8,"line":156}},"94":{"end":{"column":38,"line":161},"start":{"column":8,"line":161}},"95":{"end":{"column":49,"line":164},"start":{"column":8,"line":164}},"96":{"end":{"column":48,"line":167},"start":{"column":8,"line":167}},"97":{"end":{"column":50,"line":170},"start":{"column":8,"line":170}},"98":{"end":{"column":48,"line":173},"start":{"column":8,"line":173}},"99":{"end":{"column":48,"line":176},"start":{"column":8,"line":176}},"100":{"end":{"column":37,"line":179},"start":{"column":8,"line":179}},"101":{"end":{"column":29,"line":182},"start":{"column":8,"line":182}},"102":{"end":{"column":45,"line":185},"start":{"column":8,"line":185}},"103":{"end":{"column":39,"line":188},"start":{"column":8,"line":188}},"104":{"end":{"column":28,"line":191},"start":{"column":8,"line":191}},"105":{"end":{"column":25,"line":194},"start":{"column":8,"line":194}},"106":{"end":{"column":32,"line":197},"start":{"column":8,"line":197}},"107":{"end":{"column":2,"line":216},"start":{"column":0,"line":203}},"108":{"end":{"column":36,"line":204},"start":{"column":2,"line":204}},"109":{"end":{"column":5,"line":207},"start":{"column":2,"line":205}},"110":{"end":{"column":60,"line":206},"start":{"column":4,"line":206}},"111":{"end":{"column":40,"line":208},"start":{"column":2,"line":208}},"112":{"end":{"column":46,"line":209},"start":{"column":2,"line":209}},"113":{"end":{"column":42,"line":210},"start":{"column":2,"line":210}},"114":{"end":{"column":40,"line":211},"start":{"column":2,"line":211}},"115":{"end":{"column":4,"line":215},"start":{"column":2,"line":212}},"116":{"end":{"column":2,"line":225},"start":{"column":0,"line":218}},"117":{"end":{"column":3,"line":221},"start":{"column":2,"line":219}},"118":{"end":{"column":27,"line":220},"start":{"column":4,"line":220}},"119":{"end":{"column":36,"line":222},"start":{"column":2,"line":222}},"120":{"end":{"column":52,"line":223},"start":{"column":2,"line":223}},"121":{"end":{"column":19,"line":224},"start":{"column":2,"line":224}},"122":{"end":{"column":2,"line":231},"start":{"column":0,"line":227}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"22":7,"25":21,"26":439,"29":21,"30":462,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"45":0,"48":0,"49":0,"50":0,"51":0,"52":0,"56":112,"57":0,"59":112,"60":112,"61":112,"64":190,"65":190,"66":190,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"76":190,"77":190,"79":190,"82":3,"83":3,"86":3,"87":3,"88":3,"89":3,"90":3,"92":3,"93":3,"94":3,"95":3,"97":0,"98":0,"100":3,"101":3,"102":3,"105":7,"106":0,"108":7,"109":0,"111":7,"112":7,"113":7,"116":0,"117":0,"118":0,"119":0,"120":0,"123":73,"124":73,"125":3,"127":73,"128":73,"131":0,"134":3,"137":0,"138":0,"139":0,"142":4,"145":0,"148":23879,"149":23879,"150":23879,"151":545,"153":23334,"154":377,"156":22957,"161":46,"164":112,"167":463,"170":23,"173":124,"176":293,"179":0,"182":22663,"185":0,"188":20,"191":7,"194":432,"197":0,"203":21,"204":567,"205":567,"206":12579,"208":567,"209":567,"210":567,"211":567,"212":567,"218":21,"219":504,"220":63,"222":504,"223":504,"224":504,"227":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/job.coffee":{"b":{"1":[1,0],"2":[0,1],"3":[1,0],"4":[0,0],"5":[0,0],"6":[0,2],"7":[0,2],"8":[2,0],"9":[2,0]},"branchMap":{"1":{"line":11,"locations":[{"end":{"column":4,"line":11},"start":{"column":4,"line":11}},{"end":{"column":4,"line":11},"start":{"column":4,"line":11}}],"type":"if"},"2":{"line":17,"locations":[{"end":{"column":6,"line":17},"start":{"column":6,"line":17}},{"end":{"column":6,"line":17},"start":{"column":6,"line":17}}],"type":"if"},"3":{"line":17,"locations":[{"end":{"column":53,"line":17},"start":{"column":13,"line":17}},{"end":{"column":97,"line":17},"start":{"column":58,"line":17}}],"type":"binary-expr"},"4":{"line":19,"locations":[{"end":{"column":8,"line":19},"start":{"column":8,"line":19}},{"end":{"column":8,"line":19},"start":{"column":8,"line":19}}],"type":"if"},"5":{"line":19,"locations":[{"end":{"column":61,"line":19},"start":{"column":39,"line":19}},{"end":{"column":70,"line":19},"start":{"column":64,"line":19}}],"type":"cond-expr"},"6":{"line":31,"locations":[{"end":{"column":4,"line":31},"start":{"column":4,"line":31}},{"end":{"column":4,"line":31},"start":{"column":4,"line":31}}],"type":"if"},"7":{"line":34,"locations":[{"end":{"column":4,"line":34},"start":{"column":4,"line":34}},{"end":{"column":4,"line":34},"start":{"column":4,"line":34}}],"type":"if"},"8":{"line":37,"locations":[{"end":{"column":4,"line":37},"start":{"column":4,"line":37}},{"end":{"column":4,"line":37},"start":{"column":4,"line":37}}],"type":"if"},"9":{"line":40,"locations":[{"end":{"column":4,"line":40},"start":{"column":4,"line":40}},{"end":{"column":4,"line":40},"start":{"column":4,"line":40}}],"type":"if"}},"code":["var CrudConfig, JobConfig, _, actions, extendConfig, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","_ = require('underscore');","","JobConfig = {","  _checkUntil: {},","  _loaded: function(obj, id) {","    var checkJob, count, finalStatus, interval, jobData, maxRepeats, previousJobData, ref1;","    if (this._checkUntil[id] != null) {","      ref1 = this._checkUntil[id], finalStatus = ref1.finalStatus, checkJob = ref1.checkJob, count = ref1.count, maxRepeats = ref1.maxRepeats, interval = ref1.interval;","      this._checkUntil[id].count = count + 1;","      jobData = _.extend({}, obj, {","        id: id","      });","      if (!((finalStatus.indexOf(jobData.status) > -1) || this._checkUntil[id].count > maxRepeats)) {","        previousJobData = this._get(id);","        if ((previousJobData != null ? previousJobData.status : void 0) !== obj.status) {","          this.emit(\"job.\" + id + \".updated\", jobData);","        }","        setTimeout(checkJob, interval);","      } else {","        this.emit(\"job.\" + id + \".final\", jobData);","        delete this._checkUntil[id];","      }","    }","    return jobData;","  },","  checkUntil: function(id, checkJob, interval, maxRepeats, finalStatus) {","    if (interval == null) {","      interval = 1000;","    }","    if (maxRepeats == null) {","      maxRepeats = 50;","    }","    if (finalStatus == null) {","      finalStatus = ['succeeded', 'failed', 'killed'];","    }","    if (this._checkUntil[id] == null) {","      this._checkUntil[id] = {","        checkJob: checkJob,","        finalStatus: finalStatus,","        interval: interval,","        maxRepeats: maxRepeats,","        count: 0","      };","      return checkJob();","    }","  },","  stopChecking: function(id) {","    return delete this._checkUntil[id];","  },","  exports: {","    getStatus: function(id) {","      var status;","      status = this._get(id).status;","      return status;","    }","  }","};","","extendConfig(JobConfig, new CrudConfig());","","ref1 = makeSimpleStore(JobConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  JobActions: actions,","  JobStore: store","};",""],"f":{"1":1,"2":2,"3":0,"4":0},"fnMap":{"1":{"line":9,"loc":{"end":{"column":29,"line":9},"start":{"column":11,"line":9}},"name":"(anonymous_1)"},"2":{"line":30,"loc":{"end":{"column":72,"line":30},"start":{"column":14,"line":30}},"name":"(anonymous_2)"},"3":{"line":51,"loc":{"end":{"column":29,"line":51},"start":{"column":16,"line":51}},"name":"(anonymous_3)"},"4":{"line":55,"loc":{"end":{"column":28,"line":55},"start":{"column":15,"line":55}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/job.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":1,"18":2,"19":0,"20":2,"21":0,"22":2,"23":2,"24":2,"25":2,"26":2,"27":0,"28":0,"29":0,"30":0,"31":21,"32":21,"33":21},"statementMap":{"1":{"end":{"column":87,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":61},"start":{"column":0,"line":7}},"5":{"end":{"column":91,"line":10},"start":{"column":4,"line":10}},"6":{"end":{"column":5,"line":27},"start":{"column":4,"line":11}},"7":{"end":{"column":168,"line":12},"start":{"column":6,"line":12}},"8":{"end":{"column":45,"line":13},"start":{"column":6,"line":13}},"9":{"end":{"column":9,"line":16},"start":{"column":6,"line":14}},"10":{"end":{"column":7,"line":26},"start":{"column":6,"line":17}},"11":{"end":{"column":40,"line":18},"start":{"column":8,"line":18}},"12":{"end":{"column":9,"line":21},"start":{"column":8,"line":19}},"13":{"end":{"column":55,"line":20},"start":{"column":10,"line":20}},"14":{"end":{"column":39,"line":22},"start":{"column":8,"line":22}},"15":{"end":{"column":51,"line":24},"start":{"column":8,"line":24}},"16":{"end":{"column":36,"line":25},"start":{"column":8,"line":25}},"17":{"end":{"column":19,"line":28},"start":{"column":4,"line":28}},"18":{"end":{"column":5,"line":33},"start":{"column":4,"line":31}},"19":{"end":{"column":22,"line":32},"start":{"column":6,"line":32}},"20":{"end":{"column":5,"line":36},"start":{"column":4,"line":34}},"21":{"end":{"column":22,"line":35},"start":{"column":6,"line":35}},"22":{"end":{"column":5,"line":39},"start":{"column":4,"line":37}},"23":{"end":{"column":54,"line":38},"start":{"column":6,"line":38}},"24":{"end":{"column":5,"line":49},"start":{"column":4,"line":40}},"25":{"end":{"column":8,"line":47},"start":{"column":6,"line":41}},"26":{"end":{"column":24,"line":48},"start":{"column":6,"line":48}},"27":{"end":{"column":39,"line":52},"start":{"column":4,"line":52}},"28":{"end":{"column":17,"line":56},"start":{"column":6,"line":56}},"29":{"end":{"column":36,"line":57},"start":{"column":6,"line":57}},"30":{"end":{"column":20,"line":58},"start":{"column":6,"line":58}},"31":{"end":{"column":42,"line":63},"start":{"column":0,"line":63}},"32":{"end":{"column":78,"line":65},"start":{"column":0,"line":65}},"33":{"end":{"column":2,"line":70},"start":{"column":0,"line":67}}},"l":{"1":21,"3":21,"5":21,"7":21,"10":1,"11":1,"12":1,"13":1,"14":1,"17":1,"18":0,"19":0,"20":0,"22":0,"24":1,"25":1,"28":1,"31":2,"32":0,"34":2,"35":0,"37":2,"38":2,"40":2,"41":2,"48":2,"52":0,"56":0,"57":0,"58":0,"63":21,"65":21,"67":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/media.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[21,3],"4":[21,0],"5":[2,0],"6":[2,0]},"branchMap":{"1":{"line":34,"locations":[{"end":{"column":4,"line":34},"start":{"column":4,"line":34}},{"end":{"column":4,"line":34},"start":{"column":4,"line":34}}],"type":"if"},"2":{"line":37,"locations":[{"end":{"column":6,"line":37},"start":{"column":6,"line":37}},{"end":{"column":6,"line":37},"start":{"column":6,"line":37}}],"type":"if"},"3":{"line":52,"locations":[{"end":{"column":6,"line":52},"start":{"column":6,"line":52}},{"end":{"column":6,"line":52},"start":{"column":6,"line":52}}],"type":"if"},"4":{"line":55,"locations":[{"end":{"column":8,"line":55},"start":{"column":8,"line":55}},{"end":{"column":8,"line":55},"start":{"column":8,"line":55}}],"type":"if"},"5":{"line":67,"locations":[{"end":{"column":4,"line":67},"start":{"column":4,"line":67}},{"end":{"column":4,"line":67},"start":{"column":4,"line":67}}],"type":"if"},"6":{"line":70,"locations":[{"end":{"column":4,"line":70},"start":{"column":4,"line":70}},{"end":{"column":4,"line":70},"start":{"column":4,"line":70}}],"type":"if"}},"code":["var LINKS_BEGIN, LINKS_CONTAIN, MEDIA_LINK_EXCLUDES, MediaConfig, _, actions, buildAllowed, htmlparser, makeSimpleStore, ref, store;","","_ = require('underscore');","","htmlparser = require('htmlparser2');","","makeSimpleStore = require('./helpers').makeSimpleStore;","","LINKS_BEGIN = ['#'];","","LINKS_CONTAIN = ['cnx.org/contents/'];","","MEDIA_LINK_EXCLUDES = ['.nav', '.view-reference-guide', '[data-type=footnote-number]', '[data-type=footnote-ref]', '[data-targeted=media]'];","","buildAllowed = function(linksBegin, linksContain) {","  var beginSelectors, containSelectors;","  beginSelectors = _.map(linksBegin, function(linkString) {","    return \"a[href^='\" + linkString + \"']\";","  });","  containSelectors = _.map(linksContain, function(linkString) {","    return \"a[href*='\" + linkString + \"']\";","  });","  return _.union(beginSelectors, containSelectors);","};","","MediaConfig = {","  _local: {},","  loaded: function(id, mediaDOM) {","    this._local[id] = mediaDOM;","    return this.emit(\"loaded.\" + id, mediaDOM);","  },","  _parseAndLoad: function(link) {","    var id, idDOM, idHTML, mediaDOM;","    if (link.attribs.href.search('#') === 0) {","      id = link.attribs.href.replace('#', '');","      idDOM = htmlparser.DomUtils.getElementById(id, dom);","      if (idDOM) {","        idHTML = htmlparser.DomUtils.getOuterHTML(idDOM);","        mediaDOM = {","          name: idDOM.name,","          html: idHTML","        };","        return this.loaded(id, mediaDOM);","      }","    }","  },","  _parseHandler: function(actions, error, dom) {","    var links;","    links = htmlparser.DomUtils.getElementsByTagName('a', dom);","    return _.each(links, function(link) {","      var id, idDOM, idHTML, mediaDOM;","      if (link.attribs.href.search('#') === 0) {","        id = link.attribs.href.replace('#', '');","        idDOM = htmlparser.DomUtils.getElementById(id, dom);","        if (idDOM) {","          idHTML = htmlparser.DomUtils.getOuterHTML(idDOM);","          mediaDOM = {","            name: idDOM.name,","            html: idHTML","          };","          return actions.loaded(id, mediaDOM);","        }","      }","    });","  },","  parse: function(htmlString) {","    if (this.parseHandler == null) {","      this.parseHandler = new htmlparser.DomHandler(_.partial(this._parseHandler, this));","    }","    if (this.parser == null) {","      this.parser = new htmlparser.Parser(this.parseHandler);","    }","    return this.parser.parseComplete(htmlString);","  },","  _get: function(id) {","    return this._local[id];","  },","  reset: function() {","    this._local = {};","    delete this.parseHandler;","    return delete this.parser;","  },","  exports: {","    get: function(id) {","      return this._get(id);","    },","    isLoaded: function(id) {","      return this._get(id) != null;","    },","    getMediaIds: function() {","      return _.keys(this._local);","    },","    getLinksContained: function() {","      return LINKS_CONTAIN;","    },","    getAllowed: function() {","      return buildAllowed(LINKS_BEGIN, LINKS_CONTAIN);","    },","    getExcluded: function() {","      return MEDIA_LINK_EXCLUDES;","    },","    getSelector: function() {","      var notMedias;","      notMedias = _.reduce(MEDIA_LINK_EXCLUDES, function(current, exclude) {","        return current + \":not(\" + exclude + \")\";","      }, '');","      return _.map(buildAllowed(LINKS_BEGIN, LINKS_CONTAIN), function(allowed) {","        return \"\" + allowed + notMedias;","      }).join(', ');","    }","  }","};","","ref = makeSimpleStore(MediaConfig), actions = ref.actions, store = ref.store;","","module.exports = {","  MediaActions: actions,","  MediaStore: store","};",""],"f":{"1":3,"2":3,"3":3,"4":21,"5":0,"6":2,"7":24,"8":2,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":3,"18":15,"19":6},"fnMap":{"1":{"line":15,"loc":{"end":{"column":50,"line":15},"start":{"column":15,"line":15}},"name":"(anonymous_1)"},"2":{"line":17,"loc":{"end":{"column":58,"line":17},"start":{"column":37,"line":17}},"name":"(anonymous_2)"},"3":{"line":20,"loc":{"end":{"column":62,"line":20},"start":{"column":41,"line":20}},"name":"(anonymous_3)"},"4":{"line":28,"loc":{"end":{"column":33,"line":28},"start":{"column":10,"line":28}},"name":"(anonymous_4)"},"5":{"line":32,"loc":{"end":{"column":32,"line":32},"start":{"column":17,"line":32}},"name":"(anonymous_5)"},"6":{"line":47,"loc":{"end":{"column":47,"line":47},"start":{"column":17,"line":47}},"name":"(anonymous_6)"},"7":{"line":50,"loc":{"end":{"column":40,"line":50},"start":{"column":25,"line":50}},"name":"(anonymous_7)"},"8":{"line":66,"loc":{"end":{"column":30,"line":66},"start":{"column":9,"line":66}},"name":"(anonymous_8)"},"9":{"line":75,"loc":{"end":{"column":21,"line":75},"start":{"column":8,"line":75}},"name":"(anonymous_9)"},"10":{"line":78,"loc":{"end":{"column":20,"line":78},"start":{"column":9,"line":78}},"name":"(anonymous_10)"},"11":{"line":84,"loc":{"end":{"column":22,"line":84},"start":{"column":9,"line":84}},"name":"(anonymous_11)"},"12":{"line":87,"loc":{"end":{"column":27,"line":87},"start":{"column":14,"line":87}},"name":"(anonymous_12)"},"13":{"line":90,"loc":{"end":{"column":28,"line":90},"start":{"column":17,"line":90}},"name":"(anonymous_13)"},"14":{"line":93,"loc":{"end":{"column":34,"line":93},"start":{"column":23,"line":93}},"name":"(anonymous_14)"},"15":{"line":96,"loc":{"end":{"column":27,"line":96},"start":{"column":16,"line":96}},"name":"(anonymous_15)"},"16":{"line":99,"loc":{"end":{"column":28,"line":99},"start":{"column":17,"line":99}},"name":"(anonymous_16)"},"17":{"line":102,"loc":{"end":{"column":28,"line":102},"start":{"column":17,"line":102}},"name":"(anonymous_17)"},"18":{"line":104,"loc":{"end":{"column":75,"line":104},"start":{"column":48,"line":104}},"name":"(anonymous_18)"},"19":{"line":107,"loc":{"end":{"column":79,"line":107},"start":{"column":61,"line":107}},"name":"(anonymous_19)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/media.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":3,"10":3,"11":3,"12":3,"13":3,"14":3,"15":21,"16":21,"17":21,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":2,"27":2,"28":2,"29":24,"30":24,"31":21,"32":21,"33":21,"34":21,"35":21,"36":21,"37":2,"38":2,"39":2,"40":2,"41":2,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":3,"53":3,"54":15,"55":3,"56":6,"57":21,"58":21},"statementMap":{"1":{"end":{"column":132,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":36,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":55,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":20,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":38,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":140,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":2,"line":24},"start":{"column":0,"line":15}},"9":{"end":{"column":39,"line":16},"start":{"column":2,"line":16}},"10":{"end":{"column":5,"line":19},"start":{"column":2,"line":17}},"11":{"end":{"column":43,"line":18},"start":{"column":4,"line":18}},"12":{"end":{"column":5,"line":22},"start":{"column":2,"line":20}},"13":{"end":{"column":43,"line":21},"start":{"column":4,"line":21}},"14":{"end":{"column":51,"line":23},"start":{"column":2,"line":23}},"15":{"end":{"column":2,"line":112},"start":{"column":0,"line":26}},"16":{"end":{"column":31,"line":29},"start":{"column":4,"line":29}},"17":{"end":{"column":47,"line":30},"start":{"column":4,"line":30}},"18":{"end":{"column":36,"line":33},"start":{"column":4,"line":33}},"19":{"end":{"column":5,"line":45},"start":{"column":4,"line":34}},"20":{"end":{"column":46,"line":35},"start":{"column":6,"line":35}},"21":{"end":{"column":58,"line":36},"start":{"column":6,"line":36}},"22":{"end":{"column":7,"line":44},"start":{"column":6,"line":37}},"23":{"end":{"column":57,"line":38},"start":{"column":8,"line":38}},"24":{"end":{"column":10,"line":42},"start":{"column":8,"line":39}},"25":{"end":{"column":41,"line":43},"start":{"column":8,"line":43}},"26":{"end":{"column":14,"line":48},"start":{"column":4,"line":48}},"27":{"end":{"column":63,"line":49},"start":{"column":4,"line":49}},"28":{"end":{"column":7,"line":64},"start":{"column":4,"line":50}},"29":{"end":{"column":38,"line":51},"start":{"column":6,"line":51}},"30":{"end":{"column":7,"line":63},"start":{"column":6,"line":52}},"31":{"end":{"column":48,"line":53},"start":{"column":8,"line":53}},"32":{"end":{"column":60,"line":54},"start":{"column":8,"line":54}},"33":{"end":{"column":9,"line":62},"start":{"column":8,"line":55}},"34":{"end":{"column":59,"line":56},"start":{"column":10,"line":56}},"35":{"end":{"column":12,"line":60},"start":{"column":10,"line":57}},"36":{"end":{"column":46,"line":61},"start":{"column":10,"line":61}},"37":{"end":{"column":5,"line":69},"start":{"column":4,"line":67}},"38":{"end":{"column":89,"line":68},"start":{"column":6,"line":68}},"39":{"end":{"column":5,"line":72},"start":{"column":4,"line":70}},"40":{"end":{"column":61,"line":71},"start":{"column":6,"line":71}},"41":{"end":{"column":49,"line":73},"start":{"column":4,"line":73}},"42":{"end":{"column":27,"line":76},"start":{"column":4,"line":76}},"43":{"end":{"column":21,"line":79},"start":{"column":4,"line":79}},"44":{"end":{"column":29,"line":80},"start":{"column":4,"line":80}},"45":{"end":{"column":30,"line":81},"start":{"column":4,"line":81}},"46":{"end":{"column":27,"line":85},"start":{"column":6,"line":85}},"47":{"end":{"column":35,"line":88},"start":{"column":6,"line":88}},"48":{"end":{"column":33,"line":91},"start":{"column":6,"line":91}},"49":{"end":{"column":27,"line":94},"start":{"column":6,"line":94}},"50":{"end":{"column":54,"line":97},"start":{"column":6,"line":97}},"51":{"end":{"column":33,"line":100},"start":{"column":6,"line":100}},"52":{"end":{"column":20,"line":103},"start":{"column":6,"line":103}},"53":{"end":{"column":13,"line":106},"start":{"column":6,"line":104}},"54":{"end":{"column":49,"line":105},"start":{"column":8,"line":105}},"55":{"end":{"column":20,"line":109},"start":{"column":6,"line":107}},"56":{"end":{"column":40,"line":108},"start":{"column":8,"line":108}},"57":{"end":{"column":77,"line":114},"start":{"column":0,"line":114}},"58":{"end":{"column":2,"line":119},"start":{"column":0,"line":116}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"16":3,"17":3,"18":3,"20":3,"21":3,"23":3,"26":21,"29":21,"30":21,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"43":0,"48":2,"49":2,"50":2,"51":24,"52":24,"53":21,"54":21,"55":21,"56":21,"57":21,"61":21,"67":2,"68":2,"70":2,"71":2,"73":2,"76":0,"79":0,"80":0,"81":0,"85":0,"88":0,"91":0,"94":0,"97":0,"100":0,"103":3,"104":3,"105":15,"107":3,"108":6,"114":21,"116":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/performance-forecast.coffee":{"b":{"1":[75,54],"2":[105,24],"3":[46,83],"4":[10,0],"5":[10,0],"6":[2,0],"7":[2,2],"8":[2,2],"9":[2,2],"10":[0,0],"11":[0,0],"12":[2,8],"13":[10,8],"14":[2,8],"15":[10,8],"16":[2,8],"17":[0,0],"18":[10,0],"19":[0,0],"20":[4,0],"21":[266,225],"22":[14,0],"23":[0,14],"24":[0,0],"25":[0,0]},"branchMap":{"1":{"line":10,"locations":[{"end":{"column":2,"line":10},"start":{"column":2,"line":10}},{"end":{"column":2,"line":10},"start":{"column":2,"line":10}}],"type":"if"},"2":{"line":10,"locations":[{"end":{"column":61,"line":10},"start":{"column":50,"line":10}},{"end":{"column":70,"line":10},"start":{"column":64,"line":10}}],"type":"cond-expr"},"3":{"line":13,"locations":[{"end":{"column":2,"line":13},"start":{"column":2,"line":13}},{"end":{"column":2,"line":13},"start":{"column":2,"line":13}}],"type":"if"},"4":{"line":34,"locations":[{"end":{"column":55,"line":34},"start":{"column":14,"line":34}},{"end":{"column":62,"line":34},"start":{"column":60,"line":34}}],"type":"binary-expr"},"5":{"line":34,"locations":[{"end":{"column":46,"line":34},"start":{"column":31,"line":34}},{"end":{"column":55,"line":34},"start":{"column":49,"line":34}}],"type":"cond-expr"},"6":{"line":65,"locations":[{"end":{"column":34,"line":65},"start":{"column":4,"line":65}},{"end":{"column":52,"line":65},"start":{"column":39,"line":65}}],"type":"binary-expr"},"7":{"line":67,"locations":[{"end":{"column":29,"line":67},"start":{"column":4,"line":67}},{"end":{"column":48,"line":67},"start":{"column":34,"line":67}}],"type":"binary-expr"},"8":{"line":74,"locations":[{"end":{"column":34,"line":74},"start":{"column":4,"line":74}},{"end":{"column":52,"line":74},"start":{"column":39,"line":74}}],"type":"binary-expr"},"9":{"line":75,"locations":[{"end":{"column":30,"line":75},"start":{"column":4,"line":75}},{"end":{"column":49,"line":75},"start":{"column":35,"line":75}}],"type":"binary-expr"},"10":{"line":83,"locations":[{"end":{"column":6,"line":83},"start":{"column":6,"line":83}},{"end":{"column":6,"line":83},"start":{"column":6,"line":83}}],"type":"if"},"11":{"line":92,"locations":[{"end":{"column":66,"line":92},"start":{"column":54,"line":92}},{"end":{"column":75,"line":92},"start":{"column":69,"line":92}}],"type":"cond-expr"},"12":{"line":97,"locations":[{"end":{"column":67,"line":97},"start":{"column":55,"line":97}},{"end":{"column":76,"line":97},"start":{"column":70,"line":97}}],"type":"cond-expr"},"13":{"line":98,"locations":[{"end":{"column":53,"line":98},"start":{"column":14,"line":98}},{"end":{"column":60,"line":98},"start":{"column":58,"line":98}}],"type":"binary-expr"},"14":{"line":98,"locations":[{"end":{"column":44,"line":98},"start":{"column":30,"line":98}},{"end":{"column":53,"line":98},"start":{"column":47,"line":98}}],"type":"cond-expr"},"15":{"line":103,"locations":[{"end":{"column":92,"line":103},"start":{"column":30,"line":103}},{"end":{"column":99,"line":103},"start":{"column":97,"line":103}}],"type":"binary-expr"},"16":{"line":103,"locations":[{"end":{"column":83,"line":103},"start":{"column":71,"line":103}},{"end":{"column":92,"line":103},"start":{"column":86,"line":103}}],"type":"cond-expr"},"17":{"line":108,"locations":[{"end":{"column":61,"line":108},"start":{"column":49,"line":108}},{"end":{"column":70,"line":108},"start":{"column":64,"line":108}}],"type":"cond-expr"},"18":{"line":113,"locations":[{"end":{"column":67,"line":113},"start":{"column":55,"line":113}},{"end":{"column":76,"line":113},"start":{"column":70,"line":113}}],"type":"cond-expr"},"19":{"line":118,"locations":[{"end":{"column":67,"line":118},"start":{"column":55,"line":118}},{"end":{"column":76,"line":118},"start":{"column":70,"line":118}}],"type":"cond-expr"},"20":{"line":125,"locations":[{"end":{"column":4,"line":125},"start":{"column":4,"line":125}},{"end":{"column":4,"line":125},"start":{"column":4,"line":125}}],"type":"if"},"21":{"line":131,"locations":[{"end":{"column":50,"line":131},"start":{"column":11,"line":131}},{"end":{"column":97,"line":131},"start":{"column":54,"line":131}}],"type":"binary-expr"},"22":{"line":140,"locations":[{"end":{"column":4,"line":140},"start":{"column":4,"line":140}},{"end":{"column":4,"line":140},"start":{"column":4,"line":140}}],"type":"if"},"23":{"line":144,"locations":[{"end":{"column":4,"line":144},"start":{"column":4,"line":144}},{"end":{"column":4,"line":144},"start":{"column":4,"line":144}}],"type":"if"},"24":{"line":155,"locations":[{"end":{"column":16,"line":155},"start":{"column":4,"line":155}},{"end":{"column":37,"line":155},"start":{"column":21,"line":155}}],"type":"binary-expr"},"25":{"line":156,"locations":[{"end":{"column":23,"line":156},"start":{"column":4,"line":156}},{"end":{"column":51,"line":156},"start":{"column":28,"line":156}}],"type":"binary-expr"}},"code":["var CrudConfig, Helpers, Student, Teacher, TeacherStudent, _, extendConfig, findAllSections, makeSimpleStore, ref;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","_ = require('underscore');","","findAllSections = function(section) {","  var child, i, j, len, len1, ref1, ref2, ref3, sections;","  sections = [];","  if (((ref1 = section.chapter_section) != null ? ref1.length : void 0) > 1) {","    sections.push(section);","  }","  if (section.children) {","    ref2 = section.children;","    for (i = 0, len = ref2.length; i < len; i++) {","      child = ref2[i];","      ref3 = findAllSections(child);","      for (j = 0, len1 = ref3.length; j < len1; j++) {","        section = ref3[j];","        sections.push(section);","      }","    }","  }","  return sections;","};","","Teacher = makeSimpleStore(extendConfig({","  exports: {","    getChaptersForPeriod: function(courseId, periodId) {","      var period;","      period = _.findWhere(this._get(courseId), {","        period_id: periodId","      });","      return (period != null ? period.children : void 0) || [];","    },","    getSectionsForPeriod: function(courseId, periodId) {","      var period;","      period = _.findWhere(this._get(courseId), {","        period_id: periodId","      });","      return findAllSections(period);","    }","  }","}, new CrudConfig));","","Student = makeSimpleStore(extendConfig({","  exports: {","    getSortedSections: function(courseId) {","      var sections;","      sections = findAllSections(this._get(courseId));","      return _.sortBy(sections, function(s) {","        return s.clue.value;","      });","    },","    getAllSections: function(courseId) {","      return findAllSections(this._get(courseId));","    }","  }","}, new CrudConfig));","","TeacherStudent = makeSimpleStore(extendConfig({","  loaded: function(obj, id, arg) {","    var base, base1, roleId;","    roleId = arg.roleId;","    (base = this._asyncStatus)[id] || (base[id] = {});","    this._asyncStatus[id][roleId] = 'LOADED';","    (base1 = this._local)[id] || (base1[id] = {});","    this._local[id][roleId] = obj;","    return this.emitChange();","  },","  load: function(id, arg) {","    var base, base1, roleId;","    roleId = arg.roleId;","    (base = this._asyncStatus)[id] || (base[id] = {});","    (base1 = this._reload)[id] || (base1[id] = {});","    this._reload[id][roleId] = false;","    this._asyncStatus[id][roleId] = 'LOADING';","    return this.emitChange();","  },","  exports: {","    getSortedSections: function(courseId, roleId, property) {","      var sections;","      if (property == null) {","        property = 'current_level';","      }","      sections = findAllSections(this._get(courseId));","      return _.sortBy(sections, property);","    },","    get: function(courseId, arg) {","      var ref1, roleId;","      roleId = arg.roleId;","      return (ref1 = this._local[courseId]) != null ? ref1[roleId] : void 0;","    },","    getChapters: function(courseId, arg) {","      var guide, ref1, roleId;","      roleId = arg.roleId;","      guide = (ref1 = this._local[courseId]) != null ? ref1[roleId] : void 0;","      return (guide != null ? guide.children : void 0) || [];","    },","    getAllSections: function(courseId, arg) {","      var ref1, roleId;","      roleId = arg.roleId;","      return findAllSections(((ref1 = this._local[courseId]) != null ? ref1[roleId] : void 0) || {});","    },","    reload: function(id, arg) {","      var ref1, roleId;","      roleId = arg.roleId;","      return (ref1 = this._reload[id]) != null ? ref1[roleId] : void 0;","    },","    isLoading: function(id, arg) {","      var ref1, roleId;","      roleId = arg.roleId;","      return ((ref1 = this._asyncStatus[id]) != null ? ref1[roleId] : void 0) === 'LOADING';","    },","    isLoaded: function(id, arg) {","      var ref1, roleId;","      roleId = arg.roleId;","      return ((ref1 = this._asyncStatus[id]) != null ? ref1[roleId] : void 0) === 'LOADED';","    }","  }","}, new CrudConfig));","","Helpers = {","  recentSections: function(sections, limit) {","    if (limit == null) {","      limit = 4;","    }","    return _.last(sections, limit);","  },","  canDisplayForecast: function(clue, sampleSizeThreshold) {","    return clue.sample_size >= sampleSizeThreshold || clue.sample_size_interpretation !== 'below';","  },","  filterForecastedSections: function(sections, sampleSizeThreshold) {","    return _.filter(sections, function(s) {","      return Helpers.canDisplayForecast(s.clue, sampleSizeThreshold);","    });","  },","  weakestSections: function(sections, sampleSizeThreshold, displayCount) {","    var validSections;","    if (displayCount == null) {","      displayCount = 4;","    }","    validSections = this.filterForecastedSections(sections, sampleSizeThreshold);","    if (!(validSections.length >= 2)) {","      return [];","    }","    displayCount = Math.min(Math.max(1, Math.floor(validSections.length / 2)), displayCount);","    return _.chain(validSections).sortBy(function(s) {","      return s.clue.value;","    }).first(displayCount).value();","  },","  canPracticeWeakest: function(arg) {","    var displayCount, minimumSectionCount, sampleSizeThreshold, sections;","    sections = arg.sections, sampleSizeThreshold = arg.sampleSizeThreshold, displayCount = arg.displayCount, minimumSectionCount = arg.minimumSectionCount;","    displayCount || (displayCount = 4);","    minimumSectionCount || (minimumSectionCount = 1);","    return this.weakestSections(sections, displayCount).length >= minimumSectionCount;","  },","  canDisplayWeakest: function(arg) {","    var sampleSizeThreshold, sections;","    sections = arg.sections, sampleSizeThreshold = arg.sampleSizeThreshold;","    return this.filterForecastedSections(sections).length > 1;","  },","  pagesForSections: function(sections) {","    return _.chain(sections).pluck('page_ids').flatten().uniq().value();","  }","};","","module.exports = {","  Student: Student,","  Teacher: Teacher,","  TeacherStudent: TeacherStudent,","  Helpers: Helpers","};",""],"f":{"1":129,"2":10,"3":10,"4":0,"5":0,"6":4,"7":2,"8":2,"9":0,"10":0,"11":10,"12":10,"13":0,"14":10,"15":0,"16":4,"17":266,"18":26,"19":138,"20":14,"21":71,"22":0,"23":12,"24":2},"fnMap":{"1":{"line":7,"loc":{"end":{"column":36,"line":7},"start":{"column":18,"line":7}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":55,"line":29},"start":{"column":26,"line":29}},"name":"(anonymous_2)"},"3":{"line":36,"loc":{"end":{"column":55,"line":36},"start":{"column":26,"line":36}},"name":"(anonymous_3)"},"4":{"line":48,"loc":{"end":{"column":42,"line":48},"start":{"column":23,"line":48}},"name":"(anonymous_4)"},"5":{"line":51,"loc":{"end":{"column":44,"line":51},"start":{"column":32,"line":51}},"name":"(anonymous_5)"},"6":{"line":55,"loc":{"end":{"column":39,"line":55},"start":{"column":20,"line":55}},"name":"(anonymous_6)"},"7":{"line":62,"loc":{"end":{"column":33,"line":62},"start":{"column":10,"line":62}},"name":"(anonymous_7)"},"8":{"line":71,"loc":{"end":{"column":26,"line":71},"start":{"column":8,"line":71}},"name":"(anonymous_8)"},"9":{"line":81,"loc":{"end":{"column":60,"line":81},"start":{"column":23,"line":81}},"name":"(anonymous_9)"},"10":{"line":89,"loc":{"end":{"column":33,"line":89},"start":{"column":9,"line":89}},"name":"(anonymous_10)"},"11":{"line":94,"loc":{"end":{"column":41,"line":94},"start":{"column":17,"line":94}},"name":"(anonymous_11)"},"12":{"line":100,"loc":{"end":{"column":44,"line":100},"start":{"column":20,"line":100}},"name":"(anonymous_12)"},"13":{"line":105,"loc":{"end":{"column":30,"line":105},"start":{"column":12,"line":105}},"name":"(anonymous_13)"},"14":{"line":110,"loc":{"end":{"column":33,"line":110},"start":{"column":15,"line":110}},"name":"(anonymous_14)"},"15":{"line":115,"loc":{"end":{"column":32,"line":115},"start":{"column":14,"line":115}},"name":"(anonymous_15)"},"16":{"line":124,"loc":{"end":{"column":44,"line":124},"start":{"column":18,"line":124}},"name":"(anonymous_16)"},"17":{"line":130,"loc":{"end":{"column":58,"line":130},"start":{"column":22,"line":130}},"name":"(anonymous_17)"},"18":{"line":133,"loc":{"end":{"column":68,"line":133},"start":{"column":28,"line":133}},"name":"(anonymous_18)"},"19":{"line":134,"loc":{"end":{"column":42,"line":134},"start":{"column":30,"line":134}},"name":"(anonymous_19)"},"20":{"line":138,"loc":{"end":{"column":73,"line":138},"start":{"column":19,"line":138}},"name":"(anonymous_20)"},"21":{"line":148,"loc":{"end":{"column":53,"line":148},"start":{"column":41,"line":148}},"name":"(anonymous_21)"},"22":{"line":152,"loc":{"end":{"column":36,"line":152},"start":{"column":22,"line":152}},"name":"(anonymous_22)"},"23":{"line":159,"loc":{"end":{"column":35,"line":159},"start":{"column":21,"line":159}},"name":"(anonymous_23)"},"24":{"line":164,"loc":{"end":{"column":39,"line":164},"start":{"column":20,"line":164}},"name":"(anonymous_24)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/performance-forecast.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":129,"6":129,"7":129,"8":75,"9":129,"10":46,"11":46,"12":105,"13":105,"14":105,"15":150,"16":150,"17":129,"18":21,"19":10,"20":10,"21":10,"22":10,"23":10,"24":10,"25":21,"26":0,"27":0,"28":0,"29":0,"30":4,"31":21,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":2,"42":2,"43":2,"44":2,"45":2,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":10,"55":10,"56":10,"57":10,"58":10,"59":10,"60":10,"61":0,"62":0,"63":0,"64":10,"65":10,"66":10,"67":0,"68":0,"69":0,"70":21,"71":4,"72":4,"73":4,"74":266,"75":26,"76":138,"77":14,"78":14,"79":14,"80":14,"81":14,"82":0,"83":14,"84":14,"85":71,"86":0,"87":0,"88":0,"89":0,"90":0,"91":12,"92":12,"93":12,"94":2,"95":21},"statementMap":{"1":{"end":{"column":114,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":25},"start":{"column":0,"line":7}},"5":{"end":{"column":57,"line":8},"start":{"column":2,"line":8}},"6":{"end":{"column":16,"line":9},"start":{"column":2,"line":9}},"7":{"end":{"column":3,"line":12},"start":{"column":2,"line":10}},"8":{"end":{"column":27,"line":11},"start":{"column":4,"line":11}},"9":{"end":{"column":3,"line":23},"start":{"column":2,"line":13}},"10":{"end":{"column":28,"line":14},"start":{"column":4,"line":14}},"11":{"end":{"column":5,"line":22},"start":{"column":4,"line":15}},"12":{"end":{"column":22,"line":16},"start":{"column":6,"line":16}},"13":{"end":{"column":36,"line":17},"start":{"column":6,"line":17}},"14":{"end":{"column":7,"line":21},"start":{"column":6,"line":18}},"15":{"end":{"column":26,"line":19},"start":{"column":8,"line":19}},"16":{"end":{"column":31,"line":20},"start":{"column":8,"line":20}},"17":{"end":{"column":18,"line":24},"start":{"column":2,"line":24}},"18":{"end":{"column":20,"line":44},"start":{"column":0,"line":27}},"19":{"end":{"column":17,"line":30},"start":{"column":6,"line":30}},"20":{"end":{"column":9,"line":33},"start":{"column":6,"line":31}},"21":{"end":{"column":63,"line":34},"start":{"column":6,"line":34}},"22":{"end":{"column":17,"line":37},"start":{"column":6,"line":37}},"23":{"end":{"column":9,"line":40},"start":{"column":6,"line":38}},"24":{"end":{"column":37,"line":41},"start":{"column":6,"line":41}},"25":{"end":{"column":20,"line":59},"start":{"column":0,"line":46}},"26":{"end":{"column":19,"line":49},"start":{"column":6,"line":49}},"27":{"end":{"column":54,"line":50},"start":{"column":6,"line":50}},"28":{"end":{"column":9,"line":53},"start":{"column":6,"line":51}},"29":{"end":{"column":28,"line":52},"start":{"column":8,"line":52}},"30":{"end":{"column":50,"line":56},"start":{"column":6,"line":56}},"31":{"end":{"column":20,"line":121},"start":{"column":0,"line":61}},"32":{"end":{"column":28,"line":63},"start":{"column":4,"line":63}},"33":{"end":{"column":24,"line":64},"start":{"column":4,"line":64}},"34":{"end":{"column":54,"line":65},"start":{"column":4,"line":65}},"35":{"end":{"column":45,"line":66},"start":{"column":4,"line":66}},"36":{"end":{"column":50,"line":67},"start":{"column":4,"line":67}},"37":{"end":{"column":34,"line":68},"start":{"column":4,"line":68}},"38":{"end":{"column":29,"line":69},"start":{"column":4,"line":69}},"39":{"end":{"column":28,"line":72},"start":{"column":4,"line":72}},"40":{"end":{"column":24,"line":73},"start":{"column":4,"line":73}},"41":{"end":{"column":54,"line":74},"start":{"column":4,"line":74}},"42":{"end":{"column":51,"line":75},"start":{"column":4,"line":75}},"43":{"end":{"column":37,"line":76},"start":{"column":4,"line":76}},"44":{"end":{"column":46,"line":77},"start":{"column":4,"line":77}},"45":{"end":{"column":29,"line":78},"start":{"column":4,"line":78}},"46":{"end":{"column":19,"line":82},"start":{"column":6,"line":82}},"47":{"end":{"column":7,"line":85},"start":{"column":6,"line":83}},"48":{"end":{"column":35,"line":84},"start":{"column":8,"line":84}},"49":{"end":{"column":54,"line":86},"start":{"column":6,"line":86}},"50":{"end":{"column":42,"line":87},"start":{"column":6,"line":87}},"51":{"end":{"column":23,"line":90},"start":{"column":6,"line":90}},"52":{"end":{"column":26,"line":91},"start":{"column":6,"line":91}},"53":{"end":{"column":76,"line":92},"start":{"column":6,"line":92}},"54":{"end":{"column":30,"line":95},"start":{"column":6,"line":95}},"55":{"end":{"column":26,"line":96},"start":{"column":6,"line":96}},"56":{"end":{"column":77,"line":97},"start":{"column":6,"line":97}},"57":{"end":{"column":61,"line":98},"start":{"column":6,"line":98}},"58":{"end":{"column":23,"line":101},"start":{"column":6,"line":101}},"59":{"end":{"column":26,"line":102},"start":{"column":6,"line":102}},"60":{"end":{"column":101,"line":103},"start":{"column":6,"line":103}},"61":{"end":{"column":23,"line":106},"start":{"column":6,"line":106}},"62":{"end":{"column":26,"line":107},"start":{"column":6,"line":107}},"63":{"end":{"column":71,"line":108},"start":{"column":6,"line":108}},"64":{"end":{"column":23,"line":111},"start":{"column":6,"line":111}},"65":{"end":{"column":26,"line":112},"start":{"column":6,"line":112}},"66":{"end":{"column":92,"line":113},"start":{"column":6,"line":113}},"67":{"end":{"column":23,"line":116},"start":{"column":6,"line":116}},"68":{"end":{"column":26,"line":117},"start":{"column":6,"line":117}},"69":{"end":{"column":91,"line":118},"start":{"column":6,"line":118}},"70":{"end":{"column":2,"line":167},"start":{"column":0,"line":123}},"71":{"end":{"column":5,"line":127},"start":{"column":4,"line":125}},"72":{"end":{"column":16,"line":126},"start":{"column":6,"line":126}},"73":{"end":{"column":35,"line":128},"start":{"column":4,"line":128}},"74":{"end":{"column":98,"line":131},"start":{"column":4,"line":131}},"75":{"end":{"column":7,"line":136},"start":{"column":4,"line":134}},"76":{"end":{"column":69,"line":135},"start":{"column":6,"line":135}},"77":{"end":{"column":22,"line":139},"start":{"column":4,"line":139}},"78":{"end":{"column":5,"line":142},"start":{"column":4,"line":140}},"79":{"end":{"column":23,"line":141},"start":{"column":6,"line":141}},"80":{"end":{"column":81,"line":143},"start":{"column":4,"line":143}},"81":{"end":{"column":5,"line":146},"start":{"column":4,"line":144}},"82":{"end":{"column":16,"line":145},"start":{"column":6,"line":145}},"83":{"end":{"column":93,"line":147},"start":{"column":4,"line":147}},"84":{"end":{"column":35,"line":150},"start":{"column":4,"line":148}},"85":{"end":{"column":26,"line":149},"start":{"column":6,"line":149}},"86":{"end":{"column":73,"line":153},"start":{"column":4,"line":153}},"87":{"end":{"column":155,"line":154},"start":{"column":4,"line":154}},"88":{"end":{"column":39,"line":155},"start":{"column":4,"line":155}},"89":{"end":{"column":53,"line":156},"start":{"column":4,"line":156}},"90":{"end":{"column":86,"line":157},"start":{"column":4,"line":157}},"91":{"end":{"column":38,"line":160},"start":{"column":4,"line":160}},"92":{"end":{"column":75,"line":161},"start":{"column":4,"line":161}},"93":{"end":{"column":62,"line":162},"start":{"column":4,"line":162}},"94":{"end":{"column":72,"line":165},"start":{"column":4,"line":165}},"95":{"end":{"column":2,"line":174},"start":{"column":0,"line":169}}},"l":{"1":21,"3":21,"5":21,"7":21,"8":129,"9":129,"10":129,"11":75,"13":129,"14":46,"15":46,"16":105,"17":105,"18":105,"19":150,"20":150,"24":129,"27":21,"30":10,"31":10,"34":10,"37":10,"38":10,"41":10,"46":21,"49":0,"50":0,"51":0,"52":0,"56":4,"61":21,"63":2,"64":2,"65":2,"66":2,"67":2,"68":2,"69":2,"72":2,"73":2,"74":2,"75":2,"76":2,"77":2,"78":2,"82":0,"83":0,"84":0,"86":0,"87":0,"90":0,"91":0,"92":0,"95":10,"96":10,"97":10,"98":10,"101":10,"102":10,"103":10,"106":0,"107":0,"108":0,"111":10,"112":10,"113":10,"116":0,"117":0,"118":0,"123":21,"125":4,"126":4,"128":4,"131":266,"134":26,"135":138,"139":14,"140":14,"141":14,"143":14,"144":14,"145":0,"147":14,"148":14,"149":71,"153":0,"154":0,"155":0,"156":0,"157":0,"160":12,"161":12,"162":12,"165":2,"169":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/period.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"branchMap":{"1":{"line":27,"locations":[{"end":{"column":8,"line":27},"start":{"column":8,"line":27}},{"end":{"column":8,"line":27},"start":{"column":8,"line":27}}],"type":"if"},"2":{"line":28,"locations":[{"end":{"column":10,"line":28},"start":{"column":10,"line":28}},{"end":{"column":10,"line":28},"start":{"column":10,"line":28}}],"type":"if"},"3":{"line":33,"locations":[{"end":{"column":6,"line":33},"start":{"column":6,"line":33}},{"end":{"column":6,"line":33},"start":{"column":6,"line":33}}],"type":"if"},"4":{"line":33,"locations":[{"end":{"column":23,"line":33},"start":{"column":11,"line":33}},{"end":{"column":39,"line":33},"start":{"column":28,"line":33}}],"type":"binary-expr"}},"code":["var CourseActions, CrudConfig, PeriodConfig, _, actions, extendConfig, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","CourseActions = require('./course').CourseActions;","","_ = require('underscore');","","PeriodConfig = {","  create: function(courseId, params) {},","  created: function(period, courseId) {","    return CourseActions.load(courseId);","  },","  save: function(courseId, periodId, params) {},","  saved: function(periodId, courseId) {","    return CourseActions.load(courseId);","  },","  \"delete\": function(periodId, courseId) {},","  deleted: function(result, periodId, courseId) {","    return CourseActions.load(courseId);","  },","  exports: {","    validatePeriodName: function(name, periods, active) {","      var i, len, period;","      for (i = 0, len = periods.length; i < len; i++) {","        period = periods[i];","        if (period.name === name) {","          if (name !== active) {","            return ['periodNameExists'];","          }","        }","      }","      if ((name == null) || name === '') {","        return ['required'];","      }","    }","  }","};","","extendConfig(PeriodConfig, new CrudConfig());","","ref1 = makeSimpleStore(PeriodConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  PeriodActions: actions,","  PeriodStore: store","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"line":10,"loc":{"end":{"column":37,"line":10},"start":{"column":10,"line":10}},"name":"(anonymous_1)"},"2":{"line":11,"loc":{"end":{"column":38,"line":11},"start":{"column":11,"line":11}},"name":"(anonymous_2)"},"3":{"line":14,"loc":{"end":{"column":45,"line":14},"start":{"column":8,"line":14}},"name":"(anonymous_3)"},"4":{"line":15,"loc":{"end":{"column":38,"line":15},"start":{"column":9,"line":15}},"name":"(anonymous_4)"},"5":{"line":18,"loc":{"end":{"column":41,"line":18},"start":{"column":12,"line":18}},"name":"(anonymous_5)"},"6":{"line":19,"loc":{"end":{"column":48,"line":19},"start":{"column":11,"line":19}},"name":"(anonymous_6)"},"7":{"line":23,"loc":{"end":{"column":56,"line":23},"start":{"column":24,"line":23}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/period.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":21,"18":21,"19":21},"statementMap":{"1":{"end":{"column":105,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":50,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":38},"start":{"column":0,"line":9}},"6":{"end":{"column":40,"line":12},"start":{"column":4,"line":12}},"7":{"end":{"column":40,"line":16},"start":{"column":4,"line":16}},"8":{"end":{"column":40,"line":20},"start":{"column":4,"line":20}},"9":{"end":{"column":25,"line":24},"start":{"column":6,"line":24}},"10":{"end":{"column":7,"line":32},"start":{"column":6,"line":25}},"11":{"end":{"column":28,"line":26},"start":{"column":8,"line":26}},"12":{"end":{"column":9,"line":31},"start":{"column":8,"line":27}},"13":{"end":{"column":11,"line":30},"start":{"column":10,"line":28}},"14":{"end":{"column":40,"line":29},"start":{"column":12,"line":29}},"15":{"end":{"column":7,"line":35},"start":{"column":6,"line":33}},"16":{"end":{"column":28,"line":34},"start":{"column":8,"line":34}},"17":{"end":{"column":45,"line":40},"start":{"column":0,"line":40}},"18":{"end":{"column":81,"line":42},"start":{"column":0,"line":42}},"19":{"end":{"column":2,"line":47},"start":{"column":0,"line":44}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"12":0,"16":0,"20":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"33":0,"34":0,"40":21,"42":21,"44":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/plan-publish.coffee":{"b":{},"branchMap":{},"code":["var CrudConfig, JobListenerConfig, PlanPublishConfig, _, actions, extendConfig, makeSimpleStore, moment, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","JobListenerConfig = require('../helpers/job').JobListenerConfig;","","_ = require('underscore');","","moment = require('moment');","","PlanPublishConfig = {","  _getIds: function(obj) {","    var id, jobId, publish_job_uuid;","    publish_job_uuid = obj.publish_job_uuid, id = obj.id;","    jobId = publish_job_uuid;","    return {","      id: id,","      jobId: jobId","    };","  }","};","","extendConfig(PlanPublishConfig, new JobListenerConfig(2000, 100));","","PlanPublishConfig.exports.isPublishing = PlanPublishConfig.exports.isProgressing;","","PlanPublishConfig.exports.isPublished = PlanPublishConfig.exports.isSucceeded;","","ref1 = makeSimpleStore(PlanPublishConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  PlanPublishActions: actions,","  PlanPublishStore: store","};",""],"f":{"1":1},"fnMap":{"1":{"line":12,"loc":{"end":{"column":25,"line":12},"start":{"column":11,"line":12}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/plan-publish.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":1,"8":1,"9":1,"10":1,"11":21,"12":21,"13":21,"14":21,"15":21},"statementMap":{"1":{"end":{"column":122,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":64,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":27,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":21},"start":{"column":0,"line":11}},"7":{"end":{"column":36,"line":13},"start":{"column":4,"line":13}},"8":{"end":{"column":57,"line":14},"start":{"column":4,"line":14}},"9":{"end":{"column":29,"line":15},"start":{"column":4,"line":15}},"10":{"end":{"column":6,"line":19},"start":{"column":4,"line":16}},"11":{"end":{"column":66,"line":23},"start":{"column":0,"line":23}},"12":{"end":{"column":81,"line":25},"start":{"column":0,"line":25}},"13":{"end":{"column":78,"line":27},"start":{"column":0,"line":27}},"14":{"end":{"column":86,"line":29},"start":{"column":0,"line":29}},"15":{"end":{"column":2,"line":34},"start":{"column":0,"line":31}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":1,"14":1,"15":1,"16":1,"23":21,"25":21,"27":21,"29":21,"31":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/reference-book-exercise.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"branchMap":{"1":{"line":18,"locations":[{"end":{"column":4,"line":18},"start":{"column":4,"line":18}},{"end":{"column":4,"line":18},"start":{"column":4,"line":18}}],"type":"if"},"2":{"line":22,"locations":[{"end":{"column":4,"line":22},"start":{"column":4,"line":22}},{"end":{"column":4,"line":22},"start":{"column":4,"line":22}}],"type":"if"},"3":{"line":52,"locations":[{"end":{"column":4,"line":52},"start":{"column":4,"line":52}},{"end":{"column":4,"line":52},"start":{"column":4,"line":52}}],"type":"if"},"4":{"line":82,"locations":[{"end":{"column":6,"line":82},"start":{"column":6,"line":82}},{"end":{"column":6,"line":82},"start":{"column":6,"line":82}}],"type":"if"}},"code":["var CrudConfig, LOADING, QUERY_START_STRING, ReferenceBookExerciseConfig, _, actions, combineQueries, extendConfig, getMultipleUrl, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","_ = require('underscore');","","LOADING = 'loading';","","QUERY_START_STRING = '?q=';","","combineQueries = function(multipleUrls) {","  var params, queryString, queryStrings, tags, urlsAndTags;","  params = {};","  tags = _.map(multipleUrls, function(url) {","    var param, queryString, ref1, value;","    queryString = decodeURIComponent(url.split(QUERY_START_STRING)[1]);","    ref1 = queryString.split(':'), param = ref1[0], value = ref1[1];","    if (params[param] == null) {","      params[param] = [];","    }","    params[param].push(value);","    if (param === 'tag') {","      return value;","    }","  });","  urlsAndTags = _.object(multipleUrls, tags);","  queryStrings = _.map(params, function(values, paramKey) {","    return paramKey + \":\" + (values.join(','));","  });","  queryString = queryStrings.join(' ');","  return {","    queryString: queryString,","    urlsAndTags: urlsAndTags","  };","};","","getMultipleUrl = function(multipleUrls, baseUrl) {","  var queryString;","  queryString = combineQueries(multipleUrls).queryString;","  return baseUrl + \"?q=\" + queryString;","};","","ReferenceBookExerciseConfig = {","  _toSeparate: {},","  loadMultiple: function(multipleUrls, baseUrl) {","    var queryString, ref1, url, urlsAndTags;","    ref1 = combineQueries(multipleUrls, baseUrl), queryString = ref1.queryString, urlsAndTags = ref1.urlsAndTags;","    url = baseUrl + \"?q=\" + queryString;","    return this._toSeparate[url] = urlsAndTags;","  },","  _loaded: function(obj, id) {","    if (this._toSeparate[id] != null) {","      _.each(this._toSeparate[id], (function(_this) {","        return function(tag, url) {","          var exercise, exerciseObj;","          exercise = _.find(obj.items, function(item) {","            return item.tags.indexOf(tag) > -1;","          });","          exerciseObj = {","            items: [exercise]","          };","          return _this.loaded(exerciseObj, url);","        };","      })(this));","      delete this._toSeparate[id];","      this.emit('loaded.multiple');","    } else {","      this.emit(\"loaded.\" + id);","    }","    return obj;","  },","  exports: {","    isQueued: function(id) {","      return _.chain(this._toSeparate).find(function(urlsAndTags) {","        return urlsAndTags[id] != null;","      }).isObject().value();","    },","    getMultipleUrl: function(multipleUrls) {","      var baseUrl, url;","      baseUrl = _.first(multipleUrls).split(QUERY_START_STRING)[0];","      url = getMultipleUrl(multipleUrls, baseUrl);","      if (this._toSeparate[url] == null) {","        this.loadMultiple(multipleUrls, baseUrl);","      }","      return url;","    }","  }","};","","extendConfig(ReferenceBookExerciseConfig, new CrudConfig());","","ref1 = makeSimpleStore(ReferenceBookExerciseConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  ReferenceBookExerciseActions: actions,","  ReferenceBookExerciseStore: store","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"line":11,"loc":{"end":{"column":40,"line":11},"start":{"column":17,"line":11}},"name":"(anonymous_1)"},"2":{"line":14,"loc":{"end":{"column":43,"line":14},"start":{"column":29,"line":14}},"name":"(anonymous_2)"},"3":{"line":27,"loc":{"end":{"column":58,"line":27},"start":{"column":31,"line":27}},"name":"(anonymous_3)"},"4":{"line":37,"loc":{"end":{"column":49,"line":37},"start":{"column":17,"line":37}},"name":"(anonymous_4)"},"5":{"line":45,"loc":{"end":{"column":48,"line":45},"start":{"column":16,"line":45}},"name":"(anonymous_5)"},"6":{"line":51,"loc":{"end":{"column":29,"line":51},"start":{"column":11,"line":51}},"name":"(anonymous_6)"},"7":{"line":53,"loc":{"end":{"column":52,"line":53},"start":{"column":36,"line":53}},"name":"(anonymous_7)"},"8":{"line":54,"loc":{"end":{"column":34,"line":54},"start":{"column":15,"line":54}},"name":"(anonymous_8)"},"9":{"line":56,"loc":{"end":{"column":54,"line":56},"start":{"column":39,"line":56}},"name":"(anonymous_9)"},"10":{"line":73,"loc":{"end":{"column":27,"line":73},"start":{"column":14,"line":73}},"name":"(anonymous_10)"},"11":{"line":74,"loc":{"end":{"column":66,"line":74},"start":{"column":44,"line":74}},"name":"(anonymous_11)"},"12":{"line":78,"loc":{"end":{"column":43,"line":78},"start":{"column":20,"line":78}},"name":"(anonymous_12)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/reference-book-exercise.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":21,"24":0,"25":0,"26":0,"27":21,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":21,"53":21,"54":21},"statementMap":{"1":{"end":{"column":166,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":20,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":27,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":35},"start":{"column":0,"line":11}},"7":{"end":{"column":59,"line":12},"start":{"column":2,"line":12}},"8":{"end":{"column":14,"line":13},"start":{"column":2,"line":13}},"9":{"end":{"column":5,"line":25},"start":{"column":2,"line":14}},"10":{"end":{"column":40,"line":15},"start":{"column":4,"line":15}},"11":{"end":{"column":71,"line":16},"start":{"column":4,"line":16}},"12":{"end":{"column":68,"line":17},"start":{"column":4,"line":17}},"13":{"end":{"column":5,"line":20},"start":{"column":4,"line":18}},"14":{"end":{"column":25,"line":19},"start":{"column":6,"line":19}},"15":{"end":{"column":30,"line":21},"start":{"column":4,"line":21}},"16":{"end":{"column":5,"line":24},"start":{"column":4,"line":22}},"17":{"end":{"column":19,"line":23},"start":{"column":6,"line":23}},"18":{"end":{"column":45,"line":26},"start":{"column":2,"line":26}},"19":{"end":{"column":5,"line":29},"start":{"column":2,"line":27}},"20":{"end":{"column":47,"line":28},"start":{"column":4,"line":28}},"21":{"end":{"column":39,"line":30},"start":{"column":2,"line":30}},"22":{"end":{"column":4,"line":34},"start":{"column":2,"line":31}},"23":{"end":{"column":2,"line":41},"start":{"column":0,"line":37}},"24":{"end":{"column":18,"line":38},"start":{"column":2,"line":38}},"25":{"end":{"column":57,"line":39},"start":{"column":2,"line":39}},"26":{"end":{"column":39,"line":40},"start":{"column":2,"line":40}},"27":{"end":{"column":2,"line":88},"start":{"column":0,"line":43}},"28":{"end":{"column":44,"line":46},"start":{"column":4,"line":46}},"29":{"end":{"column":113,"line":47},"start":{"column":4,"line":47}},"30":{"end":{"column":40,"line":48},"start":{"column":4,"line":48}},"31":{"end":{"column":47,"line":49},"start":{"column":4,"line":49}},"32":{"end":{"column":5,"line":69},"start":{"column":4,"line":52}},"33":{"end":{"column":16,"line":64},"start":{"column":6,"line":53}},"34":{"end":{"column":10,"line":63},"start":{"column":8,"line":54}},"35":{"end":{"column":36,"line":55},"start":{"column":10,"line":55}},"36":{"end":{"column":13,"line":58},"start":{"column":10,"line":56}},"37":{"end":{"column":47,"line":57},"start":{"column":12,"line":57}},"38":{"end":{"column":12,"line":61},"start":{"column":10,"line":59}},"39":{"end":{"column":48,"line":62},"start":{"column":10,"line":62}},"40":{"end":{"column":34,"line":65},"start":{"column":6,"line":65}},"41":{"end":{"column":35,"line":66},"start":{"column":6,"line":66}},"42":{"end":{"column":32,"line":68},"start":{"column":6,"line":68}},"43":{"end":{"column":15,"line":70},"start":{"column":4,"line":70}},"44":{"end":{"column":28,"line":76},"start":{"column":6,"line":74}},"45":{"end":{"column":39,"line":75},"start":{"column":8,"line":75}},"46":{"end":{"column":23,"line":79},"start":{"column":6,"line":79}},"47":{"end":{"column":67,"line":80},"start":{"column":6,"line":80}},"48":{"end":{"column":50,"line":81},"start":{"column":6,"line":81}},"49":{"end":{"column":7,"line":84},"start":{"column":6,"line":82}},"50":{"end":{"column":49,"line":83},"start":{"column":8,"line":83}},"51":{"end":{"column":17,"line":85},"start":{"column":6,"line":85}},"52":{"end":{"column":60,"line":90},"start":{"column":0,"line":90}},"53":{"end":{"column":96,"line":92},"start":{"column":0,"line":92}},"54":{"end":{"column":2,"line":97},"start":{"column":0,"line":94}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"23":0,"26":0,"27":0,"28":0,"30":0,"31":0,"37":21,"38":0,"39":0,"40":0,"43":21,"46":0,"47":0,"48":0,"49":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"59":0,"62":0,"65":0,"66":0,"68":0,"70":0,"74":0,"75":0,"79":0,"80":0,"81":0,"82":0,"83":0,"85":0,"90":21,"92":21,"94":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/reference-book-page.coffee":{"b":{},"branchMap":{},"code":["var CrudConfig, MediaActions, ReferenceBookPageConfig, _, actions, extendConfig, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","_ = require('underscore');","","MediaActions = require('./media').MediaActions;","","ReferenceBookPageConfig = {","  _loaded: function(obj, id) {","    MediaActions.parse(obj.content_html);","    return obj;","  },","  loadSilent: function(id) {","    return this.load(id);","  }","};","","extendConfig(ReferenceBookPageConfig, new CrudConfig());","","ref1 = makeSimpleStore(ReferenceBookPageConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  ReferenceBookPageActions: actions,","  ReferenceBookPageStore: store","};",""],"f":{"1":0,"2":0},"fnMap":{"1":{"line":10,"loc":{"end":{"column":29,"line":10},"start":{"column":11,"line":10}},"name":"(anonymous_1)"},"2":{"line":14,"loc":{"end":{"column":27,"line":14},"start":{"column":14,"line":14}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/reference-book-page.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":0,"9":21,"10":21,"11":21},"statementMap":{"1":{"end":{"column":115,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":47,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":17},"start":{"column":0,"line":9}},"6":{"end":{"column":41,"line":11},"start":{"column":4,"line":11}},"7":{"end":{"column":15,"line":12},"start":{"column":4,"line":12}},"8":{"end":{"column":25,"line":15},"start":{"column":4,"line":15}},"9":{"end":{"column":56,"line":19},"start":{"column":0,"line":19}},"10":{"end":{"column":92,"line":21},"start":{"column":0,"line":21}},"11":{"end":{"column":2,"line":26},"start":{"column":0,"line":23}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":0,"12":0,"15":0,"19":21,"21":21,"23":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/reference-book.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0]},"branchMap":{"1":{"line":10,"locations":[{"end":{"column":2,"line":10},"start":{"column":2,"line":10}},{"end":{"column":2,"line":10},"start":{"column":2,"line":10}}],"type":"if"},"2":{"line":10,"locations":[{"end":{"column":20,"line":10},"start":{"column":6,"line":10}},{"end":{"column":47,"line":10},"start":{"column":24,"line":10}}],"type":"binary-expr"},"3":{"line":13,"locations":[{"end":{"column":2,"line":13},"start":{"column":2,"line":13}},{"end":{"column":2,"line":13},"start":{"column":2,"line":13}}],"type":"if"},"4":{"line":29,"locations":[{"end":{"column":2,"line":29},"start":{"column":2,"line":29}},{"end":{"column":2,"line":29},"start":{"column":2,"line":29}}],"type":"if"},"5":{"line":32,"locations":[{"end":{"column":2,"line":32},"start":{"column":2,"line":32}},{"end":{"column":2,"line":32},"start":{"column":2,"line":32}}],"type":"if"},"6":{"line":36,"locations":[{"end":{"column":6,"line":36},"start":{"column":6,"line":36}},{"end":{"column":6,"line":36},"start":{"column":6,"line":36}}],"type":"if"},"7":{"line":51,"locations":[{"end":{"column":63,"line":51},"start":{"column":54,"line":51}},{"end":{"column":72,"line":51},"start":{"column":66,"line":51}}],"type":"cond-expr"},"8":{"line":52,"locations":[{"end":{"column":6,"line":52},"start":{"column":6,"line":52}},{"end":{"column":6,"line":52},"start":{"column":6,"line":52}}],"type":"if"},"9":{"line":52,"locations":[{"end":{"column":37,"line":52},"start":{"column":25,"line":52}},{"end":{"column":46,"line":52},"start":{"column":40,"line":52}}],"type":"cond-expr"},"10":{"line":56,"locations":[{"end":{"column":56,"line":58},"start":{"column":36,"line":58}},{"end":{"column":65,"line":58},"start":{"column":59,"line":58}}],"type":"cond-expr"},"11":{"line":63,"locations":[{"end":{"column":42,"line":63},"start":{"column":35,"line":63}},{"end":{"column":8,"line":65},"start":{"column":45,"line":63}}],"type":"cond-expr"},"12":{"line":66,"locations":[{"end":{"column":63,"line":66},"start":{"column":54,"line":66}},{"end":{"column":72,"line":66},"start":{"column":66,"line":66}}],"type":"cond-expr"},"13":{"line":68,"locations":[{"end":{"column":6,"line":68},"start":{"column":6,"line":68}},{"end":{"column":6,"line":68},"start":{"column":6,"line":68}}],"type":"if"},"14":{"line":69,"locations":[{"end":{"column":8,"line":69},"start":{"column":8,"line":69}},{"end":{"column":8,"line":69},"start":{"column":8,"line":69}}],"type":"if"},"15":{"line":70,"locations":[{"end":{"column":59,"line":70},"start":{"column":43,"line":70}},{"end":{"column":68,"line":70},"start":{"column":62,"line":70}}],"type":"cond-expr"},"16":{"line":81,"locations":[{"end":{"column":6,"line":81},"start":{"column":6,"line":81}},{"end":{"column":6,"line":81},"start":{"column":6,"line":81}}],"type":"if"},"17":{"line":84,"locations":[{"end":{"column":6,"line":84},"start":{"column":6,"line":84}},{"end":{"column":6,"line":84},"start":{"column":6,"line":84}}],"type":"if"},"18":{"line":87,"locations":[{"end":{"column":63,"line":87},"start":{"column":54,"line":87}},{"end":{"column":72,"line":87},"start":{"column":66,"line":87}}],"type":"cond-expr"},"19":{"line":91,"locations":[{"end":{"column":75,"line":91},"start":{"column":65,"line":91}},{"end":{"column":84,"line":91},"start":{"column":78,"line":91}}],"type":"cond-expr"},"20":{"line":95,"locations":[{"end":{"column":63,"line":95},"start":{"column":54,"line":95}},{"end":{"column":72,"line":95},"start":{"column":66,"line":95}}],"type":"cond-expr"},"21":{"line":96,"locations":[{"end":{"column":6,"line":96},"start":{"column":6,"line":96}},{"end":{"column":6,"line":96},"start":{"column":6,"line":96}}],"type":"if"},"22":{"line":104,"locations":[{"end":{"column":63,"line":104},"start":{"column":54,"line":104}},{"end":{"column":72,"line":104},"start":{"column":66,"line":104}}],"type":"cond-expr"},"23":{"line":105,"locations":[{"end":{"column":6,"line":105},"start":{"column":6,"line":105}},{"end":{"column":6,"line":105},"start":{"column":6,"line":105}}],"type":"if"},"24":{"line":112,"locations":[{"end":{"column":8,"line":112},"start":{"column":8,"line":112}},{"end":{"column":8,"line":112},"start":{"column":8,"line":112}}],"type":"if"}},"code":["var CrudConfig, ReferenceBookConfig, _, actions, extendConfig, findAllPages, findChapterSection, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","_ = require('underscore');","","findAllPages = function(section) {","  var child, i, j, len, len1, page, pages, ref1, ref2;","  pages = [];","  if (section.cnx_id && \"page\" === section.type) {","    pages.push(section);","  }","  if (section.children) {","    ref1 = section.children;","    for (i = 0, len = ref1.length; i < len; i++) {","      child = ref1[i];","      ref2 = findAllPages(child);","      for (j = 0, len1 = ref2.length; j < len1; j++) {","        page = ref2[j];","        pages.push(page);","      }","    }","  }","  return pages;","};","","findChapterSection = function(section, chapter_section) {","  var child, found, i, len, ref1;","  if (_.isEqual(section.chapter_section, chapter_section)) {","    return section;","  }","  if (section.children) {","    ref1 = section.children;","    for (i = 0, len = ref1.length; i < len; i++) {","      child = ref1[i];","      if (found = findChapterSection(child, chapter_section)) {","        return found;","      }","    }","  }","  return null;","};","","ReferenceBookConfig = {","  exports: {","    getToc: function(ecosystemId) {","      return this._get(ecosystemId)['0'];","    },","    getFirstSection: function(ecosystemId) {","      var children, ref1, ref2, toc;","      toc = (ref1 = this._get(ecosystemId)) != null ? ref1['0'] : void 0;","      if ((toc != null ? toc.children : void 0) == null) {","        return null;","      }","      children = toc.children;","      return (ref2 = _.chain(children).sortBy(function(child) {","        return child.chapter_section;","      }).first().value()) != null ? ref2.chapter_section : void 0;","    },","    getChapterSectionPage: function(arg) {","      var ecosystemId, parts, ref1, section, toc;","      ecosystemId = arg.ecosystemId, section = arg.section;","      parts = _.isArray(section) ? section : _.map(section.split('.'), function(part) {","        return parseInt(part, 10);","      });","      toc = (ref1 = this._get(ecosystemId)) != null ? ref1['0'] : void 0;","      section = findChapterSection(toc, parts);","      if (section) {","        if (section.type === \"part\") {","          return _.first(section != null ? section.children : void 0);","        } else {","          return section;","        }","      } else {","        return null;","      }","    },","    getPageTitle: function(arg) {","      var ecosystemId, ref1, ref2, section, toc;","      ecosystemId = arg.ecosystemId, section = arg.section;","      if (section == null) {","        return null;","      }","      if (!_.isArray(section)) {","        section = section.split('.');","      }","      toc = (ref1 = this._get(ecosystemId)) != null ? ref1['0'] : void 0;","      section = _.map(section, function(n) {","        return parseInt(n);","      });","      return (ref2 = findChapterSection(toc, section)) != null ? ref2.title : void 0;","    },","    getPages: function(ecosystemId) {","      var ref1, toc;","      toc = (ref1 = this._get(ecosystemId)) != null ? ref1['0'] : void 0;","      if (!toc) {","        return [];","      }","      return findAllPages(toc);","    },","    getPageInfo: function(arg) {","      var cnxId, ecosystemId, i, index, lastPage, len, page, pages, ref1, toc;","      ecosystemId = arg.ecosystemId, cnxId = arg.cnxId;","      toc = (ref1 = this._get(ecosystemId)) != null ? ref1['0'] : void 0;","      if (!toc) {","        return {};","      }","      pages = findAllPages(toc);","      lastPage = null;","      for (index = i = 0, len = pages.length; i < len; index = ++i) {","        page = pages[index];","        if (-1 !== page.cnx_id.indexOf(cnxId)) {","          return _.extend(_.clone(page), {","            prev: lastPage,","            next: pages[index + 1]","          });","        }","        lastPage = page;","      }","    }","  }","};","","extendConfig(ReferenceBookConfig, new CrudConfig());","","ref1 = makeSimpleStore(ReferenceBookConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  ReferenceBookActions: actions,","  ReferenceBookStore: store","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"line":7,"loc":{"end":{"column":33,"line":7},"start":{"column":15,"line":7}},"name":"(anonymous_1)"},"2":{"line":27,"loc":{"end":{"column":56,"line":27},"start":{"column":21,"line":27}},"name":"(anonymous_2)"},"3":{"line":46,"loc":{"end":{"column":34,"line":46},"start":{"column":12,"line":46}},"name":"(anonymous_3)"},"4":{"line":49,"loc":{"end":{"column":43,"line":49},"start":{"column":21,"line":49}},"name":"(anonymous_4)"},"5":{"line":56,"loc":{"end":{"column":62,"line":56},"start":{"column":46,"line":56}},"name":"(anonymous_5)"},"6":{"line":60,"loc":{"end":{"column":41,"line":60},"start":{"column":27,"line":60}},"name":"(anonymous_6)"},"7":{"line":63,"loc":{"end":{"column":86,"line":63},"start":{"column":71,"line":63}},"name":"(anonymous_7)"},"8":{"line":78,"loc":{"end":{"column":32,"line":78},"start":{"column":18,"line":78}},"name":"(anonymous_8)"},"9":{"line":88,"loc":{"end":{"column":43,"line":88},"start":{"column":31,"line":88}},"name":"(anonymous_9)"},"10":{"line":93,"loc":{"end":{"column":36,"line":93},"start":{"column":14,"line":93}},"name":"(anonymous_10)"},"11":{"line":101,"loc":{"end":{"column":31,"line":101},"start":{"column":17,"line":101}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/reference-book.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":21,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":21,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":21,"77":21,"78":21},"statementMap":{"1":{"end":{"column":131,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":25},"start":{"column":0,"line":7}},"5":{"end":{"column":54,"line":8},"start":{"column":2,"line":8}},"6":{"end":{"column":13,"line":9},"start":{"column":2,"line":9}},"7":{"end":{"column":3,"line":12},"start":{"column":2,"line":10}},"8":{"end":{"column":24,"line":11},"start":{"column":4,"line":11}},"9":{"end":{"column":3,"line":23},"start":{"column":2,"line":13}},"10":{"end":{"column":28,"line":14},"start":{"column":4,"line":14}},"11":{"end":{"column":5,"line":22},"start":{"column":4,"line":15}},"12":{"end":{"column":22,"line":16},"start":{"column":6,"line":16}},"13":{"end":{"column":33,"line":17},"start":{"column":6,"line":17}},"14":{"end":{"column":7,"line":21},"start":{"column":6,"line":18}},"15":{"end":{"column":23,"line":19},"start":{"column":8,"line":19}},"16":{"end":{"column":25,"line":20},"start":{"column":8,"line":20}},"17":{"end":{"column":15,"line":24},"start":{"column":2,"line":24}},"18":{"end":{"column":2,"line":42},"start":{"column":0,"line":27}},"19":{"end":{"column":33,"line":28},"start":{"column":2,"line":28}},"20":{"end":{"column":3,"line":31},"start":{"column":2,"line":29}},"21":{"end":{"column":19,"line":30},"start":{"column":4,"line":30}},"22":{"end":{"column":3,"line":40},"start":{"column":2,"line":32}},"23":{"end":{"column":28,"line":33},"start":{"column":4,"line":33}},"24":{"end":{"column":5,"line":39},"start":{"column":4,"line":34}},"25":{"end":{"column":22,"line":35},"start":{"column":6,"line":35}},"26":{"end":{"column":7,"line":38},"start":{"column":6,"line":36}},"27":{"end":{"column":21,"line":37},"start":{"column":8,"line":37}},"28":{"end":{"column":14,"line":41},"start":{"column":2,"line":41}},"29":{"end":{"column":2,"line":122},"start":{"column":0,"line":44}},"30":{"end":{"column":41,"line":47},"start":{"column":6,"line":47}},"31":{"end":{"column":36,"line":50},"start":{"column":6,"line":50}},"32":{"end":{"column":73,"line":51},"start":{"column":6,"line":51}},"33":{"end":{"column":7,"line":54},"start":{"column":6,"line":52}},"34":{"end":{"column":20,"line":53},"start":{"column":8,"line":53}},"35":{"end":{"column":30,"line":55},"start":{"column":6,"line":55}},"36":{"end":{"column":66,"line":58},"start":{"column":6,"line":56}},"37":{"end":{"column":37,"line":57},"start":{"column":8,"line":57}},"38":{"end":{"column":49,"line":61},"start":{"column":6,"line":61}},"39":{"end":{"column":59,"line":62},"start":{"column":6,"line":62}},"40":{"end":{"column":9,"line":65},"start":{"column":6,"line":63}},"41":{"end":{"column":34,"line":64},"start":{"column":8,"line":64}},"42":{"end":{"column":73,"line":66},"start":{"column":6,"line":66}},"43":{"end":{"column":47,"line":67},"start":{"column":6,"line":67}},"44":{"end":{"column":7,"line":76},"start":{"column":6,"line":68}},"45":{"end":{"column":9,"line":73},"start":{"column":8,"line":69}},"46":{"end":{"column":70,"line":70},"start":{"column":10,"line":70}},"47":{"end":{"column":25,"line":72},"start":{"column":10,"line":72}},"48":{"end":{"column":20,"line":75},"start":{"column":8,"line":75}},"49":{"end":{"column":48,"line":79},"start":{"column":6,"line":79}},"50":{"end":{"column":59,"line":80},"start":{"column":6,"line":80}},"51":{"end":{"column":7,"line":83},"start":{"column":6,"line":81}},"52":{"end":{"column":20,"line":82},"start":{"column":8,"line":82}},"53":{"end":{"column":7,"line":86},"start":{"column":6,"line":84}},"54":{"end":{"column":37,"line":85},"start":{"column":8,"line":85}},"55":{"end":{"column":73,"line":87},"start":{"column":6,"line":87}},"56":{"end":{"column":9,"line":90},"start":{"column":6,"line":88}},"57":{"end":{"column":27,"line":89},"start":{"column":8,"line":89}},"58":{"end":{"column":85,"line":91},"start":{"column":6,"line":91}},"59":{"end":{"column":20,"line":94},"start":{"column":6,"line":94}},"60":{"end":{"column":73,"line":95},"start":{"column":6,"line":95}},"61":{"end":{"column":7,"line":98},"start":{"column":6,"line":96}},"62":{"end":{"column":18,"line":97},"start":{"column":8,"line":97}},"63":{"end":{"column":31,"line":99},"start":{"column":6,"line":99}},"64":{"end":{"column":78,"line":102},"start":{"column":6,"line":102}},"65":{"end":{"column":55,"line":103},"start":{"column":6,"line":103}},"66":{"end":{"column":73,"line":104},"start":{"column":6,"line":104}},"67":{"end":{"column":7,"line":107},"start":{"column":6,"line":105}},"68":{"end":{"column":18,"line":106},"start":{"column":8,"line":106}},"69":{"end":{"column":32,"line":108},"start":{"column":6,"line":108}},"70":{"end":{"column":22,"line":109},"start":{"column":6,"line":109}},"71":{"end":{"column":7,"line":119},"start":{"column":6,"line":110}},"72":{"end":{"column":28,"line":111},"start":{"column":8,"line":111}},"73":{"end":{"column":9,"line":117},"start":{"column":8,"line":112}},"74":{"end":{"column":13,"line":116},"start":{"column":10,"line":113}},"75":{"end":{"column":24,"line":118},"start":{"column":8,"line":118}},"76":{"end":{"column":52,"line":124},"start":{"column":0,"line":124}},"77":{"end":{"column":88,"line":126},"start":{"column":0,"line":126}},"78":{"end":{"column":2,"line":131},"start":{"column":0,"line":128}}},"l":{"1":21,"3":21,"5":21,"7":21,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"24":0,"27":21,"28":0,"29":0,"30":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"41":0,"44":21,"47":0,"50":0,"51":0,"52":0,"53":0,"55":0,"56":0,"57":0,"61":0,"62":0,"63":0,"64":0,"66":0,"67":0,"68":0,"69":0,"70":0,"72":0,"75":0,"79":0,"80":0,"81":0,"82":0,"84":0,"85":0,"87":0,"88":0,"89":0,"91":0,"94":0,"95":0,"96":0,"97":0,"99":0,"102":0,"103":0,"104":0,"105":0,"106":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"118":0,"124":21,"126":21,"128":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/roster.coffee":{"b":{"1":[0,0],"2":[0,0]},"branchMap":{"1":{"line":26,"locations":[{"end":{"column":6,"line":26},"start":{"column":6,"line":26}},{"end":{"column":6,"line":26},"start":{"column":6,"line":26}}],"type":"if"},"2":{"line":41,"locations":[{"end":{"column":6,"line":41},"start":{"column":6,"line":41}},{"end":{"column":6,"line":41},"start":{"column":6,"line":41}}],"type":"if"}},"code":["var CrudConfig, LOADED, RosterConfig, _, actions, extendConfig, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","_ = require('underscore');","","LOADED = 'loaded';","","RosterConfig = {","  _asyncStatus: {},","  create: function(courseId, params) {},","  created: function(student, courseId) {","    this._local[courseId].push(student);","    return this.emitChange();","  },","  saved: function(newProps, studentId) {","    var courseId, ref1, roster, student, students;","    this._asyncStatus[studentId] = LOADED;","    ref1 = this._local;","    for (courseId in ref1) {","      roster = ref1[courseId];","      students = roster.students;","      student = _.findWhere(students, {","        id: studentId","      });","      if (student) {","        _.extend(student, newProps);","      }","    }","    return this.emitChange();","  },","  deleted: function(unused, studentId) {","    var courseId, index, ref1, roster, students;","    ref1 = this._local;","    for (courseId in ref1) {","      roster = ref1[courseId];","      students = roster.students;","      index = _.findIndex(students, {","        id: studentId","      });","      if (-1 !== index) {","        students.splice(index, 1);","      }","    }","    return this.emitChange();","  },","  exports: {","    getActiveStudentsForPeriod: function(courseId, periodId) {","      return _.where(this._get(courseId).students, {","        period_id: periodId,","        is_active: true","      });","    }","  }","};","","extendConfig(RosterConfig, new CrudConfig());","","ref1 = makeSimpleStore(RosterConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  RosterActions: actions,","  RosterStore: store","};",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"line":11,"loc":{"end":{"column":37,"line":11},"start":{"column":10,"line":11}},"name":"(anonymous_1)"},"2":{"line":12,"loc":{"end":{"column":39,"line":12},"start":{"column":11,"line":12}},"name":"(anonymous_2)"},"3":{"line":16,"loc":{"end":{"column":39,"line":16},"start":{"column":9,"line":16}},"name":"(anonymous_3)"},"4":{"line":32,"loc":{"end":{"column":39,"line":32},"start":{"column":11,"line":32}},"name":"(anonymous_4)"},"5":{"line":48,"loc":{"end":{"column":61,"line":48},"start":{"column":32,"line":48}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/roster.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":21,"29":21,"30":21},"statementMap":{"1":{"end":{"column":98,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":18,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":55},"start":{"column":0,"line":9}},"6":{"end":{"column":40,"line":13},"start":{"column":4,"line":13}},"7":{"end":{"column":29,"line":14},"start":{"column":4,"line":14}},"8":{"end":{"column":50,"line":17},"start":{"column":4,"line":17}},"9":{"end":{"column":42,"line":18},"start":{"column":4,"line":18}},"10":{"end":{"column":23,"line":19},"start":{"column":4,"line":19}},"11":{"end":{"column":5,"line":29},"start":{"column":4,"line":20}},"12":{"end":{"column":30,"line":21},"start":{"column":6,"line":21}},"13":{"end":{"column":33,"line":22},"start":{"column":6,"line":22}},"14":{"end":{"column":9,"line":25},"start":{"column":6,"line":23}},"15":{"end":{"column":7,"line":28},"start":{"column":6,"line":26}},"16":{"end":{"column":36,"line":27},"start":{"column":8,"line":27}},"17":{"end":{"column":29,"line":30},"start":{"column":4,"line":30}},"18":{"end":{"column":48,"line":33},"start":{"column":4,"line":33}},"19":{"end":{"column":23,"line":34},"start":{"column":4,"line":34}},"20":{"end":{"column":5,"line":44},"start":{"column":4,"line":35}},"21":{"end":{"column":30,"line":36},"start":{"column":6,"line":36}},"22":{"end":{"column":33,"line":37},"start":{"column":6,"line":37}},"23":{"end":{"column":9,"line":40},"start":{"column":6,"line":38}},"24":{"end":{"column":7,"line":43},"start":{"column":6,"line":41}},"25":{"end":{"column":34,"line":42},"start":{"column":8,"line":42}},"26":{"end":{"column":29,"line":45},"start":{"column":4,"line":45}},"27":{"end":{"column":9,"line":52},"start":{"column":6,"line":49}},"28":{"end":{"column":45,"line":57},"start":{"column":0,"line":57}},"29":{"end":{"column":81,"line":59},"start":{"column":0,"line":59}},"30":{"end":{"column":2,"line":64},"start":{"column":0,"line":61}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"13":0,"14":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"26":0,"27":0,"30":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"41":0,"42":0,"45":0,"49":0,"57":21,"59":21,"61":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/scores-export.coffee":{"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"branchMap":{"1":{"line":21,"locations":[{"end":{"column":4,"line":21},"start":{"column":4,"line":21}},{"end":{"column":4,"line":21},"start":{"column":4,"line":21}}],"type":"if"},"2":{"line":56,"locations":[{"end":{"column":57,"line":56},"start":{"column":33,"line":56}},{"end":{"column":62,"line":56},"start":{"column":60,"line":56}}],"type":"cond-expr"},"3":{"line":63,"locations":[{"end":{"column":57,"line":63},"start":{"column":33,"line":63}},{"end":{"column":62,"line":63},"start":{"column":60,"line":63}}],"type":"cond-expr"}},"code":["var CrudConfig, JobActions, JobCrudConfig, JobListenerConfig, JobStore, ScoresExportConfig, _, actions, extendConfig, makeSimpleStore, moment, ref, ref1, ref2, store,","  slice = [].slice;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","ref1 = require('./job'), JobActions = ref1.JobActions, JobStore = ref1.JobStore;","","JobListenerConfig = require('../helpers/job').JobListenerConfig;","","_ = require('underscore');","","moment = require('moment');","","ScoresExportConfig = {","  _loaded: function(obj, id) {","    return this.emit('loaded', id);","  },","  getJobIdFromJobUrl: function(jobUrl) {","    var jobId, jobUrlSegments;","    jobUrlSegments = jobUrl.split('/api/jobs/');","    if (jobUrlSegments[1] != null) {","      jobId = jobUrlSegments[1];","    }","    return jobId;","  },","  _getId: function(obj, id) {","    var job, jobId;","    job = obj.job;","    jobId = this.getJobIdFromJobUrl(job);","    return {","      jobId: jobId,","      id: id","    };","  },","  exports: {","    getLatestExport: function(id) {","      var perfExports;","      perfExports = this._get(id);","      return _.chain(perfExports).sortBy(function(perfExport) {","        return perfExport.created_at;","      }).last().value();","    }","  }","};","","JobCrudConfig = extendConfig(new JobListenerConfig(), new CrudConfig());","","extendConfig(ScoresExportConfig, JobCrudConfig);","","ScoresExportConfig.exports.isExported = ScoresExportConfig.exports.isSucceeded;","","ScoresExportConfig.exports.isExporting = ScoresExportConfig.exports.isProgressing;","","ScoresExportConfig[\"export\"] = function() {","  var args, ref2;","  args = 1 <= arguments.length ? slice.call(arguments, 0) : [];","  (ref2 = this.que).call.apply(ref2, [this].concat(slice.call(args)));","  return this.emitChange();","};","","ScoresExportConfig.exported = function() {","  var args, id, jobId, ref2, ref3;","  args = 1 <= arguments.length ? slice.call(arguments, 0) : [];","  (ref2 = this.queued).call.apply(ref2, [this].concat(slice.call(args)));","  ref3 = this._getId.apply(this, args), id = ref3.id, jobId = ref3.jobId;","  return this.startChecking.call(this, id, jobId);","};","","ref2 = makeSimpleStore(ScoresExportConfig), actions = ref2.actions, store = ref2.store;","","module.exports = {","  ScoresExportActions: actions,","  ScoresExportStore: store","};",""],"f":{"1":11,"2":0,"3":0,"4":9,"5":0,"6":0,"7":0},"fnMap":{"1":{"line":15,"loc":{"end":{"column":29,"line":15},"start":{"column":11,"line":15}},"name":"(anonymous_1)"},"2":{"line":18,"loc":{"end":{"column":39,"line":18},"start":{"column":22,"line":18}},"name":"(anonymous_2)"},"3":{"line":26,"loc":{"end":{"column":28,"line":26},"start":{"column":10,"line":26}},"name":"(anonymous_3)"},"4":{"line":36,"loc":{"end":{"column":34,"line":36},"start":{"column":21,"line":36}},"name":"(anonymous_4)"},"5":{"line":39,"loc":{"end":{"column":62,"line":39},"start":{"column":41,"line":39}},"name":"(anonymous_5)"},"6":{"line":54,"loc":{"end":{"column":42,"line":54},"start":{"column":31,"line":54}},"name":"(anonymous_6)"},"7":{"line":61,"loc":{"end":{"column":41,"line":61},"start":{"column":30,"line":61}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/scores-export.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":11,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":9,"19":9,"20":9,"21":0,"22":21,"23":21,"24":21,"25":21,"26":21,"27":0,"28":0,"29":0,"30":0,"31":21,"32":0,"33":0,"34":0,"35":0,"36":0,"37":21,"38":21},"statementMap":{"1":{"end":{"column":19,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":4},"start":{"column":0,"line":4}},"3":{"end":{"column":80,"line":6},"start":{"column":0,"line":6}},"4":{"end":{"column":64,"line":8},"start":{"column":0,"line":8}},"5":{"end":{"column":26,"line":10},"start":{"column":0,"line":10}},"6":{"end":{"column":27,"line":12},"start":{"column":0,"line":12}},"7":{"end":{"column":2,"line":44},"start":{"column":0,"line":14}},"8":{"end":{"column":35,"line":16},"start":{"column":4,"line":16}},"9":{"end":{"column":30,"line":19},"start":{"column":4,"line":19}},"10":{"end":{"column":48,"line":20},"start":{"column":4,"line":20}},"11":{"end":{"column":5,"line":23},"start":{"column":4,"line":21}},"12":{"end":{"column":32,"line":22},"start":{"column":6,"line":22}},"13":{"end":{"column":17,"line":24},"start":{"column":4,"line":24}},"14":{"end":{"column":19,"line":27},"start":{"column":4,"line":27}},"15":{"end":{"column":18,"line":28},"start":{"column":4,"line":28}},"16":{"end":{"column":41,"line":29},"start":{"column":4,"line":29}},"17":{"end":{"column":6,"line":33},"start":{"column":4,"line":30}},"18":{"end":{"column":22,"line":37},"start":{"column":6,"line":37}},"19":{"end":{"column":34,"line":38},"start":{"column":6,"line":38}},"20":{"end":{"column":24,"line":41},"start":{"column":6,"line":39}},"21":{"end":{"column":37,"line":40},"start":{"column":8,"line":40}},"22":{"end":{"column":72,"line":46},"start":{"column":0,"line":46}},"23":{"end":{"column":48,"line":48},"start":{"column":0,"line":48}},"24":{"end":{"column":79,"line":50},"start":{"column":0,"line":50}},"25":{"end":{"column":82,"line":52},"start":{"column":0,"line":52}},"26":{"end":{"column":2,"line":59},"start":{"column":0,"line":54}},"27":{"end":{"column":17,"line":55},"start":{"column":2,"line":55}},"28":{"end":{"column":63,"line":56},"start":{"column":2,"line":56}},"29":{"end":{"column":70,"line":57},"start":{"column":2,"line":57}},"30":{"end":{"column":27,"line":58},"start":{"column":2,"line":58}},"31":{"end":{"column":2,"line":67},"start":{"column":0,"line":61}},"32":{"end":{"column":34,"line":62},"start":{"column":2,"line":62}},"33":{"end":{"column":63,"line":63},"start":{"column":2,"line":63}},"34":{"end":{"column":73,"line":64},"start":{"column":2,"line":64}},"35":{"end":{"column":73,"line":65},"start":{"column":2,"line":65}},"36":{"end":{"column":50,"line":66},"start":{"column":2,"line":66}},"37":{"end":{"column":87,"line":69},"start":{"column":0,"line":69}},"38":{"end":{"column":2,"line":74},"start":{"column":0,"line":71}}},"l":{"1":21,"4":21,"6":21,"8":21,"10":21,"12":21,"14":21,"16":11,"19":0,"20":0,"21":0,"22":0,"24":0,"27":0,"28":0,"29":0,"30":0,"37":9,"38":9,"39":9,"40":0,"46":21,"48":21,"50":21,"52":21,"54":21,"55":0,"56":0,"57":0,"58":0,"61":21,"62":0,"63":0,"64":0,"65":0,"66":0,"69":21,"71":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/scores.coffee":{"b":{},"branchMap":{},"code":["var CrudConfig, ScoresConfig, _, actions, allStudents, extendConfig, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","_ = require('underscore');","","allStudents = function(scores) {","  return _.chain(scores).pluck('students').flatten(true).value();","};","","ScoresConfig = {","  exports: {","    getStudent: function(courseId, roleId) {","      var students;","      students = allStudents(this._get(courseId));","      return _.findWhere(allStudents(this._get(courseId)), {","        role: parseInt(roleId)","      });","    },","    getAllStudents: function(courseId) {","      return allStudents(this._get(courseId));","    },","    getStudentOfTask: function(courseId, taskId) {","      var students;","      students = allStudents(this._get(courseId));","      taskId = parseInt(taskId);","      return _.find(students, function(student) {","        var taskIds;","        taskIds = _.pluck(student.data, 'id');","        return _.indexOf(taskIds, taskId) > -1;","      });","    }","  }","};","","extendConfig(ScoresConfig, new CrudConfig());","","ref1 = makeSimpleStore(ScoresConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  ScoresActions: actions,","  ScoresStore: store","};",""],"f":{"1":36,"2":10,"3":10,"4":6,"5":6},"fnMap":{"1":{"line":7,"loc":{"end":{"column":31,"line":7},"start":{"column":14,"line":7}},"name":"(anonymous_1)"},"2":{"line":13,"loc":{"end":{"column":43,"line":13},"start":{"column":16,"line":13}},"name":"(anonymous_2)"},"3":{"line":20,"loc":{"end":{"column":39,"line":20},"start":{"column":20,"line":20}},"name":"(anonymous_3)"},"4":{"line":23,"loc":{"end":{"column":49,"line":23},"start":{"column":22,"line":23}},"name":"(anonymous_4)"},"5":{"line":27,"loc":{"end":{"column":48,"line":27},"start":{"column":30,"line":27}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/scores.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":36,"6":21,"7":10,"8":10,"9":10,"10":10,"11":6,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":21,"19":21,"20":21},"statementMap":{"1":{"end":{"column":103,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":9},"start":{"column":0,"line":7}},"5":{"end":{"column":65,"line":8},"start":{"column":2,"line":8}},"6":{"end":{"column":2,"line":34},"start":{"column":0,"line":11}},"7":{"end":{"column":19,"line":14},"start":{"column":6,"line":14}},"8":{"end":{"column":50,"line":15},"start":{"column":6,"line":15}},"9":{"end":{"column":9,"line":18},"start":{"column":6,"line":16}},"10":{"end":{"column":46,"line":21},"start":{"column":6,"line":21}},"11":{"end":{"column":19,"line":24},"start":{"column":6,"line":24}},"12":{"end":{"column":50,"line":25},"start":{"column":6,"line":25}},"13":{"end":{"column":32,"line":26},"start":{"column":6,"line":26}},"14":{"end":{"column":9,"line":31},"start":{"column":6,"line":27}},"15":{"end":{"column":20,"line":28},"start":{"column":8,"line":28}},"16":{"end":{"column":46,"line":29},"start":{"column":8,"line":29}},"17":{"end":{"column":47,"line":30},"start":{"column":8,"line":30}},"18":{"end":{"column":45,"line":36},"start":{"column":0,"line":36}},"19":{"end":{"column":81,"line":38},"start":{"column":0,"line":38}},"20":{"end":{"column":2,"line":43},"start":{"column":0,"line":40}}},"l":{"1":21,"3":21,"5":21,"7":21,"8":36,"11":21,"14":10,"15":10,"16":10,"21":10,"24":6,"25":6,"26":6,"27":6,"28":6,"29":6,"30":6,"36":21,"38":21,"40":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/student-dashboard.coffee":{"b":{"1":[0,0],"2":[4,0],"3":[2,2],"4":[0,2],"5":[2,0],"6":[2,0],"7":[0,0],"8":[0,0],"9":[0,0]},"branchMap":{"1":{"line":12,"locations":[{"end":{"column":2,"line":12},"start":{"column":2,"line":12}},{"end":{"column":2,"line":12},"start":{"column":2,"line":12}}],"type":"if"},"2":{"line":24,"locations":[{"end":{"column":24,"line":24},"start":{"column":14,"line":24}},{"end":{"column":30,"line":24},"start":{"column":28,"line":24}}],"type":"binary-expr"},"3":{"line":46,"locations":[{"end":{"column":68,"line":46},"start":{"column":13,"line":46}},{"end":{"column":74,"line":46},"start":{"column":72,"line":46}}],"type":"binary-expr"},"4":{"line":53,"locations":[{"end":{"column":6,"line":53},"start":{"column":6,"line":53}},{"end":{"column":6,"line":53},"start":{"column":6,"line":53}}],"type":"if"},"5":{"line":56,"locations":[{"end":{"column":80,"line":56},"start":{"column":22,"line":56}},{"end":{"column":87,"line":56},"start":{"column":85,"line":56}}],"type":"binary-expr"},"6":{"line":56,"locations":[{"end":{"column":71,"line":56},"start":{"column":61,"line":56}},{"end":{"column":80,"line":56},"start":{"column":74,"line":56}}],"type":"cond-expr"},"7":{"line":62,"locations":[{"end":{"column":6,"line":62},"start":{"column":6,"line":62}},{"end":{"column":6,"line":62},"start":{"column":6,"line":62}}],"type":"if"},"8":{"line":65,"locations":[{"end":{"column":80,"line":65},"start":{"column":22,"line":65}},{"end":{"column":87,"line":65},"start":{"column":85,"line":65}}],"type":"binary-expr"},"9":{"line":65,"locations":[{"end":{"column":71,"line":65},"start":{"column":61,"line":65}},{"end":{"column":80,"line":65},"start":{"column":74,"line":65}}],"type":"cond-expr"}},"code":["var CrudConfig, StudentDashboardConfig, TimeStore, _, actions, arrayToSentence, extendConfig, makeSimpleStore, moment, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","TimeStore = require('./time').TimeStore;","","_ = require('underscore');","","moment = require('moment');","","arrayToSentence = function(arry) {","  if (arry.length > 1) {","    return arry.slice(0, arry.length - 1).join(', ') + ' & ' + arry.slice(-1);","  } else {","    return arry[0];","  }","};","","StudentDashboardConfig = {","  exports: {","    eventsByWeek: function(courseId) {","      var data, events, sorted, tasks, weekId, weeks;","      data = this._get(courseId);","      tasks = data.tasks || [];","      weeks = _.groupBy(tasks, function(event) {","        return moment(event.due_at).startOf('isoweek').format('YYYYww');","      });","      sorted = {};","      for (weekId in weeks) {","        events = weeks[weekId];","        sorted[weekId] = _.sortBy(events, 'due_at');","      }","      return sorted;","    },","    pastEventsByWeek: function(courseId) {","      var thisWeek, weeks;","      weeks = this.exports.eventsByWeek.call(this, courseId);","      thisWeek = moment(TimeStore.getNow()).startOf('isoweek').format('YYYYww');","      return _.pick(weeks, function(events, week) {","        return week < thisWeek;","      });","    },","    weeklyEventsForDay: function(courseId, day) {","      var events;","      events = this.exports.eventsByWeek.call(this, courseId);","      return events[moment(day).startOf('isoweek').format('YYYYww')] || [];","    },","    canWorkTask: function(event) {","      return new Date(event.opens_at) < TimeStore.getNow();","    },","    upcomingEvents: function(courseId, now) {","      var ref1;","      if (now == null) {","        now = TimeStore.getNow();","      }","      return _.chain(((ref1 = this._get(courseId)) != null ? ref1.tasks : void 0) || []).filter(function(event) {","        return new Date(event.due_at) > now;","      }).sortBy('due_at').value();","    },","    pastDueEvents: function(courseId, now) {","      var ref1;","      if (now == null) {","        now = TimeStore.getNow();","      }","      return _.chain(((ref1 = this._get(courseId)) != null ? ref1.tasks : void 0) || []).filter(function(event) {","        return new Date(event.due_at) < now;","      }).sortBy('due_at').value();","    }","  }","};","","extendConfig(StudentDashboardConfig, new CrudConfig());","","ref1 = makeSimpleStore(StudentDashboardConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  StudentDashboardActions: actions,","  StudentDashboardStore: store","};",""],"f":{"1":0,"2":4,"3":4,"4":2,"5":2,"6":2,"7":2,"8":2,"9":2,"10":0,"11":0},"fnMap":{"1":{"line":11,"loc":{"end":{"column":33,"line":11},"start":{"column":18,"line":11}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":37,"line":21},"start":{"column":18,"line":21}},"name":"(anonymous_2)"},"3":{"line":25,"loc":{"end":{"column":47,"line":25},"start":{"column":31,"line":25}},"name":"(anonymous_3)"},"4":{"line":35,"loc":{"end":{"column":41,"line":35},"start":{"column":22,"line":35}},"name":"(anonymous_4)"},"5":{"line":39,"loc":{"end":{"column":50,"line":39},"start":{"column":27,"line":39}},"name":"(anonymous_5)"},"6":{"line":43,"loc":{"end":{"column":48,"line":43},"start":{"column":24,"line":43}},"name":"(anonymous_6)"},"7":{"line":48,"loc":{"end":{"column":33,"line":48},"start":{"column":17,"line":48}},"name":"(anonymous_7)"},"8":{"line":51,"loc":{"end":{"column":44,"line":51},"start":{"column":20,"line":51}},"name":"(anonymous_8)"},"9":{"line":56,"loc":{"end":{"column":112,"line":56},"start":{"column":96,"line":56}},"name":"(anonymous_9)"},"10":{"line":60,"loc":{"end":{"column":43,"line":60},"start":{"column":19,"line":60}},"name":"(anonymous_10)"},"11":{"line":65,"loc":{"end":{"column":112,"line":65},"start":{"column":96,"line":65}},"name":"(anonymous_11)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/student-dashboard.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":0,"9":0,"10":21,"11":4,"12":4,"13":4,"14":4,"15":4,"16":4,"17":4,"18":4,"19":4,"20":4,"21":2,"22":2,"23":2,"24":2,"25":2,"26":2,"27":2,"28":2,"29":2,"30":2,"31":2,"32":0,"33":2,"34":2,"35":0,"36":0,"37":0,"38":0,"39":0,"40":21,"41":21,"42":21},"statementMap":{"1":{"end":{"column":136,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":40,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":27,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":17},"start":{"column":0,"line":11}},"7":{"end":{"column":3,"line":16},"start":{"column":2,"line":12}},"8":{"end":{"column":78,"line":13},"start":{"column":4,"line":13}},"9":{"end":{"column":19,"line":15},"start":{"column":4,"line":15}},"10":{"end":{"column":2,"line":70},"start":{"column":0,"line":19}},"11":{"end":{"column":53,"line":22},"start":{"column":6,"line":22}},"12":{"end":{"column":33,"line":23},"start":{"column":6,"line":23}},"13":{"end":{"column":31,"line":24},"start":{"column":6,"line":24}},"14":{"end":{"column":9,"line":27},"start":{"column":6,"line":25}},"15":{"end":{"column":72,"line":26},"start":{"column":8,"line":26}},"16":{"end":{"column":18,"line":28},"start":{"column":6,"line":28}},"17":{"end":{"column":7,"line":32},"start":{"column":6,"line":29}},"18":{"end":{"column":31,"line":30},"start":{"column":8,"line":30}},"19":{"end":{"column":52,"line":31},"start":{"column":8,"line":31}},"20":{"end":{"column":20,"line":33},"start":{"column":6,"line":33}},"21":{"end":{"column":26,"line":36},"start":{"column":6,"line":36}},"22":{"end":{"column":61,"line":37},"start":{"column":6,"line":37}},"23":{"end":{"column":80,"line":38},"start":{"column":6,"line":38}},"24":{"end":{"column":9,"line":41},"start":{"column":6,"line":39}},"25":{"end":{"column":31,"line":40},"start":{"column":8,"line":40}},"26":{"end":{"column":17,"line":44},"start":{"column":6,"line":44}},"27":{"end":{"column":62,"line":45},"start":{"column":6,"line":45}},"28":{"end":{"column":75,"line":46},"start":{"column":6,"line":46}},"29":{"end":{"column":59,"line":49},"start":{"column":6,"line":49}},"30":{"end":{"column":15,"line":52},"start":{"column":6,"line":52}},"31":{"end":{"column":7,"line":55},"start":{"column":6,"line":53}},"32":{"end":{"column":33,"line":54},"start":{"column":8,"line":54}},"33":{"end":{"column":34,"line":58},"start":{"column":6,"line":56}},"34":{"end":{"column":44,"line":57},"start":{"column":8,"line":57}},"35":{"end":{"column":15,"line":61},"start":{"column":6,"line":61}},"36":{"end":{"column":7,"line":64},"start":{"column":6,"line":62}},"37":{"end":{"column":33,"line":63},"start":{"column":8,"line":63}},"38":{"end":{"column":34,"line":67},"start":{"column":6,"line":65}},"39":{"end":{"column":44,"line":66},"start":{"column":8,"line":66}},"40":{"end":{"column":55,"line":72},"start":{"column":0,"line":72}},"41":{"end":{"column":91,"line":74},"start":{"column":0,"line":74}},"42":{"end":{"column":2,"line":79},"start":{"column":0,"line":76}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"12":0,"13":0,"15":0,"19":21,"22":4,"23":4,"24":4,"25":4,"26":4,"28":4,"29":4,"30":4,"31":4,"33":4,"36":2,"37":2,"38":2,"39":2,"40":2,"44":2,"45":2,"46":2,"49":2,"52":2,"53":2,"54":0,"56":2,"57":2,"61":0,"62":0,"63":0,"65":0,"66":0,"72":21,"74":21,"76":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/task-plan-stats.coffee":{"b":{},"branchMap":{},"code":["var CrudConfig, PeriodHelper, TaskPlanStatsConfig, _, actions, extendConfig, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","_ = require('underscore');","","PeriodHelper = require('../helpers/period');","","TaskPlanStatsConfig = {","  exports: {","    getPeriods: function(id) {","      var periods, plan;","      plan = this._get(id);","      return periods = _.chain(plan.stats).map(function(stat) {","        return {","          id: stat.period_id,","          name: stat.name,","          is_trouble: stat.is_trouble","        };","      }).tap(PeriodHelper.sort).value();","    }","  }","};","","extendConfig(TaskPlanStatsConfig, new CrudConfig());","","ref1 = makeSimpleStore(TaskPlanStatsConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  TaskPlanStatsActions: actions,","  TaskPlanStatsStore: store","};",""],"f":{"1":14,"2":42},"fnMap":{"1":{"line":11,"loc":{"end":{"column":29,"line":11},"start":{"column":16,"line":11}},"name":"(anonymous_1)"},"2":{"line":14,"loc":{"end":{"column":62,"line":14},"start":{"column":47,"line":14}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/task-plan-stats.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":14,"7":14,"8":14,"9":42,"10":21,"11":21,"12":21},"statementMap":{"1":{"end":{"column":111,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":44,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":23},"start":{"column":0,"line":9}},"6":{"end":{"column":24,"line":12},"start":{"column":6,"line":12}},"7":{"end":{"column":27,"line":13},"start":{"column":6,"line":13}},"8":{"end":{"column":40,"line":20},"start":{"column":6,"line":14}},"9":{"end":{"column":10,"line":19},"start":{"column":8,"line":15}},"10":{"end":{"column":52,"line":25},"start":{"column":0,"line":25}},"11":{"end":{"column":88,"line":27},"start":{"column":0,"line":27}},"12":{"end":{"column":2,"line":32},"start":{"column":0,"line":29}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"12":14,"13":14,"14":14,"15":42,"25":21,"27":21,"29":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/task-plan.coffee":{"b":{"1":[4,5144],"2":[11,5137],"3":[11,5137],"4":[45,5103],"5":[5148,5148],"6":[5148,0],"7":[5081,67],"8":[1,44],"9":[1,44],"10":[5060,88],"11":[0,0],"12":[12,12],"13":[10,0],"14":[28,12],"15":[3,7],"16":[0,0],"17":[0,0],"18":[1304,336],"19":[336,1304],"20":[1304,336],"21":[326,91],"22":[31,15],"23":[46,0],"24":[41,18,18],"25":[41,0],"26":[14,4],"27":[0,18],"28":[23,18],"29":[41,0],"30":[0,4],"31":[0,4],"32":[0,4],"33":[0,4],"34":[0,0],"35":[19,0],"36":[10,0],"37":[10,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[1,2],"48":[4028,0],"49":[4028,0],"50":[141,0],"51":[98,75],"52":[75,0],"53":[0,0],"54":[0,0],"55":[7,0],"56":[101,0],"57":[0,16],"58":[16,16],"59":[4,4],"60":[4,0],"61":[5,2],"62":[5,4,4],"63":[4,0],"64":[4,0],"65":[1,1],"66":[1,0,0],"67":[0,0],"68":[0,0],"69":[1,0],"70":[1,0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[104,0],"75":[25,1],"76":[20,20,2],"77":[20,0],"78":[20,0],"79":[2,0],"80":[6,4],"81":[31,31],"82":[31,0],"83":[31,0],"84":[17,14],"85":[31,3,31],"86":[214,211],"87":[214,0],"88":[0,205],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,212],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,101],"97":[0,0],"98":[0,0]},"branchMap":{"1":{"line":59,"locations":[{"end":{"column":4,"line":59},"start":{"column":4,"line":59}},{"end":{"column":4,"line":59},"start":{"column":4,"line":59}}],"type":"if"},"2":{"line":62,"locations":[{"end":{"column":4,"line":62},"start":{"column":4,"line":62}},{"end":{"column":4,"line":62},"start":{"column":4,"line":62}}],"type":"if"},"3":{"line":65,"locations":[{"end":{"column":4,"line":65},"start":{"column":4,"line":65}},{"end":{"column":4,"line":65},"start":{"column":4,"line":65}}],"type":"if"},"4":{"line":68,"locations":[{"end":{"column":4,"line":68},"start":{"column":4,"line":68}},{"end":{"column":4,"line":68},"start":{"column":4,"line":68}}],"type":"if"},"5":{"line":68,"locations":[{"end":{"column":91,"line":68},"start":{"column":8,"line":68}},{"end":{"column":180,"line":68},"start":{"column":95,"line":68}}],"type":"binary-expr"},"6":{"line":68,"locations":[{"end":{"column":57,"line":68},"start":{"column":48,"line":68}},{"end":{"column":66,"line":68},"start":{"column":60,"line":68}}],"type":"cond-expr"},"7":{"line":68,"locations":[{"end":{"column":146,"line":68},"start":{"column":137,"line":68}},{"end":{"column":155,"line":68},"start":{"column":149,"line":68}}],"type":"cond-expr"},"8":{"line":69,"locations":[{"end":{"column":6,"line":69},"start":{"column":6,"line":69}},{"end":{"column":6,"line":69},"start":{"column":6,"line":69}}],"type":"if"},"9":{"line":72,"locations":[{"end":{"column":6,"line":72},"start":{"column":6,"line":72}},{"end":{"column":6,"line":72},"start":{"column":6,"line":72}}],"type":"if"},"10":{"line":78,"locations":[{"end":{"column":4,"line":78},"start":{"column":4,"line":78}},{"end":{"column":4,"line":78},"start":{"column":4,"line":78}}],"type":"if"},"11":{"line":89,"locations":[{"end":{"column":4,"line":89},"start":{"column":4,"line":89}},{"end":{"column":4,"line":89},"start":{"column":4,"line":89}}],"type":"if"},"12":{"line":115,"locations":[{"end":{"column":29,"line":115},"start":{"column":15,"line":115}},{"end":{"column":49,"line":115},"start":{"column":33,"line":115}}],"type":"binary-expr"},"13":{"line":121,"locations":[{"end":{"column":51,"line":121},"start":{"column":33,"line":121}},{"end":{"column":60,"line":121},"start":{"column":54,"line":121}}],"type":"cond-expr"},"14":{"line":126,"locations":[{"end":{"column":6,"line":126},"start":{"column":6,"line":126}},{"end":{"column":6,"line":126},"start":{"column":6,"line":126}}],"type":"if"},"15":{"line":134,"locations":[{"end":{"column":4,"line":134},"start":{"column":4,"line":134}},{"end":{"column":4,"line":134},"start":{"column":4,"line":134}}],"type":"if"},"16":{"line":155,"locations":[{"end":{"column":4,"line":155},"start":{"column":4,"line":155}},{"end":{"column":4,"line":155},"start":{"column":4,"line":155}}],"type":"if"},"17":{"line":160,"locations":[{"end":{"column":4,"line":160},"start":{"column":4,"line":160}},{"end":{"column":4,"line":160},"start":{"column":4,"line":160}}],"type":"if"},"18":{"line":171,"locations":[{"end":{"column":6,"line":171},"start":{"column":6,"line":171}},{"end":{"column":6,"line":171},"start":{"column":6,"line":171}}],"type":"if"},"19":{"line":174,"locations":[{"end":{"column":6,"line":174},"start":{"column":6,"line":174}},{"end":{"column":6,"line":174},"start":{"column":6,"line":174}}],"type":"if"},"20":{"line":174,"locations":[{"end":{"column":45,"line":174},"start":{"column":31,"line":174}},{"end":{"column":54,"line":174},"start":{"column":48,"line":174}}],"type":"cond-expr"},"21":{"line":180,"locations":[{"end":{"column":4,"line":180},"start":{"column":4,"line":180}},{"end":{"column":4,"line":180},"start":{"column":4,"line":180}}],"type":"if"},"22":{"line":190,"locations":[{"end":{"column":4,"line":190},"start":{"column":4,"line":190}},{"end":{"column":4,"line":190},"start":{"column":4,"line":190}}],"type":"if"},"23":{"line":190,"locations":[{"end":{"column":54,"line":190},"start":{"column":33,"line":190}},{"end":{"column":63,"line":190},"start":{"column":57,"line":190}}],"type":"cond-expr"},"24":{"line":196,"locations":[{"end":{"column":85,"line":196},"start":{"column":21,"line":196}},{"end":{"column":155,"line":196},"start":{"column":91,"line":196}},{"end":{"column":229,"line":196},"start":{"column":161,"line":196}}],"type":"binary-expr"},"25":{"line":196,"locations":[{"end":{"column":76,"line":196},"start":{"column":58,"line":196}},{"end":{"column":85,"line":196},"start":{"column":79,"line":196}}],"type":"cond-expr"},"26":{"line":196,"locations":[{"end":{"column":146,"line":196},"start":{"column":128,"line":196}},{"end":{"column":155,"line":196},"start":{"column":149,"line":196}}],"type":"cond-expr"},"27":{"line":196,"locations":[{"end":{"column":220,"line":196},"start":{"column":202,"line":196}},{"end":{"column":229,"line":196},"start":{"column":223,"line":196}}],"type":"cond-expr"},"28":{"line":198,"locations":[{"end":{"column":4,"line":198},"start":{"column":4,"line":198}},{"end":{"column":4,"line":198},"start":{"column":4,"line":198}}],"type":"if"},"29":{"line":198,"locations":[{"end":{"column":54,"line":198},"start":{"column":33,"line":198}},{"end":{"column":63,"line":198},"start":{"column":57,"line":198}}],"type":"cond-expr"},"30":{"line":233,"locations":[{"end":{"column":4,"line":233},"start":{"column":4,"line":233}},{"end":{"column":4,"line":233},"start":{"column":4,"line":233}}],"type":"if"},"31":{"line":237,"locations":[{"end":{"column":4,"line":237},"start":{"column":4,"line":237}},{"end":{"column":4,"line":237},"start":{"column":4,"line":237}}],"type":"if"},"32":{"line":240,"locations":[{"end":{"column":4,"line":240},"start":{"column":4,"line":240}},{"end":{"column":4,"line":240},"start":{"column":4,"line":240}}],"type":"if"},"33":{"line":243,"locations":[{"end":{"column":4,"line":243},"start":{"column":4,"line":243}},{"end":{"column":4,"line":243},"start":{"column":4,"line":243}}],"type":"if"},"34":{"line":260,"locations":[{"end":{"column":4,"line":260},"start":{"column":4,"line":260}},{"end":{"column":4,"line":260},"start":{"column":4,"line":260}}],"type":"if"},"35":{"line":307,"locations":[{"end":{"column":4,"line":307},"start":{"column":4,"line":307}},{"end":{"column":4,"line":307},"start":{"column":4,"line":307}}],"type":"if"},"36":{"line":323,"locations":[{"end":{"column":56,"line":323},"start":{"column":31,"line":323}},{"end":{"column":65,"line":323},"start":{"column":59,"line":323}}],"type":"cond-expr"},"37":{"line":324,"locations":[{"end":{"column":4,"line":324},"start":{"column":4,"line":324}},{"end":{"column":4,"line":324},"start":{"column":4,"line":324}}],"type":"if"},"38":{"line":353,"locations":[{"end":{"column":4,"line":353},"start":{"column":4,"line":353}},{"end":{"column":4,"line":353},"start":{"column":4,"line":353}}],"type":"if"},"39":{"line":369,"locations":[{"end":{"column":68,"line":369},"start":{"column":35,"line":369}},{"end":{"column":77,"line":369},"start":{"column":71,"line":369}}],"type":"cond-expr"},"40":{"line":370,"locations":[{"end":{"column":4,"line":370},"start":{"column":4,"line":370}},{"end":{"column":4,"line":370},"start":{"column":4,"line":370}}],"type":"if"},"41":{"line":398,"locations":[{"end":{"column":59,"line":398},"start":{"column":34,"line":398}},{"end":{"column":68,"line":398},"start":{"column":62,"line":398}}],"type":"cond-expr"},"42":{"line":400,"locations":[{"end":{"column":4,"line":400},"start":{"column":4,"line":400}},{"end":{"column":4,"line":400},"start":{"column":4,"line":400}}],"type":"if"},"43":{"line":403,"locations":[{"end":{"column":4,"line":403},"start":{"column":4,"line":403}},{"end":{"column":4,"line":403},"start":{"column":4,"line":403}}],"type":"if"},"44":{"line":420,"locations":[{"end":{"column":71,"line":420},"start":{"column":38,"line":420}},{"end":{"column":80,"line":420},"start":{"column":74,"line":420}}],"type":"cond-expr"},"45":{"line":422,"locations":[{"end":{"column":4,"line":422},"start":{"column":4,"line":422}},{"end":{"column":4,"line":422},"start":{"column":4,"line":422}}],"type":"if"},"46":{"line":425,"locations":[{"end":{"column":4,"line":425},"start":{"column":4,"line":425}},{"end":{"column":4,"line":425},"start":{"column":4,"line":425}}],"type":"if"},"47":{"line":458,"locations":[{"end":{"column":4,"line":458},"start":{"column":4,"line":458}},{"end":{"column":4,"line":458},"start":{"column":4,"line":458}}],"type":"if"},"48":{"line":480,"locations":[{"end":{"column":101,"line":480},"start":{"column":29,"line":480}},{"end":{"column":110,"line":480},"start":{"column":104,"line":480}}],"type":"cond-expr"},"49":{"line":480,"locations":[{"end":{"column":92,"line":480},"start":{"column":71,"line":480}},{"end":{"column":101,"line":480},"start":{"column":95,"line":480}}],"type":"cond-expr"},"50":{"line":485,"locations":[{"end":{"column":50,"line":485},"start":{"column":28,"line":485}},{"end":{"column":59,"line":485},"start":{"column":53,"line":485}}],"type":"cond-expr"},"51":{"line":490,"locations":[{"end":{"column":30,"line":490},"start":{"column":13,"line":490}},{"end":{"column":106,"line":490},"start":{"column":35,"line":490}}],"type":"binary-expr"},"52":{"line":490,"locations":[{"end":{"column":97,"line":490},"start":{"column":80,"line":490}},{"end":{"column":106,"line":490},"start":{"column":100,"line":490}}],"type":"cond-expr"},"53":{"line":495,"locations":[{"end":{"column":108,"line":495},"start":{"column":29,"line":495}},{"end":{"column":117,"line":495},"start":{"column":111,"line":495}}],"type":"cond-expr"},"54":{"line":495,"locations":[{"end":{"column":99,"line":495},"start":{"column":75,"line":495}},{"end":{"column":108,"line":495},"start":{"column":102,"line":495}}],"type":"cond-expr"},"55":{"line":500,"locations":[{"end":{"column":54,"line":500},"start":{"column":28,"line":500}},{"end":{"column":63,"line":500},"start":{"column":57,"line":500}}],"type":"cond-expr"},"56":{"line":505,"locations":[{"end":{"column":44,"line":505},"start":{"column":28,"line":505}},{"end":{"column":53,"line":505},"start":{"column":47,"line":505}}],"type":"cond-expr"},"57":{"line":519,"locations":[{"end":{"column":10,"line":519},"start":{"column":10,"line":519}},{"end":{"column":10,"line":519},"start":{"column":10,"line":519}}],"type":"if"},"58":{"line":519,"locations":[{"end":{"column":30,"line":519},"start":{"column":16,"line":519}},{"end":{"column":50,"line":519},"start":{"column":34,"line":519}}],"type":"binary-expr"},"59":{"line":523,"locations":[{"end":{"column":19,"line":523},"start":{"column":15,"line":523}},{"end":{"column":82,"line":523},"start":{"column":24,"line":523}}],"type":"binary-expr"},"60":{"line":523,"locations":[{"end":{"column":73,"line":523},"start":{"column":62,"line":523}},{"end":{"column":82,"line":523},"start":{"column":76,"line":523}}],"type":"cond-expr"},"61":{"line":525,"locations":[{"end":{"column":6,"line":525},"start":{"column":6,"line":525}},{"end":{"column":6,"line":525},"start":{"column":6,"line":525}}],"type":"if"},"62":{"line":526,"locations":[{"end":{"column":25,"line":526},"start":{"column":15,"line":526}},{"end":{"column":43,"line":526},"start":{"column":29,"line":526}},{"end":{"column":148,"line":526},"start":{"column":47,"line":526}}],"type":"binary-expr"},"63":{"line":526,"locations":[{"end":{"column":134,"line":526},"start":{"column":81,"line":526}},{"end":{"column":143,"line":526},"start":{"column":137,"line":526}}],"type":"cond-expr"},"64":{"line":526,"locations":[{"end":{"column":125,"line":526},"start":{"column":114,"line":526}},{"end":{"column":134,"line":526},"start":{"column":128,"line":526}}],"type":"cond-expr"},"65":{"line":527,"locations":[{"end":{"column":13,"line":527},"start":{"column":13,"line":527}},{"end":{"column":13,"line":527},"start":{"column":13,"line":527}}],"type":"if"},"66":{"line":528,"locations":[{"end":{"column":25,"line":528},"start":{"column":15,"line":528}},{"end":{"column":43,"line":528},"start":{"column":29,"line":528}},{"end":{"column":152,"line":528},"start":{"column":47,"line":528}}],"type":"binary-expr"},"67":{"line":528,"locations":[{"end":{"column":138,"line":528},"start":{"column":81,"line":528}},{"end":{"column":147,"line":528},"start":{"column":141,"line":528}}],"type":"cond-expr"},"68":{"line":528,"locations":[{"end":{"column":129,"line":528},"start":{"column":118,"line":528}},{"end":{"column":138,"line":528},"start":{"column":132,"line":528}}],"type":"cond-expr"},"69":{"line":529,"locations":[{"end":{"column":13,"line":529},"start":{"column":13,"line":529}},{"end":{"column":13,"line":529},"start":{"column":13,"line":529}}],"type":"if"},"70":{"line":530,"locations":[{"end":{"column":25,"line":530},"start":{"column":15,"line":530}},{"end":{"column":43,"line":530},"start":{"column":29,"line":530}},{"end":{"column":123,"line":530},"start":{"column":47,"line":530}}],"type":"binary-expr"},"71":{"line":530,"locations":[{"end":{"column":113,"line":530},"start":{"column":96,"line":530}},{"end":{"column":122,"line":530},"start":{"column":116,"line":530}}],"type":"cond-expr"},"72":{"line":531,"locations":[{"end":{"column":13,"line":531},"start":{"column":13,"line":531}},{"end":{"column":13,"line":531},"start":{"column":13,"line":531}}],"type":"if"},"73":{"line":532,"locations":[{"end":{"column":25,"line":532},"start":{"column":15,"line":532}},{"end":{"column":43,"line":532},"start":{"column":29,"line":532}}],"type":"binary-expr"},"74":{"line":538,"locations":[{"end":{"column":48,"line":538},"start":{"column":31,"line":538}},{"end":{"column":57,"line":538},"start":{"column":51,"line":538}}],"type":"cond-expr"},"75":{"line":546,"locations":[{"end":{"column":66,"line":546},"start":{"column":45,"line":546}},{"end":{"column":75,"line":546},"start":{"column":69,"line":546}}],"type":"cond-expr"},"76":{"line":552,"locations":[{"end":{"column":59,"line":552},"start":{"column":14,"line":552}},{"end":{"column":116,"line":552},"start":{"column":63,"line":552}},{"end":{"column":206,"line":552},"start":{"column":121,"line":552}}],"type":"binary-expr"},"77":{"line":552,"locations":[{"end":{"column":49,"line":552},"start":{"column":32,"line":552}},{"end":{"column":58,"line":552},"start":{"column":52,"line":552}}],"type":"cond-expr"},"78":{"line":552,"locations":[{"end":{"column":106,"line":552},"start":{"column":81,"line":552}},{"end":{"column":115,"line":552},"start":{"column":109,"line":552}}],"type":"cond-expr"},"79":{"line":552,"locations":[{"end":{"column":174,"line":552},"start":{"column":153,"line":552}},{"end":{"column":183,"line":552},"start":{"column":177,"line":552}}],"type":"cond-expr"},"80":{"line":556,"locations":[{"end":{"column":87,"line":556},"start":{"column":76,"line":556}},{"end":{"column":96,"line":556},"start":{"column":90,"line":556}}],"type":"cond-expr"},"81":{"line":562,"locations":[{"end":{"column":77,"line":562},"start":{"column":32,"line":562}},{"end":{"column":134,"line":562},"start":{"column":81,"line":562}}],"type":"binary-expr"},"82":{"line":562,"locations":[{"end":{"column":67,"line":562},"start":{"column":50,"line":562}},{"end":{"column":76,"line":562},"start":{"column":70,"line":562}}],"type":"cond-expr"},"83":{"line":562,"locations":[{"end":{"column":124,"line":562},"start":{"column":99,"line":562}},{"end":{"column":133,"line":562},"start":{"column":127,"line":562}}],"type":"cond-expr"},"84":{"line":563,"locations":[{"end":{"column":75,"line":563},"start":{"column":53,"line":563}},{"end":{"column":84,"line":563},"start":{"column":78,"line":563}}],"type":"cond-expr"},"85":{"line":564,"locations":[{"end":{"column":39,"line":564},"start":{"column":16,"line":564}},{"end":{"column":52,"line":564},"start":{"column":43,"line":564}},{"end":{"column":84,"line":564},"start":{"column":57,"line":564}}],"type":"binary-expr"},"86":{"line":568,"locations":[{"end":{"column":85,"line":568},"start":{"column":14,"line":568}},{"end":{"column":123,"line":568},"start":{"column":90,"line":568}}],"type":"binary-expr"},"87":{"line":568,"locations":[{"end":{"column":76,"line":568},"start":{"column":51,"line":568}},{"end":{"column":85,"line":568},"start":{"column":79,"line":568}}],"type":"cond-expr"},"88":{"line":590,"locations":[{"end":{"column":6,"line":590},"start":{"column":6,"line":590}},{"end":{"column":6,"line":590},"start":{"column":6,"line":590}}],"type":"if"},"89":{"line":592,"locations":[{"end":{"column":8,"line":592},"start":{"column":8,"line":592}},{"end":{"column":8,"line":592},"start":{"column":8,"line":592}}],"type":"if"},"90":{"line":592,"locations":[{"end":{"column":47,"line":592},"start":{"column":31,"line":592}},{"end":{"column":56,"line":592},"start":{"column":50,"line":592}}],"type":"cond-expr"},"91":{"line":593,"locations":[{"end":{"column":87,"line":593},"start":{"column":71,"line":593}},{"end":{"column":96,"line":593},"start":{"column":90,"line":593}}],"type":"cond-expr"},"92":{"line":602,"locations":[{"end":{"column":6,"line":602},"start":{"column":6,"line":602}},{"end":{"column":6,"line":602},"start":{"column":6,"line":602}}],"type":"if"},"93":{"line":604,"locations":[{"end":{"column":8,"line":604},"start":{"column":8,"line":604}},{"end":{"column":8,"line":604},"start":{"column":8,"line":604}}],"type":"if"},"94":{"line":604,"locations":[{"end":{"column":45,"line":604},"start":{"column":31,"line":604}},{"end":{"column":54,"line":604},"start":{"column":48,"line":604}}],"type":"cond-expr"},"95":{"line":605,"locations":[{"end":{"column":83,"line":605},"start":{"column":69,"line":605}},{"end":{"column":92,"line":605},"start":{"column":86,"line":605}}],"type":"cond-expr"},"96":{"line":615,"locations":[{"end":{"column":6,"line":615},"start":{"column":6,"line":615}},{"end":{"column":6,"line":615},"start":{"column":6,"line":615}}],"type":"if"},"97":{"line":629,"locations":[{"end":{"column":49,"line":629},"start":{"column":31,"line":629}},{"end":{"column":58,"line":629},"start":{"column":52,"line":629}}],"type":"cond-expr"},"98":{"line":634,"locations":[{"end":{"column":46,"line":634},"start":{"column":28,"line":634}},{"end":{"column":55,"line":634},"start":{"column":49,"line":634}}],"type":"cond-expr"}},"code":["var CourseActions, CourseStore, CrudConfig, ExerciseStore, PLAN_TYPES, PlanPublishActions, PlanPublishStore, TUTOR_SELECTIONS, TaskHelpers, TaskPlanConfig, TimeHelper, TimeStore, TocStore, _, actions, extendConfig, makeSimpleStore, moment, ref, ref1, ref2, ref3, sortTopics, store, validator;","","_ = require('underscore');","","moment = require('moment-timezone');","","validator = require('validator');","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","TocStore = require('./toc').TocStore;","","TimeStore = require('./time').TimeStore;","","ExerciseStore = require('./exercise').ExerciseStore;","","ref1 = require('./plan-publish'), PlanPublishActions = ref1.PlanPublishActions, PlanPublishStore = ref1.PlanPublishStore;","","ref2 = require('./course'), CourseActions = ref2.CourseActions, CourseStore = ref2.CourseStore;","","TaskHelpers = require('../helpers/task');","","TimeHelper = require('../helpers/time');","","TUTOR_SELECTIONS = {","  \"default\": 3,","  max: 4,","  min: 2","};","","PLAN_TYPES = {","  HOMEWORK: 'homework',","  READING: 'reading',","  EXTERNAL: 'external',","  EVENT: 'event'","};","","sortTopics = function(topics) {","  return _.sortBy(topics, function(topicId) {","    var topic;","    topic = TocStore.getSectionInfo(topicId);","    return TaskHelpers.chapterSectionToNumber(topic.chapter_section);","  });","};","","TaskPlanConfig = {","  _stats: {},","  _asyncStatusStats: {},","  _server_copy: {},","  _loaded: function(obj, planId) {","    this._server_copy[planId] = obj;","    return obj;","  },","  _getOriginal: function(planId) {","    return this._server_copy[planId];","  },","  _getPlan: function(planId) {","    var base, base1, base2, base3, base4, obj, ref3, ref4;","    if ((base = this._local)[planId] == null) {","      base[planId] = {};","    }","    if ((base1 = this._local[planId]).settings == null) {","      base1.settings = {};","    }","    if ((base2 = this._local[planId].settings).page_ids == null) {","      base2.page_ids = [];","    }","    if (((ref3 = this._local[planId]) != null ? ref3.type : void 0) === PLAN_TYPES.HOMEWORK || ((ref4 = this._changed[planId]) != null ? ref4.type : void 0) === PLAN_TYPES.HOMEWORK) {","      if ((base3 = this._local[planId].settings).exercise_ids == null) {","        base3.exercise_ids = [];","      }","      if ((base4 = this._local[planId].settings).exercises_count_dynamic == null) {","        base4.exercises_count_dynamic = TUTOR_SELECTIONS[\"default\"];","      }","    }","    _.extend({}, this._local[planId], this._changed[planId]);","    obj = _.extend({}, this._local[planId], this._changed[planId]);","    if (obj.type === PLAN_TYPES.READING) {","      delete obj.settings.exercise_ids;","      delete obj.settings.exercises_count_dynamic;","    }","    return obj;","  },","  FAILED: function() {},","  enableTasking: function(id, target_id, opens_at, due_at) {","    var plan, tasking_plans;","    plan = this._getPlan(id);","    tasking_plans = plan.tasking_plans;","    if (!this._findTasking(tasking_plans, target_id)) {","      tasking_plans = _.clone(tasking_plans);","      tasking_plans.push({","        target_type: 'period',","        target_id: target_id,","        opens_at: opens_at,","        due_at: due_at","      });","      return this._change(id, {","        tasking_plans: tasking_plans","      });","    }","  },","  disableTasking: function(id, target_id) {","    var plan, tasking_plans;","    plan = this._getPlan(id);","    tasking_plans = plan.tasking_plans;","    tasking_plans = _.reject(tasking_plans, function(plan) {","      return plan.target_id === target_id;","    });","    return this._change(id, {","      tasking_plans: tasking_plans","    });","  },","  _removeEmptyTaskings: function(tasking_plans) {","    return _.reject(tasking_plans, function(tasking) {","      return !(tasking.due_at && tasking.opens_at);","    });","  },","  setPeriods: function(id, periods) {","    var curTaskings, findTasking, plan, tasking_plans;","    plan = this._getPlan(id);","    curTaskings = plan != null ? plan.tasking_plans : void 0;","    findTasking = this._findTasking;","    tasking_plans = _.map(periods, function(period) {","      var tasking;","      tasking = findTasking(curTaskings, period.id);","      if (!tasking) {","        tasking = {","          target_id: period.id,","          target_type: 'period'","        };","      }","      return _.extend(_.pick(period, 'opens_at', 'due_at'), tasking);","    });","    if (!this.exports.isNew(id)) {","      tasking_plans = this._removeEmptyTaskings(tasking_plans);","    }","    this._change(id, {","      tasking_plans: tasking_plans","    });","    return this._setInitialPlan(id);","  },","  replaceTaskings: function(id, taskings) {","    return this._change(id, {","      tasking_plans: taskings","    });","  },","  _findTasking: function(tasking_plans, periodId) {","    return _.findWhere(tasking_plans, {","      target_id: periodId,","      target_type: 'period'","    });","  },","  _getPeriodDates: function(id, period) {","    var plan, tasking_plans;","    if (!period) {","      throw new Error('BUG: Period is required arg');","    }","    plan = this._getPlan(id);","    tasking_plans = plan.tasking_plans;","    if (tasking_plans) {","      return this._findTasking(tasking_plans, period);","    } else {","      return null;","    }","  },","  _getTaskingsCommonDate: function(id, attr) {","    var dates, tasking_plans;","    tasking_plans = this._getPlan(id).tasking_plans;","    dates = _.compact(_.uniq(_.map(tasking_plans, function(plan) {","      var date;","      if (plan[attr] != null) {","        date = TimeHelper.getMomentPreserveDate(plan[attr]).toDate();","      }","      if (isNaN(date != null ? date.getTime() : void 0)) {","        return 0;","      } else {","        return date.getTime();","      }","    })));","    if (dates.length === 1) {","      return new Date(_.first(dates));","    } else {","      return null;","    }","  },","  _getFirstTaskingByOpenDate: function(id) {","    var sortedTaskings, tasking_plans;","    tasking_plans = this._getPlan(id).tasking_plans;","    sortedTaskings = _.sortBy(tasking_plans, 'opens_at');","    if (sortedTaskings != null ? sortedTaskings.length : void 0) {","      return sortedTaskings[0];","    }","  },","  _getFirstTaskingByDueDate: function(id) {","    var ref3, ref4, ref5, sortedTaskings, tasking_plans;","    tasking_plans = ((ref3 = this._getPlan(id)) != null ? ref3.tasking_plans : void 0) || ((ref4 = this._changed[id]) != null ? ref4.tasking_plans : void 0) || ((ref5 = this._getOriginal(id)) != null ? ref5.tasking_plans : void 0);","    sortedTaskings = _.sortBy(tasking_plans, 'due_at');","    if (sortedTaskings != null ? sortedTaskings.length : void 0) {","      return sortedTaskings[0];","    }","  },","  updateTutorSelection: function(id, direction) {","    var exercise_ids, exercises_count_dynamic, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercise_ids = ref3.exercise_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    exercises_count_dynamic += direction;","    exercises_count_dynamic = Math.min(TUTOR_SELECTIONS.max, exercises_count_dynamic);","    exercises_count_dynamic = Math.max(TUTOR_SELECTIONS.min, exercises_count_dynamic);","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercise_ids: exercise_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  updateTitle: function(id, title) {","    return this._change(id, {","      title: title","    });","  },","  updateDescription: function(id, description) {","    var plan;","    plan = this._getPlan(id);","    return this._change(id, {","      description: description","    });","  },","  updateDateAttribute: function(id, attr, date, periodId) {","    var i, len, plan, tasking, tasking_plans;","    plan = this._getPlan(id);","    tasking_plans = plan.tasking_plans;","    if (tasking_plans == null) {","      tasking_plans = [];","    }","    tasking_plans = tasking_plans.slice(0);","    if (!id) {","      throw new Error('id is required');","    }","    if (!date) {","      throw new Error(attr + \" is required\");","    }","    if (periodId) {","      tasking = this._findTasking(tasking_plans, periodId);","      tasking[attr] = TimeHelper.getMomentPreserveDate(date, [TimeStore.getFormat()]).format('YYYY-MM-DD');","    } else {","      for (i = 0, len = tasking_plans.length; i < len; i++) {","        tasking = tasking_plans[i];","        tasking[attr] = TimeHelper.getMomentPreserveDate(date, [TimeStore.getFormat()]).format('YYYY-MM-DD');","      }","    }","    return this._change(id, {","      tasking_plans: tasking_plans","    });","  },","  clearDueAt: function(id) {","    var i, len, plan, tasking, tasking_plans;","    plan = this._getPlan(id);","    tasking_plans = plan.tasking_plans;","    if (tasking_plans == null) {","      tasking_plans = [];","    }","    tasking_plans = tasking_plans.slice(0);","    for (i = 0, len = tasking_plans.length; i < len; i++) {","      tasking = tasking_plans[i];","      tasking['due_at'] = null;","    }","    return this._change(id, {","      tasking_plans: tasking_plans","    });","  },","  updateOpensAt: function(id, opens_at, periodId) {","    return this.updateDateAttribute(id, 'opens_at', opens_at, periodId);","  },","  updateDueAt: function(id, due_at, periodId) {","    return this.updateDateAttribute(id, 'due_at', due_at, periodId);","  },","  updateUrl: function(id, external_url) {","    return this._change(id, {","      settings: {","        external_url: external_url","      }","    });","  },","  setEvent: function(id) {","    return this._change(id, {","      settings: {}","    });","  },","  sortTopics: function(id) {","    var exercises_count_dynamic, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    page_ids = sortTopics(page_ids);","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  addTopic: function(id, topicId) {","    var exercise_ids, exercises_count_dynamic, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercise_ids = ref3.exercise_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    page_ids = page_ids.slice(0);","    if (!(plan.settings.page_ids.indexOf(topicId) >= 0)) {","      page_ids.push(topicId);","    }","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercise_ids: exercise_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  removeTopic: function(id, topicId) {","    var exercise_ids, exercises_count_dynamic, index, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercise_ids = ref3.exercise_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    page_ids = page_ids.slice(0);","    index = page_ids != null ? page_ids.indexOf(topicId) : void 0;","    if (page_ids != null) {","      page_ids.splice(index, 1);","    }","    exercise_ids = ExerciseStore.removeTopicExercises(exercise_ids, topicId);","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercise_ids: exercise_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  updateTopics: function(id, page_ids) {","    var exercise_ids, exercises_count_dynamic, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, exercise_ids = ref3.exercise_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercise_ids: exercise_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  addExercise: function(id, exercise) {","    var exercise_ids, exercises_count_dynamic, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercise_ids = ref3.exercise_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    exercise_ids = exercise_ids.slice(0);","    if (!(plan.settings.exercise_ids.indexOf(exercise.id) >= 0)) {","      exercise_ids.push(exercise.id);","    }","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercise_ids: exercise_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  removeExercise: function(id, exercise) {","    var exercise_ids, exercises_count_dynamic, index, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercise_ids = ref3.exercise_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    exercise_ids = exercise_ids.slice(0);","    index = exercise_ids != null ? exercise_ids.indexOf(exercise.id) : void 0;","    if (exercise_ids != null) {","      exercise_ids.splice(index, 1);","    }","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercise_ids: exercise_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  updateExercises: function(id, exercise_ids) {","    var exercises_count_dynamic, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercise_ids: exercise_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  moveReading: function(id, topicId, step) {","    var curIndex, exercises_count_dynamic, newIndex, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    page_ids = page_ids.slice(0);","    curIndex = page_ids != null ? page_ids.indexOf(topicId) : void 0;","    newIndex = curIndex + step;","    if (newIndex < 0) {","      newIndex = 0;","    }","    if (!(newIndex < page_ids.length)) {","      newIndex = page_ids.length - 1;","    }","    page_ids[curIndex] = page_ids[newIndex];","    page_ids[newIndex] = topicId;","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  moveExercise: function(id, exercise, step) {","    var curIndex, exercise_ids, exercises_count_dynamic, newIndex, page_ids, plan, ref3;","    plan = this._getPlan(id);","    ref3 = plan.settings, page_ids = ref3.page_ids, exercise_ids = ref3.exercise_ids, exercises_count_dynamic = ref3.exercises_count_dynamic;","    exercise_ids = exercise_ids.slice(0);","    curIndex = exercise_ids != null ? exercise_ids.indexOf(exercise.id) : void 0;","    newIndex = curIndex + step;","    if (newIndex < 0) {","      newIndex = 0;","    }","    if (!(newIndex < exercise_ids.length)) {","      newIndex = exercise_ids.length - 1;","    }","    exercise_ids[curIndex] = exercise_ids[newIndex];","    exercise_ids[newIndex] = exercise.id;","    return this._change(id, {","      settings: {","        page_ids: page_ids,","        exercise_ids: exercise_ids,","        exercises_count_dynamic: exercises_count_dynamic","      }","    });","  },","  _getStats: function(id) {","    return this._stats[id];","  },","  loadStats: function(id) {","    delete this._stats[id];","    this._asyncStatusStats[id] = 'loading';","    return this.emitChange();","  },","  loadedStats: function(obj, id) {","    this._stats[id] = obj;","    this._asyncStatusStats[id] = 'loaded';","    return this.emitChange();","  },","  publish: function(id) {","    this.emit('publishing', id);","    return this._change(id, {","      is_publish_requested: true","    });","  },","  _saved: function(obj, id) {","    if (obj.is_publish_requested) {","      PlanPublishActions.queued(obj, id);","      this.emit('publish-queued', id);","    }","    return obj;","  },","  resetPlan: function(id) {","    this._local[id] = _.clone(this._server_copy[id]);","    return this.clearChanged(id);","  },","  _isDeleteRequested: function(id) {","    var deleteStates;","    deleteStates = ['deleting', 'deleted'];","    return deleteStates.indexOf(this._asyncStatus[id]) > -1;","  },","  _setInitialPlan: function(id) {","    return this._local[id].defaultPlan = _.extend({}, this.exports.getChanged.call(this, id));","  },","  exports: {","    hasTopic: function(id, topicId) {","      var plan, ref3;","      plan = this._getPlan(id);","      return (plan != null ? (ref3 = plan.settings.page_ids) != null ? ref3.indexOf(topicId) : void 0 : void 0) >= 0;","    },","    getTopics: function(id) {","      var plan;","      plan = this._getPlan(id);","      return plan != null ? plan.settings.page_ids : void 0;","    },","    getEcosystemId: function(id, courseId) {","      var plan, ref3;","      plan = this._getPlan(id);","      return plan.ecosystem_id || ((ref3 = CourseStore.get(courseId)) != null ? ref3.ecosystem_id : void 0);","    },","    hasExercise: function(id, exerciseId) {","      var plan, ref3;","      plan = this._getPlan(id);","      return (plan != null ? (ref3 = plan.settings.exercise_ids) != null ? ref3.indexOf(exerciseId) : void 0 : void 0) >= 0;","    },","    getExercises: function(id) {","      var plan;","      plan = this._getPlan(id);","      return plan != null ? plan.settings.exercise_ids : void 0;","    },","    getDescription: function(id) {","      var plan;","      plan = this._getPlan(id);","      return plan != null ? plan.description : void 0;","    },","    isHomework: function(id) {","      var plan;","      plan = this._getPlan(id);","      return plan.type === PLAN_TYPES.HOMEWORK;","    },","    isValid: function(id) {","      var isValidDates, plan, ref3, ref4, ref5, ref6, ref7;","      plan = this._getPlan(id);","      isValidDates = function() {","        var flag, ref3;","        flag = true;","        _.each(plan.tasking_plans, function(tasking) {","          if (!(tasking.due_at && tasking.opens_at)) {","            return flag = false;","          }","        });","        return flag && ((ref3 = plan.tasking_plans) != null ? ref3.length : void 0);","      };","      if (plan.type === 'reading') {","        return plan.title && isValidDates() && ((ref3 = plan.settings) != null ? (ref4 = ref3.page_ids) != null ? ref4.length : void 0 : void 0) > 0;","      } else if (plan.type === 'homework') {","        return plan.title && isValidDates() && ((ref5 = plan.settings) != null ? (ref6 = ref5.exercise_ids) != null ? ref6.length : void 0 : void 0) > 0;","      } else if (plan.type === 'external') {","        return plan.title && isValidDates() && validator.isURL((ref7 = plan.settings) != null ? ref7.external_url : void 0);","      } else if (plan.type === 'event') {","        return plan.title && isValidDates();","      }","    },","    isPublished: function(id) {","      var plan;","      plan = this._getPlan(id);","      return !!(plan != null ? plan.published_at : void 0);","    },","    isDeleteRequested: function(id) {","      return this._isDeleteRequested(id);","    },","    isOpened: function(id) {","      var firstTasking;","      firstTasking = this._getFirstTaskingByOpenDate(id);","      return new Date(firstTasking != null ? firstTasking.opens_at : void 0) <= TimeStore.getNow();","    },","    isVisibleToStudents: function(id) {","      var firstTasking, plan;","      plan = this._getPlan(id);","      firstTasking = this._getFirstTaskingByOpenDate(id);","      return (!!(plan != null ? plan.published_at : void 0) || !!(plan != null ? plan.is_publish_requested : void 0)) && new Date(firstTasking != null ? firstTasking.opens_at : void 0) <= TimeStore.getNow();","    },","    getFirstDueDate: function(id) {","      var due_at, ref3;","      return due_at = (ref3 = this._getFirstTaskingByDueDate(id)) != null ? ref3.due_at : void 0;","    },","    isEditable: function(id) {","      var firstDueTasking, isPastDue, isPublishedOrPublishing, plan;","      plan = this._getPlan(id);","      firstDueTasking = this._getFirstTaskingByDueDate(id);","      isPublishedOrPublishing = !!(plan != null ? plan.published_at : void 0) || !!(plan != null ? plan.is_publish_requested : void 0);","      isPastDue = new Date(firstDueTasking != null ? firstDueTasking.due_at : void 0) < TimeStore.getNow();","      return !((isPublishedOrPublishing && isPastDue) || this._isDeleteRequested(id));","    },","    isPublishing: function(id) {","      var ref3;","      return ((ref3 = this._changed[id]) != null ? ref3.is_publish_requested : void 0) || PlanPublishStore.isPublishing(id);","    },","    canDecreaseTutorExercises: function(id) {","      var plan;","      plan = this._getPlan(id);","      return plan.settings.exercises_count_dynamic > TUTOR_SELECTIONS.min;","    },","    canIncreaseTutorExercises: function(id) {","      var plan;","      plan = this._getPlan(id);","      return plan.settings.exercises_count_dynamic < TUTOR_SELECTIONS.max;","    },","    getTutorSelections: function(id) {","      var plan;","      plan = this._getPlan(id);","      return plan.settings.exercises_count_dynamic;","    },","    getStats: function(id) {","      return this._getStats(id);","    },","    getOpensAt: function(id, periodId) {","      var opensAt, tasking;","      if (periodId != null) {","        tasking = this._getPeriodDates(id, periodId);","        if ((tasking != null ? tasking.opens_at : void 0) != null) {","          opensAt = TimeHelper.getMomentPreserveDate(tasking != null ? tasking.opens_at : void 0).toDate();","        }","      } else {","        opensAt = this._getTaskingsCommonDate(id, 'opens_at');","      }","      return opensAt;","    },","    getDueAt: function(id, periodId) {","      var dueAt, tasking;","      if (periodId != null) {","        tasking = this._getPeriodDates(id, periodId);","        if ((tasking != null ? tasking.due_at : void 0) != null) {","          dueAt = TimeHelper.getMomentPreserveDate(tasking != null ? tasking.due_at : void 0).toDate();","        }","      } else {","        dueAt = this._getTaskingsCommonDate(id, 'due_at');","      }","      return dueAt;","    },","    getMinDueAt: function(id, periodId) {","      var opensAt;","      opensAt = moment(this.exports.getOpensAt.call(this, id, periodId));","      if (opensAt.isBefore(TimeStore.getNow())) {","        opensAt = moment(TimeStore.getNow());","      }","      return opensAt.startOf('day').add(1, 'day').toDate();","    },","    hasTasking: function(id, periodId) {","      var plan, tasking_plans;","      plan = this._getPlan(id);","      tasking_plans = plan.tasking_plans;","      return !!this._findTasking(tasking_plans, periodId);","    },","    hasAnyTasking: function(id) {","      var plan;","      plan = this._getPlan(id);","      return !!(plan != null ? plan.tasking_plans : void 0);","    },","    getEnabledTaskings: function(id) {","      var plan;","      plan = this._getPlan(id);","      return plan != null ? plan.tasking_plans : void 0;","    },","    isStatsLoading: function(id) {","      return this._asyncStatusStats[id] === 'loading';","    },","    isStatsLoaded: function(id) {","      return !!this._stats[id];","    },","    isStatsFailed: function(id) {","      return !!this._stats[id];","    },","    hasChanged: function(id) {","      return !_.isEqual(this.exports.getChanged.call(this, id), this._local[id].defaultPlan);","    }","  }","};","","extendConfig(TaskPlanConfig, new CrudConfig());","","ref3 = makeSimpleStore(TaskPlanConfig), actions = ref3.actions, store = ref3.store;","","module.exports = {","  TaskPlanActions: actions,","  TaskPlanStore: store","};",""],"f":{"1":3,"2":18,"3":1,"4":18,"5":5148,"6":0,"7":0,"8":0,"9":0,"10":3,"11":12,"12":10,"13":40,"14":0,"15":99,"16":0,"17":417,"18":1640,"19":46,"20":41,"21":0,"22":24,"23":0,"24":4,"25":0,"26":1,"27":3,"28":0,"29":0,"30":3,"31":19,"32":10,"33":1,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":3,"44":4,"45":322,"46":10,"47":4028,"48":141,"49":98,"50":0,"51":7,"52":101,"53":0,"54":7,"55":4,"56":16,"57":104,"58":291,"59":26,"60":20,"61":10,"62":31,"63":214,"64":0,"65":0,"66":0,"67":0,"68":205,"69":212,"70":101,"71":59,"72":0,"73":0,"74":0,"75":0,"76":0,"77":4},"fnMap":{"1":{"line":38,"loc":{"end":{"column":30,"line":38},"start":{"column":13,"line":38}},"name":"(anonymous_1)"},"2":{"line":39,"loc":{"end":{"column":44,"line":39},"start":{"column":26,"line":39}},"name":"(anonymous_2)"},"3":{"line":50,"loc":{"end":{"column":33,"line":50},"start":{"column":11,"line":50}},"name":"(anonymous_3)"},"4":{"line":54,"loc":{"end":{"column":33,"line":54},"start":{"column":16,"line":54}},"name":"(anonymous_4)"},"5":{"line":57,"loc":{"end":{"column":29,"line":57},"start":{"column":12,"line":57}},"name":"(anonymous_5)"},"6":{"line":84,"loc":{"end":{"column":21,"line":84},"start":{"column":10,"line":84}},"name":"(anonymous_6)"},"7":{"line":85,"loc":{"end":{"column":59,"line":85},"start":{"column":17,"line":85}},"name":"(anonymous_7)"},"8":{"line":102,"loc":{"end":{"column":42,"line":102},"start":{"column":18,"line":102}},"name":"(anonymous_8)"},"9":{"line":106,"loc":{"end":{"column":59,"line":106},"start":{"column":44,"line":106}},"name":"(anonymous_9)"},"10":{"line":113,"loc":{"end":{"column":48,"line":113},"start":{"column":24,"line":113}},"name":"(anonymous_10)"},"11":{"line":114,"loc":{"end":{"column":53,"line":114},"start":{"column":35,"line":114}},"name":"(anonymous_11)"},"12":{"line":118,"loc":{"end":{"column":36,"line":118},"start":{"column":14,"line":118}},"name":"(anonymous_12)"},"13":{"line":123,"loc":{"end":{"column":52,"line":123},"start":{"column":35,"line":123}},"name":"(anonymous_13)"},"14":{"line":142,"loc":{"end":{"column":42,"line":142},"start":{"column":19,"line":142}},"name":"(anonymous_14)"},"15":{"line":147,"loc":{"end":{"column":50,"line":147},"start":{"column":16,"line":147}},"name":"(anonymous_15)"},"16":{"line":153,"loc":{"end":{"column":40,"line":153},"start":{"column":19,"line":153}},"name":"(anonymous_16)"},"17":{"line":166,"loc":{"end":{"column":45,"line":166},"start":{"column":26,"line":166}},"name":"(anonymous_17)"},"18":{"line":169,"loc":{"end":{"column":65,"line":169},"start":{"column":50,"line":169}},"name":"(anonymous_18)"},"19":{"line":186,"loc":{"end":{"column":43,"line":186},"start":{"column":30,"line":186}},"name":"(anonymous_19)"},"20":{"line":194,"loc":{"end":{"column":42,"line":194},"start":{"column":29,"line":194}},"name":"(anonymous_20)"},"21":{"line":202,"loc":{"end":{"column":48,"line":202},"start":{"column":24,"line":202}},"name":"(anonymous_21)"},"22":{"line":217,"loc":{"end":{"column":35,"line":217},"start":{"column":15,"line":217}},"name":"(anonymous_22)"},"23":{"line":222,"loc":{"end":{"column":47,"line":222},"start":{"column":21,"line":222}},"name":"(anonymous_23)"},"24":{"line":229,"loc":{"end":{"column":58,"line":229},"start":{"column":23,"line":229}},"name":"(anonymous_24)"},"25":{"line":256,"loc":{"end":{"column":27,"line":256},"start":{"column":14,"line":256}},"name":"(anonymous_25)"},"26":{"line":272,"loc":{"end":{"column":50,"line":272},"start":{"column":17,"line":272}},"name":"(anonymous_26)"},"27":{"line":275,"loc":{"end":{"column":46,"line":275},"start":{"column":15,"line":275}},"name":"(anonymous_27)"},"28":{"line":278,"loc":{"end":{"column":40,"line":278},"start":{"column":13,"line":278}},"name":"(anonymous_28)"},"29":{"line":285,"loc":{"end":{"column":25,"line":285},"start":{"column":12,"line":285}},"name":"(anonymous_29)"},"30":{"line":290,"loc":{"end":{"column":27,"line":290},"start":{"column":14,"line":290}},"name":"(anonymous_30)"},"31":{"line":302,"loc":{"end":{"column":34,"line":302},"start":{"column":12,"line":302}},"name":"(anonymous_31)"},"32":{"line":318,"loc":{"end":{"column":37,"line":318},"start":{"column":15,"line":318}},"name":"(anonymous_32)"},"33":{"line":336,"loc":{"end":{"column":39,"line":336},"start":{"column":16,"line":336}},"name":"(anonymous_33)"},"34":{"line":348,"loc":{"end":{"column":38,"line":348},"start":{"column":15,"line":348}},"name":"(anonymous_34)"},"35":{"line":364,"loc":{"end":{"column":41,"line":364},"start":{"column":18,"line":364}},"name":"(anonymous_35)"},"36":{"line":381,"loc":{"end":{"column":46,"line":381},"start":{"column":19,"line":381}},"name":"(anonymous_36)"},"37":{"line":393,"loc":{"end":{"column":43,"line":393},"start":{"column":15,"line":393}},"name":"(anonymous_37)"},"38":{"line":415,"loc":{"end":{"column":45,"line":415},"start":{"column":16,"line":415}},"name":"(anonymous_38)"},"39":{"line":438,"loc":{"end":{"column":26,"line":438},"start":{"column":13,"line":438}},"name":"(anonymous_39)"},"40":{"line":441,"loc":{"end":{"column":26,"line":441},"start":{"column":13,"line":441}},"name":"(anonymous_40)"},"41":{"line":446,"loc":{"end":{"column":33,"line":446},"start":{"column":15,"line":446}},"name":"(anonymous_41)"},"42":{"line":451,"loc":{"end":{"column":24,"line":451},"start":{"column":11,"line":451}},"name":"(anonymous_42)"},"43":{"line":457,"loc":{"end":{"column":28,"line":457},"start":{"column":10,"line":457}},"name":"(anonymous_43)"},"44":{"line":464,"loc":{"end":{"column":26,"line":464},"start":{"column":13,"line":464}},"name":"(anonymous_44)"},"45":{"line":468,"loc":{"end":{"column":35,"line":468},"start":{"column":22,"line":468}},"name":"(anonymous_45)"},"46":{"line":473,"loc":{"end":{"column":32,"line":473},"start":{"column":19,"line":473}},"name":"(anonymous_46)"},"47":{"line":477,"loc":{"end":{"column":36,"line":477},"start":{"column":14,"line":477}},"name":"(anonymous_47)"},"48":{"line":482,"loc":{"end":{"column":28,"line":482},"start":{"column":15,"line":482}},"name":"(anonymous_48)"},"49":{"line":487,"loc":{"end":{"column":43,"line":487},"start":{"column":20,"line":487}},"name":"(anonymous_49)"},"50":{"line":492,"loc":{"end":{"column":42,"line":492},"start":{"column":17,"line":492}},"name":"(anonymous_50)"},"51":{"line":497,"loc":{"end":{"column":31,"line":497},"start":{"column":18,"line":497}},"name":"(anonymous_51)"},"52":{"line":502,"loc":{"end":{"column":33,"line":502},"start":{"column":20,"line":502}},"name":"(anonymous_52)"},"53":{"line":507,"loc":{"end":{"column":29,"line":507},"start":{"column":16,"line":507}},"name":"(anonymous_53)"},"54":{"line":512,"loc":{"end":{"column":26,"line":512},"start":{"column":13,"line":512}},"name":"(anonymous_54)"},"55":{"line":515,"loc":{"end":{"column":32,"line":515},"start":{"column":21,"line":515}},"name":"(anonymous_55)"},"56":{"line":518,"loc":{"end":{"column":53,"line":518},"start":{"column":35,"line":518}},"name":"(anonymous_56)"},"57":{"line":535,"loc":{"end":{"column":30,"line":535},"start":{"column":17,"line":535}},"name":"(anonymous_57)"},"58":{"line":540,"loc":{"end":{"column":36,"line":540},"start":{"column":23,"line":540}},"name":"(anonymous_58)"},"59":{"line":543,"loc":{"end":{"column":27,"line":543},"start":{"column":14,"line":543}},"name":"(anonymous_59)"},"60":{"line":548,"loc":{"end":{"column":38,"line":548},"start":{"column":25,"line":548}},"name":"(anonymous_60)"},"61":{"line":554,"loc":{"end":{"column":34,"line":554},"start":{"column":21,"line":554}},"name":"(anonymous_61)"},"62":{"line":558,"loc":{"end":{"column":29,"line":558},"start":{"column":16,"line":558}},"name":"(anonymous_62)"},"63":{"line":566,"loc":{"end":{"column":31,"line":566},"start":{"column":18,"line":566}},"name":"(anonymous_63)"},"64":{"line":570,"loc":{"end":{"column":44,"line":570},"start":{"column":31,"line":570}},"name":"(anonymous_64)"},"65":{"line":575,"loc":{"end":{"column":44,"line":575},"start":{"column":31,"line":575}},"name":"(anonymous_65)"},"66":{"line":580,"loc":{"end":{"column":37,"line":580},"start":{"column":24,"line":580}},"name":"(anonymous_66)"},"67":{"line":585,"loc":{"end":{"column":27,"line":585},"start":{"column":14,"line":585}},"name":"(anonymous_67)"},"68":{"line":588,"loc":{"end":{"column":39,"line":588},"start":{"column":16,"line":588}},"name":"(anonymous_68)"},"69":{"line":600,"loc":{"end":{"column":37,"line":600},"start":{"column":14,"line":600}},"name":"(anonymous_69)"},"70":{"line":612,"loc":{"end":{"column":40,"line":612},"start":{"column":17,"line":612}},"name":"(anonymous_70)"},"71":{"line":620,"loc":{"end":{"column":39,"line":620},"start":{"column":16,"line":620}},"name":"(anonymous_71)"},"72":{"line":626,"loc":{"end":{"column":32,"line":626},"start":{"column":19,"line":626}},"name":"(anonymous_72)"},"73":{"line":631,"loc":{"end":{"column":37,"line":631},"start":{"column":24,"line":631}},"name":"(anonymous_73)"},"74":{"line":636,"loc":{"end":{"column":33,"line":636},"start":{"column":20,"line":636}},"name":"(anonymous_74)"},"75":{"line":639,"loc":{"end":{"column":32,"line":639},"start":{"column":19,"line":639}},"name":"(anonymous_75)"},"76":{"line":642,"loc":{"end":{"column":32,"line":642},"start":{"column":19,"line":642}},"name":"(anonymous_76)"},"77":{"line":645,"loc":{"end":{"column":29,"line":645},"start":{"column":16,"line":645}},"name":"(anonymous_77)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/task-plan.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":3,"17":18,"18":18,"19":18,"20":21,"21":1,"22":1,"23":18,"24":5148,"25":5148,"26":4,"27":5148,"28":11,"29":5148,"30":11,"31":5148,"32":45,"33":1,"34":45,"35":1,"36":5148,"37":5148,"38":5148,"39":5060,"40":5060,"41":5148,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":3,"56":12,"57":10,"58":10,"59":10,"60":10,"61":10,"62":40,"63":40,"64":40,"65":28,"66":40,"67":10,"68":3,"69":10,"70":10,"71":0,"72":99,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":417,"82":417,"83":417,"84":1640,"85":1640,"86":1304,"87":1640,"88":336,"89":1304,"90":417,"91":326,"92":91,"93":46,"94":46,"95":46,"96":46,"97":31,"98":41,"99":41,"100":41,"101":41,"102":23,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":24,"111":0,"112":0,"113":0,"114":4,"115":4,"116":4,"117":4,"118":0,"119":4,"120":4,"121":0,"122":4,"123":0,"124":4,"125":0,"126":0,"127":4,"128":16,"129":16,"130":4,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":1,"142":3,"143":0,"144":0,"145":3,"146":3,"147":3,"148":3,"149":3,"150":19,"151":19,"152":19,"153":19,"154":19,"155":19,"156":19,"157":10,"158":10,"159":10,"160":10,"161":10,"162":10,"163":10,"164":10,"165":10,"166":1,"167":1,"168":1,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":1,"186":1,"187":1,"188":1,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":1,"223":1,"224":3,"225":1,"226":1,"227":3,"228":4,"229":4,"230":322,"231":322,"232":322,"233":10,"234":4028,"235":4028,"236":4028,"237":141,"238":141,"239":141,"240":98,"241":98,"242":98,"243":0,"244":0,"245":0,"246":7,"247":7,"248":7,"249":101,"250":101,"251":101,"252":0,"253":0,"254":0,"255":7,"256":7,"257":7,"258":4,"259":4,"260":4,"261":16,"262":0,"263":4,"264":7,"265":5,"266":2,"267":1,"268":1,"269":1,"270":0,"271":0,"272":104,"273":104,"274":104,"275":291,"276":26,"277":26,"278":26,"279":20,"280":20,"281":20,"282":20,"283":10,"284":10,"285":31,"286":31,"287":31,"288":31,"289":31,"290":31,"291":214,"292":214,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":205,"304":205,"305":0,"306":0,"307":0,"308":205,"309":205,"310":212,"311":212,"312":0,"313":0,"314":0,"315":212,"316":212,"317":101,"318":101,"319":101,"320":0,"321":101,"322":59,"323":59,"324":59,"325":59,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":4,"336":21,"337":21,"338":21},"statementMap":{"1":{"end":{"column":292,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":36,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":33,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":128,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":37,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":40,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":52,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":121,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":95,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":41,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":40,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":2,"line":29},"start":{"column":0,"line":25}},"14":{"end":{"column":2,"line":36},"start":{"column":0,"line":31}},"15":{"end":{"column":2,"line":44},"start":{"column":0,"line":38}},"16":{"end":{"column":5,"line":43},"start":{"column":2,"line":39}},"17":{"end":{"column":14,"line":40},"start":{"column":4,"line":40}},"18":{"end":{"column":45,"line":41},"start":{"column":4,"line":41}},"19":{"end":{"column":69,"line":42},"start":{"column":4,"line":42}},"20":{"end":{"column":2,"line":649},"start":{"column":0,"line":46}},"21":{"end":{"column":36,"line":51},"start":{"column":4,"line":51}},"22":{"end":{"column":15,"line":52},"start":{"column":4,"line":52}},"23":{"end":{"column":37,"line":55},"start":{"column":4,"line":55}},"24":{"end":{"column":58,"line":58},"start":{"column":4,"line":58}},"25":{"end":{"column":5,"line":61},"start":{"column":4,"line":59}},"26":{"end":{"column":24,"line":60},"start":{"column":6,"line":60}},"27":{"end":{"column":5,"line":64},"start":{"column":4,"line":62}},"28":{"end":{"column":26,"line":63},"start":{"column":6,"line":63}},"29":{"end":{"column":5,"line":67},"start":{"column":4,"line":65}},"30":{"end":{"column":26,"line":66},"start":{"column":6,"line":66}},"31":{"end":{"column":5,"line":75},"start":{"column":4,"line":68}},"32":{"end":{"column":7,"line":71},"start":{"column":6,"line":69}},"33":{"end":{"column":32,"line":70},"start":{"column":8,"line":70}},"34":{"end":{"column":7,"line":74},"start":{"column":6,"line":72}},"35":{"end":{"column":68,"line":73},"start":{"column":8,"line":73}},"36":{"end":{"column":61,"line":76},"start":{"column":4,"line":76}},"37":{"end":{"column":67,"line":77},"start":{"column":4,"line":77}},"38":{"end":{"column":5,"line":81},"start":{"column":4,"line":78}},"39":{"end":{"column":39,"line":79},"start":{"column":6,"line":79}},"40":{"end":{"column":50,"line":80},"start":{"column":6,"line":80}},"41":{"end":{"column":15,"line":82},"start":{"column":4,"line":82}},"42":{"end":{"column":28,"line":86},"start":{"column":4,"line":86}},"43":{"end":{"column":29,"line":87},"start":{"column":4,"line":87}},"44":{"end":{"column":39,"line":88},"start":{"column":4,"line":88}},"45":{"end":{"column":5,"line":100},"start":{"column":4,"line":89}},"46":{"end":{"column":45,"line":90},"start":{"column":6,"line":90}},"47":{"end":{"column":9,"line":96},"start":{"column":6,"line":91}},"48":{"end":{"column":9,"line":99},"start":{"column":6,"line":97}},"49":{"end":{"column":28,"line":103},"start":{"column":4,"line":103}},"50":{"end":{"column":29,"line":104},"start":{"column":4,"line":104}},"51":{"end":{"column":39,"line":105},"start":{"column":4,"line":105}},"52":{"end":{"column":7,"line":108},"start":{"column":4,"line":106}},"53":{"end":{"column":42,"line":107},"start":{"column":6,"line":107}},"54":{"end":{"column":7,"line":111},"start":{"column":4,"line":109}},"55":{"end":{"column":7,"line":116},"start":{"column":4,"line":114}},"56":{"end":{"column":51,"line":115},"start":{"column":6,"line":115}},"57":{"end":{"column":54,"line":119},"start":{"column":4,"line":119}},"58":{"end":{"column":29,"line":120},"start":{"column":4,"line":120}},"59":{"end":{"column":61,"line":121},"start":{"column":4,"line":121}},"60":{"end":{"column":36,"line":122},"start":{"column":4,"line":122}},"61":{"end":{"column":7,"line":133},"start":{"column":4,"line":123}},"62":{"end":{"column":18,"line":124},"start":{"column":6,"line":124}},"63":{"end":{"column":52,"line":125},"start":{"column":6,"line":125}},"64":{"end":{"column":7,"line":131},"start":{"column":6,"line":126}},"65":{"end":{"column":10,"line":130},"start":{"column":8,"line":127}},"66":{"end":{"column":69,"line":132},"start":{"column":6,"line":132}},"67":{"end":{"column":5,"line":136},"start":{"column":4,"line":134}},"68":{"end":{"column":63,"line":135},"start":{"column":6,"line":135}},"69":{"end":{"column":7,"line":139},"start":{"column":4,"line":137}},"70":{"end":{"column":36,"line":140},"start":{"column":4,"line":140}},"71":{"end":{"column":7,"line":145},"start":{"column":4,"line":143}},"72":{"end":{"column":7,"line":151},"start":{"column":4,"line":148}},"73":{"end":{"column":28,"line":154},"start":{"column":4,"line":154}},"74":{"end":{"column":5,"line":157},"start":{"column":4,"line":155}},"75":{"end":{"column":53,"line":156},"start":{"column":6,"line":156}},"76":{"end":{"column":29,"line":158},"start":{"column":4,"line":158}},"77":{"end":{"column":39,"line":159},"start":{"column":4,"line":159}},"78":{"end":{"column":5,"line":164},"start":{"column":4,"line":160}},"79":{"end":{"column":54,"line":161},"start":{"column":6,"line":161}},"80":{"end":{"column":18,"line":163},"start":{"column":6,"line":163}},"81":{"end":{"column":29,"line":167},"start":{"column":4,"line":167}},"82":{"end":{"column":52,"line":168},"start":{"column":4,"line":168}},"83":{"end":{"column":9,"line":179},"start":{"column":4,"line":169}},"84":{"end":{"column":15,"line":170},"start":{"column":6,"line":170}},"85":{"end":{"column":7,"line":173},"start":{"column":6,"line":171}},"86":{"end":{"column":69,"line":172},"start":{"column":8,"line":172}},"87":{"end":{"column":7,"line":178},"start":{"column":6,"line":174}},"88":{"end":{"column":17,"line":175},"start":{"column":8,"line":175}},"89":{"end":{"column":30,"line":177},"start":{"column":8,"line":177}},"90":{"end":{"column":5,"line":184},"start":{"column":4,"line":180}},"91":{"end":{"column":38,"line":181},"start":{"column":6,"line":181}},"92":{"end":{"column":18,"line":183},"start":{"column":6,"line":183}},"93":{"end":{"column":38,"line":187},"start":{"column":4,"line":187}},"94":{"end":{"column":52,"line":188},"start":{"column":4,"line":188}},"95":{"end":{"column":57,"line":189},"start":{"column":4,"line":189}},"96":{"end":{"column":5,"line":192},"start":{"column":4,"line":190}},"97":{"end":{"column":31,"line":191},"start":{"column":6,"line":191}},"98":{"end":{"column":56,"line":195},"start":{"column":4,"line":195}},"99":{"end":{"column":231,"line":196},"start":{"column":4,"line":196}},"100":{"end":{"column":55,"line":197},"start":{"column":4,"line":197}},"101":{"end":{"column":5,"line":200},"start":{"column":4,"line":198}},"102":{"end":{"column":31,"line":199},"start":{"column":6,"line":199}},"103":{"end":{"column":68,"line":203},"start":{"column":4,"line":203}},"104":{"end":{"column":29,"line":204},"start":{"column":4,"line":204}},"105":{"end":{"column":141,"line":205},"start":{"column":4,"line":205}},"106":{"end":{"column":41,"line":206},"start":{"column":4,"line":206}},"107":{"end":{"column":86,"line":207},"start":{"column":4,"line":207}},"108":{"end":{"column":86,"line":208},"start":{"column":4,"line":208}},"109":{"end":{"column":7,"line":215},"start":{"column":4,"line":209}},"110":{"end":{"column":7,"line":220},"start":{"column":4,"line":218}},"111":{"end":{"column":13,"line":223},"start":{"column":4,"line":223}},"112":{"end":{"column":29,"line":224},"start":{"column":4,"line":224}},"113":{"end":{"column":7,"line":227},"start":{"column":4,"line":225}},"114":{"end":{"column":45,"line":230},"start":{"column":4,"line":230}},"115":{"end":{"column":29,"line":231},"start":{"column":4,"line":231}},"116":{"end":{"column":39,"line":232},"start":{"column":4,"line":232}},"117":{"end":{"column":5,"line":235},"start":{"column":4,"line":233}},"118":{"end":{"column":25,"line":234},"start":{"column":6,"line":234}},"119":{"end":{"column":43,"line":236},"start":{"column":4,"line":236}},"120":{"end":{"column":5,"line":239},"start":{"column":4,"line":237}},"121":{"end":{"column":40,"line":238},"start":{"column":6,"line":238}},"122":{"end":{"column":5,"line":242},"start":{"column":4,"line":240}},"123":{"end":{"column":45,"line":241},"start":{"column":6,"line":241}},"124":{"end":{"column":5,"line":251},"start":{"column":4,"line":243}},"125":{"end":{"column":59,"line":244},"start":{"column":6,"line":244}},"126":{"end":{"column":107,"line":245},"start":{"column":6,"line":245}},"127":{"end":{"column":7,"line":250},"start":{"column":6,"line":247}},"128":{"end":{"column":35,"line":248},"start":{"column":8,"line":248}},"129":{"end":{"column":109,"line":249},"start":{"column":8,"line":249}},"130":{"end":{"column":7,"line":254},"start":{"column":4,"line":252}},"131":{"end":{"column":45,"line":257},"start":{"column":4,"line":257}},"132":{"end":{"column":29,"line":258},"start":{"column":4,"line":258}},"133":{"end":{"column":39,"line":259},"start":{"column":4,"line":259}},"134":{"end":{"column":5,"line":262},"start":{"column":4,"line":260}},"135":{"end":{"column":25,"line":261},"start":{"column":6,"line":261}},"136":{"end":{"column":43,"line":263},"start":{"column":4,"line":263}},"137":{"end":{"column":5,"line":267},"start":{"column":4,"line":264}},"138":{"end":{"column":33,"line":265},"start":{"column":6,"line":265}},"139":{"end":{"column":31,"line":266},"start":{"column":6,"line":266}},"140":{"end":{"column":7,"line":270},"start":{"column":4,"line":268}},"141":{"end":{"column":72,"line":273},"start":{"column":4,"line":273}},"142":{"end":{"column":68,"line":276},"start":{"column":4,"line":276}},"143":{"end":{"column":7,"line":283},"start":{"column":4,"line":279}},"144":{"end":{"column":7,"line":288},"start":{"column":4,"line":286}},"145":{"end":{"column":54,"line":291},"start":{"column":4,"line":291}},"146":{"end":{"column":29,"line":292},"start":{"column":4,"line":292}},"147":{"end":{"column":107,"line":293},"start":{"column":4,"line":293}},"148":{"end":{"column":36,"line":294},"start":{"column":4,"line":294}},"149":{"end":{"column":7,"line":300},"start":{"column":4,"line":295}},"150":{"end":{"column":68,"line":303},"start":{"column":4,"line":303}},"151":{"end":{"column":29,"line":304},"start":{"column":4,"line":304}},"152":{"end":{"column":141,"line":305},"start":{"column":4,"line":305}},"153":{"end":{"column":33,"line":306},"start":{"column":4,"line":306}},"154":{"end":{"column":5,"line":309},"start":{"column":4,"line":307}},"155":{"end":{"column":29,"line":308},"start":{"column":6,"line":308}},"156":{"end":{"column":7,"line":316},"start":{"column":4,"line":310}},"157":{"end":{"column":75,"line":319},"start":{"column":4,"line":319}},"158":{"end":{"column":29,"line":320},"start":{"column":4,"line":320}},"159":{"end":{"column":141,"line":321},"start":{"column":4,"line":321}},"160":{"end":{"column":33,"line":322},"start":{"column":4,"line":322}},"161":{"end":{"column":66,"line":323},"start":{"column":4,"line":323}},"162":{"end":{"column":5,"line":326},"start":{"column":4,"line":324}},"163":{"end":{"column":32,"line":325},"start":{"column":6,"line":325}},"164":{"end":{"column":77,"line":327},"start":{"column":4,"line":327}},"165":{"end":{"column":7,"line":334},"start":{"column":4,"line":328}},"166":{"end":{"column":58,"line":337},"start":{"column":4,"line":337}},"167":{"end":{"column":29,"line":338},"start":{"column":4,"line":338}},"168":{"end":{"column":115,"line":339},"start":{"column":4,"line":339}},"169":{"end":{"column":7,"line":346},"start":{"column":4,"line":340}},"170":{"end":{"column":68,"line":349},"start":{"column":4,"line":349}},"171":{"end":{"column":29,"line":350},"start":{"column":4,"line":350}},"172":{"end":{"column":141,"line":351},"start":{"column":4,"line":351}},"173":{"end":{"column":41,"line":352},"start":{"column":4,"line":352}},"174":{"end":{"column":5,"line":355},"start":{"column":4,"line":353}},"175":{"end":{"column":37,"line":354},"start":{"column":6,"line":354}},"176":{"end":{"column":7,"line":362},"start":{"column":4,"line":356}},"177":{"end":{"column":75,"line":365},"start":{"column":4,"line":365}},"178":{"end":{"column":29,"line":366},"start":{"column":4,"line":366}},"179":{"end":{"column":141,"line":367},"start":{"column":4,"line":367}},"180":{"end":{"column":41,"line":368},"start":{"column":4,"line":368}},"181":{"end":{"column":78,"line":369},"start":{"column":4,"line":369}},"182":{"end":{"column":5,"line":372},"start":{"column":4,"line":370}},"183":{"end":{"column":36,"line":371},"start":{"column":6,"line":371}},"184":{"end":{"column":7,"line":379},"start":{"column":4,"line":373}},"185":{"end":{"column":54,"line":382},"start":{"column":4,"line":382}},"186":{"end":{"column":29,"line":383},"start":{"column":4,"line":383}},"187":{"end":{"column":107,"line":384},"start":{"column":4,"line":384}},"188":{"end":{"column":7,"line":391},"start":{"column":4,"line":385}},"189":{"end":{"column":74,"line":394},"start":{"column":4,"line":394}},"190":{"end":{"column":29,"line":395},"start":{"column":4,"line":395}},"191":{"end":{"column":107,"line":396},"start":{"column":4,"line":396}},"192":{"end":{"column":33,"line":397},"start":{"column":4,"line":397}},"193":{"end":{"column":69,"line":398},"start":{"column":4,"line":398}},"194":{"end":{"column":31,"line":399},"start":{"column":4,"line":399}},"195":{"end":{"column":5,"line":402},"start":{"column":4,"line":400}},"196":{"end":{"column":19,"line":401},"start":{"column":6,"line":401}},"197":{"end":{"column":5,"line":405},"start":{"column":4,"line":403}},"198":{"end":{"column":37,"line":404},"start":{"column":6,"line":404}},"199":{"end":{"column":44,"line":406},"start":{"column":4,"line":406}},"200":{"end":{"column":33,"line":407},"start":{"column":4,"line":407}},"201":{"end":{"column":7,"line":413},"start":{"column":4,"line":408}},"202":{"end":{"column":88,"line":416},"start":{"column":4,"line":416}},"203":{"end":{"column":29,"line":417},"start":{"column":4,"line":417}},"204":{"end":{"column":141,"line":418},"start":{"column":4,"line":418}},"205":{"end":{"column":41,"line":419},"start":{"column":4,"line":419}},"206":{"end":{"column":81,"line":420},"start":{"column":4,"line":420}},"207":{"end":{"column":31,"line":421},"start":{"column":4,"line":421}},"208":{"end":{"column":5,"line":424},"start":{"column":4,"line":422}},"209":{"end":{"column":19,"line":423},"start":{"column":6,"line":423}},"210":{"end":{"column":5,"line":427},"start":{"column":4,"line":425}},"211":{"end":{"column":41,"line":426},"start":{"column":6,"line":426}},"212":{"end":{"column":52,"line":428},"start":{"column":4,"line":428}},"213":{"end":{"column":41,"line":429},"start":{"column":4,"line":429}},"214":{"end":{"column":7,"line":436},"start":{"column":4,"line":430}},"215":{"end":{"column":27,"line":439},"start":{"column":4,"line":439}},"216":{"end":{"column":27,"line":442},"start":{"column":4,"line":442}},"217":{"end":{"column":43,"line":443},"start":{"column":4,"line":443}},"218":{"end":{"column":29,"line":444},"start":{"column":4,"line":444}},"219":{"end":{"column":26,"line":447},"start":{"column":4,"line":447}},"220":{"end":{"column":42,"line":448},"start":{"column":4,"line":448}},"221":{"end":{"column":29,"line":449},"start":{"column":4,"line":449}},"222":{"end":{"column":32,"line":452},"start":{"column":4,"line":452}},"223":{"end":{"column":7,"line":455},"start":{"column":4,"line":453}},"224":{"end":{"column":5,"line":461},"start":{"column":4,"line":458}},"225":{"end":{"column":41,"line":459},"start":{"column":6,"line":459}},"226":{"end":{"column":38,"line":460},"start":{"column":6,"line":460}},"227":{"end":{"column":15,"line":462},"start":{"column":4,"line":462}},"228":{"end":{"column":53,"line":465},"start":{"column":4,"line":465}},"229":{"end":{"column":33,"line":466},"start":{"column":4,"line":466}},"230":{"end":{"column":21,"line":469},"start":{"column":4,"line":469}},"231":{"end":{"column":43,"line":470},"start":{"column":4,"line":470}},"232":{"end":{"column":60,"line":471},"start":{"column":4,"line":471}},"233":{"end":{"column":94,"line":474},"start":{"column":4,"line":474}},"234":{"end":{"column":21,"line":478},"start":{"column":6,"line":478}},"235":{"end":{"column":31,"line":479},"start":{"column":6,"line":479}},"236":{"end":{"column":117,"line":480},"start":{"column":6,"line":480}},"237":{"end":{"column":15,"line":483},"start":{"column":6,"line":483}},"238":{"end":{"column":31,"line":484},"start":{"column":6,"line":484}},"239":{"end":{"column":60,"line":485},"start":{"column":6,"line":485}},"240":{"end":{"column":21,"line":488},"start":{"column":6,"line":488}},"241":{"end":{"column":31,"line":489},"start":{"column":6,"line":489}},"242":{"end":{"column":108,"line":490},"start":{"column":6,"line":490}},"243":{"end":{"column":21,"line":493},"start":{"column":6,"line":493}},"244":{"end":{"column":31,"line":494},"start":{"column":6,"line":494}},"245":{"end":{"column":124,"line":495},"start":{"column":6,"line":495}},"246":{"end":{"column":15,"line":498},"start":{"column":6,"line":498}},"247":{"end":{"column":31,"line":499},"start":{"column":6,"line":499}},"248":{"end":{"column":64,"line":500},"start":{"column":6,"line":500}},"249":{"end":{"column":15,"line":503},"start":{"column":6,"line":503}},"250":{"end":{"column":31,"line":504},"start":{"column":6,"line":504}},"251":{"end":{"column":54,"line":505},"start":{"column":6,"line":505}},"252":{"end":{"column":15,"line":508},"start":{"column":6,"line":508}},"253":{"end":{"column":31,"line":509},"start":{"column":6,"line":509}},"254":{"end":{"column":47,"line":510},"start":{"column":6,"line":510}},"255":{"end":{"column":59,"line":513},"start":{"column":6,"line":513}},"256":{"end":{"column":31,"line":514},"start":{"column":6,"line":514}},"257":{"end":{"column":8,"line":524},"start":{"column":6,"line":515}},"258":{"end":{"column":23,"line":516},"start":{"column":8,"line":516}},"259":{"end":{"column":20,"line":517},"start":{"column":8,"line":517}},"260":{"end":{"column":11,"line":522},"start":{"column":8,"line":518}},"261":{"end":{"column":11,"line":521},"start":{"column":10,"line":519}},"262":{"end":{"column":32,"line":520},"start":{"column":12,"line":520}},"263":{"end":{"column":84,"line":523},"start":{"column":8,"line":523}},"264":{"end":{"column":7,"line":533},"start":{"column":6,"line":525}},"265":{"end":{"column":149,"line":526},"start":{"column":8,"line":526}},"266":{"end":{"column":7,"line":533},"start":{"column":13,"line":527}},"267":{"end":{"column":153,"line":528},"start":{"column":8,"line":528}},"268":{"end":{"column":7,"line":533},"start":{"column":13,"line":529}},"269":{"end":{"column":124,"line":530},"start":{"column":8,"line":530}},"270":{"end":{"column":7,"line":533},"start":{"column":13,"line":531}},"271":{"end":{"column":44,"line":532},"start":{"column":8,"line":532}},"272":{"end":{"column":15,"line":536},"start":{"column":6,"line":536}},"273":{"end":{"column":31,"line":537},"start":{"column":6,"line":537}},"274":{"end":{"column":59,"line":538},"start":{"column":6,"line":538}},"275":{"end":{"column":41,"line":541},"start":{"column":6,"line":541}},"276":{"end":{"column":23,"line":544},"start":{"column":6,"line":544}},"277":{"end":{"column":57,"line":545},"start":{"column":6,"line":545}},"278":{"end":{"column":99,"line":546},"start":{"column":6,"line":546}},"279":{"end":{"column":29,"line":549},"start":{"column":6,"line":549}},"280":{"end":{"column":31,"line":550},"start":{"column":6,"line":550}},"281":{"end":{"column":57,"line":551},"start":{"column":6,"line":551}},"282":{"end":{"column":207,"line":552},"start":{"column":6,"line":552}},"283":{"end":{"column":23,"line":555},"start":{"column":6,"line":555}},"284":{"end":{"column":97,"line":556},"start":{"column":6,"line":556}},"285":{"end":{"column":68,"line":559},"start":{"column":6,"line":559}},"286":{"end":{"column":31,"line":560},"start":{"column":6,"line":560}},"287":{"end":{"column":59,"line":561},"start":{"column":6,"line":561}},"288":{"end":{"column":135,"line":562},"start":{"column":6,"line":562}},"289":{"end":{"column":107,"line":563},"start":{"column":6,"line":563}},"290":{"end":{"column":86,"line":564},"start":{"column":6,"line":564}},"291":{"end":{"column":15,"line":567},"start":{"column":6,"line":567}},"292":{"end":{"column":124,"line":568},"start":{"column":6,"line":568}},"293":{"end":{"column":15,"line":571},"start":{"column":6,"line":571}},"294":{"end":{"column":31,"line":572},"start":{"column":6,"line":572}},"295":{"end":{"column":74,"line":573},"start":{"column":6,"line":573}},"296":{"end":{"column":15,"line":576},"start":{"column":6,"line":576}},"297":{"end":{"column":31,"line":577},"start":{"column":6,"line":577}},"298":{"end":{"column":74,"line":578},"start":{"column":6,"line":578}},"299":{"end":{"column":15,"line":581},"start":{"column":6,"line":581}},"300":{"end":{"column":31,"line":582},"start":{"column":6,"line":582}},"301":{"end":{"column":51,"line":583},"start":{"column":6,"line":583}},"302":{"end":{"column":32,"line":586},"start":{"column":6,"line":586}},"303":{"end":{"column":27,"line":589},"start":{"column":6,"line":589}},"304":{"end":{"column":7,"line":597},"start":{"column":6,"line":590}},"305":{"end":{"column":53,"line":591},"start":{"column":8,"line":591}},"306":{"end":{"column":9,"line":594},"start":{"column":8,"line":592}},"307":{"end":{"column":107,"line":593},"start":{"column":10,"line":593}},"308":{"end":{"column":62,"line":596},"start":{"column":8,"line":596}},"309":{"end":{"column":21,"line":598},"start":{"column":6,"line":598}},"310":{"end":{"column":25,"line":601},"start":{"column":6,"line":601}},"311":{"end":{"column":7,"line":609},"start":{"column":6,"line":602}},"312":{"end":{"column":53,"line":603},"start":{"column":8,"line":603}},"313":{"end":{"column":9,"line":606},"start":{"column":8,"line":604}},"314":{"end":{"column":103,"line":605},"start":{"column":10,"line":605}},"315":{"end":{"column":58,"line":608},"start":{"column":8,"line":608}},"316":{"end":{"column":19,"line":610},"start":{"column":6,"line":610}},"317":{"end":{"column":18,"line":613},"start":{"column":6,"line":613}},"318":{"end":{"column":73,"line":614},"start":{"column":6,"line":614}},"319":{"end":{"column":7,"line":617},"start":{"column":6,"line":615}},"320":{"end":{"column":45,"line":616},"start":{"column":8,"line":616}},"321":{"end":{"column":59,"line":618},"start":{"column":6,"line":618}},"322":{"end":{"column":30,"line":621},"start":{"column":6,"line":621}},"323":{"end":{"column":31,"line":622},"start":{"column":6,"line":622}},"324":{"end":{"column":41,"line":623},"start":{"column":6,"line":623}},"325":{"end":{"column":58,"line":624},"start":{"column":6,"line":624}},"326":{"end":{"column":15,"line":627},"start":{"column":6,"line":627}},"327":{"end":{"column":31,"line":628},"start":{"column":6,"line":628}},"328":{"end":{"column":60,"line":629},"start":{"column":6,"line":629}},"329":{"end":{"column":15,"line":632},"start":{"column":6,"line":632}},"330":{"end":{"column":31,"line":633},"start":{"column":6,"line":633}},"331":{"end":{"column":56,"line":634},"start":{"column":6,"line":634}},"332":{"end":{"column":54,"line":637},"start":{"column":6,"line":637}},"333":{"end":{"column":31,"line":640},"start":{"column":6,"line":640}},"334":{"end":{"column":31,"line":643},"start":{"column":6,"line":643}},"335":{"end":{"column":93,"line":646},"start":{"column":6,"line":646}},"336":{"end":{"column":47,"line":651},"start":{"column":0,"line":651}},"337":{"end":{"column":83,"line":653},"start":{"column":0,"line":653}},"338":{"end":{"column":2,"line":658},"start":{"column":0,"line":655}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"31":21,"38":21,"39":3,"40":18,"41":18,"42":18,"46":21,"51":1,"52":1,"55":18,"58":5148,"59":5148,"60":4,"62":5148,"63":11,"65":5148,"66":11,"68":5148,"69":45,"70":1,"72":45,"73":1,"76":5148,"77":5148,"78":5148,"79":5060,"80":5060,"82":5148,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"97":0,"103":0,"104":0,"105":0,"106":0,"107":0,"109":0,"114":3,"115":12,"119":10,"120":10,"121":10,"122":10,"123":10,"124":40,"125":40,"126":40,"127":28,"132":40,"134":10,"135":3,"137":10,"140":10,"143":0,"148":99,"154":0,"155":0,"156":0,"158":0,"159":0,"160":0,"161":0,"163":0,"167":417,"168":417,"169":417,"170":1640,"171":1640,"172":1304,"174":1640,"175":336,"177":1304,"180":417,"181":326,"183":91,"187":46,"188":46,"189":46,"190":46,"191":31,"195":41,"196":41,"197":41,"198":41,"199":23,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"218":24,"223":0,"224":0,"225":0,"230":4,"231":4,"232":4,"233":4,"234":0,"236":4,"237":4,"238":0,"240":4,"241":0,"243":4,"244":0,"245":0,"247":4,"248":16,"249":16,"252":4,"257":0,"258":0,"259":0,"260":0,"261":0,"263":0,"264":0,"265":0,"266":0,"268":0,"273":1,"276":3,"279":0,"286":0,"291":3,"292":3,"293":3,"294":3,"295":3,"303":19,"304":19,"305":19,"306":19,"307":19,"308":19,"310":19,"319":10,"320":10,"321":10,"322":10,"323":10,"324":10,"325":10,"327":10,"328":10,"337":1,"338":1,"339":1,"340":1,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"356":0,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"373":0,"382":1,"383":1,"384":1,"385":1,"394":0,"395":0,"396":0,"397":0,"398":0,"399":0,"400":0,"401":0,"403":0,"404":0,"406":0,"407":0,"408":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"422":0,"423":0,"425":0,"426":0,"428":0,"429":0,"430":0,"439":0,"442":0,"443":0,"444":0,"447":0,"448":0,"449":0,"452":1,"453":1,"458":3,"459":1,"460":1,"462":3,"465":4,"466":4,"469":322,"470":322,"471":322,"474":10,"478":4028,"479":4028,"480":4028,"483":141,"484":141,"485":141,"488":98,"489":98,"490":98,"493":0,"494":0,"495":0,"498":7,"499":7,"500":7,"503":101,"504":101,"505":101,"508":0,"509":0,"510":0,"513":7,"514":7,"515":7,"516":4,"517":4,"518":4,"519":16,"520":0,"523":4,"525":7,"526":5,"527":2,"528":1,"529":1,"530":1,"531":0,"532":0,"536":104,"537":104,"538":104,"541":291,"544":26,"545":26,"546":26,"549":20,"550":20,"551":20,"552":20,"555":10,"556":10,"559":31,"560":31,"561":31,"562":31,"563":31,"564":31,"567":214,"568":214,"571":0,"572":0,"573":0,"576":0,"577":0,"578":0,"581":0,"582":0,"583":0,"586":0,"589":205,"590":205,"591":0,"592":0,"593":0,"596":205,"598":205,"601":212,"602":212,"603":0,"604":0,"605":0,"608":212,"610":212,"613":101,"614":101,"615":101,"616":0,"618":101,"621":59,"622":59,"623":59,"624":59,"627":0,"628":0,"629":0,"632":0,"633":0,"634":0,"637":0,"640":0,"643":0,"646":4,"651":21,"653":21,"655":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/task-step.coffee":{"b":{"1":[0,39],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[3,0],"15":[3,3,0,0,0,0]},"branchMap":{"1":{"line":22,"locations":[{"end":{"column":4,"line":22},"start":{"column":4,"line":22}},{"end":{"column":4,"line":22},"start":{"column":4,"line":22}}],"type":"if"},"2":{"line":23,"locations":[{"end":{"column":67,"line":23},"start":{"column":55,"line":23}},{"end":{"column":76,"line":23},"start":{"column":70,"line":23}}],"type":"cond-expr"},"3":{"line":31,"locations":[{"end":{"column":65,"line":31},"start":{"column":53,"line":31}},{"end":{"column":74,"line":31},"start":{"column":68,"line":31}}],"type":"cond-expr"},"4":{"line":74,"locations":[{"end":{"column":4,"line":74},"start":{"column":4,"line":74}},{"end":{"column":4,"line":74},"start":{"column":4,"line":74}}],"type":"if"},"5":{"line":89,"locations":[{"end":{"column":6,"line":89},"start":{"column":6,"line":89}},{"end":{"column":6,"line":89},"start":{"column":6,"line":89}}],"type":"if"},"6":{"line":90,"locations":[{"end":{"column":8,"line":90},"start":{"column":8,"line":90}},{"end":{"column":8,"line":90},"start":{"column":8,"line":90}}],"type":"if"},"7":{"line":115,"locations":[{"end":{"column":97,"line":115},"start":{"column":29,"line":115}},{"end":{"column":106,"line":115},"start":{"column":100,"line":115}}],"type":"cond-expr"},"8":{"line":115,"locations":[{"end":{"column":88,"line":115},"start":{"column":65,"line":115}},{"end":{"column":97,"line":115},"start":{"column":91,"line":115}}],"type":"cond-expr"},"9":{"line":116,"locations":[{"end":{"column":6,"line":116},"start":{"column":6,"line":116}},{"end":{"column":6,"line":116},"start":{"column":6,"line":116}}],"type":"if"},"10":{"line":135,"locations":[{"end":{"column":34,"line":135},"start":{"column":14,"line":135}},{"end":{"column":65,"line":135},"start":{"column":40,"line":135}},{"end":{"column":95,"line":135},"start":{"column":71,"line":135}}],"type":"binary-expr"},"11":{"line":140,"locations":[{"end":{"column":6,"line":140},"start":{"column":6,"line":140}},{"end":{"column":6,"line":140},"start":{"column":6,"line":140}}],"type":"if"},"12":{"line":143,"locations":[{"end":{"column":129,"line":143},"start":{"column":56,"line":143}},{"end":{"column":138,"line":143},"start":{"column":132,"line":143}}],"type":"cond-expr"},"13":{"line":143,"locations":[{"end":{"column":120,"line":143},"start":{"column":91,"line":143}},{"end":{"column":129,"line":143},"start":{"column":123,"line":143}}],"type":"cond-expr"},"14":{"line":148,"locations":[{"end":{"column":6,"line":148},"start":{"column":6,"line":148}},{"end":{"column":6,"line":148},"start":{"column":6,"line":148}}],"type":"if"},"15":{"line":156,"locations":[{"end":{"column":26,"line":156},"start":{"column":14,"line":156}},{"end":{"column":49,"line":156},"start":{"column":32,"line":156}},{"end":{"column":94,"line":156},"start":{"column":53,"line":156}},{"end":{"column":125,"line":156},"start":{"column":99,"line":156}},{"end":{"column":167,"line":156},"start":{"column":129,"line":156}},{"end":{"column":208,"line":156},"start":{"column":171,"line":156}}],"type":"binary-expr"}},"code":["var CrudConfig, Durations, RECOVERY, Task, TaskStepConfig, _, actions, camelCase, extendConfig, flux, makeSimpleStore, ref, ref1, store;","","_ = require('underscore');","","camelCase = require('camelcase');","","flux = require('flux-react');","","Task = require('./task');","","Durations = require('../helpers/durations');","","RECOVERY = 'recovery';","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","TaskStepConfig = {","  _asyncStatus: {},","  _recoveryTarget: {},","  _loaded: function(obj, id) {","    var ref1;","    if (!obj.task_id) {","      obj.task_id = (ref1 = this._local[id]) != null ? ref1.task_id : void 0;","    }","    this.emit(\"step.loaded\", id);","    _.each(this._recoveryTarget, _.partial(this._updateRecoveredFor, id), this);","    return obj;","  },","  _saved: function(obj, id) {","    var ref1;","    obj.task_id = (ref1 = this._local[id]) != null ? ref1.task_id : void 0;","    return obj;","  },","  forceReload: function(id) {","    return this._reload[id] = true;","  },","  complete: function(id) {","    this._change(id, {","      is_completed: true","    });","    return this._save(id);","  },","  completed: function(obj, id) {","    this.loaded(obj, id);","    return this.emit('step.completed', id);","  },","  setAnswerId: function(id, answer_id) {","    this._change(id, {","      answer_id: answer_id","    });","    return this._save(id);","  },","  setFreeResponseAnswer: function(id, free_response) {","    this._change(id, {","      free_response: free_response","    });","    return this._save(id);","  },","  updateTempFreeResponse: function(id, temp_free_response) {","    console.log(temp_free_response);","    return this._change(id, {","      temp_free_response: temp_free_response","    });","  },","  loadRecovery: function(id) {","    this._asyncStatus[id] = RECOVERY;","    return this.emit('change', id);","  },","  loadedRecovery: function(obj, id) {","    this._recoveryTarget[id] = obj.id;","    return this.emit('step.recovered', obj);","  },","  _updateRecoveredFor: function(loadedId, recoverTarget, recoveredFor) {","    if (recoverTarget === loadedId) {","      this.emit('change', recoveredFor);","      this.clearChanged(recoveredFor);","      delete this._asyncStatus[recoveredFor];","      return delete this._recoveryTarget[recoveredFor];","    }","  },","  exports: {","    isRecovering: function(id) {","      return this._asyncStatus[id] === RECOVERY;","    },","    isAnswered: function(id) {","      var isAnswered, step;","      step = this._get(id);","      isAnswered = true;","      if (step.type === 'exercise') {","        if (!step.answer_id) {","          isAnswered = false;","        }","      }","      return isAnswered;","    },","    isCore: function(id) {","      var coreGroups, step;","      step = this._get(id);","      coreGroups = ['core', 'recovery', 'default'];","      return coreGroups.indexOf(step.group) > -1;","    },","    isPlaceholder: function(id) {","      var step;","      step = this._get(id);","      return step.type === 'placeholder';","    },","    getTaskId: function(id) {","      var step;","      step = this._get(id);","      return step.task_id;","    },","    getCnxId: function(id) {","      var parts, ref1, step;","      step = this._get(id);","      parts = step != null ? (ref1 = step.content_url) != null ? ref1.split('contents/') : void 0 : void 0;","      if (parts.length > 1) {","        return _.last(parts);","      } else {","        return void 0;","      }","    },","    getFreeResponse: function(id) {","      var step;","      step = this._get(id);","      return step.free_response;","    },","    getAnswerId: function(id) {","      var step;","      step = this._get(id);","      return step.answer_id;","    },","    hasContent: function(id) {","      var step;","      step = this._get(id);","      return (step.content != null) || (step.content_html != null) || (step.content_url != null);","    },","    hasFreeResponse: function(id) {","      var ref1, ref2, step;","      step = this._get(id);","      if (step.type !== 'exercise') {","        return false;","      }","      return ((ref1 = step.content.questions) != null ? (ref2 = ref1[0].formats) != null ? ref2.indexOf('free-response') : void 0 : void 0) > -1;","    },","    getTempFreeResponse: function(id) {","      var step;","      step = this._get(id);","      if (!step.temp_free_response) {","        return '';","      }","      return step.temp_free_response;","    },","    canTryAnother: function(id, task) {","      var step;","      step = this._get(id);","      return (step != null) && (step.has_recovery && step.correct_answer_id !== step.answer_id) && !Durations.isPastDue(task) && !this.exports.isLoading.call(this, id) && !this.exports.isSaving.call(this, id);","    }","  }","};","","extendConfig(TaskStepConfig, new CrudConfig());","","ref1 = makeSimpleStore(TaskStepConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  TaskStepActions: actions,","  TaskStepStore: store","};",""],"f":{"1":39,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":3,"13":0,"14":225,"15":37,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":3,"23":3},"fnMap":{"1":{"line":20,"loc":{"end":{"column":29,"line":20},"start":{"column":11,"line":20}},"name":"(anonymous_1)"},"2":{"line":29,"loc":{"end":{"column":28,"line":29},"start":{"column":10,"line":29}},"name":"(anonymous_2)"},"3":{"line":34,"loc":{"end":{"column":28,"line":34},"start":{"column":15,"line":34}},"name":"(anonymous_3)"},"4":{"line":37,"loc":{"end":{"column":25,"line":37},"start":{"column":12,"line":37}},"name":"(anonymous_4)"},"5":{"line":43,"loc":{"end":{"column":31,"line":43},"start":{"column":13,"line":43}},"name":"(anonymous_5)"},"6":{"line":47,"loc":{"end":{"column":39,"line":47},"start":{"column":15,"line":47}},"name":"(anonymous_6)"},"7":{"line":53,"loc":{"end":{"column":53,"line":53},"start":{"column":25,"line":53}},"name":"(anonymous_7)"},"8":{"line":59,"loc":{"end":{"column":59,"line":59},"start":{"column":26,"line":59}},"name":"(anonymous_8)"},"9":{"line":65,"loc":{"end":{"column":29,"line":65},"start":{"column":16,"line":65}},"name":"(anonymous_9)"},"10":{"line":69,"loc":{"end":{"column":36,"line":69},"start":{"column":18,"line":69}},"name":"(anonymous_10)"},"11":{"line":73,"loc":{"end":{"column":71,"line":73},"start":{"column":23,"line":73}},"name":"(anonymous_11)"},"12":{"line":82,"loc":{"end":{"column":31,"line":82},"start":{"column":18,"line":82}},"name":"(anonymous_12)"},"13":{"line":85,"loc":{"end":{"column":29,"line":85},"start":{"column":16,"line":85}},"name":"(anonymous_13)"},"14":{"line":96,"loc":{"end":{"column":25,"line":96},"start":{"column":12,"line":96}},"name":"(anonymous_14)"},"15":{"line":102,"loc":{"end":{"column":32,"line":102},"start":{"column":19,"line":102}},"name":"(anonymous_15)"},"16":{"line":107,"loc":{"end":{"column":28,"line":107},"start":{"column":15,"line":107}},"name":"(anonymous_16)"},"17":{"line":112,"loc":{"end":{"column":27,"line":112},"start":{"column":14,"line":112}},"name":"(anonymous_17)"},"18":{"line":122,"loc":{"end":{"column":34,"line":122},"start":{"column":21,"line":122}},"name":"(anonymous_18)"},"19":{"line":127,"loc":{"end":{"column":30,"line":127},"start":{"column":17,"line":127}},"name":"(anonymous_19)"},"20":{"line":132,"loc":{"end":{"column":29,"line":132},"start":{"column":16,"line":132}},"name":"(anonymous_20)"},"21":{"line":137,"loc":{"end":{"column":34,"line":137},"start":{"column":21,"line":137}},"name":"(anonymous_21)"},"22":{"line":145,"loc":{"end":{"column":38,"line":145},"start":{"column":25,"line":145}},"name":"(anonymous_22)"},"23":{"line":153,"loc":{"end":{"column":38,"line":153},"start":{"column":19,"line":153}},"name":"(anonymous_23)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/task-step.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":39,"11":39,"12":0,"13":39,"14":39,"15":39,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":3,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":225,"48":225,"49":225,"50":225,"51":37,"52":37,"53":37,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":3,"78":3,"79":3,"80":3,"81":0,"82":3,"83":3,"84":3,"85":21,"86":21,"87":21},"statementMap":{"1":{"end":{"column":136,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":29,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":25,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":44,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":22,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":128,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":2,"line":159},"start":{"column":0,"line":17}},"10":{"end":{"column":13,"line":21},"start":{"column":4,"line":21}},"11":{"end":{"column":5,"line":24},"start":{"column":4,"line":22}},"12":{"end":{"column":77,"line":23},"start":{"column":6,"line":23}},"13":{"end":{"column":33,"line":25},"start":{"column":4,"line":25}},"14":{"end":{"column":80,"line":26},"start":{"column":4,"line":26}},"15":{"end":{"column":15,"line":27},"start":{"column":4,"line":27}},"16":{"end":{"column":13,"line":30},"start":{"column":4,"line":30}},"17":{"end":{"column":75,"line":31},"start":{"column":4,"line":31}},"18":{"end":{"column":15,"line":32},"start":{"column":4,"line":32}},"19":{"end":{"column":35,"line":35},"start":{"column":4,"line":35}},"20":{"end":{"column":7,"line":40},"start":{"column":4,"line":38}},"21":{"end":{"column":26,"line":41},"start":{"column":4,"line":41}},"22":{"end":{"column":25,"line":44},"start":{"column":4,"line":44}},"23":{"end":{"column":43,"line":45},"start":{"column":4,"line":45}},"24":{"end":{"column":7,"line":50},"start":{"column":4,"line":48}},"25":{"end":{"column":26,"line":51},"start":{"column":4,"line":51}},"26":{"end":{"column":7,"line":56},"start":{"column":4,"line":54}},"27":{"end":{"column":26,"line":57},"start":{"column":4,"line":57}},"28":{"end":{"column":36,"line":60},"start":{"column":4,"line":60}},"29":{"end":{"column":7,"line":63},"start":{"column":4,"line":61}},"30":{"end":{"column":37,"line":66},"start":{"column":4,"line":66}},"31":{"end":{"column":35,"line":67},"start":{"column":4,"line":67}},"32":{"end":{"column":38,"line":70},"start":{"column":4,"line":70}},"33":{"end":{"column":44,"line":71},"start":{"column":4,"line":71}},"34":{"end":{"column":5,"line":79},"start":{"column":4,"line":74}},"35":{"end":{"column":40,"line":75},"start":{"column":6,"line":75}},"36":{"end":{"column":38,"line":76},"start":{"column":6,"line":76}},"37":{"end":{"column":45,"line":77},"start":{"column":6,"line":77}},"38":{"end":{"column":55,"line":78},"start":{"column":6,"line":78}},"39":{"end":{"column":48,"line":83},"start":{"column":6,"line":83}},"40":{"end":{"column":27,"line":86},"start":{"column":6,"line":86}},"41":{"end":{"column":27,"line":87},"start":{"column":6,"line":87}},"42":{"end":{"column":24,"line":88},"start":{"column":6,"line":88}},"43":{"end":{"column":7,"line":93},"start":{"column":6,"line":89}},"44":{"end":{"column":9,"line":92},"start":{"column":8,"line":90}},"45":{"end":{"column":29,"line":91},"start":{"column":10,"line":91}},"46":{"end":{"column":24,"line":94},"start":{"column":6,"line":94}},"47":{"end":{"column":27,"line":97},"start":{"column":6,"line":97}},"48":{"end":{"column":27,"line":98},"start":{"column":6,"line":98}},"49":{"end":{"column":51,"line":99},"start":{"column":6,"line":99}},"50":{"end":{"column":49,"line":100},"start":{"column":6,"line":100}},"51":{"end":{"column":15,"line":103},"start":{"column":6,"line":103}},"52":{"end":{"column":27,"line":104},"start":{"column":6,"line":104}},"53":{"end":{"column":41,"line":105},"start":{"column":6,"line":105}},"54":{"end":{"column":15,"line":108},"start":{"column":6,"line":108}},"55":{"end":{"column":27,"line":109},"start":{"column":6,"line":109}},"56":{"end":{"column":26,"line":110},"start":{"column":6,"line":110}},"57":{"end":{"column":28,"line":113},"start":{"column":6,"line":113}},"58":{"end":{"column":27,"line":114},"start":{"column":6,"line":114}},"59":{"end":{"column":107,"line":115},"start":{"column":6,"line":115}},"60":{"end":{"column":7,"line":120},"start":{"column":6,"line":116}},"61":{"end":{"column":29,"line":117},"start":{"column":8,"line":117}},"62":{"end":{"column":22,"line":119},"start":{"column":8,"line":119}},"63":{"end":{"column":15,"line":123},"start":{"column":6,"line":123}},"64":{"end":{"column":27,"line":124},"start":{"column":6,"line":124}},"65":{"end":{"column":32,"line":125},"start":{"column":6,"line":125}},"66":{"end":{"column":15,"line":128},"start":{"column":6,"line":128}},"67":{"end":{"column":27,"line":129},"start":{"column":6,"line":129}},"68":{"end":{"column":28,"line":130},"start":{"column":6,"line":130}},"69":{"end":{"column":15,"line":133},"start":{"column":6,"line":133}},"70":{"end":{"column":27,"line":134},"start":{"column":6,"line":134}},"71":{"end":{"column":97,"line":135},"start":{"column":6,"line":135}},"72":{"end":{"column":27,"line":138},"start":{"column":6,"line":138}},"73":{"end":{"column":27,"line":139},"start":{"column":6,"line":139}},"74":{"end":{"column":7,"line":142},"start":{"column":6,"line":140}},"75":{"end":{"column":21,"line":141},"start":{"column":8,"line":141}},"76":{"end":{"column":145,"line":143},"start":{"column":6,"line":143}},"77":{"end":{"column":15,"line":146},"start":{"column":6,"line":146}},"78":{"end":{"column":27,"line":147},"start":{"column":6,"line":147}},"79":{"end":{"column":7,"line":150},"start":{"column":6,"line":148}},"80":{"end":{"column":18,"line":149},"start":{"column":8,"line":149}},"81":{"end":{"column":37,"line":151},"start":{"column":6,"line":151}},"82":{"end":{"column":15,"line":154},"start":{"column":6,"line":154}},"83":{"end":{"column":27,"line":155},"start":{"column":6,"line":155}},"84":{"end":{"column":209,"line":156},"start":{"column":6,"line":156}},"85":{"end":{"column":47,"line":161},"start":{"column":0,"line":161}},"86":{"end":{"column":83,"line":163},"start":{"column":0,"line":163}},"87":{"end":{"column":2,"line":168},"start":{"column":0,"line":165}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"21":39,"22":39,"23":0,"25":39,"26":39,"27":39,"30":0,"31":0,"32":0,"35":0,"38":0,"41":0,"44":0,"45":0,"48":0,"51":0,"54":0,"57":0,"60":0,"61":0,"66":0,"67":0,"70":0,"71":0,"74":0,"75":0,"76":0,"77":0,"78":0,"83":3,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"94":0,"97":225,"98":225,"99":225,"100":225,"103":37,"104":37,"105":37,"108":0,"109":0,"110":0,"113":0,"114":0,"115":0,"116":0,"117":0,"119":0,"123":0,"124":0,"125":0,"128":0,"129":0,"130":0,"133":0,"134":0,"135":0,"138":0,"139":0,"140":0,"141":0,"143":0,"146":3,"147":3,"148":3,"149":3,"151":0,"154":3,"155":3,"156":3,"161":21,"163":21,"165":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/task-teacher-review.coffee":{"b":{"1":[2,0],"2":[2,0],"3":[0,6],"4":[0,6]},"branchMap":{"1":{"line":13,"locations":[{"end":{"column":4,"line":13},"start":{"column":4,"line":13}},{"end":{"column":4,"line":13},"start":{"column":4,"line":13}}],"type":"if"},"2":{"line":13,"locations":[{"end":{"column":32,"line":13},"start":{"column":23,"line":13}},{"end":{"column":41,"line":13},"start":{"column":35,"line":13}}],"type":"cond-expr"},"3":{"line":16,"locations":[{"end":{"column":8,"line":16},"start":{"column":8,"line":16}},{"end":{"column":8,"line":16},"start":{"column":8,"line":16}}],"type":"if"},"4":{"line":19,"locations":[{"end":{"column":8,"line":19},"start":{"column":8,"line":19}},{"end":{"column":8,"line":19},"start":{"column":8,"line":19}}],"type":"if"}},"code":["var CrudConfig, TaskPlanStatsActions, TaskPlanStatsStore, TaskTeacherReviewConfig, _, actions, extendConfig, makeSimpleStore, ref, ref1, ref2, store;","","ref = require('./task-plan-stats'), TaskPlanStatsActions = ref.TaskPlanStatsActions, TaskPlanStatsStore = ref.TaskPlanStatsStore;","","_ = require('underscore');","","ref1 = require('./helpers'), CrudConfig = ref1.CrudConfig, makeSimpleStore = ref1.makeSimpleStore, extendConfig = ref1.extendConfig;","","TaskTeacherReviewConfig = {","  _loaded: function(obj, id) {","    var planStats;","    this.emit('review.loaded', id);","    if ((obj != null ? obj.stats : void 0) != null) {","      planStats = _.clone(obj);","      _.each(planStats.stats, function(period) {","        if (period.current_pages.exercises != null) {","          delete period.current_pages.exercises;","        }","        if (period.spaced_pages.exercises != null) {","          return delete period.spaced_pages.exercises;","        }","      });","      return TaskPlanStatsActions.loaded(planStats, id);","    }","  }","};","","extendConfig(TaskTeacherReviewConfig, new CrudConfig());","","ref2 = makeSimpleStore(TaskTeacherReviewConfig), actions = ref2.actions, store = ref2.store;","","module.exports = {","  TaskTeacherReviewActions: actions,","  TaskTeacherReviewStore: store","};",""],"f":{"1":2,"2":6},"fnMap":{"1":{"line":10,"loc":{"end":{"column":29,"line":10},"start":{"column":11,"line":10}},"name":"(anonymous_1)"},"2":{"line":15,"loc":{"end":{"column":47,"line":15},"start":{"column":30,"line":15}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/task-teacher-review.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":2,"7":2,"8":2,"9":2,"10":2,"11":6,"12":0,"13":6,"14":0,"15":2,"16":21,"17":21,"18":21},"statementMap":{"1":{"end":{"column":149,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":129,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":132,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":26},"start":{"column":0,"line":9}},"6":{"end":{"column":18,"line":11},"start":{"column":4,"line":11}},"7":{"end":{"column":35,"line":12},"start":{"column":4,"line":12}},"8":{"end":{"column":5,"line":24},"start":{"column":4,"line":13}},"9":{"end":{"column":31,"line":14},"start":{"column":6,"line":14}},"10":{"end":{"column":9,"line":22},"start":{"column":6,"line":15}},"11":{"end":{"column":9,"line":18},"start":{"column":8,"line":16}},"12":{"end":{"column":48,"line":17},"start":{"column":10,"line":17}},"13":{"end":{"column":9,"line":21},"start":{"column":8,"line":19}},"14":{"end":{"column":54,"line":20},"start":{"column":10,"line":20}},"15":{"end":{"column":56,"line":23},"start":{"column":6,"line":23}},"16":{"end":{"column":56,"line":28},"start":{"column":0,"line":28}},"17":{"end":{"column":92,"line":30},"start":{"column":0,"line":30}},"18":{"end":{"column":2,"line":35},"start":{"column":0,"line":32}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":2,"12":2,"13":2,"14":2,"15":2,"16":6,"17":0,"19":6,"20":0,"23":2,"28":21,"30":21,"32":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/task.coffee":{"b":{"1":[244,7272],"2":[1897,1884],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,20],"7":[17,20],"8":[20,0],"9":[0,2],"10":[0,380],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[2,0],"19":[117,243],"20":[0,0],"21":[0,0],"22":[0,0]},"branchMap":{"1":{"line":30,"locations":[{"end":{"column":4,"line":30},"start":{"column":4,"line":30}},{"end":{"column":4,"line":30},"start":{"column":4,"line":30}}],"type":"if"},"2":{"line":40,"locations":[{"end":{"column":29,"line":40},"start":{"column":11,"line":40}},{"end":{"column":59,"line":40},"start":{"column":34,"line":40}}],"type":"binary-expr"},"3":{"line":46,"locations":[{"end":{"column":24,"line":46},"start":{"column":12,"line":46}},{"end":{"column":47,"line":46},"start":{"column":29,"line":46}}],"type":"binary-expr"},"4":{"line":52,"locations":[{"end":{"column":24,"line":52},"start":{"column":12,"line":52}},{"end":{"column":46,"line":52},"start":{"column":29,"line":52}}],"type":"binary-expr"},"5":{"line":58,"locations":[{"end":{"column":24,"line":58},"start":{"column":12,"line":58}},{"end":{"column":61,"line":58},"start":{"column":29,"line":58}}],"type":"binary-expr"},"6":{"line":76,"locations":[{"end":{"column":4,"line":76},"start":{"column":4,"line":76}},{"end":{"column":4,"line":76},"start":{"column":4,"line":76}}],"type":"if"},"7":{"line":88,"locations":[{"end":{"column":8,"line":88},"start":{"column":8,"line":88}},{"end":{"column":8,"line":88},"start":{"column":8,"line":88}}],"type":"if"},"8":{"line":90,"locations":[{"end":{"column":15,"line":90},"start":{"column":15,"line":90}},{"end":{"column":15,"line":90},"start":{"column":15,"line":90}}],"type":"if"},"9":{"line":100,"locations":[{"end":{"column":4,"line":100},"start":{"column":4,"line":100}},{"end":{"column":4,"line":100},"start":{"column":4,"line":100}}],"type":"if"},"10":{"line":127,"locations":[{"end":{"column":6,"line":127},"start":{"column":6,"line":127}},{"end":{"column":6,"line":127},"start":{"column":6,"line":127}}],"type":"if"},"11":{"line":145,"locations":[{"end":{"column":39,"line":145},"start":{"column":16,"line":145}},{"end":{"column":118,"line":145},"start":{"column":45,"line":145}}],"type":"binary-expr"},"12":{"line":147,"locations":[{"end":{"column":6,"line":147},"start":{"column":6,"line":147}},{"end":{"column":6,"line":147},"start":{"column":6,"line":147}}],"type":"if"},"13":{"line":184,"locations":[{"end":{"column":28,"line":184},"start":{"column":16,"line":184}},{"end":{"column":51,"line":184},"start":{"column":33,"line":184}},{"end":{"column":84,"line":184},"start":{"column":55,"line":184}}],"type":"binary-expr"},"14":{"line":187,"locations":[{"end":{"column":28,"line":187},"start":{"column":16,"line":187}},{"end":{"column":51,"line":187},"start":{"column":33,"line":187}},{"end":{"column":84,"line":187},"start":{"column":55,"line":187}}],"type":"binary-expr"},"15":{"line":190,"locations":[{"end":{"column":6,"line":190},"start":{"column":6,"line":190}},{"end":{"column":6,"line":190},"start":{"column":6,"line":190}}],"type":"if"},"16":{"line":204,"locations":[{"end":{"column":28,"line":204},"start":{"column":16,"line":204}},{"end":{"column":51,"line":204},"start":{"column":33,"line":204}},{"end":{"column":84,"line":204},"start":{"column":55,"line":204}}],"type":"binary-expr"},"17":{"line":212,"locations":[{"end":{"column":28,"line":212},"start":{"column":16,"line":212}},{"end":{"column":63,"line":212},"start":{"column":33,"line":212}}],"type":"binary-expr"},"18":{"line":228,"locations":[{"end":{"column":47,"line":228},"start":{"column":15,"line":228}},{"end":{"column":88,"line":228},"start":{"column":51,"line":228}}],"type":"binary-expr"},"19":{"line":233,"locations":[{"end":{"column":6,"line":233},"start":{"column":6,"line":233}},{"end":{"column":6,"line":233},"start":{"column":6,"line":233}}],"type":"if"},"20":{"line":261,"locations":[{"end":{"column":6,"line":261},"start":{"column":6,"line":261}},{"end":{"column":6,"line":261},"start":{"column":6,"line":261}}],"type":"if"},"21":{"line":276,"locations":[{"end":{"column":6,"line":276},"start":{"column":6,"line":276}},{"end":{"column":6,"line":276},"start":{"column":6,"line":276}}],"type":"if"},"22":{"line":276,"locations":[{"end":{"column":25,"line":276},"start":{"column":13,"line":276}},{"end":{"column":49,"line":276},"start":{"column":30,"line":276}}],"type":"binary-expr"}},"code":["var CrudConfig, Durations, MediaActions, TaskConfig, TaskStepStore, _, actions, extendConfig, flux, getChangedSteps, getCompleteSteps, getCurrentStep, getCurrentStepIndex, getIncompleteSteps, getSteps, makeSimpleStore, moment, ref, ref1, store;","","_ = require('underscore');","","moment = require('moment');","","flux = require('flux-react');","","Durations = require('../helpers/durations');","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","TaskStepStore = require('./task-step').TaskStepStore;","","MediaActions = require('./media').MediaActions;","","getSteps = function(steps) {","  return _.map(steps, function(arg) {","    var id;","    id = arg.id;","    return TaskStepStore.get(id);","  });","};","","getCurrentStepIndex = function(steps) {","  var currentStep, i, j, len, step;","  currentStep = -1;","  for (i = j = 0, len = steps.length; j < len; i = ++j) {","    step = steps[i];","    if (!step.is_completed) {","      currentStep = i;","      break;","    }","  }","  return currentStep;","};","","getCurrentStep = function(steps) {","  return _.find(steps, function(step) {","    return !step.is_completed || (step.is_completed == null);","  });","};","","getIncompleteSteps = function(steps) {","  return _.filter(steps, function(step) {","    return (step != null) && !step.is_completed;","  });","};","","getCompleteSteps = function(steps) {","  return _.filter(steps, function(step) {","    return (step != null) && step.is_completed;","  });","};","","getChangedSteps = function(steps) {","  return _.filter(steps, function(step) {","    return (step != null) && TaskStepStore.isChanged(step.id);","  });","};","","TaskConfig = {","  _steps: {},","  _getStep: function(taskId, stepId) {","    var step;","    step = _.find(this._steps[taskId], function(s) {","      return s.id === stepId;","    });","    return step;","  },","  _grabHtmlFromReading: function(step) {","    return step.content_html;","  },","  _grabHtmlFromExercise: function(step) {","    var html, questionHtml;","    if (step.content == null) {","      return '';","    }","    html = step.content.stimulus_html;","    questionHtml = _.pluck(step.content.questions, 'stem_html').join('');","    return html += questionHtml;","  },","  _grabHtml: function(obj) {","    var htmlToParse;","    return htmlToParse = _.map(obj.steps, (function(_this) {","      return function(step) {","        var html;","        if (step.type === 'reading') {","          html = _this._grabHtmlFromReading(step);","        } else if (step.type === 'exercise') {","          html = _this._grabHtmlFromExercise(step);","        }","        return html;","      };","    })(this)).join('');","  },","  _loaded: function(obj, id) {","    var TaskStepActions, j, len, ref1, step, steps;","    MediaActions.parse(this._grabHtml(obj));","    if (this._steps == null) {","      this._steps = {};","    }","    steps = obj.steps;","    delete obj.steps;","    this._steps[id] = steps;","    ref1 = require('./task-step'), TaskStepActions = ref1.TaskStepActions, TaskStepStore = ref1.TaskStepStore;","    for (j = 0, len = steps.length; j < len; j++) {","      step = steps[j];","      step.task_id = id;","      TaskStepActions.loaded(step, step.id);","    }","    obj;","    return obj;","  },","  loadUserTasks: function(courseId) {},","  loadedUserTasks: function(obj) {","    var j, len, task, tasks;","    tasks = obj.items;","    for (j = 0, len = tasks.length; j < len; j++) {","      task = tasks[j];","      this.loaded(task, task.id);","    }","    return this.emitChange();","  },","  exports: {","    getSteps: function(id) {","      if (!this._steps[id]) {","        throw new Error('BUG: Steps not loaded');","      }","      return getSteps(this._steps[id]);","    },","    getAll: function() {","      return _.values(this._local);","    },","    getCurrentStepIndex: function(taskId) {","      var steps;","      steps = getSteps(this._steps[taskId]);","      return getCurrentStepIndex(steps);","    },","    getReadingForTaskId: function(taskId, id) {","      var relatedStepIndex, related_content, steps;","      steps = getSteps(this._steps[taskId]);","      related_content = TaskStepStore.get(id).related_content;","      relatedStepIndex = _.findIndex(steps, function(step) {","        return (step.type === 'reading') && (_.isEqual(step.chapter_section, _.first(related_content).chapter_section));","      });","      if (!(relatedStepIndex > -1)) {","        throw new Error('BUG: Invalid taskId.  Unable to find index');","      }","      return {","        reading: steps[relatedStepIndex],","        index: relatedStepIndex","      };","    },","    getDefaultStepIndex: function(taskId) {","      var steps;","      steps = getSteps(this._steps[taskId]);","      return getCurrentStepIndex(steps);","    },","    getStepsIds: function(id) {","      return _.map(this._steps[id], function(step) {","        return _.pick(step, 'id');","      });","    },","    getCurrentStep: function(taskId) {","      var step, steps;","      steps = getSteps(this._steps[taskId]);","      return step = getCurrentStep(steps);","    },","    getIncompleteSteps: function(taskId) {","      var allSteps, steps;","      allSteps = getSteps(this._steps[taskId]);","      return steps = getIncompleteSteps(allSteps);","    },","    getCompletedSteps: function(taskId) {","      var allSteps, steps;","      allSteps = getSteps(this._steps[taskId]);","      return steps = getCompleteSteps(allSteps);","    },","    getIncompleteCoreStepsIndexes: function(taskId) {","      var allSteps, coreSteps, firstIndex, lastIndex;","      allSteps = getSteps(this._steps[taskId]);","      firstIndex = _.findIndex(allSteps, function(step) {","        return (step != null) && !step.is_completed && TaskStepStore.isCore(step.id);","      });","      lastIndex = _.findLastIndex(allSteps, function(step) {","        return (step != null) && !step.is_completed && TaskStepStore.isCore(step.id);","      });","      coreSteps = [firstIndex];","      if (lastIndex !== firstIndex) {","        coreSteps.push(lastIndex);","      }","      return coreSteps;","    },","    hasAnyStepChanged: function(taskId) {","      var allSteps;","      allSteps = getSteps(this._steps[taskId]);","      return getChangedSteps(allSteps).length;","    },","    hasIncompleteCoreStepsIndexes: function(taskId) {","      var allSteps, steps;","      allSteps = getSteps(this._steps[taskId]);","      steps = _.find(allSteps, function(step) {","        return (step != null) && !step.is_completed && TaskStepStore.isCore(step.id);","      });","      return steps != null;","    },","    getFirstNonCoreIndex: function(taskId) {","      var allSteps, stepIndex;","      allSteps = getSteps(this._steps[taskId]);","      return stepIndex = _.findIndex(allSteps, function(step) {","        return (step != null) && !TaskStepStore.isCore(step.id);","      });","    },","    getPlaceholder: function(taskId) {","      var allSteps;","      allSteps = getSteps(this._steps[taskId]);","      return _.findWhere(allSteps, {","        type: 'placeholder'","      });","    },","    isTaskCompleted: function(taskId) {","      var incompleteStep;","      incompleteStep = getCurrentStep(getSteps(this._steps[taskId]));","      return !incompleteStep;","    },","    hasCrumbs: function(taskId) {","      return !(this._steps[taskId].length === 1 && this._get(taskId).type === 'external');","    },","    doesAllowSeeAhead: function(taskId) {","      var allowed;","      allowed = ['homework', 'practice', 'chapter_practice', 'page_practice'];","      if (allowed.indexOf(this._get(taskId).type) > -1) {","        return true;","      } else {","        return false;","      }","    },","    getRelatedSections: function(taskId) {","      return _.chain(getSteps(this._steps[taskId])).pluck('chapter_section').compact().uniq(function(cs) {","        return cs.join('.');","      }).value();","    },","    getCompletedStepsCount: function(taskId) {","      var allSteps, steps;","      allSteps = getSteps(this._steps[taskId]);","      steps = getCompleteSteps(allSteps);","      return steps.length;","    },","    getTotalStepsCount: function(taskId) {","      var allSteps;","      allSteps = getSteps(this._steps[taskId]);","      return allSteps.length;","    },","    isTaskPastDue: function(taskId) {","      return Durations.isPastDue(this._get(taskId));","    },","    isPractice: function(taskId) {","      var practices;","      practices = ['practice', 'chapter_practice', 'page_practice'];","      if (practices.indexOf(this._get(taskId).type) > -1) {","        return true;","      } else {","        return false;","      }","    },","    getStepLateness: function(taskId, stepId) {","      var due_at, last_completed_at, ref1, result, step, type;","      result = {","        late: false,","        last_completed_at: null,","        how_late: null","      };","      step = this._getStep(taskId, stepId);","      ref1 = this._get(taskId), due_at = ref1.due_at, type = ref1.type;","      if (!((step != null) && type === 'homework')) {","        return result;","      }","      last_completed_at = step.last_completed_at;","      result.late = moment(due_at).isBefore(last_completed_at);","      result.last_completed_at = last_completed_at;","      result.how_late = moment(due_at).from(last_completed_at, true);","      return result;","    }","  }","};","","extendConfig(TaskConfig, new CrudConfig());","","ref1 = makeSimpleStore(TaskConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  TaskActions: actions,","  TaskStore: store","};",""],"f":{"1":898,"2":17484,"3":362,"4":144,"5":1897,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":17,"15":20,"16":2,"17":2,"18":37,"19":2,"20":0,"21":0,"22":380,"23":0,"24":0,"25":0,"26":0,"27":362,"28":0,"29":0,"30":6,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":138,"43":2,"44":360,"45":12,"46":102,"47":0,"48":0,"49":28,"50":0,"51":0},"fnMap":{"1":{"line":17,"loc":{"end":{"column":27,"line":17},"start":{"column":11,"line":17}},"name":"(anonymous_1)"},"2":{"line":18,"loc":{"end":{"column":36,"line":18},"start":{"column":22,"line":18}},"name":"(anonymous_2)"},"3":{"line":25,"loc":{"end":{"column":38,"line":25},"start":{"column":22,"line":25}},"name":"(anonymous_3)"},"4":{"line":38,"loc":{"end":{"column":33,"line":38},"start":{"column":17,"line":38}},"name":"(anonymous_4)"},"5":{"line":39,"loc":{"end":{"column":38,"line":39},"start":{"column":23,"line":39}},"name":"(anonymous_5)"},"6":{"line":44,"loc":{"end":{"column":37,"line":44},"start":{"column":21,"line":44}},"name":"(anonymous_6)"},"7":{"line":45,"loc":{"end":{"column":40,"line":45},"start":{"column":25,"line":45}},"name":"(anonymous_7)"},"8":{"line":50,"loc":{"end":{"column":35,"line":50},"start":{"column":19,"line":50}},"name":"(anonymous_8)"},"9":{"line":51,"loc":{"end":{"column":40,"line":51},"start":{"column":25,"line":51}},"name":"(anonymous_9)"},"10":{"line":56,"loc":{"end":{"column":34,"line":56},"start":{"column":18,"line":56}},"name":"(anonymous_10)"},"11":{"line":57,"loc":{"end":{"column":40,"line":57},"start":{"column":25,"line":57}},"name":"(anonymous_11)"},"12":{"line":64,"loc":{"end":{"column":37,"line":64},"start":{"column":12,"line":64}},"name":"(anonymous_12)"},"13":{"line":66,"loc":{"end":{"column":51,"line":66},"start":{"column":39,"line":66}},"name":"(anonymous_13)"},"14":{"line":71,"loc":{"end":{"column":39,"line":71},"start":{"column":24,"line":71}},"name":"(anonymous_14)"},"15":{"line":74,"loc":{"end":{"column":40,"line":74},"start":{"column":25,"line":74}},"name":"(anonymous_15)"},"16":{"line":83,"loc":{"end":{"column":27,"line":83},"start":{"column":13,"line":83}},"name":"(anonymous_16)"},"17":{"line":85,"loc":{"end":{"column":59,"line":85},"start":{"column":43,"line":85}},"name":"(anonymous_17)"},"18":{"line":86,"loc":{"end":{"column":28,"line":86},"start":{"column":13,"line":86}},"name":"(anonymous_18)"},"19":{"line":97,"loc":{"end":{"column":29,"line":97},"start":{"column":11,"line":97}},"name":"(anonymous_19)"},"20":{"line":115,"loc":{"end":{"column":36,"line":115},"start":{"column":17,"line":115}},"name":"(anonymous_20)"},"21":{"line":116,"loc":{"end":{"column":33,"line":116},"start":{"column":19,"line":116}},"name":"(anonymous_21)"},"22":{"line":126,"loc":{"end":{"column":27,"line":126},"start":{"column":14,"line":126}},"name":"(anonymous_22)"},"23":{"line":132,"loc":{"end":{"column":23,"line":132},"start":{"column":12,"line":132}},"name":"(anonymous_23)"},"24":{"line":135,"loc":{"end":{"column":42,"line":135},"start":{"column":25,"line":135}},"name":"(anonymous_24)"},"25":{"line":140,"loc":{"end":{"column":46,"line":140},"start":{"column":25,"line":140}},"name":"(anonymous_25)"},"26":{"line":144,"loc":{"end":{"column":59,"line":144},"start":{"column":44,"line":144}},"name":"(anonymous_26)"},"27":{"line":155,"loc":{"end":{"column":42,"line":155},"start":{"column":25,"line":155}},"name":"(anonymous_27)"},"28":{"line":160,"loc":{"end":{"column":30,"line":160},"start":{"column":17,"line":160}},"name":"(anonymous_28)"},"29":{"line":161,"loc":{"end":{"column":51,"line":161},"start":{"column":36,"line":161}},"name":"(anonymous_29)"},"30":{"line":165,"loc":{"end":{"column":37,"line":165},"start":{"column":20,"line":165}},"name":"(anonymous_30)"},"31":{"line":170,"loc":{"end":{"column":41,"line":170},"start":{"column":24,"line":170}},"name":"(anonymous_31)"},"32":{"line":175,"loc":{"end":{"column":40,"line":175},"start":{"column":23,"line":175}},"name":"(anonymous_32)"},"33":{"line":180,"loc":{"end":{"column":52,"line":180},"start":{"column":35,"line":180}},"name":"(anonymous_33)"},"34":{"line":183,"loc":{"end":{"column":56,"line":183},"start":{"column":41,"line":183}},"name":"(anonymous_34)"},"35":{"line":186,"loc":{"end":{"column":59,"line":186},"start":{"column":44,"line":186}},"name":"(anonymous_35)"},"36":{"line":195,"loc":{"end":{"column":40,"line":195},"start":{"column":23,"line":195}},"name":"(anonymous_36)"},"37":{"line":200,"loc":{"end":{"column":52,"line":200},"start":{"column":35,"line":200}},"name":"(anonymous_37)"},"38":{"line":203,"loc":{"end":{"column":46,"line":203},"start":{"column":31,"line":203}},"name":"(anonymous_38)"},"39":{"line":208,"loc":{"end":{"column":43,"line":208},"start":{"column":26,"line":208}},"name":"(anonymous_39)"},"40":{"line":211,"loc":{"end":{"column":62,"line":211},"start":{"column":47,"line":211}},"name":"(anonymous_40)"},"41":{"line":215,"loc":{"end":{"column":37,"line":215},"start":{"column":20,"line":215}},"name":"(anonymous_41)"},"42":{"line":222,"loc":{"end":{"column":38,"line":222},"start":{"column":21,"line":222}},"name":"(anonymous_42)"},"43":{"line":227,"loc":{"end":{"column":32,"line":227},"start":{"column":15,"line":227}},"name":"(anonymous_43)"},"44":{"line":230,"loc":{"end":{"column":40,"line":230},"start":{"column":23,"line":230}},"name":"(anonymous_44)"},"45":{"line":239,"loc":{"end":{"column":41,"line":239},"start":{"column":24,"line":239}},"name":"(anonymous_45)"},"46":{"line":240,"loc":{"end":{"column":105,"line":240},"start":{"column":92,"line":240}},"name":"(anonymous_46)"},"47":{"line":244,"loc":{"end":{"column":45,"line":244},"start":{"column":28,"line":244}},"name":"(anonymous_47)"},"48":{"line":250,"loc":{"end":{"column":41,"line":250},"start":{"column":24,"line":250}},"name":"(anonymous_48)"},"49":{"line":255,"loc":{"end":{"column":36,"line":255},"start":{"column":19,"line":255}},"name":"(anonymous_49)"},"50":{"line":258,"loc":{"end":{"column":33,"line":258},"start":{"column":16,"line":258}},"name":"(anonymous_50)"},"51":{"line":267,"loc":{"end":{"column":46,"line":267},"start":{"column":21,"line":267}},"name":"(anonymous_51)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/task.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":898,"11":17484,"12":17484,"13":17484,"14":21,"15":362,"16":362,"17":362,"18":7516,"19":7516,"20":244,"21":244,"22":362,"23":21,"24":144,"25":1897,"26":21,"27":0,"28":0,"29":21,"30":0,"31":0,"32":21,"33":0,"34":0,"35":21,"36":0,"37":0,"38":0,"39":0,"40":17,"41":20,"42":20,"43":0,"44":20,"45":20,"46":20,"47":2,"48":2,"49":2,"50":37,"51":37,"52":17,"53":20,"54":20,"55":37,"56":2,"57":2,"58":2,"59":0,"60":2,"61":2,"62":2,"63":2,"64":2,"65":37,"66":37,"67":37,"68":2,"69":2,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":380,"77":0,"78":380,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":362,"92":362,"93":362,"94":0,"95":0,"96":6,"97":6,"98":6,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":138,"131":138,"132":138,"133":2,"134":360,"135":360,"136":360,"137":117,"138":243,"139":12,"140":102,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":28,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":21,"166":21,"167":21},"statementMap":{"1":{"end":{"column":244,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":27,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":29,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":44,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":128,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":53,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":47,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":2,"line":23},"start":{"column":0,"line":17}},"10":{"end":{"column":5,"line":22},"start":{"column":2,"line":18}},"11":{"end":{"column":11,"line":19},"start":{"column":4,"line":19}},"12":{"end":{"column":16,"line":20},"start":{"column":4,"line":20}},"13":{"end":{"column":33,"line":21},"start":{"column":4,"line":21}},"14":{"end":{"column":2,"line":36},"start":{"column":0,"line":25}},"15":{"end":{"column":35,"line":26},"start":{"column":2,"line":26}},"16":{"end":{"column":19,"line":27},"start":{"column":2,"line":27}},"17":{"end":{"column":3,"line":34},"start":{"column":2,"line":28}},"18":{"end":{"column":20,"line":29},"start":{"column":4,"line":29}},"19":{"end":{"column":5,"line":33},"start":{"column":4,"line":30}},"20":{"end":{"column":22,"line":31},"start":{"column":6,"line":31}},"21":{"end":{"column":12,"line":32},"start":{"column":6,"line":32}},"22":{"end":{"column":21,"line":35},"start":{"column":2,"line":35}},"23":{"end":{"column":2,"line":42},"start":{"column":0,"line":38}},"24":{"end":{"column":5,"line":41},"start":{"column":2,"line":39}},"25":{"end":{"column":61,"line":40},"start":{"column":4,"line":40}},"26":{"end":{"column":2,"line":48},"start":{"column":0,"line":44}},"27":{"end":{"column":5,"line":47},"start":{"column":2,"line":45}},"28":{"end":{"column":48,"line":46},"start":{"column":4,"line":46}},"29":{"end":{"column":2,"line":54},"start":{"column":0,"line":50}},"30":{"end":{"column":5,"line":53},"start":{"column":2,"line":51}},"31":{"end":{"column":47,"line":52},"start":{"column":4,"line":52}},"32":{"end":{"column":2,"line":60},"start":{"column":0,"line":56}},"33":{"end":{"column":5,"line":59},"start":{"column":2,"line":57}},"34":{"end":{"column":62,"line":58},"start":{"column":4,"line":58}},"35":{"end":{"column":2,"line":286},"start":{"column":0,"line":62}},"36":{"end":{"column":13,"line":65},"start":{"column":4,"line":65}},"37":{"end":{"column":7,"line":68},"start":{"column":4,"line":66}},"38":{"end":{"column":29,"line":67},"start":{"column":6,"line":67}},"39":{"end":{"column":16,"line":69},"start":{"column":4,"line":69}},"40":{"end":{"column":29,"line":72},"start":{"column":4,"line":72}},"41":{"end":{"column":27,"line":75},"start":{"column":4,"line":75}},"42":{"end":{"column":5,"line":78},"start":{"column":4,"line":76}},"43":{"end":{"column":16,"line":77},"start":{"column":6,"line":77}},"44":{"end":{"column":38,"line":79},"start":{"column":4,"line":79}},"45":{"end":{"column":73,"line":80},"start":{"column":4,"line":80}},"46":{"end":{"column":32,"line":81},"start":{"column":4,"line":81}},"47":{"end":{"column":20,"line":84},"start":{"column":4,"line":84}},"48":{"end":{"column":23,"line":95},"start":{"column":4,"line":85}},"49":{"end":{"column":8,"line":94},"start":{"column":6,"line":86}},"50":{"end":{"column":17,"line":87},"start":{"column":8,"line":87}},"51":{"end":{"column":9,"line":92},"start":{"column":8,"line":88}},"52":{"end":{"column":50,"line":89},"start":{"column":10,"line":89}},"53":{"end":{"column":9,"line":92},"start":{"column":15,"line":90}},"54":{"end":{"column":51,"line":91},"start":{"column":10,"line":91}},"55":{"end":{"column":20,"line":93},"start":{"column":8,"line":93}},"56":{"end":{"column":51,"line":98},"start":{"column":4,"line":98}},"57":{"end":{"column":44,"line":99},"start":{"column":4,"line":99}},"58":{"end":{"column":5,"line":102},"start":{"column":4,"line":100}},"59":{"end":{"column":23,"line":101},"start":{"column":6,"line":101}},"60":{"end":{"column":22,"line":103},"start":{"column":4,"line":103}},"61":{"end":{"column":21,"line":104},"start":{"column":4,"line":104}},"62":{"end":{"column":28,"line":105},"start":{"column":4,"line":105}},"63":{"end":{"column":110,"line":106},"start":{"column":4,"line":106}},"64":{"end":{"column":5,"line":111},"start":{"column":4,"line":107}},"65":{"end":{"column":22,"line":108},"start":{"column":6,"line":108}},"66":{"end":{"column":24,"line":109},"start":{"column":6,"line":109}},"67":{"end":{"column":44,"line":110},"start":{"column":6,"line":110}},"68":{"end":{"column":8,"line":112},"start":{"column":4,"line":112}},"69":{"end":{"column":15,"line":113},"start":{"column":4,"line":113}},"70":{"end":{"column":28,"line":117},"start":{"column":4,"line":117}},"71":{"end":{"column":22,"line":118},"start":{"column":4,"line":118}},"72":{"end":{"column":5,"line":122},"start":{"column":4,"line":119}},"73":{"end":{"column":22,"line":120},"start":{"column":6,"line":120}},"74":{"end":{"column":33,"line":121},"start":{"column":6,"line":121}},"75":{"end":{"column":29,"line":123},"start":{"column":4,"line":123}},"76":{"end":{"column":7,"line":129},"start":{"column":6,"line":127}},"77":{"end":{"column":49,"line":128},"start":{"column":8,"line":128}},"78":{"end":{"column":39,"line":130},"start":{"column":6,"line":130}},"79":{"end":{"column":35,"line":133},"start":{"column":6,"line":133}},"80":{"end":{"column":16,"line":136},"start":{"column":6,"line":136}},"81":{"end":{"column":44,"line":137},"start":{"column":6,"line":137}},"82":{"end":{"column":40,"line":138},"start":{"column":6,"line":138}},"83":{"end":{"column":51,"line":141},"start":{"column":6,"line":141}},"84":{"end":{"column":44,"line":142},"start":{"column":6,"line":142}},"85":{"end":{"column":62,"line":143},"start":{"column":6,"line":143}},"86":{"end":{"column":9,"line":146},"start":{"column":6,"line":144}},"87":{"end":{"column":120,"line":145},"start":{"column":8,"line":145}},"88":{"end":{"column":7,"line":149},"start":{"column":6,"line":147}},"89":{"end":{"column":70,"line":148},"start":{"column":8,"line":148}},"90":{"end":{"column":8,"line":153},"start":{"column":6,"line":150}},"91":{"end":{"column":16,"line":156},"start":{"column":6,"line":156}},"92":{"end":{"column":44,"line":157},"start":{"column":6,"line":157}},"93":{"end":{"column":40,"line":158},"start":{"column":6,"line":158}},"94":{"end":{"column":9,"line":163},"start":{"column":6,"line":161}},"95":{"end":{"column":34,"line":162},"start":{"column":8,"line":162}},"96":{"end":{"column":22,"line":166},"start":{"column":6,"line":166}},"97":{"end":{"column":44,"line":167},"start":{"column":6,"line":167}},"98":{"end":{"column":42,"line":168},"start":{"column":6,"line":168}},"99":{"end":{"column":26,"line":171},"start":{"column":6,"line":171}},"100":{"end":{"column":47,"line":172},"start":{"column":6,"line":172}},"101":{"end":{"column":50,"line":173},"start":{"column":6,"line":173}},"102":{"end":{"column":26,"line":176},"start":{"column":6,"line":176}},"103":{"end":{"column":47,"line":177},"start":{"column":6,"line":177}},"104":{"end":{"column":48,"line":178},"start":{"column":6,"line":178}},"105":{"end":{"column":53,"line":181},"start":{"column":6,"line":181}},"106":{"end":{"column":47,"line":182},"start":{"column":6,"line":182}},"107":{"end":{"column":9,"line":185},"start":{"column":6,"line":183}},"108":{"end":{"column":85,"line":184},"start":{"column":8,"line":184}},"109":{"end":{"column":9,"line":188},"start":{"column":6,"line":186}},"110":{"end":{"column":85,"line":187},"start":{"column":8,"line":187}},"111":{"end":{"column":31,"line":189},"start":{"column":6,"line":189}},"112":{"end":{"column":7,"line":192},"start":{"column":6,"line":190}},"113":{"end":{"column":34,"line":191},"start":{"column":8,"line":191}},"114":{"end":{"column":23,"line":193},"start":{"column":6,"line":193}},"115":{"end":{"column":19,"line":196},"start":{"column":6,"line":196}},"116":{"end":{"column":47,"line":197},"start":{"column":6,"line":197}},"117":{"end":{"column":46,"line":198},"start":{"column":6,"line":198}},"118":{"end":{"column":26,"line":201},"start":{"column":6,"line":201}},"119":{"end":{"column":47,"line":202},"start":{"column":6,"line":202}},"120":{"end":{"column":9,"line":205},"start":{"column":6,"line":203}},"121":{"end":{"column":85,"line":204},"start":{"column":8,"line":204}},"122":{"end":{"column":27,"line":206},"start":{"column":6,"line":206}},"123":{"end":{"column":30,"line":209},"start":{"column":6,"line":209}},"124":{"end":{"column":47,"line":210},"start":{"column":6,"line":210}},"125":{"end":{"column":9,"line":213},"start":{"column":6,"line":211}},"126":{"end":{"column":64,"line":212},"start":{"column":8,"line":212}},"127":{"end":{"column":19,"line":216},"start":{"column":6,"line":216}},"128":{"end":{"column":47,"line":217},"start":{"column":6,"line":217}},"129":{"end":{"column":9,"line":220},"start":{"column":6,"line":218}},"130":{"end":{"column":25,"line":223},"start":{"column":6,"line":223}},"131":{"end":{"column":69,"line":224},"start":{"column":6,"line":224}},"132":{"end":{"column":29,"line":225},"start":{"column":6,"line":225}},"133":{"end":{"column":90,"line":228},"start":{"column":6,"line":228}},"134":{"end":{"column":18,"line":231},"start":{"column":6,"line":231}},"135":{"end":{"column":78,"line":232},"start":{"column":6,"line":232}},"136":{"end":{"column":7,"line":237},"start":{"column":6,"line":233}},"137":{"end":{"column":20,"line":234},"start":{"column":8,"line":234}},"138":{"end":{"column":21,"line":236},"start":{"column":8,"line":236}},"139":{"end":{"column":17,"line":242},"start":{"column":6,"line":240}},"140":{"end":{"column":28,"line":241},"start":{"column":8,"line":241}},"141":{"end":{"column":26,"line":245},"start":{"column":6,"line":245}},"142":{"end":{"column":47,"line":246},"start":{"column":6,"line":246}},"143":{"end":{"column":41,"line":247},"start":{"column":6,"line":247}},"144":{"end":{"column":26,"line":248},"start":{"column":6,"line":248}},"145":{"end":{"column":19,"line":251},"start":{"column":6,"line":251}},"146":{"end":{"column":47,"line":252},"start":{"column":6,"line":252}},"147":{"end":{"column":29,"line":253},"start":{"column":6,"line":253}},"148":{"end":{"column":52,"line":256},"start":{"column":6,"line":256}},"149":{"end":{"column":20,"line":259},"start":{"column":6,"line":259}},"150":{"end":{"column":68,"line":260},"start":{"column":6,"line":260}},"151":{"end":{"column":7,"line":265},"start":{"column":6,"line":261}},"152":{"end":{"column":20,"line":262},"start":{"column":8,"line":262}},"153":{"end":{"column":21,"line":264},"start":{"column":8,"line":264}},"154":{"end":{"column":62,"line":268},"start":{"column":6,"line":268}},"155":{"end":{"column":8,"line":273},"start":{"column":6,"line":269}},"156":{"end":{"column":43,"line":274},"start":{"column":6,"line":274}},"157":{"end":{"column":71,"line":275},"start":{"column":6,"line":275}},"158":{"end":{"column":7,"line":278},"start":{"column":6,"line":276}},"159":{"end":{"column":22,"line":277},"start":{"column":8,"line":277}},"160":{"end":{"column":49,"line":279},"start":{"column":6,"line":279}},"161":{"end":{"column":63,"line":280},"start":{"column":6,"line":280}},"162":{"end":{"column":51,"line":281},"start":{"column":6,"line":281}},"163":{"end":{"column":69,"line":282},"start":{"column":6,"line":282}},"164":{"end":{"column":20,"line":283},"start":{"column":6,"line":283}},"165":{"end":{"column":43,"line":288},"start":{"column":0,"line":288}},"166":{"end":{"column":79,"line":290},"start":{"column":0,"line":290}},"167":{"end":{"column":2,"line":295},"start":{"column":0,"line":292}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"18":898,"19":17484,"20":17484,"21":17484,"25":21,"26":362,"27":362,"28":362,"29":7516,"30":7516,"31":244,"32":244,"35":362,"38":21,"39":144,"40":1897,"44":21,"45":0,"46":0,"50":21,"51":0,"52":0,"56":21,"57":0,"58":0,"62":21,"65":0,"66":0,"67":0,"69":0,"72":17,"75":20,"76":20,"77":0,"79":20,"80":20,"81":20,"84":2,"85":2,"86":2,"87":37,"88":37,"89":17,"90":20,"91":20,"93":37,"98":2,"99":2,"100":2,"101":0,"103":2,"104":2,"105":2,"106":2,"107":2,"108":37,"109":37,"110":37,"112":2,"113":2,"117":0,"118":0,"119":0,"120":0,"121":0,"123":0,"127":380,"128":0,"130":380,"133":0,"136":0,"137":0,"138":0,"141":0,"142":0,"143":0,"144":0,"145":0,"147":0,"148":0,"150":0,"156":362,"157":362,"158":362,"161":0,"162":0,"166":6,"167":6,"168":6,"171":0,"172":0,"173":0,"176":0,"177":0,"178":0,"181":0,"182":0,"183":0,"184":0,"186":0,"187":0,"189":0,"190":0,"191":0,"193":0,"196":0,"197":0,"198":0,"201":0,"202":0,"203":0,"204":0,"206":0,"209":0,"210":0,"211":0,"212":0,"216":0,"217":0,"218":0,"223":138,"224":138,"225":138,"228":2,"231":360,"232":360,"233":360,"234":117,"236":243,"240":12,"241":102,"245":0,"246":0,"247":0,"248":0,"251":0,"252":0,"253":0,"256":28,"259":0,"260":0,"261":0,"262":0,"264":0,"268":0,"269":0,"274":0,"275":0,"276":0,"277":0,"279":0,"280":0,"281":0,"282":0,"283":0,"288":21,"290":21,"292":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/teacher-roster.coffee":{"b":{},"branchMap":{},"code":["var CourseActions, CourseListingActions, CrudConfig, DELETED, DELETING, TeacherRosterConfig, _, actions, extendConfig, makeSimpleStore, ref, ref1, store;","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","CourseActions = require('./course').CourseActions;","","CourseListingActions = require('./course-listing').CourseListingActions;","","_ = require('underscore');","","DELETING = 'deleting';","","DELETED = 'deleted';","","TeacherRosterConfig = {","  \"delete\": function(teacherId, courseId) {","    this._asyncStatus[teacherId] = DELETING;","    return this.emit(DELETING);","  },","  deleted: function(result, teacherId, courseId) {","    this._asyncStatus[teacherId] = DELETED;","    CourseListingActions[\"delete\"](courseId);","    return this.emit(DELETED);","  },","  exports: {","    isDeleting: function(teacherId) {","      return this._asyncStatus[teacherId] === DELETING;","    }","  }","};","","extendConfig(TeacherRosterConfig, new CrudConfig());","","ref1 = makeSimpleStore(TeacherRosterConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  TeacherRosterActions: actions,","  TeacherRosterStore: store","};",""],"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"line":16,"loc":{"end":{"column":42,"line":16},"start":{"column":12,"line":16}},"name":"(anonymous_1)"},"2":{"line":20,"loc":{"end":{"column":49,"line":20},"start":{"column":11,"line":20}},"name":"(anonymous_2)"},"3":{"line":26,"loc":{"end":{"column":36,"line":26},"start":{"column":16,"line":26}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/teacher-roster.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":21,"16":21,"17":21},"statementMap":{"1":{"end":{"column":153,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":128,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":50,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":72,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":26,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":22,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":20,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":2,"line":30},"start":{"column":0,"line":15}},"9":{"end":{"column":44,"line":17},"start":{"column":4,"line":17}},"10":{"end":{"column":31,"line":18},"start":{"column":4,"line":18}},"11":{"end":{"column":43,"line":21},"start":{"column":4,"line":21}},"12":{"end":{"column":45,"line":22},"start":{"column":4,"line":22}},"13":{"end":{"column":30,"line":23},"start":{"column":4,"line":23}},"14":{"end":{"column":55,"line":27},"start":{"column":6,"line":27}},"15":{"end":{"column":52,"line":32},"start":{"column":0,"line":32}},"16":{"end":{"column":88,"line":34},"start":{"column":0,"line":34}},"17":{"end":{"column":2,"line":39},"start":{"column":0,"line":36}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":0,"18":0,"21":0,"22":0,"23":0,"27":0,"32":21,"34":21,"36":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/teacher-task-plan.coffee":{"b":{"1":[40,0]},"branchMap":{"1":{"line":18,"locations":[{"end":{"column":29,"line":18},"start":{"column":14,"line":18}},{"end":{"column":35,"line":18},"start":{"column":33,"line":18}}],"type":"binary-expr"}},"code":["var CrudConfig, TaskPlanStore, TeacherTaskPlanConfig, _, actions, extendConfig, makeSimpleStore, ref, ref1, store;","","_ = require('underscore');","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, makeSimpleStore = ref.makeSimpleStore, extendConfig = ref.extendConfig;","","TaskPlanStore = require('./task-plan').TaskPlanStore;","","TeacherTaskPlanConfig = {","  _loaded: function(obj, id) {","    var plans;","    plans = obj.plans;","    return this._local[id] = plans;","  },","  exports: {","    getActiveCoursePlans: function(id) {","      var plans;","      plans = this._local[id] || [];","      return _.filter(plans, function(plan) {","        return !TaskPlanStore.isDeleteRequested(plan.id);","      });","    }","  }","};","","extendConfig(TeacherTaskPlanConfig, new CrudConfig());","","ref1 = makeSimpleStore(TeacherTaskPlanConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  TeacherTaskPlanActions: actions,","  TeacherTaskPlanStore: store","};",""],"f":{"1":20,"2":40,"3":158},"fnMap":{"1":{"line":10,"loc":{"end":{"column":29,"line":10},"start":{"column":11,"line":10}},"name":"(anonymous_1)"},"2":{"line":16,"loc":{"end":{"column":39,"line":16},"start":{"column":26,"line":16}},"name":"(anonymous_2)"},"3":{"line":19,"loc":{"end":{"column":44,"line":19},"start":{"column":29,"line":19}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/teacher-task-plan.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":20,"7":20,"8":20,"9":40,"10":40,"11":40,"12":158,"13":21,"14":21,"15":21},"statementMap":{"1":{"end":{"column":114,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":128,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":53,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":24},"start":{"column":0,"line":9}},"6":{"end":{"column":14,"line":11},"start":{"column":4,"line":11}},"7":{"end":{"column":22,"line":12},"start":{"column":4,"line":12}},"8":{"end":{"column":35,"line":13},"start":{"column":4,"line":13}},"9":{"end":{"column":16,"line":17},"start":{"column":6,"line":17}},"10":{"end":{"column":36,"line":18},"start":{"column":6,"line":18}},"11":{"end":{"column":9,"line":21},"start":{"column":6,"line":19}},"12":{"end":{"column":57,"line":20},"start":{"column":8,"line":20}},"13":{"end":{"column":54,"line":26},"start":{"column":0,"line":26}},"14":{"end":{"column":90,"line":28},"start":{"column":0,"line":28}},"15":{"end":{"column":2,"line":33},"start":{"column":0,"line":30}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":20,"12":20,"13":20,"17":40,"18":40,"19":40,"20":158,"26":21,"28":21,"30":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/time.coffee":{"b":{"1":[0,93],"2":[93,0],"3":[0,93],"4":[0,93],"5":[0,0],"6":[0,0],"7":[0,0],"8":[965,0],"9":[965,89]},"branchMap":{"1":{"line":11,"locations":[{"end":{"column":4,"line":11},"start":{"column":4,"line":11}},{"end":{"column":4,"line":11},"start":{"column":4,"line":11}}],"type":"if"},"2":{"line":18,"locations":[{"end":{"column":4,"line":18},"start":{"column":4,"line":18}},{"end":{"column":4,"line":18},"start":{"column":4,"line":18}}],"type":"if"},"3":{"line":21,"locations":[{"end":{"column":4,"line":21},"start":{"column":4,"line":21}},{"end":{"column":4,"line":21},"start":{"column":4,"line":21}}],"type":"if"},"4":{"line":25,"locations":[{"end":{"column":4,"line":25},"start":{"column":4,"line":25}},{"end":{"column":4,"line":25},"start":{"column":4,"line":25}}],"type":"if"},"5":{"line":26,"locations":[{"end":{"column":186,"line":26},"start":{"column":66,"line":26}},{"end":{"column":195,"line":26},"start":{"column":189,"line":26}}],"type":"cond-expr"},"6":{"line":26,"locations":[{"end":{"column":43,"line":26},"start":{"column":13,"line":26}},{"end":{"column":63,"line":26},"start":{"column":47,"line":26}}],"type":"binary-expr"},"7":{"line":26,"locations":[{"end":{"column":177,"line":26},"start":{"column":103,"line":26}},{"end":{"column":186,"line":26},"start":{"column":180,"line":26}}],"type":"cond-expr"},"8":{"line":34,"locations":[{"end":{"column":6,"line":34},"start":{"column":6,"line":34}},{"end":{"column":6,"line":34},"start":{"column":6,"line":34}}],"type":"if"},"9":{"line":37,"locations":[{"end":{"column":27,"line":37},"start":{"column":14,"line":37}},{"end":{"column":32,"line":37},"start":{"column":31,"line":37}}],"type":"binary-expr"}},"code":["var TimeConfig, TutorDateFormat, actions, flux, makeSimpleStore, ref, store;","","flux = require('flux-react');","","makeSimpleStore = require('./helpers').makeSimpleStore;","","TutorDateFormat = \"MM/DD/YYYY\";","","TimeConfig = {","  setNow: function(now, localNow) {","    if (localNow == null) {","      localNow = new Date();","    }","    return this._shiftMs = now.getTime() - localNow.getTime();","  },","  setFromString: function(txtDate, localNow) {","    var date;","    if (localNow == null) {","      localNow = new Date();","    }","    if (!txtDate) {","      return;","    }","    date = new Date(txtDate);","    if (isNaN(date.getTime())) {","      return typeof console !== \"undefined\" && console !== null ? typeof console.warn === \"function\" ? console.warn(\"Attempted to set invalid date \" + txtDate + \" on TimeStore\") : void 0 : void 0;","    } else {","      return this.setNow(date, localNow);","    }","  },","  exports: {","    getNow: function(localNow) {","      var shift;","      if (localNow == null) {","        localNow = new Date();","      }","      shift = this._shiftMs || 0;","      return new Date(localNow.getTime() + shift);","    },","    getFormat: function() {","      return TutorDateFormat;","    }","  }","};","","ref = makeSimpleStore(TimeConfig), actions = ref.actions, store = ref.store;","","module.exports = {","  TimeActions: actions,","  TimeStore: store","};",""],"f":{"1":93,"2":93,"3":965,"4":58},"fnMap":{"1":{"line":10,"loc":{"end":{"column":34,"line":10},"start":{"column":10,"line":10}},"name":"(anonymous_1)"},"2":{"line":16,"loc":{"end":{"column":45,"line":16},"start":{"column":17,"line":16}},"name":"(anonymous_2)"},"3":{"line":32,"loc":{"end":{"column":31,"line":32},"start":{"column":12,"line":32}},"name":"(anonymous_3)"},"4":{"line":40,"loc":{"end":{"column":26,"line":40},"start":{"column":15,"line":40}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/time.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":93,"7":0,"8":93,"9":93,"10":93,"11":93,"12":93,"13":0,"14":93,"15":93,"16":0,"17":93,"18":965,"19":965,"20":965,"21":965,"22":965,"23":58,"24":21,"25":21},"statementMap":{"1":{"end":{"column":76,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":29,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":55,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":31,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":44},"start":{"column":0,"line":9}},"6":{"end":{"column":5,"line":13},"start":{"column":4,"line":11}},"7":{"end":{"column":28,"line":12},"start":{"column":6,"line":12}},"8":{"end":{"column":62,"line":14},"start":{"column":4,"line":14}},"9":{"end":{"column":13,"line":17},"start":{"column":4,"line":17}},"10":{"end":{"column":5,"line":20},"start":{"column":4,"line":18}},"11":{"end":{"column":28,"line":19},"start":{"column":6,"line":19}},"12":{"end":{"column":5,"line":23},"start":{"column":4,"line":21}},"13":{"end":{"column":13,"line":22},"start":{"column":6,"line":22}},"14":{"end":{"column":29,"line":24},"start":{"column":4,"line":24}},"15":{"end":{"column":5,"line":29},"start":{"column":4,"line":25}},"16":{"end":{"column":196,"line":26},"start":{"column":6,"line":26}},"17":{"end":{"column":41,"line":28},"start":{"column":6,"line":28}},"18":{"end":{"column":16,"line":33},"start":{"column":6,"line":33}},"19":{"end":{"column":7,"line":36},"start":{"column":6,"line":34}},"20":{"end":{"column":30,"line":35},"start":{"column":8,"line":35}},"21":{"end":{"column":33,"line":37},"start":{"column":6,"line":37}},"22":{"end":{"column":50,"line":38},"start":{"column":6,"line":38}},"23":{"end":{"column":29,"line":41},"start":{"column":6,"line":41}},"24":{"end":{"column":76,"line":46},"start":{"column":0,"line":46}},"25":{"end":{"column":2,"line":51},"start":{"column":0,"line":48}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":93,"12":0,"14":93,"17":93,"18":93,"19":93,"21":93,"22":0,"24":93,"25":93,"26":0,"28":93,"33":965,"34":965,"35":965,"37":965,"38":965,"41":58,"46":21,"48":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/toc.coffee":{"b":{"1":[10,0],"2":[10,0],"3":[376,0]},"branchMap":{"1":{"line":33,"locations":[{"end":{"column":88,"line":33},"start":{"column":14,"line":33}},{"end":{"column":10,"line":35},"start":{"column":93,"line":33}}],"type":"binary-expr"},"2":{"line":33,"locations":[{"end":{"column":79,"line":33},"start":{"column":59,"line":33}},{"end":{"column":88,"line":33},"start":{"column":82,"line":33}}],"type":"cond-expr"},"3":{"line":38,"locations":[{"end":{"column":38,"line":38},"start":{"column":13,"line":38}},{"end":{"column":10,"line":40},"start":{"column":42,"line":38}}],"type":"binary-expr"}},"code":["var CrudConfig, TocConfig, _, actions, extendConfig, flux, makeSimpleStore, ref, ref1, store;","","flux = require('flux-react');","","_ = require('underscore');","","ref = require('./helpers'), CrudConfig = ref.CrudConfig, extendConfig = ref.extendConfig, makeSimpleStore = ref.makeSimpleStore;","","TocConfig = {","  _sections: {},","  FAILED: function() {","    return console.error('BUG: could not load readings');","  },","  _reset: function() {","    return this._sections = {};","  },","  _loaded: function(obj, id) {","    var chap, chapters, i, j, len, len1, ref1, section;","    chapters = obj[0].children;","    for (i = 0, len = chapters.length; i < len; i++) {","      chap = chapters[i];","      ref1 = chap.children;","      for (j = 0, len1 = ref1.length; j < len1; j++) {","        section = ref1[j];","        this._sections[section.id] = section;","      }","    }","    return chapters;","  },","  exports: {","    getChapterSection: function(sectionId) {","      var ref1;","      return ((ref1 = this._sections[sectionId]) != null ? ref1.chapter_section : void 0) || (function() {","        throw new Error('BUG: Invalid section');","      })();","    },","    getSectionInfo: function(sectionId) {","      return this._sections[sectionId] || (function() {","        throw new Error('BUG: Invalid section');","      })();","    },","    getSectionLabel: function(key) {","      return _.find(this._sections, function(section) {","        return section.chapter_section.toString() === key;","      });","    }","  }","};","","extendConfig(TocConfig, new CrudConfig());","","ref1 = makeSimpleStore(TocConfig), actions = ref1.actions, store = ref1.store;","","module.exports = {","  TocActions: actions,","  TocStore: store","};",""],"f":{"1":0,"2":0,"3":9,"4":10,"5":0,"6":376,"7":0,"8":0,"9":0},"fnMap":{"1":{"line":11,"loc":{"end":{"column":21,"line":11},"start":{"column":10,"line":11}},"name":"(anonymous_1)"},"2":{"line":14,"loc":{"end":{"column":21,"line":14},"start":{"column":10,"line":14}},"name":"(anonymous_2)"},"3":{"line":17,"loc":{"end":{"column":29,"line":17},"start":{"column":11,"line":17}},"name":"(anonymous_3)"},"4":{"line":31,"loc":{"end":{"column":43,"line":31},"start":{"column":23,"line":31}},"name":"(anonymous_4)"},"5":{"line":33,"loc":{"end":{"column":105,"line":33},"start":{"column":94,"line":33}},"name":"(anonymous_5)"},"6":{"line":37,"loc":{"end":{"column":40,"line":37},"start":{"column":20,"line":37}},"name":"(anonymous_6)"},"7":{"line":38,"loc":{"end":{"column":54,"line":38},"start":{"column":43,"line":38}},"name":"(anonymous_7)"},"8":{"line":42,"loc":{"end":{"column":35,"line":42},"start":{"column":21,"line":42}},"name":"(anonymous_8)"},"9":{"line":43,"loc":{"end":{"column":54,"line":43},"start":{"column":36,"line":43}},"name":"(anonymous_9)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/toc.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":0,"7":0,"8":9,"9":9,"10":9,"11":180,"12":180,"13":180,"14":927,"15":927,"16":9,"17":10,"18":10,"19":0,"20":376,"21":0,"22":0,"23":0,"24":21,"25":21,"26":21},"statementMap":{"1":{"end":{"column":93,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":29,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":128,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":48},"start":{"column":0,"line":9}},"6":{"end":{"column":57,"line":12},"start":{"column":4,"line":12}},"7":{"end":{"column":31,"line":15},"start":{"column":4,"line":15}},"8":{"end":{"column":55,"line":18},"start":{"column":4,"line":18}},"9":{"end":{"column":31,"line":19},"start":{"column":4,"line":19}},"10":{"end":{"column":5,"line":27},"start":{"column":4,"line":20}},"11":{"end":{"column":25,"line":21},"start":{"column":6,"line":21}},"12":{"end":{"column":27,"line":22},"start":{"column":6,"line":22}},"13":{"end":{"column":7,"line":26},"start":{"column":6,"line":23}},"14":{"end":{"column":26,"line":24},"start":{"column":8,"line":24}},"15":{"end":{"column":45,"line":25},"start":{"column":8,"line":25}},"16":{"end":{"column":20,"line":28},"start":{"column":4,"line":28}},"17":{"end":{"column":15,"line":32},"start":{"column":6,"line":32}},"18":{"end":{"column":11,"line":35},"start":{"column":6,"line":33}},"19":{"end":{"column":48,"line":34},"start":{"column":8,"line":34}},"20":{"end":{"column":11,"line":40},"start":{"column":6,"line":38}},"21":{"end":{"column":48,"line":39},"start":{"column":8,"line":39}},"22":{"end":{"column":9,"line":45},"start":{"column":6,"line":43}},"23":{"end":{"column":58,"line":44},"start":{"column":8,"line":44}},"24":{"end":{"column":42,"line":50},"start":{"column":0,"line":50}},"25":{"end":{"column":78,"line":52},"start":{"column":0,"line":52}},"26":{"end":{"column":2,"line":57},"start":{"column":0,"line":54}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"12":0,"15":0,"18":9,"19":9,"20":9,"21":180,"22":180,"23":180,"24":927,"25":927,"28":9,"32":10,"33":10,"34":0,"38":376,"39":0,"43":0,"44":0,"50":21,"52":21,"54":21}},
"/Users/phil/github/openstax/tutor-js/src/flux/transition.coffee":{"b":{"1":[21,91],"2":[63,49],"3":[112,96],"4":[0,2]},"branchMap":{"1":{"line":17,"locations":[{"end":{"column":4,"line":17},"start":{"column":4,"line":17}},{"end":{"column":4,"line":17},"start":{"column":4,"line":17}}],"type":"if"},"2":{"line":20,"locations":[{"end":{"column":4,"line":20},"start":{"column":4,"line":20}},{"end":{"column":4,"line":20},"start":{"column":4,"line":20}}],"type":"if"},"3":{"line":20,"locations":[{"end":{"column":23,"line":20},"start":{"column":8,"line":20}},{"end":{"column":80,"line":20},"start":{"column":27,"line":20}}],"type":"binary-expr"},"4":{"line":39,"locations":[{"end":{"column":6,"line":39},"start":{"column":6,"line":39}},{"end":{"column":6,"line":39},"start":{"column":6,"line":39}}],"type":"if"}},"code":["var DestinationHelper, TransitionActions, TransitionStore, _, flux;","","_ = require('underscore');","","flux = require('flux-react');","","DestinationHelper = require('../helpers/routes-and-destinations');","","TransitionActions = flux.createActions(['load', 'reset', '_get']);","","TransitionStore = flux.createStore({","  actions: _.values(TransitionActions),","  _local: [],","  load: function(change, router) {","    var path, type;","    type = change.type, path = change.path;","    if (type == null) {","      type = 'push';","    }","    if (type === 'push' && DestinationHelper.shouldRememberRoute(change, router)) {","      return this._local.push(path);","    }","  },","  reset: function() {","    return this._local = [];","  },","  _get: function() {","    return this._local;","  },","  exports: {","    getPrevious: function(router) {","      var currentPath, history, matchRoutes, pathIndex;","      matchRoutes = router.match;","      currentPath = DestinationHelper.destinationFromPath(router.getCurrentPath(), matchRoutes);","      history = this._get();","      pathIndex = _.findLastIndex(history, function(path) {","        return currentPath !== DestinationHelper.destinationFromPath(path, matchRoutes);","      });","      if (-1 === pathIndex) {","        return {};","      }","      return {","        path: history[pathIndex],","        name: DestinationHelper.destinationFromPath(history[pathIndex], matchRoutes)","      };","    }","  }","});","","module.exports = {","  TransitionActions: TransitionActions,","  TransitionStore: TransitionStore","};",""],"f":{"1":112,"2":0,"3":2,"4":2,"5":4},"fnMap":{"1":{"line":14,"loc":{"end":{"column":33,"line":14},"start":{"column":8,"line":14}},"name":"(anonymous_1)"},"2":{"line":24,"loc":{"end":{"column":20,"line":24},"start":{"column":9,"line":24}},"name":"(anonymous_2)"},"3":{"line":27,"loc":{"end":{"column":19,"line":27},"start":{"column":8,"line":27}},"name":"(anonymous_3)"},"4":{"line":31,"loc":{"end":{"column":34,"line":31},"start":{"column":17,"line":31}},"name":"(anonymous_4)"},"5":{"line":36,"loc":{"end":{"column":58,"line":36},"start":{"column":43,"line":36}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/flux/transition.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":112,"8":112,"9":112,"10":21,"11":112,"12":63,"13":0,"14":2,"15":2,"16":2,"17":2,"18":2,"19":2,"20":4,"21":2,"22":0,"23":2,"24":21},"statementMap":{"1":{"end":{"column":67,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":29,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":66,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":66,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":3,"line":48},"start":{"column":0,"line":11}},"7":{"end":{"column":19,"line":15},"start":{"column":4,"line":15}},"8":{"end":{"column":43,"line":16},"start":{"column":4,"line":16}},"9":{"end":{"column":5,"line":19},"start":{"column":4,"line":17}},"10":{"end":{"column":20,"line":18},"start":{"column":6,"line":18}},"11":{"end":{"column":5,"line":22},"start":{"column":4,"line":20}},"12":{"end":{"column":36,"line":21},"start":{"column":6,"line":21}},"13":{"end":{"column":28,"line":25},"start":{"column":4,"line":25}},"14":{"end":{"column":23,"line":28},"start":{"column":4,"line":28}},"15":{"end":{"column":55,"line":32},"start":{"column":6,"line":32}},"16":{"end":{"column":33,"line":33},"start":{"column":6,"line":33}},"17":{"end":{"column":96,"line":34},"start":{"column":6,"line":34}},"18":{"end":{"column":28,"line":35},"start":{"column":6,"line":35}},"19":{"end":{"column":9,"line":38},"start":{"column":6,"line":36}},"20":{"end":{"column":88,"line":37},"start":{"column":8,"line":37}},"21":{"end":{"column":7,"line":41},"start":{"column":6,"line":39}},"22":{"end":{"column":18,"line":40},"start":{"column":8,"line":40}},"23":{"end":{"column":8,"line":45},"start":{"column":6,"line":42}},"24":{"end":{"column":2,"line":53},"start":{"column":0,"line":50}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"15":112,"16":112,"17":112,"18":21,"20":112,"21":63,"25":0,"28":2,"32":2,"33":2,"34":2,"35":2,"36":2,"37":4,"39":2,"40":0,"42":2,"50":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/analytics.coffee":{"b":{"1":[0,0],"2":[112,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"branchMap":{"1":{"line":141,"locations":[{"end":{"column":65,"line":141},"start":{"column":38,"line":141}},{"end":{"column":74,"line":141},"start":{"column":68,"line":141}}],"type":"cond-expr"},"2":{"line":145,"locations":[{"end":{"column":4,"line":145},"start":{"column":4,"line":145}},{"end":{"column":4,"line":145},"start":{"column":4,"line":145}}],"type":"if"},"3":{"line":149,"locations":[{"end":{"column":4,"line":149},"start":{"column":4,"line":149}},{"end":{"column":4,"line":149},"start":{"column":4,"line":149}}],"type":"if"},"4":{"line":153,"locations":[{"end":{"column":101,"line":153},"start":{"column":12,"line":153}},{"end":{"column":117,"line":153},"start":{"column":106,"line":153}}],"type":"binary-expr"},"5":{"line":153,"locations":[{"end":{"column":92,"line":153},"start":{"column":67,"line":153}},{"end":{"column":101,"line":153},"start":{"column":95,"line":153}}],"type":"cond-expr"},"6":{"line":154,"locations":[{"end":{"column":4,"line":154},"start":{"column":4,"line":154}},{"end":{"column":4,"line":154},"start":{"column":4,"line":154}}],"type":"if"},"7":{"line":163,"locations":[{"end":{"column":4,"line":163},"start":{"column":4,"line":163}},{"end":{"column":4,"line":163},"start":{"column":4,"line":163}}],"type":"if"}},"code":["var Analytics, CurrentUserStore, DestinationHelper, Events, GA, HistoryLocation, Router, Translators, _;","","_ = require('underscore');","","Router = require('react-router');","","CurrentUserStore = require('../flux/current-user').CurrentUserStore;","","HistoryLocation = require('react-router').HistoryLocation;","","DestinationHelper = require('../helpers/routes-and-destinations');","","Events = {","  viewTaskStep: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return Analytics.sendEvent('Course', 'Work', {","      label: courseId","    });","  },","  viewStudentDashboard: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return Analytics.sendEvent('Student', 'Dashboard', {","      label: courseId","    });","  }","};","","Translators = {","  dashboard: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/student/choose-course/\" + courseId;","  },","  viewPractice: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/student/practice/\" + courseId;","  },","  viewPerformanceForecast: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/student/performance-forecast/\" + courseId;","  },","  viewStudentDashboard: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/student/dashboard/\" + courseId;","  },","  calendarByDate: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/calendar/\" + courseId;","  },","  viewTeacherPerformanceForecast: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/performance-forecast/\" + courseId;","  },","  viewScores: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/student-scores/\" + courseId;","  },","  courseSettings: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/roster/\" + courseId;","  },","  editReading: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/assignment/edit/reading/\" + courseId;","  },","  editHomework: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/assignment/edit/homework/\" + courseId;","  },","  editExternal: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/assignment/edit/external/\" + courseId;","  },","  createReading: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/assignment/create/reading/\" + courseId;","  },","  createHomework: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/assignment/create/homework/\" + courseId;","  },","  createExternal: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/assignment/create/external/\" + courseId;","  },","  calendarViewPlanStats: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/metrics/quick/\" + courseId;","  },","  reviewTask: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/teacher/metrics/review/\" + courseId;","  },","  viewReferenceBook: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/reference-view/\" + courseId;","  },","  viewReferenceBookSection: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/reference-view/\" + courseId;","  },","  viewReferenceBookPage: function(arg) {","    var courseId;","    courseId = arg.courseId;","    return \"/reference-view/\" + courseId;","  },","  viewTaskStep: function(arg) {","    var courseId, role;","    courseId = arg.courseId;","    role = CurrentUserStore.getCourseRole(courseId, true);","    return \"/\" + role + \"/task-step/\" + courseId;","  }","};","","GA = void 0;","","Analytics = {","  setTracker: function(tracker) {","    return GA = tracker;","  },","  sendPageView: function(url) {","    return typeof GA === \"function\" ? GA('send', 'pageview', url) : void 0;","  },","  onNavigation: function(change, router) {","    var name, params, path, route;","    if (!GA) {","      return;","    }","    route = DestinationHelper.routeFromPath(change.path, router.match);","    if (!route) {","      return this.sendPageView(\"/not-found/\" + change.path);","    }","    params = router.getCurrentParams();","    path = (typeof Translators[name = route.name] === \"function\" ? Translators[name](params) : void 0) || change.path;","    if (Events[route.name]) {","      GA('set', 'page', path);","      Events[route.name](params);","      return this.sendPageView();","    } else {","      return this.sendPageView(path);","    }","  },","  sendEvent: function(category, action, attrs) {","    if (!GA) {","      return;","    }","    return GA('send', 'event', category, action, attrs.label, attrs.value);","  }","};","","module.exports = Analytics;",""],"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":21,"24":0,"25":112,"26":0},"fnMap":{"1":{"line":14,"loc":{"end":{"column":30,"line":14},"start":{"column":16,"line":14}},"name":"(anonymous_1)"},"2":{"line":21,"loc":{"end":{"column":38,"line":21},"start":{"column":24,"line":21}},"name":"(anonymous_2)"},"3":{"line":31,"loc":{"end":{"column":27,"line":31},"start":{"column":13,"line":31}},"name":"(anonymous_3)"},"4":{"line":36,"loc":{"end":{"column":30,"line":36},"start":{"column":16,"line":36}},"name":"(anonymous_4)"},"5":{"line":41,"loc":{"end":{"column":41,"line":41},"start":{"column":27,"line":41}},"name":"(anonymous_5)"},"6":{"line":46,"loc":{"end":{"column":38,"line":46},"start":{"column":24,"line":46}},"name":"(anonymous_6)"},"7":{"line":51,"loc":{"end":{"column":32,"line":51},"start":{"column":18,"line":51}},"name":"(anonymous_7)"},"8":{"line":56,"loc":{"end":{"column":48,"line":56},"start":{"column":34,"line":56}},"name":"(anonymous_8)"},"9":{"line":61,"loc":{"end":{"column":28,"line":61},"start":{"column":14,"line":61}},"name":"(anonymous_9)"},"10":{"line":66,"loc":{"end":{"column":32,"line":66},"start":{"column":18,"line":66}},"name":"(anonymous_10)"},"11":{"line":71,"loc":{"end":{"column":29,"line":71},"start":{"column":15,"line":71}},"name":"(anonymous_11)"},"12":{"line":76,"loc":{"end":{"column":30,"line":76},"start":{"column":16,"line":76}},"name":"(anonymous_12)"},"13":{"line":81,"loc":{"end":{"column":30,"line":81},"start":{"column":16,"line":81}},"name":"(anonymous_13)"},"14":{"line":86,"loc":{"end":{"column":31,"line":86},"start":{"column":17,"line":86}},"name":"(anonymous_14)"},"15":{"line":91,"loc":{"end":{"column":32,"line":91},"start":{"column":18,"line":91}},"name":"(anonymous_15)"},"16":{"line":96,"loc":{"end":{"column":32,"line":96},"start":{"column":18,"line":96}},"name":"(anonymous_16)"},"17":{"line":101,"loc":{"end":{"column":39,"line":101},"start":{"column":25,"line":101}},"name":"(anonymous_17)"},"18":{"line":106,"loc":{"end":{"column":28,"line":106},"start":{"column":14,"line":106}},"name":"(anonymous_18)"},"19":{"line":111,"loc":{"end":{"column":35,"line":111},"start":{"column":21,"line":111}},"name":"(anonymous_19)"},"20":{"line":116,"loc":{"end":{"column":42,"line":116},"start":{"column":28,"line":116}},"name":"(anonymous_20)"},"21":{"line":121,"loc":{"end":{"column":39,"line":121},"start":{"column":25,"line":121}},"name":"(anonymous_21)"},"22":{"line":126,"loc":{"end":{"column":30,"line":126},"start":{"column":16,"line":126}},"name":"(anonymous_22)"},"23":{"line":137,"loc":{"end":{"column":32,"line":137},"start":{"column":14,"line":137}},"name":"(anonymous_23)"},"24":{"line":140,"loc":{"end":{"column":30,"line":140},"start":{"column":16,"line":140}},"name":"(anonymous_24)"},"25":{"line":143,"loc":{"end":{"column":41,"line":143},"start":{"column":16,"line":143}},"name":"(anonymous_25)"},"26":{"line":162,"loc":{"end":{"column":47,"line":162},"start":{"column":13,"line":162}},"name":"(anonymous_26)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/analytics.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":21,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":21,"77":21,"78":21,"79":0,"80":112,"81":112,"82":112,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":21},"statementMap":{"1":{"end":{"column":104,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":68,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":58,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":66,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":2,"line":28},"start":{"column":0,"line":13}},"8":{"end":{"column":17,"line":15},"start":{"column":4,"line":15}},"9":{"end":{"column":28,"line":16},"start":{"column":4,"line":16}},"10":{"end":{"column":7,"line":19},"start":{"column":4,"line":17}},"11":{"end":{"column":17,"line":22},"start":{"column":4,"line":22}},"12":{"end":{"column":28,"line":23},"start":{"column":4,"line":23}},"13":{"end":{"column":7,"line":26},"start":{"column":4,"line":24}},"14":{"end":{"column":2,"line":132},"start":{"column":0,"line":30}},"15":{"end":{"column":17,"line":32},"start":{"column":4,"line":32}},"16":{"end":{"column":28,"line":33},"start":{"column":4,"line":33}},"17":{"end":{"column":48,"line":34},"start":{"column":4,"line":34}},"18":{"end":{"column":17,"line":37},"start":{"column":4,"line":37}},"19":{"end":{"column":28,"line":38},"start":{"column":4,"line":38}},"20":{"end":{"column":43,"line":39},"start":{"column":4,"line":39}},"21":{"end":{"column":17,"line":42},"start":{"column":4,"line":42}},"22":{"end":{"column":28,"line":43},"start":{"column":4,"line":43}},"23":{"end":{"column":55,"line":44},"start":{"column":4,"line":44}},"24":{"end":{"column":17,"line":47},"start":{"column":4,"line":47}},"25":{"end":{"column":28,"line":48},"start":{"column":4,"line":48}},"26":{"end":{"column":44,"line":49},"start":{"column":4,"line":49}},"27":{"end":{"column":17,"line":52},"start":{"column":4,"line":52}},"28":{"end":{"column":28,"line":53},"start":{"column":4,"line":53}},"29":{"end":{"column":43,"line":54},"start":{"column":4,"line":54}},"30":{"end":{"column":17,"line":57},"start":{"column":4,"line":57}},"31":{"end":{"column":28,"line":58},"start":{"column":4,"line":58}},"32":{"end":{"column":55,"line":59},"start":{"column":4,"line":59}},"33":{"end":{"column":17,"line":62},"start":{"column":4,"line":62}},"34":{"end":{"column":28,"line":63},"start":{"column":4,"line":63}},"35":{"end":{"column":49,"line":64},"start":{"column":4,"line":64}},"36":{"end":{"column":17,"line":67},"start":{"column":4,"line":67}},"37":{"end":{"column":28,"line":68},"start":{"column":4,"line":68}},"38":{"end":{"column":41,"line":69},"start":{"column":4,"line":69}},"39":{"end":{"column":17,"line":72},"start":{"column":4,"line":72}},"40":{"end":{"column":28,"line":73},"start":{"column":4,"line":73}},"41":{"end":{"column":58,"line":74},"start":{"column":4,"line":74}},"42":{"end":{"column":17,"line":77},"start":{"column":4,"line":77}},"43":{"end":{"column":28,"line":78},"start":{"column":4,"line":78}},"44":{"end":{"column":59,"line":79},"start":{"column":4,"line":79}},"45":{"end":{"column":17,"line":82},"start":{"column":4,"line":82}},"46":{"end":{"column":28,"line":83},"start":{"column":4,"line":83}},"47":{"end":{"column":59,"line":84},"start":{"column":4,"line":84}},"48":{"end":{"column":17,"line":87},"start":{"column":4,"line":87}},"49":{"end":{"column":28,"line":88},"start":{"column":4,"line":88}},"50":{"end":{"column":60,"line":89},"start":{"column":4,"line":89}},"51":{"end":{"column":17,"line":92},"start":{"column":4,"line":92}},"52":{"end":{"column":28,"line":93},"start":{"column":4,"line":93}},"53":{"end":{"column":61,"line":94},"start":{"column":4,"line":94}},"54":{"end":{"column":17,"line":97},"start":{"column":4,"line":97}},"55":{"end":{"column":28,"line":98},"start":{"column":4,"line":98}},"56":{"end":{"column":61,"line":99},"start":{"column":4,"line":99}},"57":{"end":{"column":17,"line":102},"start":{"column":4,"line":102}},"58":{"end":{"column":28,"line":103},"start":{"column":4,"line":103}},"59":{"end":{"column":48,"line":104},"start":{"column":4,"line":104}},"60":{"end":{"column":17,"line":107},"start":{"column":4,"line":107}},"61":{"end":{"column":28,"line":108},"start":{"column":4,"line":108}},"62":{"end":{"column":49,"line":109},"start":{"column":4,"line":109}},"63":{"end":{"column":17,"line":112},"start":{"column":4,"line":112}},"64":{"end":{"column":28,"line":113},"start":{"column":4,"line":113}},"65":{"end":{"column":41,"line":114},"start":{"column":4,"line":114}},"66":{"end":{"column":17,"line":117},"start":{"column":4,"line":117}},"67":{"end":{"column":28,"line":118},"start":{"column":4,"line":118}},"68":{"end":{"column":41,"line":119},"start":{"column":4,"line":119}},"69":{"end":{"column":17,"line":122},"start":{"column":4,"line":122}},"70":{"end":{"column":28,"line":123},"start":{"column":4,"line":123}},"71":{"end":{"column":41,"line":124},"start":{"column":4,"line":124}},"72":{"end":{"column":23,"line":127},"start":{"column":4,"line":127}},"73":{"end":{"column":28,"line":128},"start":{"column":4,"line":128}},"74":{"end":{"column":58,"line":129},"start":{"column":4,"line":129}},"75":{"end":{"column":49,"line":130},"start":{"column":4,"line":130}},"76":{"end":{"column":12,"line":134},"start":{"column":0,"line":134}},"77":{"end":{"column":2,"line":168},"start":{"column":0,"line":136}},"78":{"end":{"column":24,"line":138},"start":{"column":4,"line":138}},"79":{"end":{"column":75,"line":141},"start":{"column":4,"line":141}},"80":{"end":{"column":34,"line":144},"start":{"column":4,"line":144}},"81":{"end":{"column":5,"line":147},"start":{"column":4,"line":145}},"82":{"end":{"column":13,"line":146},"start":{"column":6,"line":146}},"83":{"end":{"column":71,"line":148},"start":{"column":4,"line":148}},"84":{"end":{"column":5,"line":151},"start":{"column":4,"line":149}},"85":{"end":{"column":60,"line":150},"start":{"column":6,"line":150}},"86":{"end":{"column":39,"line":152},"start":{"column":4,"line":152}},"87":{"end":{"column":118,"line":153},"start":{"column":4,"line":153}},"88":{"end":{"column":5,"line":160},"start":{"column":4,"line":154}},"89":{"end":{"column":30,"line":155},"start":{"column":6,"line":155}},"90":{"end":{"column":33,"line":156},"start":{"column":6,"line":156}},"91":{"end":{"column":33,"line":157},"start":{"column":6,"line":157}},"92":{"end":{"column":37,"line":159},"start":{"column":6,"line":159}},"93":{"end":{"column":5,"line":165},"start":{"column":4,"line":163}},"94":{"end":{"column":13,"line":164},"start":{"column":6,"line":164}},"95":{"end":{"column":75,"line":166},"start":{"column":4,"line":166}},"96":{"end":{"column":27,"line":170},"start":{"column":0,"line":170}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":0,"16":0,"17":0,"22":0,"23":0,"24":0,"30":21,"32":0,"33":0,"34":0,"37":0,"38":0,"39":0,"42":0,"43":0,"44":0,"47":0,"48":0,"49":0,"52":0,"53":0,"54":0,"57":0,"58":0,"59":0,"62":0,"63":0,"64":0,"67":0,"68":0,"69":0,"72":0,"73":0,"74":0,"77":0,"78":0,"79":0,"82":0,"83":0,"84":0,"87":0,"88":0,"89":0,"92":0,"93":0,"94":0,"97":0,"98":0,"99":0,"102":0,"103":0,"104":0,"107":0,"108":0,"109":0,"112":0,"113":0,"114":0,"117":0,"118":0,"119":0,"122":0,"123":0,"124":0,"127":0,"128":0,"129":0,"130":0,"134":21,"136":21,"138":21,"141":0,"144":112,"145":112,"146":112,"148":0,"149":0,"150":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"159":0,"163":0,"164":0,"166":0,"170":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/conditional-rendering.coffee":{"b":{"1":[0,63],"2":[0,19],"3":[19,19,19],"4":[0,19],"5":[19,19]},"branchMap":{"1":{"line":15,"locations":[{"end":{"column":2,"line":15},"start":{"column":2,"line":15}},{"end":{"column":2,"line":15},"start":{"column":2,"line":15}}],"type":"if"},"2":{"line":26,"locations":[{"end":{"column":140,"line":26},"start":{"column":133,"line":26}},{"end":{"column":220,"line":26},"start":{"column":143,"line":26}}],"type":"cond-expr"},"3":{"line":26,"locations":[{"end":{"column":50,"line":26},"start":{"column":31,"line":26}},{"end":{"column":62,"line":26},"start":{"column":54,"line":26}},{"end":{"column":130,"line":26},"start":{"column":66,"line":26}}],"type":"binary-expr"},"4":{"line":26,"locations":[{"end":{"column":208,"line":26},"start":{"column":199,"line":26}},{"end":{"column":220,"line":26},"start":{"column":211,"line":26}}],"type":"cond-expr"},"5":{"line":26,"locations":[{"end":{"column":165,"line":26},"start":{"column":143,"line":26}},{"end":{"column":196,"line":26},"start":{"column":169,"line":26}}],"type":"binary-expr"}},"code":["var CourseStore, CurrentUserStore, Invalid, NoPeriods, React;","","React = require('react');","","CurrentUserStore = require('../flux/current-user').CurrentUserStore;","","Invalid = require('../components').Invalid;","","NoPeriods = require('../components/no-periods');","","CourseStore = require('../flux/course').CourseStore;","","module.exports = function(component, options) {","  var RouteHandler;","  if (options == null) {","    options = {};","  }","  RouteHandler = function() {};","  RouteHandler.contextTypes = {","    router: React.PropTypes.func","  };","  RouteHandler.prototype.render = function() {","    var course, courseId;","    courseId = this.context.router.getCurrentParams().courseId;","    course = CourseStore.get(courseId);","    return React.createElement(options.requireRole && courseId && options.requireRole !== CurrentUserStore.getCourseRole(courseId) ? Invalid : options.requirePeriods && course.periods.length === 0 ? NoPeriods : component);","  };","  return RouteHandler;","};",""],"f":{"1":63,"2":19,"3":19},"fnMap":{"1":{"line":13,"loc":{"end":{"column":46,"line":13},"start":{"column":17,"line":13}},"name":"(anonymous_1)"},"2":{"line":18,"loc":{"end":{"column":28,"line":18},"start":{"column":17,"line":18}},"name":"(anonymous_2)"},"3":{"line":22,"loc":{"end":{"column":45,"line":22},"start":{"column":34,"line":22}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/conditional-rendering.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":63,"9":63,"10":0,"11":63,"12":63,"13":63,"14":19,"15":19,"16":19,"17":19,"18":63},"statementMap":{"1":{"end":{"column":61,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":68,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":43,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":48,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":52,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":2,"line":29},"start":{"column":0,"line":13}},"8":{"end":{"column":19,"line":14},"start":{"column":2,"line":14}},"9":{"end":{"column":3,"line":17},"start":{"column":2,"line":15}},"10":{"end":{"column":17,"line":16},"start":{"column":4,"line":16}},"11":{"end":{"column":31,"line":18},"start":{"column":2,"line":18}},"12":{"end":{"column":4,"line":21},"start":{"column":2,"line":19}},"13":{"end":{"column":4,"line":27},"start":{"column":2,"line":22}},"14":{"end":{"column":25,"line":23},"start":{"column":4,"line":23}},"15":{"end":{"column":63,"line":24},"start":{"column":4,"line":24}},"16":{"end":{"column":39,"line":25},"start":{"column":4,"line":25}},"17":{"end":{"column":222,"line":26},"start":{"column":4,"line":26}},"18":{"end":{"column":22,"line":28},"start":{"column":2,"line":28}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"14":63,"15":63,"16":0,"18":63,"19":63,"22":63,"23":19,"24":19,"25":19,"26":19,"28":63}},
"/Users/phil/github/openstax/tutor-js/src/helpers/dom.coffee":{"b":{"1":[1,0,0,0,0],"2":[1,0],"3":[1,1],"4":[0,1],"5":[21,0],"6":[21,0]},"branchMap":{"1":{"line":4,"locations":[{"end":{"column":23,"line":4},"start":{"column":13,"line":4}},{"end":{"column":48,"line":4},"start":{"column":27,"line":4}},{"end":{"column":72,"line":4},"start":{"column":52,"line":4}},{"end":{"column":95,"line":4},"start":{"column":76,"line":4}},{"end":{"column":123,"line":4},"start":{"column":99,"line":4}}],"type":"binary-expr"},"2":{"line":5,"locations":[{"end":{"column":53,"line":5},"start":{"column":28,"line":5}},{"end":{"column":62,"line":5},"start":{"column":56,"line":5}}],"type":"cond-expr"},"3":{"line":8,"locations":[{"end":{"column":4,"line":8},"start":{"column":4,"line":8}},{"end":{"column":4,"line":8},"start":{"column":4,"line":8}}],"type":"if"},"4":{"line":11,"locations":[{"end":{"column":4,"line":11},"start":{"column":4,"line":11}},{"end":{"column":4,"line":11},"start":{"column":4,"line":11}}],"type":"if"},"5":{"line":19,"locations":[{"end":{"column":4,"line":19},"start":{"column":4,"line":19}},{"end":{"column":4,"line":19},"start":{"column":4,"line":19}}],"type":"if"},"6":{"line":23,"locations":[{"end":{"column":4,"line":23},"start":{"column":4,"line":23}},{"end":{"column":4,"line":23},"start":{"column":4,"line":23}}],"type":"if"}},"code":["module.exports = {","  matches: function(el, selector) {","    var method;","    method = el.matches || el.mozMatchesSelector || el.msMatchesSelector || el.oMatchesSelector || el.webkitMatchesSelector;","    return method != null ? method.call(el, selector) : void 0;","  },","  closest: function(el, selector) {","    if (!el) {","      return null;","    }","    if (this.matches(el, selector)) {","      return el;","    } else {","      return this.closest(el.parentNode, selector);","    }","  },","  readBootstrapData: function(root) {","    var el;","    if (root == null) {","      root = document;","    }","    el = root.querySelector('#tutor-boostrap-data');","    if (el) {","      el.parentNode.removeChild(el);","      return JSON.parse(el.textContent);","    } else {","      return {};","    }","  }","};",""],"f":{"1":1,"2":2,"3":21},"fnMap":{"1":{"line":2,"loc":{"end":{"column":34,"line":2},"start":{"column":11,"line":2}},"name":"(anonymous_1)"},"2":{"line":7,"loc":{"end":{"column":34,"line":7},"start":{"column":11,"line":7}},"name":"(anonymous_2)"},"3":{"line":17,"loc":{"end":{"column":36,"line":17},"start":{"column":21,"line":17}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/dom.coffee","s":{"1":21,"2":1,"3":1,"4":1,"5":2,"6":1,"7":1,"8":0,"9":1,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":0},"statementMap":{"1":{"end":{"column":2,"line":30},"start":{"column":0,"line":1}},"2":{"end":{"column":15,"line":3},"start":{"column":4,"line":3}},"3":{"end":{"column":124,"line":4},"start":{"column":4,"line":4}},"4":{"end":{"column":63,"line":5},"start":{"column":4,"line":5}},"5":{"end":{"column":5,"line":10},"start":{"column":4,"line":8}},"6":{"end":{"column":18,"line":9},"start":{"column":6,"line":9}},"7":{"end":{"column":5,"line":15},"start":{"column":4,"line":11}},"8":{"end":{"column":16,"line":12},"start":{"column":6,"line":12}},"9":{"end":{"column":51,"line":14},"start":{"column":6,"line":14}},"10":{"end":{"column":11,"line":18},"start":{"column":4,"line":18}},"11":{"end":{"column":5,"line":21},"start":{"column":4,"line":19}},"12":{"end":{"column":22,"line":20},"start":{"column":6,"line":20}},"13":{"end":{"column":52,"line":22},"start":{"column":4,"line":22}},"14":{"end":{"column":5,"line":28},"start":{"column":4,"line":23}},"15":{"end":{"column":36,"line":24},"start":{"column":6,"line":24}},"16":{"end":{"column":40,"line":25},"start":{"column":6,"line":25}},"17":{"end":{"column":16,"line":27},"start":{"column":6,"line":27}}},"l":{"1":21,"3":1,"4":1,"5":1,"8":2,"9":1,"11":1,"12":0,"14":1,"18":21,"19":21,"20":21,"22":21,"23":21,"24":21,"25":21,"27":0}},
"/Users/phil/github/openstax/tutor-js/src/helpers/durations.coffee":{"b":{},"branchMap":{},"code":["var TimeStore, _, moment, twix;","","moment = require('moment');","","twix = require('twix');","","_ = require('underscore');","","TimeStore = require('../flux/time').TimeStore;","","module.exports = {","  create: function(startTime, endTime) {","    return moment(startTime).twix(endTime);","  },","  isPastDue: function(arg) {","    var due_at;","    due_at = arg.due_at;","    return moment(TimeStore.getNow()).isAfter(due_at);","  }","};",""],"f":{"1":0,"2":28},"fnMap":{"1":{"line":12,"loc":{"end":{"column":39,"line":12},"start":{"column":10,"line":12}},"name":"(anonymous_1)"},"2":{"line":15,"loc":{"end":{"column":27,"line":15},"start":{"column":13,"line":15}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/durations.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":0,"8":28,"9":28,"10":28},"statementMap":{"1":{"end":{"column":31,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":27,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":23,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":26,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":46,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":20},"start":{"column":0,"line":11}},"7":{"end":{"column":43,"line":13},"start":{"column":4,"line":13}},"8":{"end":{"column":15,"line":16},"start":{"column":4,"line":16}},"9":{"end":{"column":24,"line":17},"start":{"column":4,"line":17}},"10":{"end":{"column":54,"line":18},"start":{"column":4,"line":18}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":0,"16":28,"17":28,"18":28}},
"/Users/phil/github/openstax/tutor-js/src/helpers/job.coffee":{"b":{"1":[1,0],"2":[1,0],"3":[0,0],"4":[1,0],"5":[0,2],"6":[2,2],"7":[0,2],"8":[0,2],"9":[0,0],"10":[1,0],"11":[1,0]},"branchMap":{"1":{"line":49,"locations":[{"end":{"column":6,"line":49},"start":{"column":6,"line":49}},{"end":{"column":6,"line":49},"start":{"column":6,"line":49}}],"type":"if"},"2":{"line":60,"locations":[{"end":{"column":6,"line":60},"start":{"column":6,"line":60}},{"end":{"column":6,"line":60},"start":{"column":6,"line":60}}],"type":"if"},"3":{"line":64,"locations":[{"end":{"column":19,"line":64},"start":{"column":13,"line":64}},{"end":{"column":25,"line":64},"start":{"column":23,"line":64}}],"type":"binary-expr"},"4":{"line":66,"locations":[{"end":{"column":6,"line":66},"start":{"column":6,"line":66}},{"end":{"column":6,"line":66},"start":{"column":6,"line":66}}],"type":"if"},"5":{"line":78,"locations":[{"end":{"column":6,"line":78},"start":{"column":6,"line":78}},{"end":{"column":6,"line":78},"start":{"column":6,"line":78}}],"type":"if"},"6":{"line":78,"locations":[{"end":{"column":24,"line":78},"start":{"column":11,"line":78}},{"end":{"column":49,"line":78},"start":{"column":29,"line":78}}],"type":"binary-expr"},"7":{"line":81,"locations":[{"end":{"column":6,"line":81},"start":{"column":6,"line":81}},{"end":{"column":6,"line":81},"start":{"column":6,"line":81}}],"type":"if"},"8":{"line":84,"locations":[{"end":{"column":6,"line":84},"start":{"column":6,"line":84}},{"end":{"column":6,"line":84},"start":{"column":6,"line":84}}],"type":"if"},"9":{"line":98,"locations":[{"end":{"column":6,"line":98},"start":{"column":6,"line":98}},{"end":{"column":6,"line":98},"start":{"column":6,"line":98}}],"type":"if"},"10":{"line":129,"locations":[{"end":{"column":8,"line":129},"start":{"column":8,"line":129}},{"end":{"column":8,"line":129},"start":{"column":8,"line":129}}],"type":"if"},"11":{"line":133,"locations":[{"end":{"column":8,"line":133},"start":{"column":8,"line":133}},{"end":{"column":8,"line":133},"start":{"column":8,"line":133}}],"type":"if"}},"code":["var JOBBED, JOB_FAILED, JOB_KILLED, JOB_QUEUED, JOB_REQUESTED, JOB_REQUESTING, JOB_STARTED, JOB_UNKNOWN, JOB_UNSTARTED, JobActions, JobHelper, JobListenerConfig, JobStore, _, moment, ref;","","ref = require('../flux/job'), JobActions = ref.JobActions, JobStore = ref.JobStore;","","_ = require('underscore');","","moment = require('moment');","","JOB_REQUESTING = 'job_requesting';","","JOB_REQUESTED = 'job_queued';","","JOB_UNSTARTED = 'unqueued';","","JOB_QUEUED = 'queued';","","JOB_STARTED = 'started';","","JOBBED = 'succeeded';","","JOB_FAILED = 'failed';","","JOB_KILLED = 'killed';","","JOB_UNKNOWN = 'unknown';","","JobListenerConfig = function(checkIntervals, checkRepeats) {","  return {","    _asyncStatus: {},","    _job: {},","    reset: function() {","      this._asyncStatus = {};","      this._job = {};","      return this.emitChange();","    },","    _updateJobStatusFor: function(id) {","      return (function(_this) {","        return function(jobData) {","          var progress;","          progress = _.clone(jobData);","          progress[\"for\"] = id;","          _this._asyncStatus[id] = progress.status;","          return _this.emit(\"progress.\" + id + \".\" + progress.status, progress);","        };","      })(this);","    },","    saveJob: function(jobId, id) {","      var base;","      if ((base = this._job)[id] == null) {","        base[id] = [];","      }","      return this._job[id].push(jobId);","    },","    que: function(id) {","      this._asyncStatus[id] = JOB_REQUESTING;","      return this.emit(\"progress.\" + id + \".\" + JOB_REQUESTING);","    },","    queued: function(obj, id) {","      var jobId, ref1;","      if (this._getIds != null) {","        ref1 = this._getIds(obj), jobId = ref1.jobId, id = ref1.id;","      } else {","        jobId = obj.jobId;","        id = obj.id || id;","      }","      if (jobId != null) {","        this.emit(\"progress.\" + id + \".queued\", {","          jobId: jobId,","          id: id","        });","        this._asyncStatus[id] = JOB_REQUESTED;","        return this.saveJob(jobId, id);","      }","    },","    startChecking: function(id, jobId) {","      var checkJob, lastestJob, updateJobStatus;","      lastestJob = this._getLatestJob(id);","      if ((jobId != null) && jobId !== lastestJob) {","        this.saveJob(jobId, id);","      }","      if (jobId == null) {","        jobId = lastestJob;","      }","      if (jobId == null) {","        return;","      }","      checkJob = function() {","        return JobActions.load(jobId);","      };","      JobActions.checkUntil(jobId, checkJob, checkIntervals, checkRepeats);","      updateJobStatus = this._updateJobStatusFor(id);","      JobStore.on(\"job.\" + jobId + \".*\", updateJobStatus);","      return JobStore.off(\"job.\" + jobId + \".final\", updateJobStatus);","    },","    stopChecking: function(id) {","      var jobId;","      jobId = this._getLatestJob(id);","      if (jobId != null) {","        return JobActions.stopChecking(jobId);","      }","    },","    _getJobs: function(id) {","      return _.clone(this._job[id]);","    },","    _getLatestJob: function(id) {","      return _.last(this._getJobs(id));","    },","    exports: {","      getAsyncStatus: function(id) {","        return this._asyncStatus[id];","      },","      isProgressing: function(id) {","        var jobbingStates;","        jobbingStates = [JOB_REQUESTING, JOB_REQUESTED, JOB_QUEUED, JOB_STARTED];","        return jobbingStates.indexOf(this._asyncStatus[id]) > -1;","      },","      isFailed: function(id) {","        var failedStates;","        failedStates = [JOB_FAILED, JOB_KILLED];","        return failedStates.indexOf(this._asyncStatus[id]) > -1;","      },","      isDone: function(id) {","        var doneStates;","        doneStates = [JOBBED, JOB_FAILED, JOB_KILLED];","        return doneStates.indexOf(this._asyncStatus[id]) > -1;","      },","      isSucceeded: function(id, jobId) {","        var job, status;","        if (jobId == null) {","          jobId = _.last(this._getJobs(id));","        }","        job = JobStore.get(jobId);","        if (job != null) {","          status = job.status;","        }","        return status === JOBBED;","      }","    }","  };","};","","JobHelper = {","  JobListenerConfig: JobListenerConfig","};","","module.exports = JobHelper;",""],"f":{"1":42,"2":0,"3":2,"4":2,"5":1,"6":1,"7":0,"8":1,"9":2,"10":2,"11":0,"12":3,"13":2,"14":262,"15":465,"16":75,"17":1,"18":1},"fnMap":{"1":{"line":27,"loc":{"end":{"column":59,"line":27},"start":{"column":20,"line":27}},"name":"(anonymous_1)"},"2":{"line":31,"loc":{"end":{"column":22,"line":31},"start":{"column":11,"line":31}},"name":"(anonymous_2)"},"3":{"line":36,"loc":{"end":{"column":38,"line":36},"start":{"column":25,"line":36}},"name":"(anonymous_3)"},"4":{"line":37,"loc":{"end":{"column":30,"line":37},"start":{"column":14,"line":37}},"name":"(anonymous_4)"},"5":{"line":38,"loc":{"end":{"column":33,"line":38},"start":{"column":15,"line":38}},"name":"(anonymous_5)"},"6":{"line":47,"loc":{"end":{"column":33,"line":47},"start":{"column":13,"line":47}},"name":"(anonymous_6)"},"7":{"line":54,"loc":{"end":{"column":22,"line":54},"start":{"column":9,"line":54}},"name":"(anonymous_7)"},"8":{"line":58,"loc":{"end":{"column":30,"line":58},"start":{"column":12,"line":58}},"name":"(anonymous_8)"},"9":{"line":75,"loc":{"end":{"column":39,"line":75},"start":{"column":19,"line":75}},"name":"(anonymous_9)"},"10":{"line":87,"loc":{"end":{"column":28,"line":87},"start":{"column":17,"line":87}},"name":"(anonymous_10)"},"11":{"line":95,"loc":{"end":{"column":31,"line":95},"start":{"column":18,"line":95}},"name":"(anonymous_11)"},"12":{"line":102,"loc":{"end":{"column":27,"line":102},"start":{"column":14,"line":102}},"name":"(anonymous_12)"},"13":{"line":105,"loc":{"end":{"column":32,"line":105},"start":{"column":19,"line":105}},"name":"(anonymous_13)"},"14":{"line":109,"loc":{"end":{"column":35,"line":109},"start":{"column":22,"line":109}},"name":"(anonymous_14)"},"15":{"line":112,"loc":{"end":{"column":34,"line":112},"start":{"column":21,"line":112}},"name":"(anonymous_15)"},"16":{"line":117,"loc":{"end":{"column":29,"line":117},"start":{"column":16,"line":117}},"name":"(anonymous_16)"},"17":{"line":122,"loc":{"end":{"column":27,"line":122},"start":{"column":14,"line":122}},"name":"(anonymous_17)"},"18":{"line":127,"loc":{"end":{"column":39,"line":127},"start":{"column":19,"line":127}},"name":"(anonymous_18)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/job.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":42,"16":0,"17":0,"18":0,"19":2,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":0,"36":0,"37":1,"38":1,"39":1,"40":1,"41":2,"42":2,"43":2,"44":0,"45":2,"46":0,"47":2,"48":0,"49":2,"50":2,"51":2,"52":2,"53":2,"54":2,"55":0,"56":0,"57":0,"58":0,"59":3,"60":2,"61":262,"62":465,"63":465,"64":465,"65":75,"66":75,"67":75,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":21,"79":21},"statementMap":{"1":{"end":{"column":187,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":83,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":27,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":34,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":29,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":27,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":22,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":24,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":21,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":22,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":22,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":24,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":2,"line":140},"start":{"column":0,"line":27}},"15":{"end":{"column":4,"line":139},"start":{"column":2,"line":28}},"16":{"end":{"column":29,"line":32},"start":{"column":6,"line":32}},"17":{"end":{"column":21,"line":33},"start":{"column":6,"line":33}},"18":{"end":{"column":31,"line":34},"start":{"column":6,"line":34}},"19":{"end":{"column":15,"line":45},"start":{"column":6,"line":37}},"20":{"end":{"column":10,"line":44},"start":{"column":8,"line":38}},"21":{"end":{"column":23,"line":39},"start":{"column":10,"line":39}},"22":{"end":{"column":38,"line":40},"start":{"column":10,"line":40}},"23":{"end":{"column":31,"line":41},"start":{"column":10,"line":41}},"24":{"end":{"column":51,"line":42},"start":{"column":10,"line":42}},"25":{"end":{"column":80,"line":43},"start":{"column":10,"line":43}},"26":{"end":{"column":15,"line":48},"start":{"column":6,"line":48}},"27":{"end":{"column":7,"line":51},"start":{"column":6,"line":49}},"28":{"end":{"column":22,"line":50},"start":{"column":8,"line":50}},"29":{"end":{"column":39,"line":52},"start":{"column":6,"line":52}},"30":{"end":{"column":45,"line":55},"start":{"column":6,"line":55}},"31":{"end":{"column":64,"line":56},"start":{"column":6,"line":56}},"32":{"end":{"column":22,"line":59},"start":{"column":6,"line":59}},"33":{"end":{"column":7,"line":65},"start":{"column":6,"line":60}},"34":{"end":{"column":67,"line":61},"start":{"column":8,"line":61}},"35":{"end":{"column":26,"line":63},"start":{"column":8,"line":63}},"36":{"end":{"column":26,"line":64},"start":{"column":8,"line":64}},"37":{"end":{"column":7,"line":73},"start":{"column":6,"line":66}},"38":{"end":{"column":11,"line":70},"start":{"column":8,"line":67}},"39":{"end":{"column":46,"line":71},"start":{"column":8,"line":71}},"40":{"end":{"column":39,"line":72},"start":{"column":8,"line":72}},"41":{"end":{"column":48,"line":76},"start":{"column":6,"line":76}},"42":{"end":{"column":42,"line":77},"start":{"column":6,"line":77}},"43":{"end":{"column":7,"line":80},"start":{"column":6,"line":78}},"44":{"end":{"column":32,"line":79},"start":{"column":8,"line":79}},"45":{"end":{"column":7,"line":83},"start":{"column":6,"line":81}},"46":{"end":{"column":27,"line":82},"start":{"column":8,"line":82}},"47":{"end":{"column":7,"line":86},"start":{"column":6,"line":84}},"48":{"end":{"column":15,"line":85},"start":{"column":8,"line":85}},"49":{"end":{"column":8,"line":89},"start":{"column":6,"line":87}},"50":{"end":{"column":38,"line":88},"start":{"column":8,"line":88}},"51":{"end":{"column":75,"line":90},"start":{"column":6,"line":90}},"52":{"end":{"column":53,"line":91},"start":{"column":6,"line":91}},"53":{"end":{"column":58,"line":92},"start":{"column":6,"line":92}},"54":{"end":{"column":70,"line":93},"start":{"column":6,"line":93}},"55":{"end":{"column":16,"line":96},"start":{"column":6,"line":96}},"56":{"end":{"column":37,"line":97},"start":{"column":6,"line":97}},"57":{"end":{"column":7,"line":100},"start":{"column":6,"line":98}},"58":{"end":{"column":46,"line":99},"start":{"column":8,"line":99}},"59":{"end":{"column":36,"line":103},"start":{"column":6,"line":103}},"60":{"end":{"column":39,"line":106},"start":{"column":6,"line":106}},"61":{"end":{"column":37,"line":110},"start":{"column":8,"line":110}},"62":{"end":{"column":26,"line":113},"start":{"column":8,"line":113}},"63":{"end":{"column":81,"line":114},"start":{"column":8,"line":114}},"64":{"end":{"column":65,"line":115},"start":{"column":8,"line":115}},"65":{"end":{"column":25,"line":118},"start":{"column":8,"line":118}},"66":{"end":{"column":48,"line":119},"start":{"column":8,"line":119}},"67":{"end":{"column":64,"line":120},"start":{"column":8,"line":120}},"68":{"end":{"column":23,"line":123},"start":{"column":8,"line":123}},"69":{"end":{"column":54,"line":124},"start":{"column":8,"line":124}},"70":{"end":{"column":62,"line":125},"start":{"column":8,"line":125}},"71":{"end":{"column":24,"line":128},"start":{"column":8,"line":128}},"72":{"end":{"column":9,"line":131},"start":{"column":8,"line":129}},"73":{"end":{"column":44,"line":130},"start":{"column":10,"line":130}},"74":{"end":{"column":34,"line":132},"start":{"column":8,"line":132}},"75":{"end":{"column":9,"line":135},"start":{"column":8,"line":133}},"76":{"end":{"column":30,"line":134},"start":{"column":10,"line":134}},"77":{"end":{"column":33,"line":136},"start":{"column":8,"line":136}},"78":{"end":{"column":2,"line":144},"start":{"column":0,"line":142}},"79":{"end":{"column":27,"line":146},"start":{"column":0,"line":146}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"28":42,"32":0,"33":0,"34":0,"37":2,"38":2,"39":1,"40":1,"41":1,"42":1,"43":1,"48":1,"49":1,"50":1,"52":1,"55":0,"56":0,"59":1,"60":1,"61":1,"63":0,"64":0,"66":1,"67":1,"71":1,"72":1,"76":2,"77":2,"78":2,"79":0,"81":2,"82":0,"84":2,"85":0,"87":2,"88":2,"90":2,"91":2,"92":2,"93":2,"96":0,"97":0,"98":0,"99":0,"103":3,"106":2,"110":262,"113":465,"114":465,"115":465,"118":75,"119":75,"120":75,"123":1,"124":1,"125":1,"128":1,"129":1,"130":1,"132":1,"133":1,"134":1,"136":1,"142":21,"146":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/period.coffee":{"b":{"1":[606,0],"2":[606,0],"3":[606,0],"4":[606,0]},"branchMap":{"1":{"line":15,"locations":[{"end":{"column":6,"line":15},"start":{"column":6,"line":15}},{"end":{"column":6,"line":15},"start":{"column":6,"line":15}}],"type":"if"},"2":{"line":17,"locations":[{"end":{"column":8,"line":17},"start":{"column":8,"line":17}},{"end":{"column":8,"line":17},"start":{"column":8,"line":17}}],"type":"if"},"3":{"line":23,"locations":[{"end":{"column":6,"line":23},"start":{"column":6,"line":23}},{"end":{"column":6,"line":23},"start":{"column":6,"line":23}}],"type":"if"},"4":{"line":25,"locations":[{"end":{"column":8,"line":25},"start":{"column":8,"line":25}},{"end":{"column":8,"line":25},"start":{"column":8,"line":25}}],"type":"if"}},"code":["var PeriodHelper, S, _;","","S = require('./string');","","_ = require('underscore');","","PeriodHelper = {","  getOrder: function(period) {","    return S.getNumberAndStringOrder(period.name);","  },","  sort: function(periods) {","    var firstSortPeriod;","    return firstSortPeriod = _.chain(periods).sortBy(function(period) {","      var name;","      if (!_.isNumber(period.name)) {","        name = period.name.match(/[^0-9]+/ig);","        if (name) {","          return name;","        }","      }","    }).sortBy(function(period) {","      var number;","      if (!_.isNumber(period.name)) {","        number = period.name.match(/[0-9.-]+/g);","        if (number) {","          return parseFloat(number);","        }","      } else {","        return period.name;","      }","    }).value();","  }","};","","module.exports = PeriodHelper;",""],"f":{"1":0,"2":223,"3":606,"4":606},"fnMap":{"1":{"line":8,"loc":{"end":{"column":29,"line":8},"start":{"column":12,"line":8}},"name":"(anonymous_1)"},"2":{"line":11,"loc":{"end":{"column":26,"line":11},"start":{"column":8,"line":11}},"name":"(anonymous_2)"},"3":{"line":13,"loc":{"end":{"column":70,"line":13},"start":{"column":53,"line":13}},"name":"(anonymous_3)"},"4":{"line":21,"loc":{"end":{"column":31,"line":21},"start":{"column":14,"line":21}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/period.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":0,"6":223,"7":223,"8":606,"9":606,"10":606,"11":606,"12":606,"13":606,"14":606,"15":606,"16":606,"17":606,"18":0,"19":21},"statementMap":{"1":{"end":{"column":23,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":24,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":33},"start":{"column":0,"line":7}},"5":{"end":{"column":50,"line":9},"start":{"column":4,"line":9}},"6":{"end":{"column":24,"line":12},"start":{"column":4,"line":12}},"7":{"end":{"column":15,"line":31},"start":{"column":4,"line":13}},"8":{"end":{"column":15,"line":14},"start":{"column":6,"line":14}},"9":{"end":{"column":7,"line":20},"start":{"column":6,"line":15}},"10":{"end":{"column":46,"line":16},"start":{"column":8,"line":16}},"11":{"end":{"column":9,"line":19},"start":{"column":8,"line":17}},"12":{"end":{"column":22,"line":18},"start":{"column":10,"line":18}},"13":{"end":{"column":17,"line":22},"start":{"column":6,"line":22}},"14":{"end":{"column":7,"line":30},"start":{"column":6,"line":23}},"15":{"end":{"column":48,"line":24},"start":{"column":8,"line":24}},"16":{"end":{"column":9,"line":27},"start":{"column":8,"line":25}},"17":{"end":{"column":36,"line":26},"start":{"column":10,"line":26}},"18":{"end":{"column":27,"line":29},"start":{"column":8,"line":29}},"19":{"end":{"column":30,"line":35},"start":{"column":0,"line":35}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":0,"12":223,"13":223,"14":606,"15":606,"16":606,"17":606,"18":606,"22":606,"23":606,"24":606,"25":606,"26":606,"29":0,"35":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/plan.coffee":{"b":{"1":[94,152],"2":[246,239,20],"3":[3,243],"4":[246,225],"5":[222,21],"6":[243,222],"7":[1,20],"8":[1,1],"9":[0,94],"10":[94,1,1],"11":[0,0],"12":[94,93],"13":[2,92],"14":[2,0],"15":[2,2]},"branchMap":{"1":{"line":14,"locations":[{"end":{"column":4,"line":14},"start":{"column":4,"line":14}},{"end":{"column":4,"line":14},"start":{"column":4,"line":14}}],"type":"if"},"2":{"line":17,"locations":[{"end":{"column":54,"line":17},"start":{"column":21,"line":17}},{"end":{"column":84,"line":17},"start":{"column":59,"line":17}},{"end":{"column":128,"line":17},"start":{"column":90,"line":17}}],"type":"binary-expr"},"3":{"line":18,"locations":[{"end":{"column":4,"line":18},"start":{"column":4,"line":18}},{"end":{"column":4,"line":18},"start":{"column":4,"line":18}}],"type":"if"},"4":{"line":18,"locations":[{"end":{"column":34,"line":18},"start":{"column":9,"line":18}},{"end":{"column":78,"line":18},"start":{"column":40,"line":18}}],"type":"binary-expr"},"5":{"line":20,"locations":[{"end":{"column":11,"line":20},"start":{"column":11,"line":20}},{"end":{"column":11,"line":20},"start":{"column":11,"line":20}}],"type":"if"},"6":{"line":20,"locations":[{"end":{"column":41,"line":20},"start":{"column":16,"line":20}},{"end":{"column":85,"line":20},"start":{"column":47,"line":20}}],"type":"binary-expr"},"7":{"line":22,"locations":[{"end":{"column":11,"line":22},"start":{"column":11,"line":22}},{"end":{"column":11,"line":22},"start":{"column":11,"line":22}}],"type":"if"},"8":{"line":24,"locations":[{"end":{"column":33,"line":24},"start":{"column":21,"line":24}},{"end":{"column":43,"line":24},"start":{"column":37,"line":24}}],"type":"binary-expr"},"9":{"line":34,"locations":[{"end":{"column":4,"line":34},"start":{"column":4,"line":34}},{"end":{"column":4,"line":34},"start":{"column":4,"line":34}}],"type":"if"},"10":{"line":34,"locations":[{"end":{"column":20,"line":34},"start":{"column":8,"line":34}},{"end":{"column":44,"line":34},"start":{"column":24,"line":34}},{"end":{"column":81,"line":34},"start":{"column":48,"line":34}}],"type":"binary-expr"},"11":{"line":35,"locations":[{"end":{"column":6,"line":35},"start":{"column":6,"line":35}},{"end":{"column":6,"line":35},"start":{"column":6,"line":35}}],"type":"if"},"12":{"line":42,"locations":[{"end":{"column":31,"line":42},"start":{"column":19,"line":42}},{"end":{"column":54,"line":42},"start":{"column":35,"line":42}}],"type":"binary-expr"},"13":{"line":43,"locations":[{"end":{"column":4,"line":43},"start":{"column":4,"line":43}},{"end":{"column":4,"line":43},"start":{"column":4,"line":43}}],"type":"if"},"14":{"line":45,"locations":[{"end":{"column":6,"line":45},"start":{"column":6,"line":45}},{"end":{"column":6,"line":45},"start":{"column":6,"line":45}}],"type":"if"},"15":{"line":45,"locations":[{"end":{"column":27,"line":45},"start":{"column":11,"line":45}},{"end":{"column":54,"line":45},"start":{"column":32,"line":45}}],"type":"binary-expr"}},"code":["var PlanHelper, PlanPublishActions, PlanPublishStore, TimeActions, TimeStore, _, moment, ref, ref1;","","moment = require('moment');","","_ = require('underscore');","","ref = require('../flux/plan-publish'), PlanPublishStore = ref.PlanPublishStore, PlanPublishActions = ref.PlanPublishActions;","","ref1 = require('../flux/time'), TimeStore = ref1.TimeStore, TimeActions = ref1.TimeActions;","","PlanHelper = {","  isPublishing: function(plan, recentTolerance) {","    var isPublishing, recent;","    if (recentTolerance == null) {","      recentTolerance = 3600000;","    }","    isPublishing = ((plan.is_publish_requested != null) && plan.is_publish_requested) || (plan.publish_last_requested_at != null);","    if ((plan.published_at != null) && (plan.publish_last_requested_at != null)) {","      isPublishing = moment(plan.publish_last_requested_at).diff(plan.published_at) > 0;","    } else if ((plan.published_at != null) && (plan.publish_last_requested_at == null)) {","      isPublishing = false;","    } else if (plan.publish_last_requested_at != null) {","      recent = moment(TimeStore.getNow()).diff(plan.publish_last_requested_at) < recentTolerance;","      isPublishing = isPublishing && recent;","    }","    return isPublishing;","  },","  subscribeToPublishing: function(plan, callback) {","    var id, isPublishing, isPublishingInStore, publishStatus, publish_job_uuid;","    id = plan.id, publish_job_uuid = plan.publish_job_uuid;","    isPublishing = PlanHelper.isPublishing(plan);","    publishStatus = PlanPublishStore.getAsyncStatus(id);","    isPublishingInStore = PlanPublishStore.isPublishing(id);","    if (isPublishing && !isPublishingInStore && !PlanPublishStore.isPublished(id)) {","      if (publish_job_uuid != null) {","        PlanPublishActions.queued({","          id: id,","          publish_job_uuid: publish_job_uuid","        });","      }","    }","    isPublishing = isPublishing || isPublishingInStore;","    if (isPublishing) {","      PlanPublishActions.startChecking(id, publish_job_uuid);","      if ((callback != null) && _.isFunction(callback)) {","        PlanPublishStore.on(\"progress.\" + id + \".*\", callback);","      }","    }","    return {","      isPublishing: isPublishing,","      publishStatus: publishStatus","    };","  }","};","","module.exports = PlanHelper;",""],"f":{"1":246,"2":94},"fnMap":{"1":{"line":12,"loc":{"end":{"column":48,"line":12},"start":{"column":16,"line":12}},"name":"(anonymous_1)"},"2":{"line":28,"loc":{"end":{"column":50,"line":28},"start":{"column":25,"line":28}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/plan.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":246,"8":246,"9":94,"10":246,"11":246,"12":3,"13":243,"14":222,"15":21,"16":1,"17":1,"18":246,"19":94,"20":94,"21":94,"22":94,"23":94,"24":94,"25":0,"26":0,"27":94,"28":94,"29":2,"30":2,"31":2,"32":94,"33":21},"statementMap":{"1":{"end":{"column":99,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":27,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":124,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":91,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":2,"line":54},"start":{"column":0,"line":11}},"7":{"end":{"column":29,"line":13},"start":{"column":4,"line":13}},"8":{"end":{"column":5,"line":16},"start":{"column":4,"line":14}},"9":{"end":{"column":32,"line":15},"start":{"column":6,"line":15}},"10":{"end":{"column":130,"line":17},"start":{"column":4,"line":17}},"11":{"end":{"column":5,"line":25},"start":{"column":4,"line":18}},"12":{"end":{"column":88,"line":19},"start":{"column":6,"line":19}},"13":{"end":{"column":5,"line":25},"start":{"column":11,"line":20}},"14":{"end":{"column":27,"line":21},"start":{"column":6,"line":21}},"15":{"end":{"column":5,"line":25},"start":{"column":11,"line":22}},"16":{"end":{"column":97,"line":23},"start":{"column":6,"line":23}},"17":{"end":{"column":44,"line":24},"start":{"column":6,"line":24}},"18":{"end":{"column":24,"line":26},"start":{"column":4,"line":26}},"19":{"end":{"column":79,"line":29},"start":{"column":4,"line":29}},"20":{"end":{"column":59,"line":30},"start":{"column":4,"line":30}},"21":{"end":{"column":49,"line":31},"start":{"column":4,"line":31}},"22":{"end":{"column":56,"line":32},"start":{"column":4,"line":32}},"23":{"end":{"column":60,"line":33},"start":{"column":4,"line":33}},"24":{"end":{"column":5,"line":41},"start":{"column":4,"line":34}},"25":{"end":{"column":7,"line":40},"start":{"column":6,"line":35}},"26":{"end":{"column":11,"line":39},"start":{"column":8,"line":36}},"27":{"end":{"column":55,"line":42},"start":{"column":4,"line":42}},"28":{"end":{"column":5,"line":48},"start":{"column":4,"line":43}},"29":{"end":{"column":61,"line":44},"start":{"column":6,"line":44}},"30":{"end":{"column":7,"line":47},"start":{"column":6,"line":45}},"31":{"end":{"column":63,"line":46},"start":{"column":8,"line":46}},"32":{"end":{"column":6,"line":52},"start":{"column":4,"line":49}},"33":{"end":{"column":28,"line":56},"start":{"column":0,"line":56}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":246,"14":246,"15":94,"17":246,"18":246,"19":3,"20":243,"21":222,"22":21,"23":1,"24":1,"26":246,"29":94,"30":94,"31":94,"32":94,"33":94,"34":94,"35":0,"36":0,"42":94,"43":94,"44":2,"45":2,"46":2,"49":94,"56":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/policies/index.coffee":{"b":{"1":[0,63],"2":[0,63],"3":[0,6],"4":[6,3],"5":[6,6]},"branchMap":{"1":{"line":26,"locations":[{"end":{"column":2,"line":26},"start":{"column":2,"line":26}},{"end":{"column":2,"line":26},"start":{"column":2,"line":26}}],"type":"if"},"2":{"line":30,"locations":[{"end":{"column":2,"line":30},"start":{"column":2,"line":30}},{"end":{"column":2,"line":30},"start":{"column":2,"line":30}}],"type":"if"},"3":{"line":76,"locations":[{"end":{"column":4,"line":76},"start":{"column":4,"line":76}},{"end":{"column":4,"line":76},"start":{"column":4,"line":76}}],"type":"if"},"4":{"line":80,"locations":[{"end":{"column":48,"line":80},"start":{"column":25,"line":80}},{"end":{"column":84,"line":80},"start":{"column":54,"line":80}}],"type":"binary-expr"},"5":{"line":81,"locations":[{"end":{"column":32,"line":81},"start":{"column":11,"line":81}},{"end":{"column":54,"line":81},"start":{"column":36,"line":81}}],"type":"binary-expr"}},"code":["var StepPanel, TaskStepStore, TaskStore, _, defaultStep, defaultTask, flux, getPanelsWithStatus, getTaskStepPanels, moment, utils;","","_ = require('underscore');","","moment = require('moment');","","flux = require('flux-react');","","TaskStepStore = require('../../flux/task-step').TaskStepStore;","","TaskStore = require('../../flux/task').TaskStore;","","utils = require('./utils');","","defaultTask = {","  type: 'default'","};","","defaultStep = {","  type: 'placeholder'","};","","getTaskStepPanels = function(stepId) {","  var panels, step, task;","  step = TaskStepStore.get(stepId);","  if (step == null) {","    step = defaultStep;","  }","  task = TaskStore.get(step.task_id);","  if (task == null) {","    task = defaultTask;","  }","  panels = utils._getPanels(task, step);","  return {","    panels: panels,","    step: step,","    task: task","  };","};","","getPanelsWithStatus = function(stepId) {","  var panels, panelsWithStatus, ref, step, task;","  ref = getTaskStepPanels(stepId), task = ref.task, step = ref.step, panels = ref.panels;","  return panelsWithStatus = utils._arePanelsPassed(task, step, panels);","};","","StepPanel = {","  getPanelsWithStatus: getPanelsWithStatus,","  getPanel: function(stepId) {","    var panel, panelsWithStatus;","    panelsWithStatus = getPanelsWithStatus(stepId);","    panel = utils._getPanel(panelsWithStatus);","    return panel.name;","  },","  getRemainingActions: function(stepId) {","    var panelsWithStatus, remainingPanels;","    panelsWithStatus = getPanelsWithStatus(stepId);","    remainingPanels = _.where(panelsWithStatus, {","      passed: false","    });","    return _.chain(remainingPanels).pluck('actions').flatten().value();","  },","  canReview: function(stepId) {","    var panels;","    panels = getTaskStepPanels(stepId).panels;","    return utils._canReview(panels);","  },","  canWrite: function(stepId) {","    var panels;","    panels = getTaskStepPanels(stepId).panels;","    return utils._canWrite(panels);","  },","  canContinue: function(stepId) {","    var isMostCurrentStep, mostCurrentStep, step;","    step = TaskStepStore.get(stepId);","    if (step == null) {","      return true;","    }","    mostCurrentStep = TaskStore.getCurrentStep(step.task_id);","    isMostCurrentStep = (mostCurrentStep != null) && (step.id === mostCurrentStep.id);","    return this.canWrite(stepId) || !isMostCurrentStep;","  }","};","","module.exports = {","  StepPanel: StepPanel","};",""],"f":{"1":63,"2":17,"3":17,"4":0,"5":40,"6":6,"7":6},"fnMap":{"1":{"line":23,"loc":{"end":{"column":37,"line":23},"start":{"column":20,"line":23}},"name":"(anonymous_1)"},"2":{"line":41,"loc":{"end":{"column":39,"line":41},"start":{"column":22,"line":41}},"name":"(anonymous_2)"},"3":{"line":49,"loc":{"end":{"column":29,"line":49},"start":{"column":12,"line":49}},"name":"(anonymous_3)"},"4":{"line":55,"loc":{"end":{"column":40,"line":55},"start":{"column":23,"line":55}},"name":"(anonymous_4)"},"5":{"line":63,"loc":{"end":{"column":30,"line":63},"start":{"column":13,"line":63}},"name":"(anonymous_5)"},"6":{"line":68,"loc":{"end":{"column":29,"line":68},"start":{"column":12,"line":68}},"name":"(anonymous_6)"},"7":{"line":73,"loc":{"end":{"column":32,"line":73},"start":{"column":15,"line":73}},"name":"(anonymous_7)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/policies/index.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":63,"12":63,"13":63,"14":0,"15":63,"16":63,"17":0,"18":63,"19":63,"20":21,"21":17,"22":17,"23":17,"24":21,"25":17,"26":17,"27":17,"28":17,"29":0,"30":0,"31":0,"32":0,"33":40,"34":40,"35":40,"36":6,"37":6,"38":6,"39":6,"40":6,"41":6,"42":0,"43":6,"44":6,"45":6,"46":21},"statementMap":{"1":{"end":{"column":130,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":27,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":29,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":62,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":49,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":27,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":2,"line":17},"start":{"column":0,"line":15}},"9":{"end":{"column":2,"line":21},"start":{"column":0,"line":19}},"10":{"end":{"column":2,"line":39},"start":{"column":0,"line":23}},"11":{"end":{"column":25,"line":24},"start":{"column":2,"line":24}},"12":{"end":{"column":35,"line":25},"start":{"column":2,"line":25}},"13":{"end":{"column":3,"line":28},"start":{"column":2,"line":26}},"14":{"end":{"column":23,"line":27},"start":{"column":4,"line":27}},"15":{"end":{"column":37,"line":29},"start":{"column":2,"line":29}},"16":{"end":{"column":3,"line":32},"start":{"column":2,"line":30}},"17":{"end":{"column":23,"line":31},"start":{"column":4,"line":31}},"18":{"end":{"column":40,"line":33},"start":{"column":2,"line":33}},"19":{"end":{"column":4,"line":38},"start":{"column":2,"line":34}},"20":{"end":{"column":2,"line":45},"start":{"column":0,"line":41}},"21":{"end":{"column":48,"line":42},"start":{"column":2,"line":42}},"22":{"end":{"column":89,"line":43},"start":{"column":2,"line":43}},"23":{"end":{"column":71,"line":44},"start":{"column":2,"line":44}},"24":{"end":{"column":2,"line":83},"start":{"column":0,"line":47}},"25":{"end":{"column":32,"line":50},"start":{"column":4,"line":50}},"26":{"end":{"column":51,"line":51},"start":{"column":4,"line":51}},"27":{"end":{"column":46,"line":52},"start":{"column":4,"line":52}},"28":{"end":{"column":22,"line":53},"start":{"column":4,"line":53}},"29":{"end":{"column":42,"line":56},"start":{"column":4,"line":56}},"30":{"end":{"column":51,"line":57},"start":{"column":4,"line":57}},"31":{"end":{"column":7,"line":60},"start":{"column":4,"line":58}},"32":{"end":{"column":71,"line":61},"start":{"column":4,"line":61}},"33":{"end":{"column":15,"line":64},"start":{"column":4,"line":64}},"34":{"end":{"column":46,"line":65},"start":{"column":4,"line":65}},"35":{"end":{"column":36,"line":66},"start":{"column":4,"line":66}},"36":{"end":{"column":15,"line":69},"start":{"column":4,"line":69}},"37":{"end":{"column":46,"line":70},"start":{"column":4,"line":70}},"38":{"end":{"column":35,"line":71},"start":{"column":4,"line":71}},"39":{"end":{"column":49,"line":74},"start":{"column":4,"line":74}},"40":{"end":{"column":37,"line":75},"start":{"column":4,"line":75}},"41":{"end":{"column":5,"line":78},"start":{"column":4,"line":76}},"42":{"end":{"column":18,"line":77},"start":{"column":6,"line":77}},"43":{"end":{"column":61,"line":79},"start":{"column":4,"line":79}},"44":{"end":{"column":86,"line":80},"start":{"column":4,"line":80}},"45":{"end":{"column":55,"line":81},"start":{"column":4,"line":81}},"46":{"end":{"column":2,"line":87},"start":{"column":0,"line":85}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"19":21,"23":21,"24":63,"25":63,"26":63,"27":0,"29":63,"30":63,"31":0,"33":63,"34":63,"41":21,"42":17,"43":17,"44":17,"47":21,"50":17,"51":17,"52":17,"53":17,"56":0,"57":0,"58":0,"61":0,"64":40,"65":40,"66":40,"69":6,"70":6,"71":6,"74":6,"75":6,"76":6,"77":0,"79":6,"80":6,"81":6,"85":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/policies/policies.coffee":{"b":{},"branchMap":{},"code":["var defaultPolicies, freeResponse, multipleChoice, policies, review, stepFeedbackImmediate, stepNoFeedback, stepTeacherReadOnly, stepTeacherReview, stepViewOnly, teacherReadOnly, teacherReview, view;","","freeResponse = {","  name: 'free-response',","  optional: 'checkQuestionFormat',","  passCheck: ['free_response'],","  actions: ['fillFreeResponse', 'saveFreeResponse']","};","","multipleChoice = {","  name: 'multiple-choice',","  optional: 'checkQuestionFormat',","  passCheck: ['answer_id', 'is_completed'],","  actions: ['pickMultipleChoice', 'saveMultipleChoice']","};","","review = {","  name: 'review',","  canReview: true,","  canWrite: true,","  actions: ['clickContinue']","};","","teacherReadOnly = {","  name: 'teacher-read-only',","  canWrite: false,","  actions: ['clickContinue']","};","","teacherReview = {","  name: 'teacher-read-only',","  canReview: true,","  canWrite: false,","  actions: ['clickContinue']","};","","view = {","  name: 'view',","  canReview: true,","  actions: ['clickContinue']","};","","stepNoFeedback = [freeResponse, multipleChoice];","","stepFeedbackImmediate = [freeResponse, multipleChoice, review];","","stepViewOnly = [view];","","stepTeacherReview = [teacherReview];","","stepTeacherReadOnly = [teacherReadOnly];","","defaultPolicies = {","  exercise: {","    panels: {","      \"default\": stepFeedbackImmediate,","      check: 'role',","      states: {","        teacher: stepTeacherReview","      }","    }","  },","  reading: {","    panels: {","      \"default\": stepViewOnly,","      check: 'role',","      states: {","        teacher: stepTeacherReview","      }","    }","  },","  video: {","    panels: {","      \"default\": stepViewOnly,","      check: 'role',","      states: {","        teacher: stepTeacherReview","      }","    }","  },","  interactive: {","    panels: {","      \"default\": stepViewOnly,","      check: 'role',","      states: {","        teacher: stepTeacherReview","      }","    }","  },","  placeholder: {","    panels: {","      \"default\": stepViewOnly,","      check: 'role',","      states: {","        teacher: stepTeacherReview","      }","    }","  }","};","","policies = {","  homework: {","    exercise: {","      panels: {","        \"default\": {","          check: 'dueState',","          states: {","            before: stepNoFeedback,","            after: stepFeedbackImmediate","          }","        },","        check: 'role',","        states: {","          teacher: {","            check: 'dueState',","            states: {","              before: stepTeacherReadOnly,","              after: stepTeacherReview","            }","          }","        }","      }","    },","    placeholder: {","      panels: {","        \"default\": stepViewOnly,","        check: 'role',","        states: {","          teacher: stepTeacherReview","        }","      }","    }","  },","  practice: {","    exercise: {","      panels: {","        \"default\": stepFeedbackImmediate,","        check: 'role',","        states: {","          teacher: stepTeacherReview","        }","      }","    }","  },","  chapter_practice: {","    exercise: {","      panels: {","        \"default\": stepFeedbackImmediate,","        check: 'role',","        states: {","          teacher: stepTeacherReview","        }","      }","    }","  },","  page_practice: {","    exercise: {","      panels: {","        \"default\": stepFeedbackImmediate,","        check: 'role',","        states: {","          teacher: stepTeacherReview","        }","      }","    }","  },","  concept_coach: {","    exercise: {","      panels: {","        \"default\": stepFeedbackImmediate,","        check: 'role',","        states: {","          teacher: stepTeacherReview","        }","      }","    }","  },","  reading: defaultPolicies,","  external: {","    external_url: {","      panels: {","        \"default\": stepViewOnly,","        check: 'role',","        states: {","          teacher: stepTeacherReview","        }","      }","    }","  },","  \"default\": defaultPolicies","};","","module.exports = policies;",""],"f":{},"fnMap":{},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/policies/policies.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21},"statementMap":{"1":{"end":{"column":199,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":2,"line":8},"start":{"column":0,"line":3}},"3":{"end":{"column":2,"line":15},"start":{"column":0,"line":10}},"4":{"end":{"column":2,"line":22},"start":{"column":0,"line":17}},"5":{"end":{"column":2,"line":28},"start":{"column":0,"line":24}},"6":{"end":{"column":2,"line":35},"start":{"column":0,"line":30}},"7":{"end":{"column":2,"line":41},"start":{"column":0,"line":37}},"8":{"end":{"column":48,"line":43},"start":{"column":0,"line":43}},"9":{"end":{"column":63,"line":45},"start":{"column":0,"line":45}},"10":{"end":{"column":22,"line":47},"start":{"column":0,"line":47}},"11":{"end":{"column":36,"line":49},"start":{"column":0,"line":49}},"12":{"end":{"column":40,"line":51},"start":{"column":0,"line":51}},"13":{"end":{"column":2,"line":99},"start":{"column":0,"line":53}},"14":{"end":{"column":2,"line":191},"start":{"column":0,"line":101}},"15":{"end":{"column":26,"line":193},"start":{"column":0,"line":193}}},"l":{"1":21,"3":21,"10":21,"17":21,"24":21,"30":21,"37":21,"43":21,"45":21,"47":21,"49":21,"51":21,"53":21,"101":21,"193":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/policies/utils.coffee":{"b":{"1":[28,0],"2":[28,28],"3":[0,63],"4":[63,0],"5":[63,0],"6":[63,0],"7":[28,35],"8":[28,0],"9":[0,0,0],"10":[63,0],"11":[0,17],"12":[17,0]},"branchMap":{"1":{"line":17,"locations":[{"end":{"column":4,"line":17},"start":{"column":4,"line":17}},{"end":{"column":4,"line":17},"start":{"column":4,"line":17}}],"type":"if"},"2":{"line":17,"locations":[{"end":{"column":28,"line":17},"start":{"column":9,"line":17}},{"end":{"column":65,"line":17},"start":{"column":33,"line":17}}],"type":"binary-expr"},"3":{"line":39,"locations":[{"end":{"column":4,"line":39},"start":{"column":4,"line":39}},{"end":{"column":4,"line":39},"start":{"column":4,"line":39}}],"type":"if"},"4":{"line":45,"locations":[{"end":{"column":4,"line":45},"start":{"column":4,"line":45}},{"end":{"column":4,"line":45},"start":{"column":4,"line":45}}],"type":"if"},"5":{"line":48,"locations":[{"end":{"column":4,"line":48},"start":{"column":4,"line":48}},{"end":{"column":4,"line":48},"start":{"column":4,"line":48}}],"type":"if"},"6":{"line":50,"locations":[{"end":{"column":6,"line":50},"start":{"column":6,"line":50}},{"end":{"column":6,"line":50},"start":{"column":6,"line":50}}],"type":"if"},"7":{"line":54,"locations":[{"end":{"column":4,"line":54},"start":{"column":4,"line":54}},{"end":{"column":4,"line":54},"start":{"column":4,"line":54}}],"type":"if"},"8":{"line":56,"locations":[{"end":{"column":6,"line":56},"start":{"column":6,"line":56}},{"end":{"column":6,"line":56},"start":{"column":6,"line":56}}],"type":"if"},"9":{"line":65,"locations":[{"end":{"column":17,"line":65},"start":{"column":13,"line":65}},{"end":{"column":40,"line":65},"start":{"column":22,"line":65}},{"end":{"column":55,"line":65},"start":{"column":45,"line":65}}],"type":"binary-expr"},"10":{"line":74,"locations":[{"end":{"column":6,"line":74},"start":{"column":6,"line":74}},{"end":{"column":6,"line":74},"start":{"column":6,"line":74}}],"type":"if"},"11":{"line":86,"locations":[{"end":{"column":6,"line":86},"start":{"column":6,"line":86}},{"end":{"column":6,"line":86},"start":{"column":6,"line":86}}],"type":"if"},"12":{"line":97,"locations":[{"end":{"column":32,"line":97},"start":{"column":27,"line":97}},{"end":{"column":67,"line":97},"start":{"column":35,"line":97}}],"type":"cond-expr"}},"code":["var CurrentUserStore, DEFAULT, TaskStore, _, policies, utils;","","_ = require('underscore');","","policies = require('./policies');","","TaskStore = require('../../flux/task').TaskStore;","","CurrentUserStore = require('../../flux/current-user').CurrentUserStore;","","DEFAULT = 'default';","","utils = {","  _dueState: function(task) {","    var state;","    state = 'before';","    if ((task.due_at != null) && TaskStore.isTaskPastDue(task.id)) {","      state = 'after';","    }","    return state;","  },","  _role: function() {","    return CurrentUserStore.getViewingCourseRole();","  },","  _checkQuestionFormat: function(task, step, panel) {","    var question;","    question = step.content.questions[0];","    return question.formats.indexOf(panel.name) > -1;","  },","  _getCheckedPolicy: function(task, step, possiblePolicies) {","    var checkFn, state;","    checkFn = \"_\" + possiblePolicies.check;","    state = utils[checkFn](task, step);","    return possiblePolicies.states[state];","  },","  _getPolicy: function(task, step, policyFor) {","    var checkedPolicy, nestedCheckedPolicy, policy, possiblePolicies, taskType, warning;","    taskType = task.type;","    if (policies[taskType] == null) {","      warning = taskType + \" policy is missing. Please check src/helpers/policies/policies file. Default \" + policyFor + \" policy for \" + step.type + \" being used.\";","      console.warn(warning);","      taskType = DEFAULT;","    }","    possiblePolicies = policies[taskType][step.type][policyFor];","    if (possiblePolicies[\"default\"] != null) {","      policy = possiblePolicies[\"default\"];","    }","    if (possiblePolicies.check) {","      checkedPolicy = utils._getCheckedPolicy(task, step, possiblePolicies);","      if (checkedPolicy != null) {","        policy = checkedPolicy;","      }","    }","    if (policy.check) {","      nestedCheckedPolicy = utils._getCheckedPolicy(task, step, policy);","      if (nestedCheckedPolicy != null) {","        policy = nestedCheckedPolicy;","      }","    }","    return policy;","  },","  _isPanelPassed: function(step, checks) {","    var panelPassed;","    panelPassed = _.reduce(checks, function(memo, next) {","      return memo && (step[next] != null) && step[next];","    }, true);","    return panelPassed;","  },","  _getPanels: function(task, step) {","    var allPanels, panels;","    allPanels = utils._getPolicy(task, step, 'panels');","    panels = _.filter(allPanels, function(panel) {","      var optionalFn;","      if (!panel.optional) {","        return true;","      }","      optionalFn = \"_\" + panel.optional;","      return utils[optionalFn](task, step, panel);","    });","    return panels;","  },","  _arePanelsPassed: function(task, step, panels) {","    var panelsWithPass;","    return panelsWithPass = _.map(panels, function(panel) {","      panel.passed = false;","      if (panel.passCheck != null) {","        panel.passed = utils._isPanelPassed(step, panel.passCheck);","      }","      return panel;","    });","  },","  _getPanel: function(panelsWithStatus) {","    var panel;","    panel = _.findWhere(panelsWithStatus, {","      passed: false","    });","    return panel != null ? panel : panel = _.last(panelsWithStatus);","  },","  _canReview: function(panels) {","    var reviewPanel;","    reviewPanel = _.findWhere(panels, {","      canReview: true","    });","    return reviewPanel != null;","  },","  _canWrite: function(panels) {","    var cannotWrite;","    cannotWrite = _.findWhere(panels, {","      canWrite: false","    });","    return !(cannotWrite != null);","  }","};","","module.exports = utils;",""],"f":{"1":28,"2":63,"3":0,"4":91,"5":63,"6":0,"7":0,"8":63,"9":63,"10":17,"11":17,"12":17,"13":40,"14":6},"fnMap":{"1":{"line":14,"loc":{"end":{"column":28,"line":14},"start":{"column":13,"line":14}},"name":"(anonymous_1)"},"2":{"line":22,"loc":{"end":{"column":20,"line":22},"start":{"column":9,"line":22}},"name":"(anonymous_2)"},"3":{"line":25,"loc":{"end":{"column":52,"line":25},"start":{"column":24,"line":25}},"name":"(anonymous_3)"},"4":{"line":30,"loc":{"end":{"column":60,"line":30},"start":{"column":21,"line":30}},"name":"(anonymous_4)"},"5":{"line":36,"loc":{"end":{"column":46,"line":36},"start":{"column":14,"line":36}},"name":"(anonymous_5)"},"6":{"line":62,"loc":{"end":{"column":41,"line":62},"start":{"column":18,"line":62}},"name":"(anonymous_6)"},"7":{"line":64,"loc":{"end":{"column":56,"line":64},"start":{"column":35,"line":64}},"name":"(anonymous_7)"},"8":{"line":69,"loc":{"end":{"column":35,"line":69},"start":{"column":14,"line":69}},"name":"(anonymous_8)"},"9":{"line":72,"loc":{"end":{"column":49,"line":72},"start":{"column":33,"line":72}},"name":"(anonymous_9)"},"10":{"line":82,"loc":{"end":{"column":49,"line":82},"start":{"column":20,"line":82}},"name":"(anonymous_10)"},"11":{"line":84,"loc":{"end":{"column":58,"line":84},"start":{"column":42,"line":84}},"name":"(anonymous_11)"},"12":{"line":92,"loc":{"end":{"column":40,"line":92},"start":{"column":13,"line":92}},"name":"(anonymous_12)"},"13":{"line":99,"loc":{"end":{"column":31,"line":99},"start":{"column":14,"line":99}},"name":"(anonymous_13)"},"14":{"line":106,"loc":{"end":{"column":30,"line":106},"start":{"column":13,"line":106}},"name":"(anonymous_14)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/policies/utils.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":28,"9":28,"10":28,"11":28,"12":28,"13":63,"14":0,"15":0,"16":0,"17":91,"18":91,"19":91,"20":91,"21":63,"22":63,"23":63,"24":0,"25":0,"26":0,"27":63,"28":63,"29":63,"30":63,"31":63,"32":63,"33":63,"34":63,"35":28,"36":28,"37":28,"38":63,"39":0,"40":0,"41":0,"42":0,"43":63,"44":63,"45":63,"46":63,"47":63,"48":63,"49":0,"50":0,"51":63,"52":17,"53":17,"54":17,"55":17,"56":0,"57":17,"58":17,"59":17,"60":17,"61":40,"62":40,"63":40,"64":6,"65":6,"66":6,"67":21},"statementMap":{"1":{"end":{"column":61,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":49,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":71,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":20,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":2,"line":113},"start":{"column":0,"line":13}},"8":{"end":{"column":14,"line":15},"start":{"column":4,"line":15}},"9":{"end":{"column":21,"line":16},"start":{"column":4,"line":16}},"10":{"end":{"column":5,"line":19},"start":{"column":4,"line":17}},"11":{"end":{"column":22,"line":18},"start":{"column":6,"line":18}},"12":{"end":{"column":17,"line":20},"start":{"column":4,"line":20}},"13":{"end":{"column":51,"line":23},"start":{"column":4,"line":23}},"14":{"end":{"column":17,"line":26},"start":{"column":4,"line":26}},"15":{"end":{"column":41,"line":27},"start":{"column":4,"line":27}},"16":{"end":{"column":53,"line":28},"start":{"column":4,"line":28}},"17":{"end":{"column":23,"line":31},"start":{"column":4,"line":31}},"18":{"end":{"column":43,"line":32},"start":{"column":4,"line":32}},"19":{"end":{"column":39,"line":33},"start":{"column":4,"line":33}},"20":{"end":{"column":42,"line":34},"start":{"column":4,"line":34}},"21":{"end":{"column":88,"line":37},"start":{"column":4,"line":37}},"22":{"end":{"column":25,"line":38},"start":{"column":4,"line":38}},"23":{"end":{"column":5,"line":43},"start":{"column":4,"line":39}},"24":{"end":{"column":165,"line":40},"start":{"column":6,"line":40}},"25":{"end":{"column":28,"line":41},"start":{"column":6,"line":41}},"26":{"end":{"column":25,"line":42},"start":{"column":6,"line":42}},"27":{"end":{"column":64,"line":44},"start":{"column":4,"line":44}},"28":{"end":{"column":5,"line":47},"start":{"column":4,"line":45}},"29":{"end":{"column":43,"line":46},"start":{"column":6,"line":46}},"30":{"end":{"column":5,"line":53},"start":{"column":4,"line":48}},"31":{"end":{"column":76,"line":49},"start":{"column":6,"line":49}},"32":{"end":{"column":7,"line":52},"start":{"column":6,"line":50}},"33":{"end":{"column":31,"line":51},"start":{"column":8,"line":51}},"34":{"end":{"column":5,"line":59},"start":{"column":4,"line":54}},"35":{"end":{"column":72,"line":55},"start":{"column":6,"line":55}},"36":{"end":{"column":7,"line":58},"start":{"column":6,"line":56}},"37":{"end":{"column":37,"line":57},"start":{"column":8,"line":57}},"38":{"end":{"column":18,"line":60},"start":{"column":4,"line":60}},"39":{"end":{"column":20,"line":63},"start":{"column":4,"line":63}},"40":{"end":{"column":13,"line":66},"start":{"column":4,"line":64}},"41":{"end":{"column":56,"line":65},"start":{"column":6,"line":65}},"42":{"end":{"column":23,"line":67},"start":{"column":4,"line":67}},"43":{"end":{"column":26,"line":70},"start":{"column":4,"line":70}},"44":{"end":{"column":55,"line":71},"start":{"column":4,"line":71}},"45":{"end":{"column":7,"line":79},"start":{"column":4,"line":72}},"46":{"end":{"column":21,"line":73},"start":{"column":6,"line":73}},"47":{"end":{"column":7,"line":76},"start":{"column":6,"line":74}},"48":{"end":{"column":20,"line":75},"start":{"column":8,"line":75}},"49":{"end":{"column":40,"line":77},"start":{"column":6,"line":77}},"50":{"end":{"column":50,"line":78},"start":{"column":6,"line":78}},"51":{"end":{"column":18,"line":80},"start":{"column":4,"line":80}},"52":{"end":{"column":23,"line":83},"start":{"column":4,"line":83}},"53":{"end":{"column":7,"line":90},"start":{"column":4,"line":84}},"54":{"end":{"column":27,"line":85},"start":{"column":6,"line":85}},"55":{"end":{"column":7,"line":88},"start":{"column":6,"line":86}},"56":{"end":{"column":67,"line":87},"start":{"column":8,"line":87}},"57":{"end":{"column":19,"line":89},"start":{"column":6,"line":89}},"58":{"end":{"column":14,"line":93},"start":{"column":4,"line":93}},"59":{"end":{"column":7,"line":96},"start":{"column":4,"line":94}},"60":{"end":{"column":68,"line":97},"start":{"column":4,"line":97}},"61":{"end":{"column":20,"line":100},"start":{"column":4,"line":100}},"62":{"end":{"column":7,"line":103},"start":{"column":4,"line":101}},"63":{"end":{"column":31,"line":104},"start":{"column":4,"line":104}},"64":{"end":{"column":20,"line":107},"start":{"column":4,"line":107}},"65":{"end":{"column":7,"line":110},"start":{"column":4,"line":108}},"66":{"end":{"column":34,"line":111},"start":{"column":4,"line":111}},"67":{"end":{"column":23,"line":115},"start":{"column":0,"line":115}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":28,"16":28,"17":28,"18":28,"20":28,"23":63,"26":0,"27":0,"28":0,"31":91,"32":91,"33":91,"34":91,"37":63,"38":63,"39":63,"40":0,"41":0,"42":0,"44":63,"45":63,"46":63,"48":63,"49":63,"50":63,"51":63,"54":63,"55":28,"56":28,"57":28,"60":63,"63":0,"64":0,"65":0,"67":0,"70":63,"71":63,"72":63,"73":63,"74":63,"75":63,"77":0,"78":0,"80":63,"83":17,"84":17,"85":17,"86":17,"87":0,"89":17,"93":17,"94":17,"97":17,"100":40,"101":40,"104":40,"107":6,"108":6,"111":6,"115":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/routes-and-destinations.coffee":{"b":{"1":[104,0],"2":[104,0],"3":[104,0],"4":[104,0]},"branchMap":{"1":{"line":56,"locations":[{"end":{"column":4,"line":56},"start":{"column":4,"line":56}},{"end":{"column":4,"line":56},"start":{"column":4,"line":56}}],"type":"if"},"2":{"line":56,"locations":[{"end":{"column":88,"line":56},"start":{"column":31,"line":56}},{"end":{"column":97,"line":56},"start":{"column":91,"line":56}}],"type":"cond-expr"},"3":{"line":56,"locations":[{"end":{"column":79,"line":56},"start":{"column":69,"line":56}},{"end":{"column":88,"line":56},"start":{"column":82,"line":56}}],"type":"cond-expr"},"4":{"line":62,"locations":[{"end":{"column":103,"line":62},"start":{"column":95,"line":62}},{"end":{"column":112,"line":62},"start":{"column":106,"line":62}}],"type":"cond-expr"}},"code":["var COURSES, COURSE_SETTINGS, DASHBOARD, EXTERNAL_BUILDER, HOMEWORK_BUILDER, PERFORMANCE_FORECAST, PLAN_REVIEW, PLAN_STATS, PRACTICE, READING_BUILDER, REMEMBERED_ROUTES, SCORES, STEP, TASK, _, destinationHelpers;","","_ = require('underscore');","","COURSE_SETTINGS = 'Course Settings';","","COURSES = 'Courses';","","DASHBOARD = 'Dashboard';","","EXTERNAL_BUILDER = 'External Assignment';","","HOMEWORK_BUILDER = 'Homework Builder';","","PERFORMANCE_FORECAST = 'Performance Forecast';","","SCORES = 'Scores';","","PLAN_REVIEW = 'Plan Review';","","PLAN_STATS = 'Plan Stats';","","PRACTICE = 'Practice';","","READING_BUILDER = 'Reading Builder';","","STEP = 'Step';","","TASK = 'Task';","","REMEMBERED_ROUTES = {","  dashboard: DASHBOARD,","  viewStudentDashboard: DASHBOARD,","  viewPerformanceForecast: PERFORMANCE_FORECAST,","  viewTeacherDashboard: DASHBOARD,","  viewScores: SCORES,","  viewTeacherPerformanceForecast: PERFORMANCE_FORECAST,","  viewStudentTeacherPerformanceForecast: PERFORMANCE_FORECAST,","  taskplans: DASHBOARD,","  calendarByDate: DASHBOARD,","  calendarViewPlanStats: DASHBOARD,","  courseSettings: COURSE_SETTINGS,","  viewStats: PLAN_STATS,","  reviewTask: PLAN_REVIEW,","  reviewTaskPeriod: PLAN_REVIEW,","  reviewTaskStep: PLAN_REVIEW","};","","destinationHelpers = {","  getDestinationName: function(routeName) {","    return REMEMBERED_ROUTES[routeName];","  },","  routeFromPath: function(path, matchRoutes) {","    var matchedRoute, ref;","    matchedRoute = matchRoutes(path);","    if (matchedRoute != null ? (ref = matchedRoute.routes) != null ? ref.length : void 0 : void 0) {","      return _.last(matchedRoute.routes);","    }","  },","  destinationFromPath: function(path, matchRoutes) {","    var ref;","    return this.getDestinationName((ref = this.routeFromPath.apply(this, arguments)) != null ? ref.name : void 0);","  },","  shouldRememberRoute: function(routeName, router) {","    return !!this.destinationFromPath(routeName.path, router.match);","  }","};","","module.exports = destinationHelpers;",""],"f":{"1":104,"2":104,"3":104,"4":96},"fnMap":{"1":{"line":50,"loc":{"end":{"column":42,"line":50},"start":{"column":22,"line":50}},"name":"(anonymous_1)"},"2":{"line":53,"loc":{"end":{"column":45,"line":53},"start":{"column":17,"line":53}},"name":"(anonymous_2)"},"3":{"line":60,"loc":{"end":{"column":51,"line":60},"start":{"column":23,"line":60}},"name":"(anonymous_3)"},"4":{"line":64,"loc":{"end":{"column":51,"line":64},"start":{"column":23,"line":64}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/routes-and-destinations.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":104,"19":104,"20":104,"21":104,"22":104,"23":104,"24":104,"25":96,"26":21},"statementMap":{"1":{"end":{"column":212,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":36,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":20,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":24,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":41,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":38,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":46,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":18,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":28,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":26,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":22,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":36,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":14,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":14,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":2,"line":47},"start":{"column":0,"line":31}},"17":{"end":{"column":2,"line":67},"start":{"column":0,"line":49}},"18":{"end":{"column":40,"line":51},"start":{"column":4,"line":51}},"19":{"end":{"column":26,"line":54},"start":{"column":4,"line":54}},"20":{"end":{"column":37,"line":55},"start":{"column":4,"line":55}},"21":{"end":{"column":5,"line":58},"start":{"column":4,"line":56}},"22":{"end":{"column":41,"line":57},"start":{"column":6,"line":57}},"23":{"end":{"column":12,"line":61},"start":{"column":4,"line":61}},"24":{"end":{"column":114,"line":62},"start":{"column":4,"line":62}},"25":{"end":{"column":68,"line":65},"start":{"column":4,"line":65}},"26":{"end":{"column":36,"line":69},"start":{"column":0,"line":69}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"49":21,"51":104,"54":104,"55":104,"56":104,"57":104,"61":104,"62":104,"65":96,"69":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/string.coffee":{"b":{"1":[214,0],"2":[214,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0,0,0,0],"6":[0,0]},"branchMap":{"1":{"line":10,"locations":[{"end":{"column":4,"line":10},"start":{"column":4,"line":10}},{"end":{"column":4,"line":10},"start":{"column":4,"line":10}}],"type":"if"},"2":{"line":13,"locations":[{"end":{"column":59,"line":13},"start":{"column":26,"line":13}},{"end":{"column":81,"line":13},"start":{"column":62,"line":13}}],"type":"cond-expr"},"3":{"line":19,"locations":[{"end":{"column":4,"line":19},"start":{"column":4,"line":19}},{"end":{"column":4,"line":19},"start":{"column":4,"line":19}}],"type":"if"},"4":{"line":27,"locations":[{"end":{"column":6,"line":27},"start":{"column":6,"line":27}},{"end":{"column":6,"line":27},"start":{"column":6,"line":27}}],"type":"if"},"5":{"line":27,"locations":[{"end":{"column":19,"line":27},"start":{"column":10,"line":27}},{"end":{"column":60,"line":27},"start":{"column":23,"line":27}},{"end":{"column":94,"line":27},"start":{"column":64,"line":27}},{"end":{"column":129,"line":27},"start":{"column":98,"line":27}},{"end":{"column":176,"line":27},"start":{"column":134,"line":27}},{"end":{"column":211,"line":27},"start":{"column":180,"line":27}},{"end":{"column":260,"line":27},"start":{"column":216,"line":27}}],"type":"binary-expr"},"6":{"line":30,"locations":[{"end":{"column":6,"line":30},"start":{"column":6,"line":30}},{"end":{"column":6,"line":30},"start":{"column":6,"line":30}}],"type":"if"}},"code":["var SMALL_WORDS, _;","","_ = require('underscore');","","SMALL_WORDS = /^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\\.?|via)$/i;","","module.exports = {","  capitalize: function(string, lowerOthers) {","    var other;","    if (lowerOthers == null) {","      lowerOthers = true;","    }","    other = lowerOthers ? string.substring(1).toLowerCase() : string.substring(1);","    return string.charAt(0).toUpperCase() + other;","  },","  getNumberAndStringOrder: function(string) {","    var parsedInt;","    parsedInt = parseFloat(string);","    if (_.isNaN(parsedInt)) {","      return string.toLowerCase();","    } else {","      return parsedInt;","    }","  },","  titleize: function(string) {","    return string.replace(/_/g, ' ').replace(/[A-Za-z0-9\\u00C0-\\u00FF]+[^\\s-]*/g, function(match, index, title) {","      if (index > 0 && index + match.length !== title.length && match.search(SMALL_WORDS) > -1 && title.charAt(index - 2) !== \":\" && (title.charAt(index + match.length) !== '-' || title.charAt(index - 1) === '-') && title.charAt(index - 1).search(/[^\\s-]/) < 0) {","        return match.toLowerCase();","      }","      if (match.substr(1).search(/[A-Z]|\\../) > -1) {","        return match;","      }","      return match.charAt(0).toUpperCase() + match.substr(1);","    });","  }","};",""],"f":{"1":214,"2":0,"3":0,"4":0},"fnMap":{"1":{"line":8,"loc":{"end":{"column":44,"line":8},"start":{"column":14,"line":8}},"name":"(anonymous_1)"},"2":{"line":16,"loc":{"end":{"column":44,"line":16},"start":{"column":27,"line":16}},"name":"(anonymous_2)"},"3":{"line":25,"loc":{"end":{"column":29,"line":25},"start":{"column":12,"line":25}},"name":"(anonymous_3)"},"4":{"line":26,"loc":{"end":{"column":112,"line":26},"start":{"column":82,"line":26}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/string.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":214,"6":214,"7":214,"8":214,"9":214,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"statementMap":{"1":{"end":{"column":19,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":26,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":91,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":36},"start":{"column":0,"line":7}},"5":{"end":{"column":14,"line":9},"start":{"column":4,"line":9}},"6":{"end":{"column":5,"line":12},"start":{"column":4,"line":10}},"7":{"end":{"column":25,"line":11},"start":{"column":6,"line":11}},"8":{"end":{"column":82,"line":13},"start":{"column":4,"line":13}},"9":{"end":{"column":50,"line":14},"start":{"column":4,"line":14}},"10":{"end":{"column":18,"line":17},"start":{"column":4,"line":17}},"11":{"end":{"column":35,"line":18},"start":{"column":4,"line":18}},"12":{"end":{"column":5,"line":23},"start":{"column":4,"line":19}},"13":{"end":{"column":34,"line":20},"start":{"column":6,"line":20}},"14":{"end":{"column":23,"line":22},"start":{"column":6,"line":22}},"15":{"end":{"column":7,"line":34},"start":{"column":4,"line":26}},"16":{"end":{"column":7,"line":29},"start":{"column":6,"line":27}},"17":{"end":{"column":35,"line":28},"start":{"column":8,"line":28}},"18":{"end":{"column":7,"line":32},"start":{"column":6,"line":30}},"19":{"end":{"column":21,"line":31},"start":{"column":8,"line":31}},"20":{"end":{"column":61,"line":33},"start":{"column":6,"line":33}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":214,"10":214,"11":214,"13":214,"14":214,"17":0,"18":0,"19":0,"20":0,"22":0,"26":0,"27":0,"28":0,"30":0,"31":0,"33":0}},
"/Users/phil/github/openstax/tutor-js/src/helpers/task.coffee":{"b":{"1":[299,554],"2":[0,18]},"branchMap":{"1":{"line":20,"locations":[{"end":{"column":4,"line":20},"start":{"column":4,"line":20}},{"end":{"column":4,"line":20},"start":{"column":4,"line":20}}],"type":"if"},"2":{"line":32,"locations":[{"end":{"column":4,"line":32},"start":{"column":4,"line":32}},{"end":{"column":4,"line":32},"start":{"column":4,"line":32}}],"type":"if"}},"code":["var TimeStore, _, moment;","","moment = require('moment');","","_ = require('underscore');","","TimeStore = require('../flux/time').TimeStore;","","module.exports = {","  getLateness: function(arg) {","    var due_at, last_worked_at, result, status;","    due_at = arg.due_at, last_worked_at = arg.last_worked_at, status = arg.status;","    result = {","      is_late: false,","      last_worked_at: null,","      how_late: null","    };","    result.last_worked_at = moment(last_worked_at);","    result.is_late = moment(due_at).isBefore(result.last_worked_at);","    if (result.is_late) {","      result.how_late = moment(due_at).from(result.last_worked_at, true);","    }","    return result;","  },","  isDue: function(arg) {","    var due_at;","    due_at = arg.due_at;","    return moment(due_at).isBefore(TimeStore.getNow());","  },","  chapterSectionToNumber: function(chapter_section) {","    var position;","    if (chapter_section.length === 1) {","      chapter_section.push(0);","    }","    position = -1;","    return _.reduceRight(chapter_section, function(memo, num) {","      return memo + (num * Math.pow(100, position += 1));","    }, 0);","  }","};",""],"f":{"1":853,"2":262,"3":18,"4":36},"fnMap":{"1":{"line":10,"loc":{"end":{"column":29,"line":10},"start":{"column":15,"line":10}},"name":"(anonymous_1)"},"2":{"line":25,"loc":{"end":{"column":23,"line":25},"start":{"column":9,"line":25}},"name":"(anonymous_2)"},"3":{"line":30,"loc":{"end":{"column":52,"line":30},"start":{"column":26,"line":30}},"name":"(anonymous_3)"},"4":{"line":36,"loc":{"end":{"column":62,"line":36},"start":{"column":42,"line":36}},"name":"(anonymous_4)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/task.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":853,"7":853,"8":853,"9":853,"10":853,"11":853,"12":299,"13":853,"14":262,"15":262,"16":262,"17":18,"18":18,"19":0,"20":18,"21":18,"22":36},"statementMap":{"1":{"end":{"column":25,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":27,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":26,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":46,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":2,"line":40},"start":{"column":0,"line":9}},"6":{"end":{"column":47,"line":11},"start":{"column":4,"line":11}},"7":{"end":{"column":82,"line":12},"start":{"column":4,"line":12}},"8":{"end":{"column":6,"line":17},"start":{"column":4,"line":13}},"9":{"end":{"column":51,"line":18},"start":{"column":4,"line":18}},"10":{"end":{"column":68,"line":19},"start":{"column":4,"line":19}},"11":{"end":{"column":5,"line":22},"start":{"column":4,"line":20}},"12":{"end":{"column":73,"line":21},"start":{"column":6,"line":21}},"13":{"end":{"column":18,"line":23},"start":{"column":4,"line":23}},"14":{"end":{"column":15,"line":26},"start":{"column":4,"line":26}},"15":{"end":{"column":24,"line":27},"start":{"column":4,"line":27}},"16":{"end":{"column":55,"line":28},"start":{"column":4,"line":28}},"17":{"end":{"column":17,"line":31},"start":{"column":4,"line":31}},"18":{"end":{"column":5,"line":34},"start":{"column":4,"line":32}},"19":{"end":{"column":30,"line":33},"start":{"column":6,"line":33}},"20":{"end":{"column":18,"line":35},"start":{"column":4,"line":35}},"21":{"end":{"column":10,"line":38},"start":{"column":4,"line":36}},"22":{"end":{"column":57,"line":37},"start":{"column":6,"line":37}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":853,"12":853,"13":853,"18":853,"19":853,"20":853,"21":299,"23":853,"26":262,"27":262,"28":262,"31":18,"32":18,"33":0,"35":18,"36":18,"37":36}},
"/Users/phil/github/openstax/tutor-js/src/helpers/time.coffee":{"b":{"1":[429088,736],"2":[2108,51528],"3":[0,0],"4":[0,34],"5":[34,0],"6":[0,28],"7":[41,1465],"8":[1506,0]},"branchMap":{"1":{"line":22,"locations":[{"end":{"column":8,"line":22},"start":{"column":8,"line":22}},{"end":{"column":8,"line":22},"start":{"column":8,"line":22}}],"type":"if"},"2":{"line":30,"locations":[{"end":{"column":6,"line":30},"start":{"column":6,"line":30}},{"end":{"column":6,"line":30},"start":{"column":6,"line":30}}],"type":"if"},"3":{"line":41,"locations":[{"end":{"column":6,"line":41},"start":{"column":6,"line":41}},{"end":{"column":6,"line":41},"start":{"column":6,"line":41}}],"type":"if"},"4":{"line":57,"locations":[{"end":{"column":4,"line":57},"start":{"column":4,"line":57}},{"end":{"column":4,"line":57},"start":{"column":4,"line":57}}],"type":"if"},"5":{"line":61,"locations":[{"end":{"column":4,"line":61},"start":{"column":4,"line":61}},{"end":{"column":4,"line":61},"start":{"column":4,"line":61}}],"type":"if"},"6":{"line":69,"locations":[{"end":{"column":4,"line":69},"start":{"column":4,"line":69}},{"end":{"column":4,"line":69},"start":{"column":4,"line":69}}],"type":"if"},"7":{"line":81,"locations":[{"end":{"column":81,"line":81},"start":{"column":57,"line":81}},{"end":{"column":86,"line":81},"start":{"column":84,"line":81}}],"type":"cond-expr"},"8":{"line":82,"locations":[{"end":{"column":4,"line":82},"start":{"column":4,"line":82}},{"end":{"column":4,"line":82},"start":{"column":4,"line":82}}],"type":"if"}},"code":["var CourseStore, TimeHelper, TimeStore, _, moment, tzdetect,","  slice = [].slice;","","moment = require('moment-timezone');","","_ = require('underscore');","","TimeStore = require('../flux/time').TimeStore;","","CourseStore = require('../flux/course').CourseStore;","","tzdetect = {","  names: moment.tz.names(),","  matches: function(base) {","    var lockey, makekey, now, results;","    results = [];","    now = Date.now();","    makekey = function(id) {","      return [0, 4, 8, -5 * 12, 4 - 5 * 12, 8 - 5 * 12, 4 - 2 * 12, 8 - 2 * 12].map(function(months) {","        var m;","        m = moment(now + months * 30 * 24 * 60 * 60 * 1000);","        if (id) {","          m.tz(id);","        }","        return m.format('DDHHmm');","      }).join(' ');","    };","    lockey = makekey(base);","    tzdetect.names.forEach(function(id) {","      if (makekey(id) === lockey) {","        return results.push(id);","      }","    });","    return results;","  }","};","","TimeHelper = {","  PropTypes: {","    moment: function(props, propName, componentName) {","      if (!moment.isMoment(props[propName])) {","        return new Error(propName + \" should be a moment for \" + componentName);","      }","    }","  },","  getCurrentLocales: function() {","    var currentLocale;","    currentLocale = moment.localeData();","    return {","      abbr: currentLocale._abbr,","      week: currentLocale._week,","      weekdaysMin: currentLocale._weekdaysMin","    };","  },","  syncCourseTimezone: function(courseId) {","    var courseTimezone, zonedMoment;","    if (this.isCourseTimezone(courseId)) {","      return;","    }","    courseTimezone = CourseStore.getTimezone(courseId);","    if (this._local == null) {","      this._local = _.first(this.getLocalTimezone());","    }","    zonedMoment = moment.fn.tz(courseTimezone);","    return zonedMoment;","  },","  unsyncCourseTimezone: function() {","    var unzonedMoment;","    if (this._local == null) {","      return;","    }","    unzonedMoment = moment.fn.tz(this._local);","    this.unsetLocal();","    return unzonedMoment;","  },","  getLocalTimezone: function() {","    return tzdetect.matches();","  },","  getMomentPreserveDate: function() {","    var args, value;","    value = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];","    if (this._local) {","      return moment.apply(null, [value].concat(slice.call(args))).tz(this._local).hour(12);","    }","    return moment.apply(null, [value].concat(slice.call(args))).hour(12);","  },","  getLocal: function() {","    return this._local;","  },","  unsetLocal: function() {","    return this._local = null;","  },","  isCourseTimezone: function(courseId) {","    var courseTimezone;","    courseTimezone = CourseStore.getTimezone(courseId);","    return TimeHelper.getLocalTimezone().indexOf(courseTimezone) > -1;","  }","};","","module.exports = TimeHelper;",""],"f":{"1":92,"2":53728,"3":429824,"4":53636,"5":0,"6":31,"7":34,"8":28,"9":92,"10":1506,"11":0,"12":28,"13":58},"fnMap":{"1":{"line":14,"loc":{"end":{"column":26,"line":14},"start":{"column":11,"line":14}},"name":"(anonymous_1)"},"2":{"line":18,"loc":{"end":{"column":27,"line":18},"start":{"column":14,"line":18}},"name":"(anonymous_2)"},"3":{"line":19,"loc":{"end":{"column":101,"line":19},"start":{"column":84,"line":19}},"name":"(anonymous_3)"},"4":{"line":29,"loc":{"end":{"column":40,"line":29},"start":{"column":27,"line":29}},"name":"(anonymous_4)"},"5":{"line":40,"loc":{"end":{"column":53,"line":40},"start":{"column":12,"line":40}},"name":"(anonymous_5)"},"6":{"line":46,"loc":{"end":{"column":32,"line":46},"start":{"column":21,"line":46}},"name":"(anonymous_6)"},"7":{"line":55,"loc":{"end":{"column":41,"line":55},"start":{"column":22,"line":55}},"name":"(anonymous_7)"},"8":{"line":67,"loc":{"end":{"column":35,"line":67},"start":{"column":24,"line":67}},"name":"(anonymous_8)"},"9":{"line":76,"loc":{"end":{"column":31,"line":76},"start":{"column":20,"line":76}},"name":"(anonymous_9)"},"10":{"line":79,"loc":{"end":{"column":36,"line":79},"start":{"column":25,"line":79}},"name":"(anonymous_10)"},"11":{"line":87,"loc":{"end":{"column":23,"line":87},"start":{"column":12,"line":87}},"name":"(anonymous_11)"},"12":{"line":90,"loc":{"end":{"column":25,"line":90},"start":{"column":14,"line":90}},"name":"(anonymous_12)"},"13":{"line":93,"loc":{"end":{"column":39,"line":93},"start":{"column":20,"line":93}},"name":"(anonymous_13)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/time.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":92,"8":92,"9":92,"10":92,"11":53728,"12":429824,"13":429824,"14":429824,"15":429088,"16":429824,"17":92,"18":92,"19":53636,"20":2108,"21":92,"22":21,"23":0,"24":0,"25":31,"26":31,"27":31,"28":34,"29":34,"30":0,"31":34,"32":34,"33":34,"34":34,"35":34,"36":28,"37":28,"38":0,"39":28,"40":28,"41":28,"42":92,"43":1506,"44":1506,"45":1506,"46":1506,"47":0,"48":0,"49":28,"50":58,"51":58,"52":58,"53":21},"statementMap":{"1":{"end":{"column":19,"line":2},"start":{"column":0,"line":1}},"2":{"end":{"column":36,"line":4},"start":{"column":0,"line":4}},"3":{"end":{"column":26,"line":6},"start":{"column":0,"line":6}},"4":{"end":{"column":46,"line":8},"start":{"column":0,"line":8}},"5":{"end":{"column":52,"line":10},"start":{"column":0,"line":10}},"6":{"end":{"column":2,"line":36},"start":{"column":0,"line":12}},"7":{"end":{"column":38,"line":15},"start":{"column":4,"line":15}},"8":{"end":{"column":17,"line":16},"start":{"column":4,"line":16}},"9":{"end":{"column":21,"line":17},"start":{"column":4,"line":17}},"10":{"end":{"column":6,"line":27},"start":{"column":4,"line":18}},"11":{"end":{"column":19,"line":26},"start":{"column":6,"line":19}},"12":{"end":{"column":14,"line":20},"start":{"column":8,"line":20}},"13":{"end":{"column":60,"line":21},"start":{"column":8,"line":21}},"14":{"end":{"column":9,"line":24},"start":{"column":8,"line":22}},"15":{"end":{"column":19,"line":23},"start":{"column":10,"line":23}},"16":{"end":{"column":34,"line":25},"start":{"column":8,"line":25}},"17":{"end":{"column":27,"line":28},"start":{"column":4,"line":28}},"18":{"end":{"column":7,"line":33},"start":{"column":4,"line":29}},"19":{"end":{"column":7,"line":32},"start":{"column":6,"line":30}},"20":{"end":{"column":32,"line":31},"start":{"column":8,"line":31}},"21":{"end":{"column":19,"line":34},"start":{"column":4,"line":34}},"22":{"end":{"column":2,"line":98},"start":{"column":0,"line":38}},"23":{"end":{"column":7,"line":43},"start":{"column":6,"line":41}},"24":{"end":{"column":80,"line":42},"start":{"column":8,"line":42}},"25":{"end":{"column":22,"line":47},"start":{"column":4,"line":47}},"26":{"end":{"column":40,"line":48},"start":{"column":4,"line":48}},"27":{"end":{"column":6,"line":53},"start":{"column":4,"line":49}},"28":{"end":{"column":36,"line":56},"start":{"column":4,"line":56}},"29":{"end":{"column":5,"line":59},"start":{"column":4,"line":57}},"30":{"end":{"column":13,"line":58},"start":{"column":6,"line":58}},"31":{"end":{"column":55,"line":60},"start":{"column":4,"line":60}},"32":{"end":{"column":5,"line":63},"start":{"column":4,"line":61}},"33":{"end":{"column":53,"line":62},"start":{"column":6,"line":62}},"34":{"end":{"column":47,"line":64},"start":{"column":4,"line":64}},"35":{"end":{"column":23,"line":65},"start":{"column":4,"line":65}},"36":{"end":{"column":22,"line":68},"start":{"column":4,"line":68}},"37":{"end":{"column":5,"line":71},"start":{"column":4,"line":69}},"38":{"end":{"column":13,"line":70},"start":{"column":6,"line":70}},"39":{"end":{"column":46,"line":72},"start":{"column":4,"line":72}},"40":{"end":{"column":22,"line":73},"start":{"column":4,"line":73}},"41":{"end":{"column":25,"line":74},"start":{"column":4,"line":74}},"42":{"end":{"column":30,"line":77},"start":{"column":4,"line":77}},"43":{"end":{"column":20,"line":80},"start":{"column":4,"line":80}},"44":{"end":{"column":87,"line":81},"start":{"column":4,"line":81}},"45":{"end":{"column":5,"line":84},"start":{"column":4,"line":82}},"46":{"end":{"column":91,"line":83},"start":{"column":6,"line":83}},"47":{"end":{"column":73,"line":85},"start":{"column":4,"line":85}},"48":{"end":{"column":23,"line":88},"start":{"column":4,"line":88}},"49":{"end":{"column":30,"line":91},"start":{"column":4,"line":91}},"50":{"end":{"column":23,"line":94},"start":{"column":4,"line":94}},"51":{"end":{"column":55,"line":95},"start":{"column":4,"line":95}},"52":{"end":{"column":70,"line":96},"start":{"column":4,"line":96}},"53":{"end":{"column":28,"line":100},"start":{"column":0,"line":100}}},"l":{"1":21,"4":21,"6":21,"8":21,"10":21,"12":21,"15":92,"16":92,"17":92,"18":92,"19":53728,"20":429824,"21":429824,"22":429824,"23":429088,"25":429824,"28":92,"29":92,"30":53636,"31":2108,"34":92,"38":21,"41":0,"42":0,"47":31,"48":31,"49":31,"56":34,"57":34,"58":0,"60":34,"61":34,"62":34,"64":34,"65":34,"68":28,"69":28,"70":0,"72":28,"73":28,"74":28,"77":92,"80":1506,"81":1506,"82":1506,"83":1506,"85":0,"88":0,"91":28,"94":58,"95":58,"96":58,"100":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/webpack-async-loader.coffee":{"b":{"1":[0,0],"2":[0,0]},"branchMap":{"1":{"line":21,"locations":[{"end":{"column":6,"line":21},"start":{"column":6,"line":21}},{"end":{"column":6,"line":21},"start":{"column":6,"line":21}}],"type":"if"},"2":{"line":21,"locations":[{"end":{"column":52,"line":21},"start":{"column":39,"line":21}},{"end":{"column":61,"line":21},"start":{"column":55,"line":21}}],"type":"cond-expr"}},"code":["var React, RouteHandler, createAsyncHandler;","","React = require('react');","","RouteHandler = require('react-router').RouteHandler;","","createAsyncHandler = function(getHandlerAsync, exportedObjectName) {","  return React.createClass({","    displayName: 'WebPackAsyncLoader',","    componentWillMount: function() {","      return getHandlerAsync().then((function(_this) {","        return function(resolvedHandler) {","          return _this.setState({","            component: resolvedHandler[exportedObjectName]","          });","        };","      })(this));","    },","    render: function() {","      var ref;","      if ((ref = this.state) != null ? ref.component : void 0) {","        return React.createElement(this.state.component, this.props);","      } else {","        return React.createElement('h1', 'Loading...');","      }","    }","  });","};","","module.exports = createAsyncHandler;",""],"f":{"1":84,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"line":7,"loc":{"end":{"column":67,"line":7},"start":{"column":21,"line":7}},"name":"(anonymous_1)"},"2":{"line":10,"loc":{"end":{"column":35,"line":10},"start":{"column":24,"line":10}},"name":"(anonymous_2)"},"3":{"line":11,"loc":{"end":{"column":53,"line":11},"start":{"column":37,"line":11}},"name":"(anonymous_3)"},"4":{"line":12,"loc":{"end":{"column":41,"line":12},"start":{"column":15,"line":12}},"name":"(anonymous_4)"},"5":{"line":19,"loc":{"end":{"column":23,"line":19},"start":{"column":12,"line":19}},"name":"(anonymous_5)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/webpack-async-loader.coffee","s":{"1":21,"2":21,"3":21,"4":21,"5":84,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":21},"statementMap":{"1":{"end":{"column":44,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":52,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":2,"line":28},"start":{"column":0,"line":7}},"5":{"end":{"column":5,"line":27},"start":{"column":2,"line":8}},"6":{"end":{"column":16,"line":17},"start":{"column":6,"line":11}},"7":{"end":{"column":10,"line":16},"start":{"column":8,"line":12}},"8":{"end":{"column":13,"line":15},"start":{"column":10,"line":13}},"9":{"end":{"column":14,"line":20},"start":{"column":6,"line":20}},"10":{"end":{"column":7,"line":25},"start":{"column":6,"line":21}},"11":{"end":{"column":69,"line":22},"start":{"column":8,"line":22}},"12":{"end":{"column":55,"line":24},"start":{"column":8,"line":24}},"13":{"end":{"column":36,"line":30},"start":{"column":0,"line":30}}},"l":{"1":21,"3":21,"5":21,"7":21,"8":84,"11":0,"12":0,"13":0,"20":0,"21":0,"22":0,"24":0,"30":21}},
"/Users/phil/github/openstax/tutor-js/src/helpers/window.coffee":{"b":{"1":[0,0]},"branchMap":{"1":{"line":3,"locations":[{"end":{"column":4,"line":3},"start":{"column":4,"line":3}},{"end":{"column":4,"line":3},"start":{"column":4,"line":3}}],"type":"if"}},"code":["module.exports = {","  replaceBrowserLocation: function(url) {","    if (!window.__karma__) {","      return window.location.replace(url);","    }","  }","};",""],"f":{"1":0},"fnMap":{"1":{"line":2,"loc":{"end":{"column":40,"line":2},"start":{"column":26,"line":2}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/helpers/window.coffee","s":{"1":21,"2":0,"3":0},"statementMap":{"1":{"end":{"column":2,"line":7},"start":{"column":0,"line":1}},"2":{"end":{"column":5,"line":5},"start":{"column":4,"line":3}},"3":{"end":{"column":42,"line":4},"start":{"column":6,"line":4}}},"l":{"1":21,"3":0,"4":0}},
"/Users/phil/github/openstax/tutor-js/src/qa.coffee":{"b":{},"branchMap":{},"code":["module.exports = function () {","  return new Promise(function (resolve) {","    require.ensure([], function (require) {","      resolve(require(\"!!/Users/phil/github/openstax/tutor-js/node_modules/coffee-loader/index.js!/Users/phil/github/openstax/tutor-js/src/qa.coffee\"));","    });","  });","}"],"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"line":1,"loc":{"end":{"column":29,"line":1},"start":{"column":17,"line":1}},"name":"(anonymous_1)"},"2":{"line":2,"loc":{"end":{"column":40,"line":2},"start":{"column":21,"line":2}},"name":"(anonymous_2)"},"3":{"line":3,"loc":{"end":{"column":42,"line":3},"start":{"column":23,"line":3}},"name":"(anonymous_3)"}},"path":"/Users/phil/github/openstax/tutor-js/src/qa.coffee","s":{"1":21,"2":0,"3":0,"4":0},"statementMap":{"1":{"end":{"column":1,"line":7},"start":{"column":0,"line":1}},"2":{"end":{"column":5,"line":6},"start":{"column":2,"line":2}},"3":{"end":{"column":7,"line":5},"start":{"column":4,"line":3}},"4":{"end":{"column":152,"line":4},"start":{"column":6,"line":4}}},"l":{"1":21,"2":0,"3":0,"4":0}},
"/Users/phil/github/openstax/tutor-js/src/router.cjsx":{"b":{},"branchMap":{},"code":["var App, CCDashboard, CourseListing, CourseSettings, Dashboard, EventShell, ExternalShell, Handler, HomeworkShell, Invalid, NotFoundRoute, PerformanceForecastShell, QALoader, React, ReadingShell, Redirect, ReferenceBookFirstPage, ReferenceBookPageShell, ReferenceBookShell, Root, Route, Router, Sandbox, ScoresShell, SinglePractice, SingleTask, StatsShell, StudentDashboardShell, TaskTeacherReviewShell, TeacherTaskPlans, async, ref, ref1, ref2, router, routes, start;","","React = require('react');","","Router = require('react-router');","","Route = Router.Route, Redirect = Router.Redirect, NotFoundRoute = Router.NotFoundRoute;","","async = require('./helpers/webpack-async-loader');","","ref = require('./components'), App = ref.App, Root = ref.Root, Dashboard = ref.Dashboard, SingleTask = ref.SingleTask, SinglePractice = ref.SinglePractice, Invalid = ref.Invalid;","","CourseListing = require('./components/course-listing').CourseListing;","","PerformanceForecastShell = require('./components/performance-forecast');","","ScoresShell = require('./components/scores').ScoresShell;","","ref1 = require('./components/task-plan'), ReadingShell = ref1.ReadingShell, HomeworkShell = ref1.HomeworkShell, ExternalShell = ref1.ExternalShell, EventShell = ref1.EventShell;","","StudentDashboardShell = require('./components/student-dashboard').StudentDashboardShell;","","TeacherTaskPlans = require('./components/task-plan/teacher-task-plans-listing');","","TaskTeacherReviewShell = require('./components/task-teacher-review').TaskTeacherReviewShell;","","ref2 = require('./components/reference-book'), ReferenceBookShell = ref2.ReferenceBookShell, ReferenceBookPageShell = ref2.ReferenceBookPageShell, ReferenceBookFirstPage = ref2.ReferenceBookFirstPage;","","StatsShell = require('./components/plan-stats').StatsShell;","","CCDashboard = require('./components/cc-dashboard');","","CourseSettings = require('./components/course-settings');","","Sandbox = require('./sandbox');","","Handler = require('./helpers/conditional-rendering');","","QALoader = require('promise?global!./qa');","","routes = React.createElement(Route, {","  \"handler\": Root,","  \"name\": 'root'","}, React.createElement(Route, {","  \"path\": '/',","  \"handler\": App,","  \"name\": 'app'","}, React.createElement(Redirect, {","  \"from\": '/',","  \"to\": 'dashboard'","}), React.createElement(Route, {","  \"path\": 'dashboard/?',","  \"name\": 'dashboard',","  \"handler\": CourseListing","}), React.createElement(Route, {","  \"path\": 'courses/:courseId/?'","}, React.createElement(Router.DefaultRoute, {","  \"handler\": TeacherTaskPlans","}), React.createElement(Route, {","  \"path\": 'list/?',","  \"name\": 'viewStudentDashboard',","  \"handler\": StudentDashboardShell","}), React.createElement(Route, {","  \"path\": 'tasks/:id/?',","  \"name\": 'viewTask',","  \"handler\": SingleTask","}), React.createElement(Route, {","  \"path\": 'tasks/:id/steps/:stepIndex/?',","  \"name\": 'viewTaskStep',","  \"handler\": SingleTask,","  \"ignoreScrollBehavior\": true","}), React.createElement(Route, {","  \"path\": 'practice/?',","  \"name\": 'viewPractice',","  \"handler\": SinglePractice","}), React.createElement(Route, {","  \"path\": 'guide/?',","  \"name\": 'viewPerformanceForecast',","  \"handler\": PerformanceForecastShell.Student","}), React.createElement(Route, {","  \"path\": 't/',","  \"name\": 'viewTeacherDashBoard'","}, React.createElement(Router.DefaultRoute, {","  \"handler\": TeacherTaskPlans","}), React.createElement(Route, {","  \"path\": 'scores/?',","  \"name\": 'viewScores',","  \"handler\": Handler(ScoresShell, {","    requireRole: 'teacher',","    requirePeriods: true","  })","}), React.createElement(Route, {","  \"path\": 'guide',","  \"name\": 'viewTeacherPerformanceForecast',","  \"handler\": Handler(PerformanceForecastShell.Teacher, {","    requireRole: 'teacher',","    requirePeriods: true","  })","}), React.createElement(Route, {","  \"path\": 'guide/student/:roleId?',","  \"name\": 'viewStudentTeacherPerformanceForecast',","  \"handler\": Handler(PerformanceForecastShell.TeacherStudent, {","    requireRole: 'teacher',","    requirePeriods: true","  })","}), React.createElement(Route, {","  \"path\": 'calendar/?',","  \"name\": 'taskplans'","}, React.createElement(Router.DefaultRoute, {","  \"handler\": TeacherTaskPlans","}), React.createElement(Route, {","  \"path\": 'months/:date/?',","  \"name\": 'calendarByDate',","  \"handler\": TeacherTaskPlans,","  \"ignoreScrollBehavior\": true","}, React.createElement(Route, {","  \"path\": 'plans/:planId/?',","  \"name\": 'calendarViewPlanStats',","  \"ignoreScrollBehavior\": true","}))), React.createElement(Route, {","  \"path\": 'cc-dashboard/?',","  \"name\": 'cc-dashboard',","  \"handler\": CCDashboard","}), React.createElement(Route, {","  \"path\": 'homeworks/new/?',","  \"name\": 'createHomework',","  \"handler\": HomeworkShell","}), React.createElement(Route, {","  \"path\": 'homeworks/:id/?',","  \"name\": 'editHomework',","  \"handler\": HomeworkShell","}), React.createElement(Route, {","  \"path\": 'readings/new/?',","  \"name\": 'createReading',","  \"handler\": ReadingShell","}), React.createElement(Route, {","  \"path\": 'readings/:id/?',","  \"name\": 'editReading',","  \"handler\": ReadingShell","}), React.createElement(Route, {","  \"path\": 'externals/new/?',","  \"name\": 'createExternal',","  \"handler\": ExternalShell","}), React.createElement(Route, {","  \"path\": 'externals/:id/?',","  \"name\": 'editExternal',","  \"handler\": ExternalShell","}), React.createElement(Route, {","  \"path\": 'events/new/?',","  \"name\": 'createEvent',","  \"handler\": EventShell","}), React.createElement(Route, {","  \"path\": 'events/:id/?',","  \"name\": 'editEvent',","  \"handler\": EventShell","}), React.createElement(Route, {","  \"path\": 'settings',","  \"name\": 'courseSettings',","  \"handler\": CourseSettings","}), React.createElement(Route, {","  \"path\": 'plans/:id/?'","}, React.createElement(Router.DefaultRoute, {","  \"handler\": StatsShell","}), React.createElement(Route, {","  \"path\": 'stats/?',","  \"name\": 'viewStats',","  \"handler\": StatsShell","}), React.createElement(Route, {","  \"path\": 'summary/?',","  \"name\": 'reviewTask',","  \"handler\": TaskTeacherReviewShell","}, React.createElement(Route, {","  \"path\": 'periods/:periodIndex/?',","  \"name\": 'reviewTaskPeriod',","  \"ignoreScrollBehavior\": true","}, React.createElement(Route, {","  \"path\": 'sections/:sectionIndex/?',","  \"name\": 'reviewTaskStep',","  \"ignoreScrollBehavior\": true","})))))), React.createElement(Route, {","  \"path\": 'sandbox/?',","  \"name\": 'sandbox',","  \"handler\": Sandbox","})), \" # end of routes handled by App\\n\", React.createElement(Route, {","  \"path\": '/books/:courseId/?',","  \"name\": 'viewReferenceBook',","  \"handler\": ReferenceBookShell","}, React.createElement(Router.DefaultRoute, {","  \"name\": \"viewReferenceBookFirstPage\",","  \"handler\": ReferenceBookPageShell","}), React.createElement(Route, {","  \"path\": 'section/:section',","  \"name\": 'viewReferenceBookSection',","  \"handler\": ReferenceBookShell","}), React.createElement(Route, {","  \"path\": 'page/:cnxId',","  \"name\": 'viewReferenceBookPage',","  \"handler\": ReferenceBookPageShell","})), \" # end of \\x2Fbooks route\\n\", React.createElement(Route, {","  \"path\": '/qa',","  \"name\": 'QADashboard',","  \"handler\": async(QALoader, 'QADashboard')","}, React.createElement(Router.DefaultRoute, {","  \"name\": \"QAViewFirstBook\",","  \"handler\": async(QALoader, 'QABook')","}), React.createElement(Route, {","  \"path\": ':ecosystemId',","  \"name\": 'QAViewBook',","  \"handler\": async(QALoader, 'QABook')","}), React.createElement(Route, {","  \"path\": ':ecosystemId/section/:section',","  \"name\": 'QAViewBookSection',","  \"handler\": async(QALoader, 'QABook')","})), \" # end of qa route\\n\", React.createElement(NotFoundRoute, {","  \"handler\": Invalid","}));","","router = Router.create({","  routes: routes,","  location: Router.HistoryLocation","});","","start = function(mountPoint) {","  return router.run(function(Handler) {","    return React.render(React.createElement(Handler, null), mountPoint);","  });","};","","module.exports = {","  start: start,","  router: router,","  routes: routes","};",""],"f":{"1":21,"2":98},"fnMap":{"1":{"line":223,"loc":{"end":{"column":29,"line":223},"start":{"column":8,"line":223}},"name":"(anonymous_1)"},"2":{"line":224,"loc":{"end":{"column":38,"line":224},"start":{"column":20,"line":224}},"name":"(anonymous_2)"}},"path":"/Users/phil/github/openstax/tutor-js/src/router.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":21,"14":21,"15":21,"16":21,"17":21,"18":21,"19":21,"20":21,"21":21,"22":21,"23":21,"24":21,"25":98,"26":21},"statementMap":{"1":{"end":{"column":468,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":33,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":87,"line":7},"start":{"column":0,"line":7}},"5":{"end":{"column":50,"line":9},"start":{"column":0,"line":9}},"6":{"end":{"column":178,"line":11},"start":{"column":0,"line":11}},"7":{"end":{"column":69,"line":13},"start":{"column":0,"line":13}},"8":{"end":{"column":72,"line":15},"start":{"column":0,"line":15}},"9":{"end":{"column":57,"line":17},"start":{"column":0,"line":17}},"10":{"end":{"column":177,"line":19},"start":{"column":0,"line":19}},"11":{"end":{"column":88,"line":21},"start":{"column":0,"line":21}},"12":{"end":{"column":80,"line":23},"start":{"column":0,"line":23}},"13":{"end":{"column":92,"line":25},"start":{"column":0,"line":25}},"14":{"end":{"column":200,"line":27},"start":{"column":0,"line":27}},"15":{"end":{"column":59,"line":29},"start":{"column":0,"line":29}},"16":{"end":{"column":51,"line":31},"start":{"column":0,"line":31}},"17":{"end":{"column":57,"line":33},"start":{"column":0,"line":33}},"18":{"end":{"column":31,"line":35},"start":{"column":0,"line":35}},"19":{"end":{"column":53,"line":37},"start":{"column":0,"line":37}},"20":{"end":{"column":42,"line":39},"start":{"column":0,"line":39}},"21":{"end":{"column":4,"line":216},"start":{"column":0,"line":41}},"22":{"end":{"column":3,"line":221},"start":{"column":0,"line":218}},"23":{"end":{"column":2,"line":227},"start":{"column":0,"line":223}},"24":{"end":{"column":5,"line":226},"start":{"column":2,"line":224}},"25":{"end":{"column":72,"line":225},"start":{"column":4,"line":225}},"26":{"end":{"column":2,"line":233},"start":{"column":0,"line":229}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":21,"11":21,"13":21,"15":21,"17":21,"19":21,"21":21,"23":21,"25":21,"27":21,"29":21,"31":21,"33":21,"35":21,"37":21,"39":21,"41":21,"218":21,"223":21,"224":21,"225":98,"229":21}},
"/Users/phil/github/openstax/tutor-js/src/sandbox.cjsx":{"b":{},"branchMap":{},"code":["var BS, React, Sandbox;","","React = require('react');","","BS = require('react-bootstrap');","","Sandbox = React.createClass({displayName: \"Sandbox\",","  render: function() {","    return React.createElement(\"div\", {","      \"className\": 'sandbox'","    }, React.createElement(\"h1\", {","      \"className\": 'container'","    }, \"Sandbox\"), React.createElement(\"div\", {","      \"className\": 'banner'","    }), React.createElement(\"div\", {","      \"className\": 'container-fluid'","    }, React.createElement(BS.Panel, null, \"Here\\'s a fluid container\")), React.createElement(\"div\", {","      \"className\": 'container'","    }, React.createElement(BS.Panel, null, \"We can have panels here too!\"), \"To edit markup go to \", React.createElement(\"pre\", null, \"\\x2Fsrc\\x2Fsandbox.coffee\"), \"To edit styles go to \", React.createElement(\"pre\", null, \"\\x2Fstyles\\x2Fsandbox.less\")));","  }","});","","module.exports = Sandbox;",""],"f":{"1":0},"fnMap":{"1":{"line":8,"loc":{"end":{"column":21,"line":8},"start":{"column":10,"line":8}},"name":"(anonymous_1)"}},"path":"/Users/phil/github/openstax/tutor-js/src/sandbox.cjsx","s":{"1":21,"2":21,"3":21,"4":21,"5":0,"6":21},"statementMap":{"1":{"end":{"column":23,"line":1},"start":{"column":0,"line":1}},"2":{"end":{"column":25,"line":3},"start":{"column":0,"line":3}},"3":{"end":{"column":32,"line":5},"start":{"column":0,"line":5}},"4":{"end":{"column":3,"line":21},"start":{"column":0,"line":7}},"5":{"end":{"column":254,"line":19},"start":{"column":4,"line":9}},"6":{"end":{"column":25,"line":23},"start":{"column":0,"line":23}}},"l":{"1":21,"3":21,"5":21,"7":21,"9":0,"23":21}}}
