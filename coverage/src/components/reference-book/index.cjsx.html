<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/components/reference-book/index.cjsx</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">src/components/reference-book/index.cjsx</span></h1>
    <h2>
        Statements: <span class="metric">90.24% <small>(37 / 41)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">58.33% <small>(7 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">88.89% <small>(8 / 9)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">90.24% <small>(37 / 41)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">src/components/reference-book/</a> &#187; index.cjsx</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115</td><td class="line-coverage"><span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">27</span>
<span class="cline-any cline-yes">27</span>
<span class="cline-any cline-yes">27</span>
<span class="cline-any cline-yes">27</span>
<span class="cline-any cline-yes">18</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">27</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">38</span>
<span class="cline-any cline-yes">38</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">38</span>
<span class="cline-any cline-yes">38</span>
<span class="cline-any cline-yes">38</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var BS, CourseActions, CourseDataMixin, CourseStore, LoadableItem, React, ReferenceBook, ReferenceBookActions, ReferenceBookPageShell, ReferenceBookShell, ReferenceBookStore, Router, TeacherContentToggle, _, classnames, moment, ref, ref1;
&nbsp;
React = require('react');
&nbsp;
Router = require('react-router');
&nbsp;
BS = require('react-bootstrap');
&nbsp;
_ = require('underscore');
&nbsp;
classnames = require('classnames');
&nbsp;
ref = require('../../flux/reference-book'), ReferenceBookActions = ref.ReferenceBookActions, ReferenceBookStore = ref.ReferenceBookStore;
&nbsp;
ref1 = require('../../flux/course'), CourseActions = ref1.CourseActions, CourseStore = ref1.CourseStore;
&nbsp;
ReferenceBookPageShell = require('./page-shell');
&nbsp;
LoadableItem = require('../loadable-item');
&nbsp;
moment = require('moment');
&nbsp;
ReferenceBook = require('./reference-book');
&nbsp;
CourseDataMixin = require('../course-data-mixin');
&nbsp;
TeacherContentToggle = require('./teacher-content-toggle');
&nbsp;
ReferenceBookShell = React.createClass({
  displayName: 'ReferenceBookShell',
  mixins: [CourseDataMixin],
  contextTypes: {
    router: React.PropTypes.func
  },
  getInitialState: function() {
    return this.getIds();
  },
  componentWillMount: function() {
    var courseId;
    courseId = this.context.router.getCurrentParams().courseId;
    this.setIds();
    <span class="missing-if-branch" title="if path not taken" >I</span>if (!CourseStore.isLoaded(courseId)) {
<span class="cstat-no" title="statement not covered" >      CourseActions.load(courseId);</span>
<span class="cstat-no" title="statement not covered" >      return CourseStore.once('course.loaded', this.setIds);</span>
    }
  },
  componentWillReceiveProps: function() {
    return this.setIds();
  },
  getIds: function() {
    var courseId, ecosystemId, ref2, ref3, section;
    ref2 = this.context.router.getCurrentParams(), courseId = ref2.courseId, section = ref2.section;
    ecosystemId = this.context.router.getCurrentQuery().ecosystemId;
    if (ecosystemId == null) {
      ecosystemId = (ref3 = CourseStore.get(courseId)) != null ? ref3.ecosystem_id : <span class="branch-1 cbranch-no" title="branch not covered" >void 0;</span>
    }
    return {
      courseId: courseId,
      section: section,
      ecosystemId: ecosystemId
    };
  },
  setIds: function() {
    return this.setState(this.getIds());
  },
  setTeacherContent: <span class="fstat-no" title="function not covered" >function(isShowing) {</span>
<span class="cstat-no" title="statement not covered" >    return this.setState({</span>
      isShowingTeacherContent: isShowing
    });
  },
  renderNavbarControls: function() {
    <span class="missing-if-branch" title="else path not taken" >E</span>if (!CourseStore.isTeacher(this.state.courseId)) {
      return null;
    }
<span class="cstat-no" title="statement not covered" >    return React.createElement(BS.Nav, {</span>
      "navbar": true,
      "right": true
    }, React.createElement(TeacherContentToggle, {
      "isShowing": this.state.isShowingTeacherContent,
      "onChange": this.setTeacherContent
    }));
  },
  renderBook: function() {
    var courseId, ecosystemId, ref2;
    ref2 = this.state, courseId = ref2.courseId, ecosystemId = ref2.ecosystemId;
    return React.createElement(ReferenceBook, {
      "navbarControls": this.renderNavbarControls(),
      "section": this.state.section,
      "pageNavRouterLinkTarget": 'viewReferenceBookSection',
      "menuRouterLinkTarget": 'viewReferenceBookSection',
      "className": classnames({
        'is-teacher': this.state.isShowingTeacherContent
      }),
      "dataProps": (courseId ? this.getCourseDataProps(courseId) : <span class="branch-1 cbranch-no" title="branch not covered" >void 0)</span>,
      "ecosystemId": ecosystemId
    });
  },
  render: function() {
    var courseId, ecosystemId, ref2;
    ref2 = this.state, courseId = ref2.courseId, ecosystemId = ref2.ecosystemId;
    return React.createElement(LoadableItem, {
      "id": ecosystemId || <span class="branch-1 cbranch-no" title="branch not covered" >CourseStore.get(courseId).ecosystem_id,</span>
      "store": ReferenceBookStore,
      "actions": ReferenceBookActions,
      "renderItem": this.renderBook
    });
  }
});
&nbsp;
module.exports = {
  ReferenceBookShell: ReferenceBookShell,
  ReferenceBookPageShell: ReferenceBookPageShell
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sun Feb 14 2016 23:08:46 GMT-0500 (EST)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
