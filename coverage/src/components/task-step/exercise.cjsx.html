<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/components/task-step/exercise.cjsx</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">src/components/task-step/exercise.cjsx</span></h1>
    <h2>
        Statements: <span class="metric">93.55% <small>(29 / 31)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">88.89% <small>(8 / 9)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">83.33% <small>(5 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">93.55% <small>(29 / 31)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">src/components/task-step/</a> &#187; exercise.cjsx</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81</td><td class="line-coverage"><span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">25×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">106×</span>
<span class="cline-any cline-yes">106×</span>
<span class="cline-any cline-yes">106×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">364×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">364×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">368×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var Exercise, React, StepFooter, StepPanel, TaskStepActions, TaskStepStore, TaskStore, ref;
&nbsp;
React = require('react');
&nbsp;
ref = require('../../flux/task-step'), TaskStepActions = ref.TaskStepActions, TaskStepStore = ref.TaskStepStore;
&nbsp;
TaskStore = require('../../flux/task').TaskStore;
&nbsp;
StepPanel = require('../../helpers/policies').StepPanel;
&nbsp;
Exercise = require('openstax-react-components').Exercise;
&nbsp;
StepFooter = require('./step-footer');
&nbsp;
module.exports = React.createClass({
  displayName: 'ExerciseShell',
  propTypes: {
    id: React.PropTypes.string.isRequired,
    taskId: React.PropTypes.string.isRequired
  },
  updateFreeResponse: function(freeResponse) {
    return TaskStepActions.updateTempFreeResponse(this.props.id, freeResponse);
  },
  canOnlyContinue: function() {
    var id;
    id = this.props.id;
    return _.chain(StepPanel.getRemainingActions(id)).difference(['clickContinue']).isEmpty().value();
  },
  render: function() {
    var controlText, getCurrentPanel, getReadingForStep, id, ref1, step, stepIndex, task, taskId, waitingText;
    ref1 = this.props, id = ref1.id, taskId = ref1.taskId;
    step = TaskStepStore.get(id);
    task = TaskStore.get(taskId);
    stepIndex = TaskStore.getStepIndex(taskId, id);
    waitingText = (function() {
      switch (false) {
<span class="branch-0 cbranch-no" title="branch not covered" >        case !TaskStepStore.isLoading(id):</span>
<span class="cstat-no" title="statement not covered" >          return "Loading…";</span>
        case !TaskStepStore.isSaving(id):
          return "Saving…";
        default:
          return null;
      }
    })();
    getReadingForStep = <span class="fstat-no" title="function not covered" >function(id, taskId) {</span>
<span class="cstat-no" title="statement not covered" >      return TaskStore.getReadingForTaskId(taskId, id);</span>
    };
    getCurrentPanel = function(id) {
      var currentPanel;
      if (!TaskStepStore.isSaving(id)) {
        return currentPanel = StepPanel.getPanel(id);
      }
    };
    if (task.type === 'reading' &amp;&amp; this.canOnlyContinue()) {
      controlText = 'Continue';
    }
    return React.createElement("div", {
      "className": 'exercise-wrapper',
      "data-step-number": stepIndex + 1
    }, React.createElement(Exercise, React.__spread({}, this.props, {
      "freeResponseValue": step.temp_free_response,
      "controlText": controlText,
      "step": step,
      "footer": React.createElement(StepFooter, null),
      "waitingText": waitingText,
      "canTryAnother": TaskStepStore.canTryAnother(id, task),
      "isRecovering": TaskStepStore.isRecovering(id),
      "disabled": TaskStepStore.isSaving(id),
      "canReview": StepPanel.canReview(id),
      "isContinueEnabled": StepPanel.canContinue(id),
      "getCurrentPanel": getCurrentPanel,
      "getReadingForStep": getReadingForStep,
      "setFreeResponseAnswer": TaskStepActions.setFreeResponseAnswer,
      "onFreeResponseChange": this.updateFreeResponse,
      "freeResponseValue": TaskStepStore.getTempFreeResponse(id),
      "setAnswerId": TaskStepActions.setAnswerId
    })));
  }
});
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Mar 09 2016 14:59:33 GMT-0600 (CST)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
