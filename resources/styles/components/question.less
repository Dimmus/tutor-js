@correct-answer-color: #78b042;
@correct-answer-background: #e4f4b9;
@wrong-answer-color: #c22032;
@wrong-answer-background: #ffe0e0;
@answer-hover-color: #e6f9fc;
@answer-select-color: #def4f7; // darker than hover

.question {
  .size-exercise-card();
  .clearfix();

  counter-reset: answer 0;
  #fonts > .sans (2.1rem, 3rem);
  font-weight: 400;

  .free-response,
  .free-response:before,
  .question-feedback,
  .question-feedback:before {
    font-size: 4rem/2rem;
    font-weight: 300;
  }
  .free-response {
    font-style: italic;
    color: #888;
    padding: 15px 40px;
    display: block;
    width: 100%;
    margin: 20px 0 5px 0;
    background: #f5f5f5;

    &:before {
      content: "My Answer:";
      display: inline-block;
      float: left;
      margin-left: -145px;
      #fonts > .script();
      color: #888;
    }
  }
  .multiple-choice-prompt {
    display: block;
    margin: 30px 0 10px 0;
  }
  .answers-table {
    font-size: 0.8em;
    width: 100%;
    float: left;
    padding: 0 0 20px 0;
  }
  .question-feedback {
    margin: 20px 0 10px 0;
    display: block;
    float: left;

    &:before {
      content: "Why?";
      float: left;
      margin: 3px 0 0 -56px;
      #fonts > .script();
      color: #888;
    }
  }

  .card-content {
    margin-left: 4rem; // Enough room for double-digit question numbers

    .question-stem {
      font-size: 1.2rem;
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
      min-height: 2rem; // center with the 3rem question number
    }

  }

  .answers-table {
    .answers-answer {
      counter-increment: answer 1;
      display: block;
      width: 100%;
      clear: both;

      .answer-letter {
        display: table-cell;
        width: 2rem;
        &:after { content: counter(answer, lower-latin) ')'; }
      }

      .answer-content {
        display: table-cell;
        padding: 15px 40px 15px 0;
      }
    }
  }

  .answer-input-box {
    display: none;
    float: left;
    margin: 0.95em 0;
    margin-left: -30px;
  }

  .answers-table label.answer-label {
    display: table;
    margin: 5px 0;
    padding-left: 40px;
    #fonts > .sans (2rem);
    font-weight: 400;
    width: 100%;
    float: left;
    background: #f3fcfd;
    transition: background-color .1s ease-in;
    cursor: pointer;

    &:hover {
      background-color: @answer-hover-color;
    }
  }

  .answer-input-box:checked + label.answer-label,
  .answer-input-box:checked + label.answer-label:hover {
    color: #2a2a2a;
    font-weight: 600;
    background-color: @answer-select-color; // darker than hover
  }

  &.has-correct-answer {

    .answers-table label.answer-label {
      cursor: auto;
    }

    .answer-input-box { display: none; }

    .answers-table .answers-answer .answer-label {
      padding-left: 40px;
    }

    .answers-table {

      .answer-correct:not(.answer-checked):before {
        content: "Correct Answer:";
        display: inline-block;
        float: left;
        margin-left: -145px;
        #fonts > .script();
        color: #888;
      }

      .answer-checked {
        &:before{
          display: inline-block;
          float: left;
          text-align: right;
          font-size: 3.5em;
          width: 65px;
          margin-top: .125em;
          margin-left: -80px;
        }
        &.answer-correct:before {
          content: @fa-var-check;
          color: @correct-answer-color;
        }
        &:not(.answer-correct):before {
          content: @fa-var-close;
          color: @wrong-answer-color;
        }
      }
    }

    .answers-table .answer-correct .answer-label {
      background-color: @correct-answer-background;
      color: @correct-answer-color;
      font-weight: 900;

      .answer-content:hover {
        background-color: @correct-answer-background;
      }
    }
    .answers-table .answer-checked:not(.answer-correct) .answer-label {
      background-color: @wrong-answer-background;
      color: @wrong-answer-color;
      font-weight: 900;

      .answer-content:hover {
        background-color: @wrong-answer-background;
      }
    }
  }
}