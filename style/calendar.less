
@import '../node_modules/bootstrap/less/bootstrap.less';
@import '../bower_components/bootstrap-material-design/less/material-wfont.less';

// Sample bootstrap theme for react-calendar
// @import '../node_modules/react-calendar/less/bootstrap-theme.less';


// TODO make this a mixin for flexible calendaringggg

@cell-width: 14.28%;
@cell-height: 10rem;

@reading-color: @brand-success;
@homework-color: @primary;
@exercise-color: @brand-info;
@essay-color: @brand-warning;
@interactive-color: @brand-danger;

@progress-bar-width: 100%;

.modal-open {
  overflow: auto;
}


.cell {
  display: inline-block;
  width: @cell-width;
  height: inherit;
  padding: 5px;
  text-align: center;
}

.stopselect{
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}


.rc {
  &-Calendar {
    width: 100%;
    &-header {
      width: 100%;
      text-align: center;
      font-weight: bolder;
    }
  }
  &-Month {
    width: 100%;
    display: inline-block;
    vertical-align: top;
    // margin: 0 0 10px 10px;
    &-header {
      // display: none;
      // width: 100%;
      // text-align: center;
      // font-weight: bolder;
    }
    &-weekdays {
      width: 100%;
      // margin-left: 32px;
      &-weekday {
        .cell();
        height: 2rem;
        font-weight: bolder;
      }
    }
    &--current {
      .rc-Month-header {
        color: @primary;
      }
    }
  }
  &-Week {
    width: 100%;
    height: @cell-height;
    &-number {
      color: @gray-light;
      .cell();
    }
    &-days {
      width: 100%;
      height: inherit;
      border-left: 1px solid @gray-lighter;
      border-top: 1px solid @gray-lighter;
      display: inline-block;
    }
    &:last-child {
      .rc-Week-days {
        border-bottom: 1px solid @gray-lighter;
      }
    }
  }
  &-Day {
    .cell();
    border-right: 1px solid @gray-lighter;
    cursor: pointer;
    position: relative;

    &:after{
      content: '+';
      font-size: 2rem;
      position: absolute;
      bottom: 0;
      right: 0.5rem;
      color: @gray-light;
      opacity: 0;
    }

    &:hover {
      background-color: fade(@primary, 10%);
      &:after{
        opacity: 1;
      }
    }

    &--outside {
      cursor: default;
      color: @gray-lighter;
      &:hover {
        background-color: transparent;
      }

      &:after{
        display: none;
      }
    }
    &--current {
      background-color: @primary;
    }
  }
}

.calendar-header {
  text-align: center;
  font-size: 3rem;

  &-label {
    font-weight: stronger;
  }

  &-control {
    .stopselect();
    display: block;
    width: 100%;

    &:hover {
      background: @gray-lighter;
      text-decoration: none;
    }
    &:active, &:visited {
      text-decoration: none;
    }
  }
}

.plans {
  position: absolute;
  left: 0;
  z-index: 20;
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
}

.plan {
  display: block;
  position: relative;
  border: 1px solid @gray-light;
  font-size: 1.25rem;
  height: 2rem;
  line-height: 2rem;
  margin-top: 0.5rem;
  cursor: pointer;
  border-radius: 4px;
  font-weight: bold;
  transition: background .1s ease-in;
  overflow: hidden;

  label {
    text-align: center;
    display: block;
    margin-bottom: 0;
    cursor: pointer;
  }
}

.plan(@type) {
  @plan-color: ~"@{type}-color";

  background: fade(@@plan-color, 20%);
  border-color: @@plan-color;

  &:hover, &.active, &.open {
    background: fade(@@plan-color, 75%);
  }

  &-modal {
    .modal-content {
      .modal-header {
        color: @@plan-color;
        background: fade(@@plan-color, 20%);
      }
    }

    .btn:not(.btn-link):not(.btn-flat) {
      border: 1px solid @@plan-color;
      color: @@plan-color;
    }
  }
}

.plan-modal {
  .modal-content {
    .modal-header {
      padding-bottom: 10px;
    }

    .modal-body {
      > :first-child {
        margin-top: 0;
      }
    }

    .btn:not(.btn-link):not(.btn-flat) {
      margin-top: 0;
      margin-bottom: 0;
    }
  }

  .panel {
    margin: 0;
    box-shadow: none;
  }

  .panel-body {
    padding: 0;
  }

  .reading-stats {
    section {
      > div {
        max-width: @progress-bar-width;
      }
    }
  }
}

.reading {
  .plan(~"reading");
}

.exercise {
  .plan(~"exercise");
}

.essay {
  .plan(~"essay");
}

.homework {
  .plan(~"homework");
}

.interactive {
  .plan(~"interactive");
}
